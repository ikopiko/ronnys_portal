{"version":3,"sources":["webpack:///./src/router/views/warehouse/warehouse.vue?33ac","webpack:///src/router/views/warehouse/warehouse.vue","webpack:///./src/router/views/warehouse/warehouse.vue?898f","webpack:///./src/router/views/warehouse/warehouse.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","on","$event","requestSuppliesActive","_l","supply","index","key","selected","changeSelect","_s","product_name","quantity","unit","domProps","product","name","model","value","callback","$$v","$set","expression","addRequest","_e","staticRenderFns","title","components","computed","supplies","filter","products","watch","data","mounted","loggedUser","$store","state","authfack","user","bodyFormData","FormData","set","warehouse_id","methods","component"],"mappings":"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","file":"js/chunk-2d0cc56d.d83be607.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"data-app\":\"\"}},[_c('Layout',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-4\"},[_c('v-card',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"500\"}},[_c('v-toolbar',{attrs:{\"color\":\"deep-purple accent-4\",\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"Warehouses\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.requestSuppliesActive = true}}},[_c('v-icon',[_vm._v(\"mdi-plus\")])],1)],1),_c('v-list',{attrs:{\"subheader\":\"\"}},_vm._l((_vm.supplies),function(supply,index){return _c('v-list-item',{key:index,on:{\"click\":function($event){supply.selected = !supply.selected, _vm.changeSelect = _vm.changeSelect+1}}},[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(supply.product_name)+\" - \"+_vm._s(supply.quantity)+\" \"+_vm._s(supply.unit)+\" \")]),_c('v-list-item-action',[_c('v-checkbox',{attrs:{\"value\":supply.selected}})],1),_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(supply.product_name)}})],1)],1)}),1),_vm._v(\" \"+_vm._s(_vm.selected)+\" \")],1)],1),_c('div',{staticClass:\"col-8\"},[(_vm.requestSuppliesActive)?_c('v-card',{attrs:{\"height\":\"100%\"}},[_c('v-card-title',[_vm._v(\" Request Supplies \")]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-4\"},[_c('v-list',{attrs:{\"subheader\":\"\"}},_vm._l((_vm.products),function(product,index){return _c('v-list-item',{key:index,on:{\"click\":function($event){product.selected = !product.selected, _vm.changeSelect = _vm.changeSelect+1}}},[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(product.name)+\" \")]),_c('v-list-item-action',[_c('v-checkbox',{attrs:{\"value\":product.selected}})],1),_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(product.name)}})],1)],1)}),1)],1),_c('div',{staticClass:\"col-6\"},_vm._l((_vm.selectedProducts),function(product,index){return _c('div',{key:index,staticClass:\"row\"},[_c('div',{staticClass:\"col-1\"},[_vm._v(\"Â \")]),_c('div',{staticClass:\"col-6\"},[_c('v-text-field',{attrs:{\"label\":product.name,\"suffix\":product.unit,\"required\":\"\"},model:{value:(product.newQty),callback:function ($$v) {_vm.$set(product, \"newQty\", $$v)},expression:\"product.newQty\"}})],1)])}),0)]),_c('v-card-actions',[_c('v-btn',{staticClass:\"mr-4\",on:{\"click\":_vm.addRequest}},[_vm._v(\" Create Request \")]),_c('v-btn',{on:{\"click\":function($event){_vm.requestSuppliesActive = false}}},[_vm._v(\" Close \")])],1)],1):_vm._e()],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport axios from 'axios'\nimport Layout from '../../layouts/main'\n// import PageHeader from '@/components/page-header'\n\n\n\n/**\n * Products-order component\n */\nexport default {\n   page: {\n    title: \"Products\",\n  },\n  components: { Layout, },\n  computed: {\n      selected() {\n        this.changeSelect;\n      return this.supplies.filter(supply => supply.selected)\n    }, \n      selectedProducts() {\n        this.changeSelect;\n      return this.products.filter(product => product.selected)\n    }, \n  },\n  watch: {\n      changeSelect() {\n          this.requestData = this.products.filter(product => product.selected);\n      }\n  },\n  data() {\n    return {\n        requestSuppliesActive: false,\n        newProduct: {\n            name: '',\n            unit: ''\n        },\n        request: {\n            supplies: [],\n            warehouse_id: null\n        },\n        responseData: null,\n        products: [],\n        requestData: [],\n        supplies: [],\n        units: [],\n        changeSelect: 0,\n        warehouse_id: 2,\n    }\n  },\n  mounted() {\n    this.loggedUser = this.$store.state.authfack.user;\n\n    const TOKEN = this.loggedUser.token;\n\n    var bodyFormData = new FormData();\n    bodyFormData.set(\"warehouse_id\", this.warehouse_id);\n    axios\n      .request({\n        method: \"post\",\n        url:\n          this.$hostname + \"warehouses/supplies-list\",\n        headers: {\n          Authorization: \"Bearer \" + TOKEN,\n        },\n        data: bodyFormData\n      })\n      .then((response) => {\n        this.supplies = response.data;\n        this.supplies.forEach((x) => {\n            x.selected = false;\n        });\n      });\n\n        \n      axios\n      .request({\n        method: \"post\",\n        url:\n          this.$hostname + \"warehouses/products-list\",\n        headers: {\n          Authorization: \"Bearer \" + TOKEN,\n        },\n      })\n      .then((response) => {\n        this.products = response.data;\n        this.products.forEach((x) => {\n            x.selected = false;\n        });\n      });\n  },\n  methods: {\n      addRequest(){\n        this.requestData.forEach(x => {\n            var req = {\n                product_id: x.id,\n                quantity: x.newQty\n            };\n            this.request.supplies.push(req)\n        });\n        this.request.warehouse_id = this.warehouse_id;\n\n        const TOKEN = this.loggedUser.token;\n\n        axios\n        .request({\n            method: \"post\",\n            url:\n            this.$hostname + \"warehouses/send-request\",\n            headers: {\n            Authorization: \"Bearer \" + TOKEN,\n            },\n            data: { supplies: this.request, warehouse_id: this.warehouse_id }\n        })\n        .then((response) => {\n            this.responseData = response;\n        });\n        \n      },\n  },\n}\n</script>\n\n<template>\n<div data-app>\n  <Layout>\n    <div class=\"row\">\n        <div class=\"col-4\">\n            <v-card\n                class=\"mx-auto\"\n                max-width=\"500\"\n            >\n                <v-toolbar\n                color=\"deep-purple accent-4\"\n                dark\n                >\n\n                <v-toolbar-title>Warehouses</v-toolbar-title>\n\n                <v-spacer></v-spacer>\n\n                <v-btn icon @click=\"requestSuppliesActive = true\">\n                    <v-icon>mdi-plus</v-icon>\n                </v-btn>\n                </v-toolbar>\n\n                <v-list subheader>\n\n                <v-list-item\n                    v-for=\"(supply, index) in supplies\"\n                    :key=\"index\"\n                    @click=\"supply.selected = !supply.selected, changeSelect = changeSelect+1\"\n                >\n                    <v-list-item-title>\n                        {{ supply.product_name }} - {{ supply.quantity }} {{ supply.unit }}\n                    </v-list-item-title>\n                    <v-list-item-action>\n                        <v-checkbox :value=\"supply.selected\" />\n                    </v-list-item-action>\n                    \n\n                    <v-list-item-content>\n                    <v-list-item-title v-text=\"supply.product_name\"></v-list-item-title>\n                    </v-list-item-content>\n\n                    <!-- <v-list-item-icon>\n                    <v-icon :color=\"'grey'\">\n                        mdi-message-outline\n                    </v-icon>\n                    </v-list-item-icon> -->\n                </v-list-item>\n                </v-list>\n                {{ selected }}\n            </v-card>\n        </div>\n        <div class=\"col-8\">\n            <v-card height=\"100%\" v-if=\"requestSuppliesActive\">\n                <v-card-title>\n                    Request Supplies\n                </v-card-title>\n                <div class=\"row\">\n                    <div class=\"col-4\">\n                        <v-list subheader>\n\n                        <v-list-item\n                            v-for=\"(product, index) in products\"\n                            :key=\"index\"\n                            @click=\"product.selected = !product.selected, changeSelect = changeSelect+1\"\n                        >\n                            <v-list-item-title>\n                                {{ product.name }}\n                            </v-list-item-title>\n                            <v-list-item-action>\n                                <v-checkbox :value=\"product.selected\" />\n                            </v-list-item-action>\n                            \n\n                            <v-list-item-content>\n                            <v-list-item-title v-text=\"product.name\"></v-list-item-title>\n                            </v-list-item-content>\n\n                        </v-list-item>\n                        </v-list>\n                    </div>\n                    <div class=\"col-6\">\n                        <div class=\"row\" \n                                v-for=\"(product, index) in selectedProducts\"\n                                :key=\"index\"> \n                            <div class=\"col-1\">&nbsp;</div>\n                            <div class=\"col-6\">\n                                <v-text-field\n                                    v-model=\"product.newQty\"\n                                    :label=\"product.name\"\n                                    :suffix=\"product.unit\"\n                                    required\n                                ></v-text-field>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            <v-card-actions>\n                <v-btn\n                    class=\"mr-4\"\n                    @click=\"addRequest\"\n                >\n                    Create Request\n                </v-btn>\n                <v-btn @click=\"requestSuppliesActive = false\">\n                    Close   \n                </v-btn>\n            </v-card-actions>\n            </v-card>\n        </div>\n    </div>\n  </Layout>\n  </div>\n</template>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./warehouse.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./warehouse.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./warehouse.vue?vue&type=template&id=aeac3fa6&\"\nimport script from \"./warehouse.vue?vue&type=script&lang=js&\"\nexport * from \"./warehouse.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}