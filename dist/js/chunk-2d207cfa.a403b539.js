(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d207cfa"],{a1b6:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{"data-app":""}},[s("Layout",[s("div",{staticClass:"row"},[s("div",{staticClass:"table-responsive mb-0",staticStyle:{"min-height":"300px"}},[s("b-table",{staticClass:"datatables",attrs:{items:t.requestList,fields:t.fields,responsive:"sm","per-page":t.perPage,"current-page":t.currentPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,filter:t.filter,"filter-included-fields":t.filterOn},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[s("b-button",{staticClass:"mr-1",attrs:{size:"sm"},on:{click:function(s){return t.info(e.item,e.index,s.target)}}},[t._v(" Request Details ")])]}}])})],1)]),s("b-modal",{attrs:{id:t.infoModal.id,title:t.infoModal.order_id,"hide-footer":""}},[s("p",{staticClass:"mb-2"},[t._v(" Request id: "),s("span",{staticClass:"text-primary"},[t._v(t._s(t.infoModal.id))])]),s("p",{staticClass:"mb-2"},[t._v(" Requested Product: "),s("span",{staticClass:"text-primary"},[t._v(t._s(t.infoModal.product_name))])]),s("p",{staticClass:"mb-2"},[t._v(" Requested From: "),s("span",{staticClass:"text-primary"},[t._v(t._s(t.infoModal.warehouse))])]),s("p",{staticClass:"mb-2"},[t._v(" Date: "),s("span",{staticClass:"text-primary"},[t._v(t._s(t.infoModal.date))])]),s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-centered table-nowrap"},[s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[t._v("Product Name")]),s("th",{attrs:{scope:"col"}},[t._v("Product QTY")]),s("th",{attrs:{scope:"col"}},[t._v("Product Unit")])])]),s("tbody",[s("tr",[s("td",[s("div",[s("h5",{staticClass:"text-truncate font-size-14"},[t._v(" "+t._s(t.infoModal.product_name)+" ")])])]),s("td",[t._v(" "+t._s(t.infoModal.quantity)+" ")]),s("td",[t._v(t._s(t.infoModal.unit))])])])]),s("b-button",{staticClass:"mx-3",attrs:{variant:"success",block:""},on:{click:function(e){return t.acceptRequest(t.infoModal)}}},[t._v("Accept")]),s("b-button",{staticClass:"mx-2",attrs:{variant:"warning",block:""},on:{click:function(e){return t.rejectRequest(t.infoModal)}}},[t._v("Reject")])],1)])],1)],1)},i=[],o=s("bc3a"),r=s.n(o),n=s("444f"),u={page:{title:"Supplies List"},components:{Layout:n["a"]},computed:{},watch:{},data:function(){return{requestList:[],fields:[{key:"id",label:"ID",sortable:!0},{key:"product_name",label:"Product",sortable:!0},{key:"quantity",label:"QTY",sortable:!0},{key:"unit",label:"Unit",sortable:!0},{key:"warehouse_name",label:"Requested From",sortable:!0},{key:"actions",label:"Actions"}],infoModal:{id:"",title:"info-modal",product_name:"",quantity:"",unit:"",warehouse:"",date:""},requests:[],reqResp:{},filter:null,filterOn:[],sortBy:"id",sortDesc:!1,currentPage:1,perPage:10,pageOptions:[10,25,50,100],totalRows:1}},mounted:function(){this.updateList()},methods:{updateList:function(){var t=this;this.loggedUser=this.$store.state.authfack.user;var e=this.loggedUser.token,s=new FormData;s.set("status",1),r.a.request({method:"post",url:this.$hostname+"warehouses/request-list",headers:{Authorization:"Bearer "+e},data:s}).then((function(e){t.requestList=e.data}))},info:function(t,e,s){this.infoModal.title="Row index: ".concat(e),this.infoModal.id=t.id,this.infoModal.product_name=t.product_name,this.infoModal.unit=t.unit,this.infoModal.quantity=t.quantity,this.infoModal.warehouse=t.warehouse_name,this.infoModal.date=t.created_at,this.$root.$emit("bv::show::modal",this.infoModal.id,s)},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},acceptRequest:function(t){var e=this,s={id:"",quantity:0};s.id=t.id,s.quantity=t.quantity,this.requests.push(s);var a=this.loggedUser.token;r.a.request({method:"post",url:this.$hostname+"warehouses/accept-request",headers:{Authorization:"Bearer "+a},data:{requests:this.requests}}).then((function(t){200===t.status&&(alert("Request Sent"),e.$root.$emit("bv::hide::modal",e.infoModal.id),e.updateList())}))},rejectRequest:function(t){var e=this,s={id:""};s.id=t.id,this.requests.push(s);var a=this.loggedUser.token;r.a.request({method:"post",url:this.$hostname+"warehouses/void-request",headers:{Authorization:"Bearer "+a},data:{requests:this.requests}}).then((function(t){200===t.status&&(alert("Request Voided"),e.$root.$emit("bv::hide::modal",e.infoModal.id),e.updateList())}))}}},d=u,l=s("2877"),c=Object(l["a"])(d,a,i,!1,null,null,null);e["default"]=c.exports}}]);
<<<<<<<< HEAD:dist/js/chunk-2d207cfa.a403b539.js
//# sourceMappingURL=chunk-2d207cfa.a403b539.js.map
========
//# sourceMappingURL=chunk-2d207cfa.34608bf7.js.map
>>>>>>>> d11ad88f4811a0d2cf202b562dba1e85b0ba5107:dist/js/chunk-2d207cfa.34608bf7.js
