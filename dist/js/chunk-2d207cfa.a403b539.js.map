{"version":3,"sources":["webpack:///./src/router/views/warehouse/manageSupplies.vue?050e","webpack:///src/router/views/warehouse/manageSupplies.vue","webpack:///./src/router/views/warehouse/manageSupplies.vue?009a","webpack:///./src/router/views/warehouse/manageSupplies.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","staticStyle","requestList","fields","perPage","currentPage","sortBy","sortDesc","filter","filterOn","on","$event","onFiltered","scopedSlots","_u","key","fn","row","info","item","index","target","_v","infoModal","id","order_id","_s","product_name","warehouse","date","quantity","unit","acceptRequest","rejectRequest","staticRenderFns","title","components","computed","watch","data","requests","reqResp","pageOptions","totalRows","mounted","updateList","methods","filteredItems","length","component"],"mappings":"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","file":"js/chunk-2d207cfa.a403b539.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"data-app\":\"\"}},[_c('Layout',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"table-responsive mb-0\",staticStyle:{\"min-height\":\"300px\"}},[_c('b-table',{staticClass:\"datatables\",attrs:{\"items\":_vm.requestList,\"fields\":_vm.fields,\"responsive\":\"sm\",\"per-page\":_vm.perPage,\"current-page\":_vm.currentPage,\"sort-by\":_vm.sortBy,\"sort-desc\":_vm.sortDesc,\"filter\":_vm.filter,\"filter-included-fields\":_vm.filterOn},on:{\"update:sortBy\":function($event){_vm.sortBy=$event},\"update:sort-by\":function($event){_vm.sortBy=$event},\"update:sortDesc\":function($event){_vm.sortDesc=$event},\"update:sort-desc\":function($event){_vm.sortDesc=$event},\"filtered\":_vm.onFiltered},scopedSlots:_vm._u([{key:\"cell(actions)\",fn:function(row){return [_c('b-button',{staticClass:\"mr-1\",attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.info(row.item, row.index, $event.target)}}},[_vm._v(\" Request Details \")])]}}])})],1)]),_c('b-modal',{attrs:{\"id\":_vm.infoModal.id,\"title\":_vm.infoModal.order_id,\"hide-footer\":\"\"}},[_c('p',{staticClass:\"mb-2\"},[_vm._v(\" Request id: \"),_c('span',{staticClass:\"text-primary\"},[_vm._v(_vm._s(_vm.infoModal.id))])]),_c('p',{staticClass:\"mb-2\"},[_vm._v(\" Requested Product: \"),_c('span',{staticClass:\"text-primary\"},[_vm._v(_vm._s(_vm.infoModal.product_name))])]),_c('p',{staticClass:\"mb-2\"},[_vm._v(\" Requested From: \"),_c('span',{staticClass:\"text-primary\"},[_vm._v(_vm._s(_vm.infoModal.warehouse))])]),_c('p',{staticClass:\"mb-2\"},[_vm._v(\" Date: \"),_c('span',{staticClass:\"text-primary\"},[_vm._v(_vm._s(_vm.infoModal.date))])]),_c('div',{staticClass:\"table-responsive\"},[_c('table',{staticClass:\"table table-centered table-nowrap\"},[_c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Product Name\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Product QTY\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Product Unit\")])])]),_c('tbody',[_c('tr',[_c('td',[_c('div',[_c('h5',{staticClass:\"text-truncate font-size-14\"},[_vm._v(\" \"+_vm._s(_vm.infoModal.product_name)+\" \")])])]),_c('td',[_vm._v(\" \"+_vm._s(_vm.infoModal.quantity)+\" \")]),_c('td',[_vm._v(_vm._s(_vm.infoModal.unit))])])])]),_c('b-button',{staticClass:\"mx-3\",attrs:{\"variant\":\"success\",\"block\":\"\"},on:{\"click\":function($event){return _vm.acceptRequest(_vm.infoModal)}}},[_vm._v(\"Accept\")]),_c('b-button',{staticClass:\"mx-2\",attrs:{\"variant\":\"warning\",\"block\":\"\"},on:{\"click\":function($event){return _vm.rejectRequest(_vm.infoModal)}}},[_vm._v(\"Reject\")])],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\r\nimport axios from 'axios'\r\nimport Layout from '../../layouts/main'\r\n// import PageHeader from '@/components/page-header'\r\n\r\n\r\n\r\n/**\r\n * Products-order component\r\n */\r\nexport default {\r\n   page: {\r\n    title: \"Supplies List\",\r\n  },\r\n  components: { Layout, },\r\n  computed: {\r\n      \r\n  },\r\n  watch: {\r\n\r\n  },\r\n  data() {\r\n    return {\r\n        requestList: [],\r\n        fields: [\r\n        {\r\n          key: \"id\",\r\n          label: \"ID\",\r\n          sortable: true,\r\n        },\r\n        {\r\n          key: \"product_name\",\r\n          label: \"Product\",\r\n          sortable: true,\r\n        },\r\n        {\r\n          key: \"quantity\",\r\n          label: \"QTY\",\r\n          sortable: true,\r\n        },\r\n        {\r\n          key: \"unit\",\r\n          label: \"Unit\",\r\n          sortable: true,\r\n        },\r\n        {\r\n          key: \"warehouse_name\",\r\n          label: \"Requested From\",\r\n          sortable: true,\r\n        },\r\n        { key: 'actions', label: 'Actions' }\r\n      ],\r\n      infoModal: {\r\n        id: '',\r\n        title: 'info-modal',\r\n        product_name: '',\r\n        quantity: '',\r\n        unit: '',\r\n        warehouse: '',\r\n        date: '',\r\n      },\r\n      requests: [],\r\n      reqResp: {},\r\n      filter: null,\r\n      filterOn: [],\r\n      sortBy: \"id\",\r\n      sortDesc: false,\r\n      currentPage: 1,\r\n      perPage: 10,\r\n      pageOptions: [10, 25, 50, 100],\r\n      totalRows: 1,\r\n    }\r\n  },\r\n  mounted() {\r\n    this.updateList();\r\n  },\r\n  methods: {\r\n    updateList() {\r\n        this.loggedUser = this.$store.state.authfack.user;\r\n\r\n        const TOKEN = this.loggedUser.token;\r\n\r\n        var bodyFormData = new FormData();\r\n        bodyFormData.set(\"status\", 1);\r\n        axios\r\n        .request({\r\n            method: \"post\",\r\n            url:\r\n            this.$hostname + \"warehouses/request-list\",\r\n            headers: {\r\n            Authorization: \"Bearer \" + TOKEN,\r\n            },\r\n            data: bodyFormData\r\n        })\r\n        .then((response) => {\r\n            this.requestList = response.data;\r\n        });\r\n    },\r\n    info(item, index, button) {\r\n        this.infoModal.title = `Row index: ${index}`\r\n        this.infoModal.id = item.id;\r\n        this.infoModal.product_name = item.product_name;\r\n        this.infoModal.unit = item.unit;\r\n        this.infoModal.quantity = item.quantity;\r\n        this.infoModal.warehouse = item.warehouse_name;\r\n        this.infoModal.date = item.created_at;\r\n        \r\n        this.$root.$emit('bv::show::modal', this.infoModal.id, button)\r\n    },\r\n    onFiltered(filteredItems) {\r\n      // Trigger pagination to update the number of buttons/pages due to filtering\r\n      this.totalRows = filteredItems.length;\r\n      this.currentPage = 1;\r\n    },\r\n    acceptRequest(request){\r\n        var req = {\r\n            id: '',\r\n            quantity: 0,\r\n        };\r\n        req.id = request.id;\r\n        req.quantity = request.quantity;\r\n        this.requests.push(req);\r\n\r\n        const TOKEN = this.loggedUser.token;\r\n\r\n        axios\r\n            .request({\r\n            method: \"post\",\r\n            url:\r\n                this.$hostname + \"warehouses/accept-request\",\r\n            headers: {\r\n                Authorization: \"Bearer \" + TOKEN,\r\n            },\r\n            data: {requests: this.requests}\r\n            })\r\n            .then((response) => {\r\n                if(response.status === 200){\r\n                    alert('Request Sent');\r\n                    this.$root.$emit('bv::hide::modal', this.infoModal.id);\r\n                    this.updateList();\r\n                }\r\n        });\r\n    },\r\n    rejectRequest(request){\r\n        var req = {\r\n            id: '',\r\n        };\r\n        req.id = request.id;\r\n        this.requests.push(req);\r\n\r\n        const TOKEN = this.loggedUser.token;\r\n\r\n        axios\r\n            .request({\r\n            method: \"post\",\r\n            url:\r\n                this.$hostname + \"warehouses/void-request\",\r\n            headers: {\r\n                Authorization: \"Bearer \" + TOKEN,\r\n            },\r\n            data: {requests: this.requests}\r\n            })\r\n            .then((response) => {\r\n                if(response.status === 200){\r\n                    alert('Request Voided');\r\n                    this.$root.$emit('bv::hide::modal', this.infoModal.id);\r\n                    this.updateList();\r\n                }\r\n        });\r\n    },\r\n},\r\n}\r\n</script>\r\n\r\n<template>\r\n<div data-app>\r\n  <Layout>\r\n    <div class=\"row\">\r\n        <div class=\"table-responsive mb-0\" style=\"min-height: 300px;\">\r\n            <b-table\r\n            class=\"datatables\"\r\n            :items=\"requestList\"\r\n            :fields=\"fields\"\r\n            responsive=\"sm\"\r\n            :per-page=\"perPage\"\r\n            :current-page=\"currentPage\"\r\n            :sort-by.sync=\"sortBy\"\r\n            :sort-desc.sync=\"sortDesc\"\r\n            :filter=\"filter\"\r\n            :filter-included-fields=\"filterOn\"\r\n            @filtered=\"onFiltered\"\r\n            >\r\n            <template #cell(actions)=\"row\">\r\n                <b-button size=\"sm\" @click=\"info(row.item, row.index, $event.target)\" class=\"mr-1\">\r\n                    Request Details\r\n                </b-button>\r\n            </template>\r\n            </b-table>\r\n        </div>\r\n    </div>\r\n\r\n    <b-modal :id=\"infoModal.id\" :title=\"infoModal.order_id\" hide-footer >\r\n\r\n      <p class=\"mb-2\">\r\n        Request id:\r\n        <span class=\"text-primary\">{{ infoModal.id }}</span>\r\n      </p>\r\n      <p class=\"mb-2\">\r\n        Requested Product:\r\n        <span class=\"text-primary\">{{ infoModal.product_name }}</span>\r\n      </p>\r\n      <p class=\"mb-2\">\r\n        Requested From:\r\n        <span class=\"text-primary\">{{ infoModal.warehouse }}</span>\r\n      </p>\r\n      <p class=\"mb-2\">\r\n        Date:\r\n        <span class=\"text-primary\">{{ infoModal.date }}</span>\r\n      </p>\r\n      <div class=\"table-responsive\">\r\n        <table class=\"table table-centered table-nowrap\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">Product Name</th>\r\n              <th scope=\"col\">Product QTY</th>\r\n              <th scope=\"col\">Product Unit</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td>\r\n                <div>\r\n                  <h5 class=\"text-truncate font-size-14\">\r\n                    {{ infoModal.product_name }}\r\n                  </h5>\r\n                </div>\r\n              </td>\r\n              <td>\r\n                {{ infoModal.quantity }}\r\n              </td>\r\n              <td>{{ infoModal.unit }}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <b-button class=\"mx-3\" variant=\"success\" block @click=\"acceptRequest(infoModal)\">Accept</b-button>\r\n        <b-button class=\"mx-2\" variant=\"warning\" block @click=\"rejectRequest(infoModal)\">Reject</b-button>\r\n      </div>\r\n\r\n    </b-modal>\r\n  </Layout>\r\n  </div>\r\n</template>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manageSupplies.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manageSupplies.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./manageSupplies.vue?vue&type=template&id=4b2b47bb&\"\nimport script from \"./manageSupplies.vue?vue&type=script&lang=js&\"\nexport * from \"./manageSupplies.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}