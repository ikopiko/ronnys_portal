{"version":3,"sources":["webpack:///./src/router/views/warehouse/supplies.vue","webpack:///src/router/views/warehouse/supplies.vue","webpack:///./src/router/views/warehouse/supplies.vue?5cad","webpack:///./src/router/views/warehouse/supplies.vue?33f8"],"names":["render","_vm","this","_c","_self","attrs","staticClass","_v","on","$event","requestSuppliesActive","_l","supplies","supply","index","key","selected","changeSelect","_s","product_name","quantity","unit","domProps","products","product","name","selectedProducts","model","value","newQty","callback","$$v","$set","expression","addSupply","_e","staticRenderFns","page","title","components","Layout","computed","filter","watch","requestData","data","newProduct","request","warehouse_id","responseData","units","mounted","loggedUser","$store","state","authfack","user","TOKEN","token","bodyFormData","FormData","set","axios","method","url","$hostname","headers","Authorization","then","response","forEach","x","methods","req","product_id","id","push","component"],"mappings":"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","file":"js/chunk-2d225406.1a477ad6.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"data-app\":\"\"}},[_c('Layout',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-4\"},[_c('v-card',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"500\"}},[_c('v-toolbar',{attrs:{\"color\":\"deep-purple accent-4\",\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"Supplies\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.requestSuppliesActive = true}}},[_c('v-icon',[_vm._v(\"mdi-plus\")])],1)],1),_c('v-list',{attrs:{\"subheader\":\"\"}},_vm._l((_vm.supplies),function(supply,index){return _c('v-list-item',{key:index,on:{\"click\":function($event){supply.selected = !supply.selected, _vm.changeSelect = _vm.changeSelect+1}}},[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(supply.product_name)+\" - \"+_vm._s(supply.quantity)+\" \"+_vm._s(supply.unit)+\" \")]),_c('v-list-item-action',[_c('v-checkbox',{attrs:{\"value\":supply.selected}})],1),_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(supply.product_name)}})],1)],1)}),1),_vm._v(\" \"+_vm._s(_vm.selected)+\" \")],1)],1),_c('div',{staticClass:\"col-8\"},[(_vm.requestSuppliesActive)?_c('v-card',{attrs:{\"height\":\"100%\"}},[_c('v-card-title',[_vm._v(\" Request Supplies \")]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-4\"},[_c('v-list',{attrs:{\"subheader\":\"\"}},_vm._l((_vm.products),function(product,index){return _c('v-list-item',{key:index,on:{\"click\":function($event){product.selected = !product.selected, _vm.changeSelect = _vm.changeSelect+1}}},[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(product.name)+\" \")]),_c('v-list-item-action',[_c('v-checkbox',{attrs:{\"value\":product.selected}})],1),_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(product.name)}})],1)],1)}),1)],1),_c('div',{staticClass:\"col-6\"},_vm._l((_vm.selectedProducts),function(product,index){return _c('div',{key:index,staticClass:\"row\"},[_c('div',{staticClass:\"col-1\"},[_vm._v(\"Â \")]),_c('div',{staticClass:\"col-6\"},[_c('v-text-field',{attrs:{\"label\":product.name,\"suffix\":product.unit,\"required\":\"\"},model:{value:(product.newQty),callback:function ($$v) {_vm.$set(product, \"newQty\", $$v)},expression:\"product.newQty\"}})],1)])}),0)]),_c('v-card-actions',[_c('v-btn',{staticClass:\"mr-4\",on:{\"click\":_vm.addSupply}},[_vm._v(\" Create Request \")]),_c('v-btn',{on:{\"click\":function($event){_vm.requestSuppliesActive = false}}},[_vm._v(\" Close \")])],1)],1):_vm._e()],1)])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport axios from 'axios'\nimport Layout from '../../layouts/main'\n// import PageHeader from '@/components/page-header'\n\n\n\n/**\n * Products-order component\n */\nexport default {\n   page: {\n    title: \"Products\",\n  },\n  components: { Layout, },\n  computed: {\n      selected() {\n        this.changeSelect;\n      return this.supplies.filter(supply => supply.selected)\n    }, \n      selectedProducts() {\n        this.changeSelect;\n      return this.products.filter(product => product.selected)\n    }, \n  },\n  watch: {\n      changeSelect() {\n          this.requestData = this.products.filter(product => product.selected);\n      }\n  },\n  data() {\n    return {\n        requestSuppliesActive: false,\n        newProduct: {\n            name: '',\n            unit: ''\n        },\n        request: {\n            supplies: [],\n            warehouse_id: null\n        },\n        responseData: null,\n        products: [],\n        requestData: [],\n        supplies: [],\n        units: [],\n        changeSelect: 0,\n        warehouse_id: 2,\n    }\n  },\n  mounted() {\n    this.loggedUser = this.$store.state.authfack.user;\n\n    const TOKEN = this.loggedUser.token;\n\n    var bodyFormData = new FormData();\n    bodyFormData.set(\"warehouse_id\", this.warehouse_id);\n    axios\n      .request({\n        method: \"post\",\n        url:\n          this.$hostname + \"warehouses/supplies-list\",\n        headers: {\n          Authorization: \"Bearer \" + TOKEN,\n        },\n        data: bodyFormData\n      })\n      .then((response) => {\n        this.supplies = response.data;\n        this.supplies.forEach((x) => {\n            x.selected = false;\n        });\n      });\n\n        \n      axios\n      .request({\n        method: \"post\",\n        url:\n          this.$hostname + \"warehouses/products-list\",\n        headers: {\n          Authorization: \"Bearer \" + TOKEN,\n        },\n      })\n      .then((response) => {\n        this.products = response.data;\n        this.products.forEach((x) => {\n            x.selected = false;\n        });\n      });\n  },\n  methods: {\n      addSupply(){\n        this.requestData.forEach(x => {\n            var req = {\n                product_id: x.id,\n                quantity: x.newQty\n            };\n            this.request.supplies.push(req)\n        });\n        this.request.warehouse_id = this.warehouse_id;\n\n        const TOKEN = this.loggedUser.token;\n\n        this.request.supplies.forEach((x) => {\n            var bodyFormData = new FormData();\n            bodyFormData.set(\"product_id\", x.product_id);\n            bodyFormData.set(\"warehouse_id\", this.warehouse_id);\n            bodyFormData.set(\"quantity\", x.quantity);\n            axios\n            .request({\n                method: \"post\",\n                url:\n                this.$hostname + \"warehouses/add-supplie\",\n                headers: {\n                Authorization: \"Bearer \" + TOKEN,\n                },\n                data: bodyFormData\n            })\n            .then((response) => {\n                this.responseData = response;\n            });\n        });\n        \n      },\n  },\n}\n</script>\n\n<template>\n<div data-app>\n  <Layout>\n    <div class=\"row\">\n        <div class=\"col-4\">\n            <v-card\n                class=\"mx-auto\"\n                max-width=\"500\"\n            >\n                <v-toolbar\n                color=\"deep-purple accent-4\"\n                dark\n                >\n\n                <v-toolbar-title>Supplies</v-toolbar-title>\n\n                <v-spacer></v-spacer>\n\n                <v-btn icon @click=\"requestSuppliesActive = true\">\n                    <v-icon>mdi-plus</v-icon>\n                </v-btn>\n                </v-toolbar>\n\n                <v-list subheader>\n\n                <v-list-item\n                    v-for=\"(supply, index) in supplies\"\n                    :key=\"index\"\n                    @click=\"supply.selected = !supply.selected, changeSelect = changeSelect+1\"\n                >\n                    <v-list-item-title>\n                        {{ supply.product_name }} - {{ supply.quantity }} {{ supply.unit }}\n                    </v-list-item-title>\n                    <v-list-item-action>\n                        <v-checkbox :value=\"supply.selected\" />\n                    </v-list-item-action>\n                    \n\n                    <v-list-item-content>\n                    <v-list-item-title v-text=\"supply.product_name\"></v-list-item-title>\n                    </v-list-item-content>\n\n                    <!-- <v-list-item-icon>\n                    <v-icon :color=\"'grey'\">\n                        mdi-message-outline\n                    </v-icon>\n                    </v-list-item-icon> -->\n                </v-list-item>\n                </v-list>\n                {{ selected }}\n            </v-card>\n        </div>\n        <div class=\"col-8\">\n            <v-card height=\"100%\" v-if=\"requestSuppliesActive\">\n                <v-card-title>\n                    Request Supplies\n                </v-card-title>\n                <div class=\"row\">\n                    <div class=\"col-4\">\n                        <v-list subheader>\n\n                        <v-list-item\n                            v-for=\"(product, index) in products\"\n                            :key=\"index\"\n                            @click=\"product.selected = !product.selected, changeSelect = changeSelect+1\"\n                        >\n                            <v-list-item-title>\n                                {{ product.name }}\n                            </v-list-item-title>\n                            <v-list-item-action>\n                                <v-checkbox :value=\"product.selected\" />\n                            </v-list-item-action>\n                            \n\n                            <v-list-item-content>\n                            <v-list-item-title v-text=\"product.name\"></v-list-item-title>\n                            </v-list-item-content>\n\n                        </v-list-item>\n                        </v-list>\n                    </div>\n                    <div class=\"col-6\">\n                        <div class=\"row\" \n                                v-for=\"(product, index) in selectedProducts\"\n                                :key=\"index\"> \n                            <div class=\"col-1\">&nbsp;</div>\n                            <div class=\"col-6\">\n                                <v-text-field\n                                    v-model=\"product.newQty\"\n                                    :label=\"product.name\"\n                                    :suffix=\"product.unit\"\n                                    required\n                                ></v-text-field>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            <v-card-actions>\n                <v-btn\n                    class=\"mr-4\"\n                    @click=\"addSupply\"\n                >\n                    Create Request\n                </v-btn>\n                <v-btn @click=\"requestSuppliesActive = false\">\n                    Close   \n                </v-btn>\n            </v-card-actions>\n            </v-card>\n        </div>\n    </div>\n  </Layout>\n  </div>\n</template>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./supplies.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./supplies.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./supplies.vue?vue&type=template&id=fa927a18\"\nimport script from \"./supplies.vue?vue&type=script&lang=js\"\nexport * from \"./supplies.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}