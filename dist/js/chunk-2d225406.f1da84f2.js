(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d225406"],{e434:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{"data-app":""}},[s("Layout",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-4"},[s("v-card",{staticClass:"mx-auto",attrs:{"max-width":"500"}},[s("v-toolbar",{attrs:{color:"deep-purple accent-4",dark:""}},[s("v-toolbar-title",[t._v("Supplies")]),s("v-spacer"),s("v-btn",{attrs:{icon:""},on:{click:function(e){t.requestSuppliesActive=!0}}},[s("v-icon",[t._v("mdi-plus")])],1)],1),s("v-list",{attrs:{subheader:""}},t._l(t.supplies,(function(e,i){return s("v-list-item",{key:i,on:{click:function(s){e.selected=!e.selected,t.changeSelect=t.changeSelect+1}}},[s("v-list-item-title",[t._v(" "+t._s(e.product_name)+" - "+t._s(e.quantity)+" "+t._s(e.unit)+" ")]),s("v-list-item-action",[s("v-checkbox",{attrs:{value:e.selected}})],1),s("v-list-item-content",[s("v-list-item-title",{domProps:{textContent:t._s(e.product_name)}})],1)],1)})),1),t._v(" "+t._s(t.selected)+" ")],1)],1),s("div",{staticClass:"col-8"},[t.requestSuppliesActive?s("v-card",{attrs:{height:"100%"}},[s("v-card-title",[t._v(" Request Supplies ")]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-4"},[s("v-list",{attrs:{subheader:""}},t._l(t.products,(function(e,i){return s("v-list-item",{key:i,on:{click:function(s){e.selected=!e.selected,t.changeSelect=t.changeSelect+1}}},[s("v-list-item-title",[t._v(" "+t._s(e.name)+" ")]),s("v-list-item-action",[s("v-checkbox",{attrs:{value:e.selected}})],1),s("v-list-item-content",[s("v-list-item-title",{domProps:{textContent:t._s(e.name)}})],1)],1)})),1)],1),s("div",{staticClass:"col-6"},t._l(t.selectedProducts,(function(e,i){return s("div",{key:i,staticClass:"row"},[s("div",{staticClass:"col-1"},[t._v("Â ")]),s("div",{staticClass:"col-6"},[s("v-text-field",{attrs:{label:e.name,suffix:e.unit,required:""},model:{value:e.newQty,callback:function(s){t.$set(e,"newQty",s)},expression:"product.newQty"}})],1)])})),0)]),s("v-card-actions",[s("v-btn",{staticClass:"mr-4",on:{click:t.addSupply}},[t._v(" Create Request ")]),s("v-btn",{on:{click:function(e){t.requestSuppliesActive=!1}}},[t._v(" Close ")])],1)],1):t._e()],1)])])],1)},a=[],c=(s("4de4"),s("159b"),s("bc3a")),n=s.n(c),u=s("444f"),r={page:{title:"Products"},components:{Layout:u["a"]},computed:{selected:function(){return this.changeSelect,this.supplies.filter((function(t){return t.selected}))},selectedProducts:function(){return this.changeSelect,this.products.filter((function(t){return t.selected}))}},watch:{changeSelect:function(){this.requestData=this.products.filter((function(t){return t.selected}))}},data:function(){return{requestSuppliesActive:!1,newProduct:{name:"",unit:""},request:{supplies:[],warehouse_id:null},responseData:null,products:[],requestData:[],supplies:[],units:[],changeSelect:0,warehouse_id:2}},mounted:function(){var t=this;this.loggedUser=this.$store.state.authfack.user;var e=this.loggedUser.token,s=new FormData;s.set("warehouse_id",this.warehouse_id),n.a.request({method:"post",url:this.$hostname+"warehouses/supplies-list",headers:{Authorization:"Bearer "+e},data:s}).then((function(e){t.supplies=e.data,t.supplies.forEach((function(t){t.selected=!1}))})),n.a.request({method:"post",url:this.$hostname+"warehouses/products-list",headers:{Authorization:"Bearer "+e}}).then((function(e){t.products=e.data,t.products.forEach((function(t){t.selected=!1}))}))},methods:{addSupply:function(){var t=this;this.requestData.forEach((function(e){var s={product_id:e.id,quantity:e.newQty};t.request.supplies.push(s)})),this.request.warehouse_id=this.warehouse_id;var e=this.loggedUser.token;this.request.supplies.forEach((function(s){var i=new FormData;i.set("product_id",s.product_id),i.set("warehouse_id",t.warehouse_id),i.set("quantity",s.quantity),n.a.request({method:"post",url:t.$hostname+"warehouses/add-supplie",headers:{Authorization:"Bearer "+e},data:i}).then((function(e){t.responseData=e}))}))}}},o=r,l=s("2877"),d=Object(l["a"])(o,i,a,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d225406.f1da84f2.js.map