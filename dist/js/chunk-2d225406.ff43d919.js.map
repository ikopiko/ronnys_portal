{"version":3,"sources":["webpack:///./src/router/views/warehouse/supplies.vue?086a","webpack:///src/router/views/warehouse/supplies.vue","webpack:///./src/router/views/warehouse/supplies.vue?863c","webpack:///./src/router/views/warehouse/supplies.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","on","$event","requestSuppliesActive","_l","supply","index","key","selected","changeSelect","_s","product_name","quantity","unit","domProps","product","name","model","value","callback","$$v","$set","expression","addSupply","_e","staticRenderFns","title","components","computed","supplies","filter","products","watch","data","mounted","loggedUser","$store","state","authfack","user","bodyFormData","FormData","set","warehouse_id","methods","component"],"mappings":"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","file":"js/chunk-2d225406.ff43d919.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"data-app\":\"\"}},[_c('Layout',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-4\"},[_c('v-card',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"500\"}},[_c('v-toolbar',{attrs:{\"color\":\"deep-purple accent-4\",\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"Supplies\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.requestSuppliesActive = true}}},[_c('v-icon',[_vm._v(\"mdi-plus\")])],1)],1),_c('v-list',{attrs:{\"subheader\":\"\"}},_vm._l((_vm.supplies),function(supply,index){return _c('v-list-item',{key:index,on:{\"click\":function($event){supply.selected = !supply.selected, _vm.changeSelect = _vm.changeSelect+1}}},[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(supply.product_name)+\" - \"+_vm._s(supply.quantity)+\" \"+_vm._s(supply.unit)+\" \")]),_c('v-list-item-action',[_c('v-checkbox',{attrs:{\"value\":supply.selected}})],1),_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(supply.product_name)}})],1)],1)}),1),_vm._v(\" \"+_vm._s(_vm.selected)+\" \")],1)],1),_c('div',{staticClass:\"col-8\"},[(_vm.requestSuppliesActive)?_c('v-card',{attrs:{\"height\":\"100%\"}},[_c('v-card-title',[_vm._v(\" Request Supplies \")]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-4\"},[_c('v-list',{attrs:{\"subheader\":\"\"}},_vm._l((_vm.products),function(product,index){return _c('v-list-item',{key:index,on:{\"click\":function($event){product.selected = !product.selected, _vm.changeSelect = _vm.changeSelect+1}}},[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(product.name)+\" \")]),_c('v-list-item-action',[_c('v-checkbox',{attrs:{\"value\":product.selected}})],1),_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(product.name)}})],1)],1)}),1)],1),_c('div',{staticClass:\"col-6\"},_vm._l((_vm.selectedProducts),function(product,index){return _c('div',{key:index,staticClass:\"row\"},[_c('div',{staticClass:\"col-1\"},[_vm._v(\"Â \")]),_c('div',{staticClass:\"col-6\"},[_c('v-text-field',{attrs:{\"label\":product.name,\"suffix\":product.unit,\"required\":\"\"},model:{value:(product.newQty),callback:function ($$v) {_vm.$set(product, \"newQty\", $$v)},expression:\"product.newQty\"}})],1)])}),0)]),_c('v-card-actions',[_c('v-btn',{staticClass:\"mr-4\",on:{\"click\":_vm.addSupply}},[_vm._v(\" Create Request \")]),_c('v-btn',{on:{\"click\":function($event){_vm.requestSuppliesActive = false}}},[_vm._v(\" Close \")])],1)],1):_vm._e()],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\r\nimport axios from 'axios'\r\nimport Layout from '../../layouts/main'\r\n// import PageHeader from '@/components/page-header'\r\n\r\n\r\n\r\n/**\r\n * Products-order component\r\n */\r\nexport default {\r\n   page: {\r\n    title: \"Products\",\r\n  },\r\n  components: { Layout, },\r\n  computed: {\r\n      selected() {\r\n        this.changeSelect;\r\n      return this.supplies.filter(supply => supply.selected)\r\n    }, \r\n      selectedProducts() {\r\n        this.changeSelect;\r\n      return this.products.filter(product => product.selected)\r\n    }, \r\n  },\r\n  watch: {\r\n      changeSelect() {\r\n          this.requestData = this.products.filter(product => product.selected);\r\n      }\r\n  },\r\n  data() {\r\n    return {\r\n        requestSuppliesActive: false,\r\n        newProduct: {\r\n            name: '',\r\n            unit: ''\r\n        },\r\n        request: {\r\n            supplies: [],\r\n            warehouse_id: null\r\n        },\r\n        responseData: null,\r\n        products: [],\r\n        requestData: [],\r\n        supplies: [],\r\n        units: [],\r\n        changeSelect: 0,\r\n        warehouse_id: 2,\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loggedUser = this.$store.state.authfack.user;\r\n\r\n    const TOKEN = this.loggedUser.token;\r\n\r\n    var bodyFormData = new FormData();\r\n    bodyFormData.set(\"warehouse_id\", this.warehouse_id);\r\n    axios\r\n      .request({\r\n        method: \"post\",\r\n        url:\r\n          this.$hostname + \"warehouses/supplies-list\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + TOKEN,\r\n        },\r\n        data: bodyFormData\r\n      })\r\n      .then((response) => {\r\n        this.supplies = response.data;\r\n        this.supplies.forEach((x) => {\r\n            x.selected = false;\r\n        });\r\n      });\r\n\r\n        \r\n      axios\r\n      .request({\r\n        method: \"post\",\r\n        url:\r\n          this.$hostname + \"warehouses/products-list\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + TOKEN,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        this.products = response.data;\r\n        this.products.forEach((x) => {\r\n            x.selected = false;\r\n        });\r\n      });\r\n  },\r\n  methods: {\r\n      addSupply(){\r\n        this.requestData.forEach(x => {\r\n            var req = {\r\n                product_id: x.id,\r\n                quantity: x.newQty\r\n            };\r\n            this.request.supplies.push(req)\r\n        });\r\n        this.request.warehouse_id = this.warehouse_id;\r\n\r\n        const TOKEN = this.loggedUser.token;\r\n\r\n        this.request.supplies.forEach((x) => {\r\n            var bodyFormData = new FormData();\r\n            bodyFormData.set(\"product_id\", x.product_id);\r\n            bodyFormData.set(\"warehouse_id\", this.warehouse_id);\r\n            bodyFormData.set(\"quantity\", x.quantity);\r\n            axios\r\n            .request({\r\n                method: \"post\",\r\n                url:\r\n                this.$hostname + \"warehouses/add-supplie\",\r\n                headers: {\r\n                Authorization: \"Bearer \" + TOKEN,\r\n                },\r\n                data: bodyFormData\r\n            })\r\n            .then((response) => {\r\n                this.responseData = response;\r\n            });\r\n        });\r\n        \r\n      },\r\n  },\r\n}\r\n</script>\r\n\r\n<template>\r\n<div data-app>\r\n  <Layout>\r\n    <div class=\"row\">\r\n        <div class=\"col-4\">\r\n            <v-card\r\n                class=\"mx-auto\"\r\n                max-width=\"500\"\r\n            >\r\n                <v-toolbar\r\n                color=\"deep-purple accent-4\"\r\n                dark\r\n                >\r\n\r\n                <v-toolbar-title>Supplies</v-toolbar-title>\r\n\r\n                <v-spacer></v-spacer>\r\n\r\n                <v-btn icon @click=\"requestSuppliesActive = true\">\r\n                    <v-icon>mdi-plus</v-icon>\r\n                </v-btn>\r\n                </v-toolbar>\r\n\r\n                <v-list subheader>\r\n\r\n                <v-list-item\r\n                    v-for=\"(supply, index) in supplies\"\r\n                    :key=\"index\"\r\n                    @click=\"supply.selected = !supply.selected, changeSelect = changeSelect+1\"\r\n                >\r\n                    <v-list-item-title>\r\n                        {{ supply.product_name }} - {{ supply.quantity }} {{ supply.unit }}\r\n                    </v-list-item-title>\r\n                    <v-list-item-action>\r\n                        <v-checkbox :value=\"supply.selected\" />\r\n                    </v-list-item-action>\r\n                    \r\n\r\n                    <v-list-item-content>\r\n                    <v-list-item-title v-text=\"supply.product_name\"></v-list-item-title>\r\n                    </v-list-item-content>\r\n\r\n                    <!-- <v-list-item-icon>\r\n                    <v-icon :color=\"'grey'\">\r\n                        mdi-message-outline\r\n                    </v-icon>\r\n                    </v-list-item-icon> -->\r\n                </v-list-item>\r\n                </v-list>\r\n                {{ selected }}\r\n            </v-card>\r\n        </div>\r\n        <div class=\"col-8\">\r\n            <v-card height=\"100%\" v-if=\"requestSuppliesActive\">\r\n                <v-card-title>\r\n                    Request Supplies\r\n                </v-card-title>\r\n                <div class=\"row\">\r\n                    <div class=\"col-4\">\r\n                        <v-list subheader>\r\n\r\n                        <v-list-item\r\n                            v-for=\"(product, index) in products\"\r\n                            :key=\"index\"\r\n                            @click=\"product.selected = !product.selected, changeSelect = changeSelect+1\"\r\n                        >\r\n                            <v-list-item-title>\r\n                                {{ product.name }}\r\n                            </v-list-item-title>\r\n                            <v-list-item-action>\r\n                                <v-checkbox :value=\"product.selected\" />\r\n                            </v-list-item-action>\r\n                            \r\n\r\n                            <v-list-item-content>\r\n                            <v-list-item-title v-text=\"product.name\"></v-list-item-title>\r\n                            </v-list-item-content>\r\n\r\n                        </v-list-item>\r\n                        </v-list>\r\n                    </div>\r\n                    <div class=\"col-6\">\r\n                        <div class=\"row\" \r\n                                v-for=\"(product, index) in selectedProducts\"\r\n                                :key=\"index\"> \r\n                            <div class=\"col-1\">&nbsp;</div>\r\n                            <div class=\"col-6\">\r\n                                <v-text-field\r\n                                    v-model=\"product.newQty\"\r\n                                    :label=\"product.name\"\r\n                                    :suffix=\"product.unit\"\r\n                                    required\r\n                                ></v-text-field>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            <v-card-actions>\r\n                <v-btn\r\n                    class=\"mr-4\"\r\n                    @click=\"addSupply\"\r\n                >\r\n                    Create Request\r\n                </v-btn>\r\n                <v-btn @click=\"requestSuppliesActive = false\">\r\n                    Close   \r\n                </v-btn>\r\n            </v-card-actions>\r\n            </v-card>\r\n        </div>\r\n    </div>\r\n  </Layout>\r\n  </div>\r\n</template>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./supplies.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./supplies.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./supplies.vue?vue&type=template&id=fa927a18&\"\nimport script from \"./supplies.vue?vue&type=script&lang=js&\"\nexport * from \"./supplies.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}