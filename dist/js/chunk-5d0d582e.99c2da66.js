(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d0d582e"],{"1b91":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Layout",[s("v-dialog",{attrs:{"max-width":"1100"},model:{value:t.sendRequestModal,callback:function(e){t.sendRequestModal=e},expression:"sendRequestModal"}},[s("requesModal",{attrs:{token:t.TOKEN,method:t.asd}})],1),s("v-card",{staticClass:"bg-primary",attrs:{elevation:"1"}},[s("v-tabs",{attrs:{light:"",grow:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("v-tab",[t._v(" Supplies list")]),s("v-tab",[t._v(" Received product")]),s("v-tab",[t._v(" Sent requests")]),s("v-tab",[t._v(" Received requests")]),s("v-tab",[t._v(" Sent Products")])],1),s("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("v-tab-item",[s("v-card",[s("v-card-text",[s("v-card-title",{staticClass:"pl-0"},[s("v-text-field",{staticClass:"col-4 pl-0",attrs:{clearable:"",dense:"","append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.suppliesSearch,callback:function(e){t.suppliesSearch=e},expression:"suppliesSearch"}}),s("v-spacer"),s("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:function(e){t.supplyModal=!0}}},[s("i",{staticClass:"bx bx-plus font-size-16 align-middle me-2"}),t._v(" Add supply ")])],1),s("v-data-table",{attrs:{dense:"",headers:t.supplyHeaders,items:t.supplyList,"items-per-page":10,search:t.suppliesSearch},scopedSlots:t._u([{key:"item.quantity",fn:function(e){var a=e.item;return[s("span",{staticClass:"badge rounded-pill font-size-12",class:a.quantity>10?"badge-soft-success":"badge-soft-danger"},[t._v(" "+t._s(a.quantity)+" "+t._s(a.unit)+" ")])]}},{key:"item.actions",fn:function(e){var a=e.item;return[s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var c=e.on,n=e.attrs;return[s("span",t._g(t._b({},"span",n,!1),c),[s("v-btn",{staticClass:"ma-2",attrs:{icon:"","x-small":"",color:"orange"}},[s("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(a)}}},[t._v(" mdi-pencil ")])],1)],1)]}}],null,!0)},[s("span",[t._v("Edit supply")])]),s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var c=e.on,n=e.attrs;return[s("span",t._g(t._b({},"span",n,!1),c),[s("v-btn",{staticClass:"ma-2",attrs:{icon:"","x-small":"",color:"green"}},[s("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteProduct(a)}}},[t._v(" mdi-eye ")])],1)],1)]}}],null,!0)},[s("span",[t._v("Hide supply")])])]}}],null,!0)})],1)],1)],1),s("v-tab-item",[s("v-card",[s("v-card-text",[s("v-card-title",[s("v-text-field",{staticClass:"col-4 pl-0",attrs:{dense:"","append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.recieveProductSearch,callback:function(e){t.recieveProductSearch=e},expression:"recieveProductSearch"}}),s("v-spacer")],1),s("v-data-table",{attrs:{dense:"","show-select":"",headers:t.recieveProductHeaders,items:t.recieveProductList,"items-per-page":10,search:t.recieveProductSearch},scopedSlots:t._u([{key:"item.status",fn:function(e){var a=e.item;return[s("span",{staticClass:"badge rounded-pill font-size-12",class:2==a.status?"badge-soft-success":"badge-soft-danger"},[t._v(" "+t._s(1==a.status?"Pending":"accepted")+" ")])]}},{key:"item.actions",fn:function(e){var a=e.item;return[s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var c=e.on,n=e.attrs;return[s("span",t._g(t._b({},"span",n,!1),c),[s("v-btn",{attrs:{icon:"",color:"success"}},[s("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.acceptRecieveProductsSingle(a)}}},[t._v(" mdi-check-circle ")])],1)],1)]}}],null,!0)},[s("span",[t._v("Accept Request")])])]}}],null,!0),model:{value:t.seletedReceiveProductsItems,callback:function(e){t.seletedReceiveProductsItems=e},expression:"seletedReceiveProductsItems"}}),t.showAcceptRecieveProductsBtn?s("div",{staticClass:"table-footer-prepend d-flex align-center"},[s("b-button",{staticClass:"success",attrs:{size:"sm"},on:{click:function(e){t.showRecieveProductsModal=!0}}},[s("i",{staticClass:"bx bx-check-double font-size-16 align-middle me-2"}),t._v(" Accept ")])],1):t._e()],1)],1)],1),s("v-tab-item",[s("v-card",[s("v-card-text",[s("v-card-title",[s("v-text-field",{staticClass:"col-4 pl-0",attrs:{dense:"","append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.requestSearch,callback:function(e){t.requestSearch=e},expression:"requestSearch"}}),s("v-spacer"),s("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:function(e){t.sendRequestModal=!0}}},[s("i",{staticClass:"bx bx-plus font-size-16 align-middle me-2"}),t._v(" Send Request ")])],1),s("v-data-table",{attrs:{dense:"",headers:t.requestHeaders,items:t.pendingRequestList,"items-per-page":10,search:t.requestSearch},scopedSlots:t._u([{key:"item.status",fn:function(e){var a=e.item;return[s("span",{staticClass:"badge rounded-pill font-size-12",class:2==a.status?"badge-soft-success":"badge-soft-danger"},[t._v(" "+t._s(1==a.status?"Pending":"accepted")+" ")])]}},{key:"item.actions",fn:function(e){var a=e.item;return[s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var c=e.on,n=e.attrs;return[s("span",t._g(t._b({},"span",n,!1),c),[s("v-btn",{staticClass:"ma-2",attrs:{icon:"","x-small":"",color:"error"}},[s("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.rejectRequestSingle(a.id)}}},[t._v(" mdi-close-circle ")])],1)],1)]}}],null,!0)},[s("span",[t._v("Reject Request")])])]}}],null,!0)})],1)],1)],1),s("v-tab-item",[s("v-card",[s("v-card-text",[s("v-card-title",[s("v-text-field",{staticClass:"col-4 pl-0",attrs:{dense:"","append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.receiveRequestSearch,callback:function(e){t.receiveRequestSearch=e},expression:"receiveRequestSearch"}}),s("v-spacer"),s("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:function(e){t.showProductModal=!0}}},[s("i",{staticClass:"bx bx-plus font-size-16 align-middle me-2"}),t._v(" Received Request ")])],1),s("v-data-table",{attrs:{dense:"","show-select":"",headers:t.receiveRequestHeaders,items:t.receiveRequestList,"items-per-page":10,search:t.receiveRequestSearch},scopedSlots:t._u([{key:"item.status",fn:function(e){var a=e.item;return[s("span",{staticClass:"badge rounded-pill font-size-12",class:2==a.status?"badge-soft-success":"badge-soft-danger"},[t._v(" "+t._s(1==a.status?"Pending":"accepted")+" ")])]}},{key:"item.actions",fn:function(e){var a=e.item;return[s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var c=e.on,n=e.attrs;return[s("span",t._g(t._b({},"span",n,!1),c),[s("v-btn",{attrs:{icon:"",color:"success"}},[s("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.acceptRecieveRequest(a)}}},[t._v(" mdi-check-circle ")])],1)],1)]}}],null,!0)},[s("span",[t._v("Accept Request")])]),s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var c=e.on,n=e.attrs;return[s("span",t._g(t._b({},"span",n,!1),c),[s("v-btn",{attrs:{icon:"","x-small":"",color:"error"}},[s("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.rejectRequestSingle(a.id)}}},[t._v(" mdi-close-circle ")])],1)],1)]}}],null,!0)},[s("span",[t._v("Reject Request")])])]}}],null,!0),model:{value:t.seletedReceiveItems,callback:function(e){t.seletedReceiveItems=e},expression:"seletedReceiveItems"}}),t.showAcceptBtn?s("div",{staticClass:"table-footer-prepend d-flex align-center"},[s("b-button",{staticClass:"success",attrs:{size:"sm"},on:{click:function(e){t.showAcceptListModal=!0}}},[s("i",{staticClass:"bx bx-check-double font-size-16 align-middle me-2"}),t._v(" Accept ")]),s("b-button",{staticClass:"error ml-2",attrs:{size:"sm"},on:{click:function(e){return t.rejectRequest()}}},[s("i",{staticClass:"bx bx-x font-size-16 align-middle me-2"}),t._v(" Reject ")])],1):t._e()],1)],1)],1),s("v-tab-item",[s("v-card",[s("v-card-text",[s("v-card-title",[s("v-text-field",{staticClass:"col-4 pl-0",attrs:{dense:"","append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.sentProductsSearch,callback:function(e){t.sentProductsSearch=e},expression:"sentProductsSearch"}}),s("v-spacer")],1),s("v-data-table",{attrs:{dense:"","show-select":"",headers:t.receiveRequestHeaders,items:t.sentProductsList,"items-per-page":10,search:t.sentProductsSearch},scopedSlots:t._u([{key:"item.status",fn:function(e){var a=e.item;return[s("span",{staticClass:"badge rounded-pill font-size-12",class:2==a.status?"badge-soft-success":"badge-soft-danger"},[t._v(" "+t._s(1==a.status?"Pending":"accepted")+" ")])]}},{key:"item.actions",fn:function(e){var a=e.item;return[s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var c=e.on,n=e.attrs;return[s("span",t._g(t._b({},"span",n,!1),c),[s("v-btn",{attrs:{icon:"",color:"warning"}},[s("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editSentProductSingle(a)}}},[t._v(" mdi-pencil ")])],1)],1)]}}],null,!0)},[s("span",[t._v("Edit")])]),s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var c=e.on,n=e.attrs;return[s("span",t._g(t._b({},"span",n,!1),c),[s("v-btn",{attrs:{icon:"","x-small":"",color:"error"}},[s("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.cancelSendProductSingle(a.id)}}},[t._v(" mdi-close-circle ")])],1)],1)]}}],null,!0)},[s("span",[t._v("Cancel")])])]}}],null,!0),model:{value:t.seletedSentProducts,callback:function(e){t.seletedSentProducts=e},expression:"seletedSentProducts"}}),t.showSentProductActiontBtn?s("div",{staticClass:"table-footer-prepend d-flex align-center"},[s("b-button",{staticClass:"warning",attrs:{size:"sm"},on:{click:function(e){t.editSentProductsModal=!0}}},[s("i",{staticClass:"bx bx-pencil font-size-16 align-middle me-2"}),t._v(" Edit ")]),s("b-button",{staticClass:"error ml-2",attrs:{size:"sm"},on:{click:function(e){return t.canselSendProductRequest()}}},[s("i",{staticClass:"bx bx-x font-size-16 align-middle me-2"}),t._v(" Cancel ")])],1):t._e()],1)],1)],1)],1)],1),s("v-dialog",{attrs:{"max-width":"800"},model:{value:t.supplyModal,callback:function(e){t.supplyModal=e},expression:"supplyModal"}},[s("v-card",[s("v-toolbar",{attrs:{color:"white",elevation:"0"}},[s("span",{staticClass:"text-h6"},[t._v(" Add supply")]),s("v-spacer"),s("v-card-actions",{staticClass:"justify-end"},[s("v-btn",{attrs:{icon:"",small:"",color:"gray"},on:{click:function(e){t.supplyModal=!1}}},[s("v-icon",[t._v("mdi-close")])],1)],1)],1),s("hr"),s("v-card-text",[s("v-form",{ref:"supplyForm",attrs:{"lazy-validation":""}},[s("v-row",[s("v-col",{attrs:{cols:"4"}},[s("v-autocomplete",{attrs:{items:t.productList,"item-text":"name","item-value":"id",dense:"",clearable:"",rules:[function(t){return!!t||"Supply is required"}],label:"Select Product"},model:{value:t.supplyId,callback:function(e){t.supplyId=e},expression:"supplyId"}})],1),s("v-col",{attrs:{cols:"4"}},[s("v-text-field",{attrs:{dense:"",rules:[function(t){return!!t||"Quantity is required"}],label:"Quantity",required:""},model:{value:t.supplyQty,callback:function(e){t.supplyQty=e},expression:"supplyQty"}})],1),s("v-col",{attrs:{cols:"4"}},[s("v-text-field",{attrs:{dense:"",rules:[function(t){return!!t||"Minimum Quantity is required"}],label:"Minimum amount",required:""},model:{value:t.supplyMinQty,callback:function(e){t.supplyMinQty=e},expression:"supplyMinQty"}})],1)],1)],1)],1),s("hr"),s("v-card-actions",[s("v-spacer")],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"white--text text-capitalize",attrs:{color:"success me-2",elevation:"0",small:""},on:{click:t.addSupply}},[s("i",{staticClass:"bx bx-save"}),t._v(" add ")]),s("v-btn",{staticClass:"white--text text-capitalize",attrs:{elevation:"0",color:"red",small:""},on:{click:t.cancelSupply}},[s("i",{staticClass:"bx bx-x-circle"}),t._v(" Cancel ")])],1)],1)],1),s("v-dialog",{attrs:{"max-width":"800"},model:{value:t.showAcceptListModal,callback:function(e){t.showAcceptListModal=e},expression:"showAcceptListModal"}},[s("v-card",[s("v-toolbar",{attrs:{color:"white",elevation:"0"}},[s("span",{staticClass:"text-h6"},[t._v(" Send this items?")]),s("v-spacer"),s("v-card-actions",{staticClass:"justify-end"},[s("v-btn",{attrs:{icon:"",small:"",color:"gray"},on:{click:function(e){t.showAcceptListModal=!1}}},[s("v-icon",[t._v("mdi-close")])],1)],1)],1),s("hr"),s("v-card-text",[s("v-row",t._l(t.seletedReceiveItems,(function(e,a){return s("v-col",{key:e.id,attrs:{cols:"4"}},[s("v-text-field",{attrs:{clearable:"",dense:"","append-icon":e.unit,label:"Enter "+e.product_name+" quantity"},on:{"click:clear":function(e){return t.onClearClicked(a)}},model:{value:e.quantity,callback:function(s){t.$set(e,"quantity",s)},expression:"pv.quantity"}})],1)})),1)],1),s("hr"),s("v-card-actions",[s("v-spacer")],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"white--text text-capitalize",attrs:{color:"success me-2",elevation:"0",small:""},on:{click:t.acceptRequest}},[s("i",{staticClass:"bx bx-check"}),t._v(" Yes ")]),s("v-btn",{staticClass:"white--text text-capitalize",attrs:{elevation:"0",color:"red",small:""},on:{click:function(e){t.showAcceptListModal=!1}}},[s("i",{staticClass:"bx bx-x"}),t._v(" No ")])],1)],1)],1),s("v-dialog",{attrs:{"max-width":"800"},model:{value:t.showRecieveProductsModal,callback:function(e){t.showRecieveProductsModal=e},expression:"showRecieveProductsModal"}},[s("v-card",[s("v-toolbar",{attrs:{color:"white",elevation:"0"}},[s("span",{staticClass:"text-h6"},[t._v(" Receive this items?")]),s("v-spacer"),s("v-card-actions",{staticClass:"justify-end"},[s("v-btn",{attrs:{icon:"",small:"",color:"gray"},on:{click:function(e){t.showRecieveProductsModal=!1}}},[s("v-icon",[t._v("mdi-close")])],1)],1)],1),s("hr"),s("v-card-text",[s("v-row",t._l(t.seletedReceiveProductsItems,(function(e){return s("v-col",{key:e.id,attrs:{cols:"4"}},[s("v-text-field",{attrs:{clearable:"",dense:"","append-icon":e.unit,label:"Enter "+e.product_name+" quantity"},model:{value:e.quantity,callback:function(s){t.$set(e,"quantity",s)},expression:"pv.quantity"}})],1)})),1)],1),s("hr"),s("v-card-actions",[s("v-spacer")],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"white--text text-capitalize",attrs:{color:"success me-2",elevation:"0",small:""},on:{click:t.acceptRecieveProducts}},[s("i",{staticClass:"bx bx-check"}),t._v(" Yes ")]),s("v-btn",{staticClass:"white--text text-capitalize",attrs:{elevation:"0",color:"red",small:""},on:{click:function(e){t.showRecieveProductsModal=!1}}},[s("i",{staticClass:"bx bx-x"}),t._v(" No ")])],1)],1)],1),s("v-dialog",{attrs:{"max-width":"800"},model:{value:t.editSentProductsModal,callback:function(e){t.editSentProductsModal=e},expression:"editSentProductsModal"}},[s("v-card",[s("v-toolbar",{attrs:{color:"white",elevation:"0"}},[s("span",{staticClass:"text-h6"},[t._v(" Edit sent products")]),s("v-spacer"),s("v-card-actions",{staticClass:"justify-end"},[s("v-btn",{attrs:{icon:"",small:"",color:"gray"},on:{click:function(e){t.editSentProductsModal=!1}}},[s("v-icon",[t._v("mdi-close")])],1)],1)],1),s("hr"),s("v-card-text",[s("v-row",t._l(t.sentProductsList,(function(e){return s("v-col",{key:e.id,attrs:{cols:"4"}},[s("v-text-field",{attrs:{clearable:"",dense:"","append-icon":e.unit,label:"Enter "+e.product_name+" quantity"},model:{value:e.quantity,callback:function(s){t.$set(e,"quantity",s)},expression:"pv.quantity"}})],1)})),1)],1),s("hr"),s("v-card-actions",[s("v-spacer")],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"white--text text-capitalize",attrs:{color:"success me-2",elevation:"0",small:""},on:{click:t.editSentRequest}},[s("i",{staticClass:"bx bx-check"}),t._v(" Yes ")]),s("v-btn",{staticClass:"white--text text-capitalize",attrs:{elevation:"0",color:"red",small:""},on:{click:function(e){t.editSentProductsModal=!1}}},[s("i",{staticClass:"bx bx-x"}),t._v(" No ")])],1)],1)],1),s("v-snackbar",{attrs:{color:t.color,elevation:"5"},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[s("v-btn",t._b({attrs:{text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",a,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},c=[],n=(s("07ac"),s("4de4"),s("159b"),s("a434"),s("bc3a")),i=s.n(n),r=s("444f"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-snackbar",{attrs:{color:t.color,elevation:"5"},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[s("v-btn",t._b({attrs:{text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",a,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbarText)+" ")]),s("v-card",[s("v-toolbar",{attrs:{color:"white",elevation:"0"}},[s("span",{staticClass:"text-h6"},[t._v(" Send request")]),s("v-spacer"),s("v-card-actions",{staticClass:"justify-end"},[s("v-btn",{attrs:{icon:"",small:"",color:"gray"},on:{click:function(e){t.supplyModal=!1}}},[s("v-icon",[t._v("mdi-close")])],1)],1)],1),s("hr"),s("v-card-text",[s("v-form",{ref:"supplyForm",attrs:{"lazy-validation":""}},[s("v-row",[s("v-col",{attrs:{cols:"8"}},[s("v-autocomplete",{attrs:{items:t.productList,"item-text":"name",label:"Choose product","return-object":"","hide-selected":"",clearable:"",chips:"","small-chips":"","deletable-chips":"",multiple:""},model:{value:t.productValues,callback:function(e){t.productValues=e},expression:"productValues"}})],1),s("v-col",{attrs:{cols:"4"}},[s("v-autocomplete",{attrs:{items:t.branchList,label:"Choose warehouse","item-text":"name","item-value":"id",clearable:""},model:{value:t.branchValue,callback:function(e){t.branchValue=e},expression:"branchValue"}})],1),s("v-col",{attrs:{cols:"12"}},[s("v-row",t._l(t.productValues,(function(e){return s("v-col",{key:e.id,attrs:{cols:"3"}},[s("v-text-field",{attrs:{clearable:"",dense:"","append-icon":e.unit,label:"Enter "+e.name+" quantity"},model:{value:e.newQnty,callback:function(s){t.$set(e,"newQnty",s)},expression:"pv.newQnty"}})],1)})),1)],1)],1)],1)],1),s("hr"),s("v-card-actions",[s("v-spacer")],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"white--text text-capitalize",attrs:{color:"success me-2",elevation:"0",small:""},on:{click:t.test}},[s("i",{staticClass:"bx bx-save"}),t._v(" add ")]),s("v-btn",{staticClass:"white--text text-capitalize",attrs:{elevation:"0",color:"red",small:""}},[s("i",{staticClass:"bx bx-x-circle"}),t._v(" Cancel ")])],1)],1)],1)},l=[],u={props:{token:{type:String},method:{type:Function}},data:function(){return{sendProductLis:[],snackbar:!1,color:"default",snackbarText:null,request:[],productValues:"",branchValue:"",branchList:[],productList:[],modal:!1}},mounted:function(){var t=this;i.a.request({method:"post",url:this.$hostname+"warehouses/products-list",headers:{Authorization:"Bearer "+this.token}}).then((function(e){t.productList=e.data,t.productList.forEach((function(t){t.selected=!1,t.newQnty=null}))})),i.a.request({method:"post",url:this.$hostname+"warehouses/warehouse-list",headers:{Authorization:"Bearer "+this.token}}).then((function(e){t.branchList=e.data}))},methods:{test:function(){var t=this;this.productValues.forEach((function(e){var s={product_id:e.id,quantity:e.newQnty};t.request.push(s)})),i.a.request({method:"post",url:this.$hostname+"warehouses/send-request",headers:{Authorization:"Bearer "+this.token},data:{supplies:this.request,warehouse_id:this.branchValue}}).then((function(e){t.method(),t.color="success",t.snackbarText=e.data.data,t.snackbar=!0,t.responseData=e}))}}},d=u,v=(s("9e4f"),s("2877")),p=Object(v["a"])(d,o,l,!1,null,null,null),h=p.exports,m=s("dc59"),f={firebase:{newRequestList:m["a"],count:[{id:0}]},page:{title:"Manage Warehouse"},components:{Layout:r["a"],requesModal:h},computed:{},watch:{newRequestList:function(){var t=this,e=Object.values(this.newRequestList);console.log(e[0]["gldani"]);var s=e.filter((function(e){return e.warehouse_id==t.warehouseId&&"receiveRequest"==e.function})),a=e.filter((function(e){return e.warehouse_id==t.warehouseId&&"newRequest"==e.function}));s.length>0&&this.sentRequests(),a.length>0&&this.receiveRequests()},seletedReceiveProductsItems:function(){this.showAcceptRecieveProductsBtn=this.seletedReceiveProductsItems.length>0},seletedReceiveItems:function(){this.showAcceptBtn=this.seletedReceiveItems.length>0},seletedSentProducts:function(){this.showSentProductActiontBtn=this.seletedSentProducts.length>0}},data:function(){return{showAcceptRecieveProductsBtn:!1,seletedReceiveProductsItems:null,showRecieveProductsModal:!1,newRequestList:[],sentProductsList:[],seletedSentProducts:[],sentProductsSearch:null,showAcceptListModal:!1,showAcceptBtn:!1,showSentProductActiontBtn:!1,showSentProductModal:!1,seletedReceiveItems:[],sendRequestModal:!1,editSentProductsModal:!1,snackbar:!1,color:"default",snackbarText:null,TOKEN:null,supplyMinQty:null,warehouseId:null,supplyModal:!1,supplyId:null,supplyQty:null,recieveProductList:[],supplyList:[],suppliesSearch:"",supplyHeaders:[{text:"Name",align:"start",value:"product_name"},{text:"quantity",value:"quantity"},{text:"Actions",value:"actions",sortable:!1,align:"end"}],pendingRequestList:[],requestSearch:"",recieveProductSearch:"",requestHeaders:[{text:"Name",align:"start",value:"product_name"},{text:"quantity",value:"sum"},{text:"status",value:"status"},{text:"Warehouse",value:"to_warehouse_name"},{text:"Actions",value:"actions",align:"end",sortable:!1}],recieveProductHeaders:[{text:"Name",align:"start",value:"product_name"},{text:"Requested Qty",value:"quanunit"},{text:"Sent Qty",value:"sent_quantity"},{text:"status",value:"status"},{text:"Warehouse",value:"to_warehouse_name"},{text:"Actions",value:"actions",align:"end",sortable:!1}],receiveRequestList:[],receiveRequestSearch:"",receiveRequestHeaders:[{text:"Name",align:"start",value:"product_name"},{text:"Requested Qty",value:"quantity"},{text:"Sent Qty",value:"sent_quantity"},{text:"status",value:"status"},{text:"Warehouse",value:"to_warehouse_name"},{text:"Actions",value:"actions",align:"end",sortable:!1}],productList:[],tab:null,nameRules:[function(t){return!!t||" required"}]}},mounted:function(){this.loggedUser=this.$store.state.authfack.user,this.warehouseId=this.loggedUser.warehouseId,this.TOKEN=this.loggedUser.token,this.sentRequests(),this.getSupplyList(),this.productslist(),this.receiveRequests()},methods:{rejectRequestSingle:function(t){var e=this;i.a.request({method:"post",url:this.$hostname+"warehouses/void-request",headers:{Authorization:"Bearer "+this.TOKEN},data:{requests:[{id:t}]}}).then((function(t){e.color="success",e.snackbarText=t.data,e.snackbar=!0,e.sentRequests(),e.receiveRequests()})).catch((function(t){e.color="warning",e.snackbarText=t.response.data.error,e.snackbar=!0}))},rejectRequest:function(){var t=this,e=[];this.seletedReceiveItems.forEach((function(t){e.push({id:t.id})})),i.a.request({method:"post",url:this.$hostname+"warehouses/void-request",headers:{Authorization:"Bearer "+this.TOKEN},data:{requests:e}}).then((function(e){t.color="success",t.snackbarText=e.data,t.snackbar=!0,t.getSupplyList()})).catch((function(e){t.color="warning",t.snackbarText=e.response.data.error,t.snackbar=!0}))},acceptRecieveRequest:function(t){this.seletedReceiveItems=[t],this.showAcceptListModal=!0},acceptRecieveProductsSingle:function(t){this.seletedReceiveProductsItems=[t],this.showRecieveProductsModal=!0},acceptRecieveProducts:function(){var t=this,e=[];this.seletedReceiveProductsItems.forEach((function(t){e.push({id:t.id,quantity:t.quantity})})),i.a.request({method:"post",url:this.$hostname+"warehouses/recieve-request",headers:{Authorization:"Bearer "+this.TOKEN},data:{requests:e}}).then((function(e){t.color="success",t.snackbarText=e.data,t.snackbar=!0,t.getSupplyList(),t.receiveRequests(),t.sentRequests()}))},acceptRequest:function(){var t=this,e=[];this.seletedReceiveItems.forEach((function(t){e.push({id:t.id,quantity:t.quantity})})),i.a.request({method:"post",url:this.$hostname+"warehouses/accept-request",headers:{Authorization:"Bearer "+this.TOKEN},data:{requests:e}}).then((function(e){t.color="success",t.snackbarText=e.data,t.snackbar=!0,t.getSupplyList()}))},editSentRequest:function(){var t=this,e=[];this.sentProductsList.forEach((function(t){e.push({id:t.id,quantity:t.quantity})})),i.a.request({method:"post",url:this.$hostname+"warehouses/sender-update-accepted-request",headers:{Authorization:"Bearer "+this.TOKEN},data:{requests:e}}).then((function(e){t.color="success",t.snackbarText=e.data,t.snackbar=!0,t.getSupplyList(),t.receiveRequests(),t.sentRequests()}))},editSentProductSingle:function(t){this.seletedSentProducts=[t],this.editSentProductsModal=!0},onClearClicked:function(t){this.seletedReceiveItems.splice(t,1)},addSupply:function(){var t=this;this.$refs.supplyForm.validate()&&i.a.request({method:"post",url:this.$hostname+"warehouses/add-supply",headers:{Authorization:"Bearer "+this.TOKEN},data:{product_id:this.supplyId,warehouse_id:this.warehouseId,quantity:this.supplyQty,minQuantity:this.supplyMinQty}}).then((function(e){t.supplyModal=!1,t.color="success",t.snackbarText=e.data,t.snackbar=!0,t.getSupplyList()}))},productslist:function(){var t=this;i.a.request({method:"post",url:this.$hostname+"warehouses/products-list",headers:{Authorization:"Bearer "+this.TOKEN}}).then((function(e){t.productList=e.data}))},getSupplyList:function(){var t=this,e=new FormData;e.set("warehouse_id",this.warehouseId),i.a.request({method:"post",url:this.$hostname+"warehouses/supplies-list",headers:{Authorization:"Bearer "+this.TOKEN},data:e}).then((function(e){t.supplyList=e.data,t.supplyList.forEach((function(t){t.selected=!1}))}))},sentRequests:function(){var t=this,e=new FormData;e.set("warehouse_id",this.warehouseId),i.a.request({method:"post",url:this.$hostname+"warehouses/sent-requests",headers:{Authorization:"Bearer "+this.TOKEN},data:e}).then((function(e){t.pendingRequestList=e.data.filter((function(t){return 1==t.status})),t.recieveProductList=e.data.filter((function(t){return 2==t.status}))}))},asd:function(){var t=this;setTimeout((function(){t.sendRequestModal=!1}),4e3),this.receiveRequests(),this.sentRequests()},receiveRequests:function(){var t=this,e=new FormData;e.set("warehouse_id",this.warehouseId),i.a.request({method:"post",url:this.$hostname+"warehouses/receive-requests",headers:{Authorization:"Bearer "+this.TOKEN},data:e}).then((function(e){t.receiveRequestList=e.data.filter((function(t){return 1==t.status})),t.sentProductsList=e.data.filter((function(t){return 2==t.status}))}))},cancelSupply:function(){this.supplyModal=!1,this.$refs.supplyForm.reset()}}},b=f,x=(s("993c"),Object(v["a"])(b,a,c,!1,null,null,null));e["default"]=x.exports},"993c":function(t,e,s){"use strict";s("ce27")},"9e4f":function(t,e,s){"use strict";s("d058")},a434:function(t,e,s){"use strict";var a=s("23e7"),c=s("23cb"),n=s("a691"),i=s("50c4"),r=s("7b0b"),o=s("65f0"),l=s("8418"),u=s("1dde"),d=u("splice"),v=Math.max,p=Math.min,h=9007199254740991,m="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var s,a,u,d,f,b,x=r(this),y=i(x.length),q=c(t,y),k=arguments.length;if(0===k?s=a=0:1===k?(s=0,a=y-q):(s=k-2,a=p(v(n(e),0),y-q)),y+s-a>h)throw TypeError(m);for(u=o(x,a),d=0;d<a;d++)f=q+d,f in x&&l(u,d,x[f]);if(u.length=a,s<a){for(d=q;d<y-a;d++)f=d+a,b=d+s,f in x?x[b]=x[f]:delete x[b];for(d=y;d>y-a+s;d--)delete x[d-1]}else if(s>a)for(d=y-a;d>q;d--)f=d+a-1,b=d+s-1,f in x?x[b]=x[f]:delete x[b];for(d=0;d<s;d++)x[d+q]=arguments[d+2];return x.length=y-a+s,u}})},ce27:function(t,e,s){},d058:function(t,e,s){}}]);
//# sourceMappingURL=chunk-5d0d582e.99c2da66.js.map