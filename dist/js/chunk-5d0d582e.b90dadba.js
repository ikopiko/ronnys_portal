(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d0d582e"],{"1b91":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Layout",[s("v-dialog",{attrs:{"max-width":"1100"},model:{value:e.sendRequestModal,callback:function(t){e.sendRequestModal=t},expression:"sendRequestModal"}},[s("requesModal",{attrs:{token:this.TOKEN,method:e.asd},on:{closeModal:e.closeSendRequestModal}})],1),s("v-card",{staticClass:"bg-primary",attrs:{elevation:"1"}},[s("v-tabs",{attrs:{light:"",grow:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[s("v-tab",[e._v(" Supplies list")]),s("v-tab",[e._v(" Received product")]),s("v-tab",[e._v(" Sent requests")]),s("v-tab",[e._v(" Received requests")]),s("v-tab",[e._v(" Sent Products")])],1),s("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[s("v-tab-item",[s("v-card",[s("v-card-text",[s("v-card-title",{staticClass:"pl-0"},[s("v-text-field",{staticClass:"col-4 pl-0",attrs:{clearable:"",dense:"","append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.suppliesSearch,callback:function(t){e.suppliesSearch=t},expression:"suppliesSearch"}}),s("v-spacer"),s("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:function(t){e.supplyModal=!0}}},[s("i",{staticClass:"bx bx-plus font-size-16 align-middle me-2"}),e._v(" Add supply ")])],1),s("v-data-table",{attrs:{dense:"",headers:e.supplyHeaders,items:e.supplyList,"items-per-page":10,search:e.suppliesSearch},scopedSlots:e._u([{key:"item.quantity",fn:function(t){var a=t.item;return[s("span",{staticClass:"badge rounded-pill font-size-12",class:a.quantity>10?"badge-soft-success":"badge-soft-danger"},[e._v(" "+e._s(a.quantity)+" "+e._s(a.unit)+" ")])]}},{key:"item.actions",fn:function(t){var a=t.item;return[s("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var c=t.on,i=t.attrs;return[s("span",e._g(e._b({},"span",i,!1),c),[s("v-btn",{staticClass:"ma-2",attrs:{icon:"","x-small":"",color:"green"}},[s("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteProduct(a)}}},[e._v(" mdi-eye ")])],1)],1)]}}],null,!0)},[s("span",[e._v("View History")])])]}}],null,!0)})],1)],1)],1),s("v-tab-item",[s("v-card",[s("v-card-text",[s("v-card-title",[s("v-text-field",{staticClass:"col-4 pl-0",attrs:{dense:"","append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.recieveProductSearch,callback:function(t){e.recieveProductSearch=t},expression:"recieveProductSearch"}}),s("v-spacer")],1),s("v-data-table",{attrs:{dense:"","show-select":"",headers:e.recieveProductHeaders,items:e.recieveProductList,"items-per-page":10,search:e.recieveProductSearch},scopedSlots:e._u([{key:"item.status",fn:function(t){var a=t.item;return[s("span",{staticClass:"badge rounded-pill font-size-12",class:2==a.status?"badge-soft-success":"badge-soft-danger"},[e._v(" "+e._s(1==a.status?"Pending":"accepted")+" ")])]}},{key:"item.actions",fn:function(t){var a=t.item;return[s("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var c=t.on,i=t.attrs;return[s("span",e._g(e._b({},"span",i,!1),c),[s("v-btn",{attrs:{icon:"",color:"success"}},[s("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.acceptRecieveProductsSingle(a)}}},[e._v(" mdi-check-circle ")])],1)],1)]}}],null,!0)},[s("span",[e._v("Accept Request")])])]}}],null,!0),model:{value:e.seletedReceiveProductsItems,callback:function(t){e.seletedReceiveProductsItems=t},expression:"seletedReceiveProductsItems"}}),e.showAcceptRecieveProductsBtn?s("div",{staticClass:"table-footer-prepend d-flex align-center"},[s("b-button",{staticClass:"success",attrs:{size:"sm"},on:{click:function(t){e.showRecieveProductsModal=!0}}},[s("i",{staticClass:"bx bx-check-double font-size-16 align-middle me-2"}),e._v(" Accept ")])],1):e._e()],1)],1)],1),s("v-tab-item",[s("v-card",[s("v-card-text",[s("v-card-title",[s("v-text-field",{staticClass:"col-4 pl-0",attrs:{dense:"","append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.requestSearch,callback:function(t){e.requestSearch=t},expression:"requestSearch"}}),s("v-spacer"),s("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:function(t){e.sendRequestModal=!0}}},[s("i",{staticClass:"bx bx-plus font-size-16 align-middle me-2"}),e._v(" Send Request ")])],1),s("v-data-table",{attrs:{dense:"",headers:e.requestHeaders,items:e.pendingRequestList,"items-per-page":10,search:e.requestSearch},scopedSlots:e._u([{key:"item.status",fn:function(t){var a=t.item;return[s("span",{staticClass:"badge rounded-pill font-size-12",class:2==a.status?"badge-soft-success":"badge-soft-danger"},[e._v(" "+e._s(1==a.status?"Pending":"accepted")+" ")])]}},{key:"item.actions",fn:function(t){var a=t.item;return[s("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var c=t.on,i=t.attrs;return[s("span",e._g(e._b({},"span",i,!1),c),[s("v-btn",{staticClass:"ma-2",attrs:{icon:"","x-small":"",color:"error"}},[s("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.rejectRequestSingle(a.id)}}},[e._v(" mdi-close-circle ")])],1)],1)]}}],null,!0)},[s("span",[e._v("Reject Request")])])]}}],null,!0)})],1)],1)],1),s("v-tab-item",[s("v-card",[s("v-card-text",[s("v-card-title",[s("v-text-field",{staticClass:"col-4 pl-0",attrs:{dense:"","append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.receiveRequestSearch,callback:function(t){e.receiveRequestSearch=t},expression:"receiveRequestSearch"}}),s("v-spacer")],1),s("v-data-table",{attrs:{dense:"","show-select":"",headers:e.receiveRequestHeaders,items:e.receiveRequestList,"items-per-page":10,search:e.receiveRequestSearch},scopedSlots:e._u([{key:"item.status",fn:function(t){var a=t.item;return[s("span",{staticClass:"badge rounded-pill font-size-12",class:2==a.status?"badge-soft-success":"badge-soft-danger"},[e._v(" "+e._s(1==a.status?"Pending":"accepted")+" ")])]}},{key:"item.actions",fn:function(t){var a=t.item;return[s("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var c=t.on,i=t.attrs;return[s("span",e._g(e._b({},"span",i,!1),c),[s("v-btn",{attrs:{icon:"",color:"success"}},[s("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.acceptRecieveRequest(a)}}},[e._v(" mdi-check-circle ")])],1)],1)]}}],null,!0)},[s("span",[e._v("Accept Request")])]),s("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var c=t.on,i=t.attrs;return[s("span",e._g(e._b({},"span",i,!1),c),[s("v-btn",{attrs:{icon:"","x-small":"",color:"error"}},[s("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.rejectRequestSingle(a.id)}}},[e._v(" mdi-close-circle ")])],1)],1)]}}],null,!0)},[s("span",[e._v("Reject Request")])])]}}],null,!0),model:{value:e.seletedReceiveItems,callback:function(t){e.seletedReceiveItems=t},expression:"seletedReceiveItems"}}),e.showAcceptBtn?s("div",{staticClass:"table-footer-prepend d-flex align-center"},[s("b-button",{staticClass:"success",attrs:{size:"sm"},on:{click:function(t){e.showAcceptListModal=!0}}},[s("i",{staticClass:"bx bx-check-double font-size-16 align-middle me-2"}),e._v(" Accept ")]),s("b-button",{staticClass:"error ml-2",attrs:{size:"sm"},on:{click:function(t){return e.rejectRequest()}}},[s("i",{staticClass:"bx bx-x font-size-16 align-middle me-2"}),e._v(" Reject ")])],1):e._e()],1)],1)],1),s("v-tab-item",[s("v-card",[s("v-card-text",[s("v-card-title",[s("v-text-field",{staticClass:"col-4 pl-0",attrs:{dense:"","append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.sentProductsSearch,callback:function(t){e.sentProductsSearch=t},expression:"sentProductsSearch"}}),s("v-spacer")],1),s("v-data-table",{attrs:{dense:"","show-select":"",headers:e.sendProductsHeaders,items:e.sentProductsList,"items-per-page":10,search:e.sentProductsSearch},scopedSlots:e._u([{key:"item.status",fn:function(t){var a=t.item;return[s("span",{staticClass:"badge rounded-pill font-size-12",class:2==a.status?"badge-soft-success":"badge-soft-danger"},[e._v(" "+e._s(1==a.status?"Pending":"accepted")+" ")])]}},{key:"item.actions",fn:function(t){var a=t.item;return[s("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var c=t.on,i=t.attrs;return[s("span",e._g(e._b({},"span",i,!1),c),[s("v-btn",{attrs:{icon:"",color:"warning"}},[s("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editSentProductSingle(a)}}},[e._v(" mdi-pencil ")])],1)],1)]}}],null,!0)},[s("span",[e._v("Edit")])]),s("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var c=t.on,i=t.attrs;return[s("span",e._g(e._b({},"span",i,!1),c),[s("v-btn",{attrs:{icon:"","x-small":"",color:"error"}},[s("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.cancelSendProductSingle(a.id)}}},[e._v(" mdi-close-circle ")])],1)],1)]}}],null,!0)},[s("span",[e._v("Cancel")])])]}}],null,!0),model:{value:e.seletedSentProducts,callback:function(t){e.seletedSentProducts=t},expression:"seletedSentProducts"}}),e.showSentProductActiontBtn?s("div",{staticClass:"table-footer-prepend d-flex align-center"},[s("b-button",{staticClass:"warning",attrs:{size:"sm"},on:{click:function(t){e.editSentProductsModal=!0}}},[s("i",{staticClass:"bx bx-pencil font-size-16 align-middle me-2"}),e._v(" Edit ")]),s("b-button",{staticClass:"error ml-2",attrs:{size:"sm"},on:{click:function(t){return e.canselSendProductRequest()}}},[s("i",{staticClass:"bx bx-x font-size-16 align-middle me-2"}),e._v(" Cancel ")])],1):e._e()],1)],1)],1)],1)],1),s("v-dialog",{attrs:{"max-width":"800"},model:{value:e.supplyModal,callback:function(t){e.supplyModal=t},expression:"supplyModal"}},[s("v-card",[s("v-toolbar",{attrs:{color:"white",elevation:"0"}},[s("span",{staticClass:"text-h6"},[e._v(" Add supply")]),s("v-spacer"),s("v-card-actions",{staticClass:"justify-end"},[s("v-btn",{attrs:{icon:"",small:"",color:"gray"},on:{click:function(t){e.supplyModal=!1}}},[s("v-icon",[e._v("mdi-close")])],1)],1)],1),s("hr"),s("v-card-text",[s("v-form",{ref:"supplyForm",attrs:{"lazy-validation":""}},[s("v-row",[s("v-col",{attrs:{cols:"4"}},[s("v-autocomplete",{attrs:{items:e.productList,"item-text":"name","item-value":"id",dense:"",clearable:"",rules:[function(e){return!!e||"Supply is required"}],label:"Select Product"},model:{value:e.supplyId,callback:function(t){e.supplyId=t},expression:"supplyId"}})],1),s("v-col",{attrs:{cols:"4"}},[s("v-text-field",{attrs:{dense:"",rules:[function(e){return!!e||"Quantity is required"}],label:"Quantity",required:""},model:{value:e.supplyQty,callback:function(t){e.supplyQty=t},expression:"supplyQty"}})],1),s("v-col",{attrs:{cols:"4"}},[s("v-text-field",{attrs:{dense:"",rules:[function(e){return!!e||"Minimum Quantity is required"}],label:"Minimum amount",required:""},model:{value:e.supplyMinQty,callback:function(t){e.supplyMinQty=t},expression:"supplyMinQty"}})],1)],1)],1)],1),s("hr"),s("v-card-actions",[s("v-spacer")],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"white--text text-capitalize",attrs:{color:"success me-2",elevation:"0",small:""},on:{click:e.addSupply}},[s("i",{staticClass:"bx bx-save"}),e._v(" add ")]),s("v-btn",{staticClass:"white--text text-capitalize",attrs:{elevation:"0",color:"red",small:""},on:{click:e.cancelSupply}},[s("i",{staticClass:"bx bx-x-circle"}),e._v(" Cancel ")])],1)],1)],1),s("v-dialog",{attrs:{"max-width":"800"},model:{value:e.showAcceptListModal,callback:function(t){e.showAcceptListModal=t},expression:"showAcceptListModal"}},[s("v-card",[s("v-toolbar",{attrs:{color:"white",elevation:"0"}},[s("span",{staticClass:"text-h6"},[e._v(" Send this items?")]),s("v-spacer"),s("v-card-actions",{staticClass:"justify-end"},[s("v-btn",{attrs:{icon:"",small:"",color:"gray"},on:{click:function(t){e.showAcceptListModal=!1}}},[s("v-icon",[e._v("mdi-close")])],1)],1)],1),s("hr"),s("v-card-text",[s("v-row",e._l(e.seletedReceiveItems,(function(t,a){return s("v-col",{key:t.id,attrs:{cols:"4"}},[s("v-text-field",{attrs:{clearable:"",dense:"","append-icon":t.unit,label:"Enter "+t.product_name+" quantity"},on:{"click:clear":function(t){return e.onClearClicked(a)}},model:{value:t.quantity,callback:function(s){e.$set(t,"quantity",s)},expression:"pv.quantity"}})],1)})),1)],1),s("hr"),s("v-card-actions",[s("v-spacer")],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"white--text text-capitalize",attrs:{color:"success me-2",elevation:"0",small:""},on:{click:e.acceptRequest}},[s("i",{staticClass:"bx bx-check"}),e._v(" Yes ")]),s("v-btn",{staticClass:"white--text text-capitalize",attrs:{elevation:"0",color:"red",small:""},on:{click:e.closeAcceptRequestModal}},[s("i",{staticClass:"bx bx-x"}),e._v(" No ")])],1)],1)],1),s("v-dialog",{attrs:{"max-width":"800"},model:{value:e.showRecieveProductsModal,callback:function(t){e.showRecieveProductsModal=t},expression:"showRecieveProductsModal"}},[s("v-card",[s("v-toolbar",{attrs:{color:"white",elevation:"0"}},[s("span",{staticClass:"text-h6"},[e._v(" Receive this items?")]),s("v-spacer"),s("v-card-actions",{staticClass:"justify-end"},[s("v-btn",{attrs:{icon:"",small:"",color:"gray"},on:{click:function(t){return e.closeRecieveProductsModal()}}},[s("v-icon",[e._v("mdi-close")])],1)],1)],1),s("hr"),s("v-card-text",[s("v-row",e._l(e.seletedReceiveProductsItems,(function(t){return s("v-col",{key:t.id,attrs:{cols:"4"}},[s("v-text-field",{attrs:{clearable:"",dense:"","append-icon":t.unit,label:"Enter "+t.product_name+" quantity"},model:{value:t.quantity,callback:function(s){e.$set(t,"quantity",s)},expression:"pv.quantity"}})],1)})),1)],1),s("hr"),s("v-card-actions",[s("v-spacer")],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"white--text text-capitalize",attrs:{color:"success me-2",elevation:"0",small:""},on:{click:function(t){return e.acceptRecieveProducts()}}},[s("i",{staticClass:"bx bx-check"}),e._v(" Yes ")]),s("v-btn",{staticClass:"white--text text-capitalize",attrs:{elevation:"0",color:"red",small:""},on:{click:function(t){return e.closeRecieveProductsModal()}}},[s("i",{staticClass:"bx bx-x"}),e._v(" No ")])],1)],1)],1),s("v-dialog",{attrs:{"max-width":"800"},model:{value:e.editSentProductsModal,callback:function(t){e.editSentProductsModal=t},expression:"editSentProductsModal"}},[s("v-card",[s("v-toolbar",{attrs:{color:"white",elevation:"0"}},[s("span",{staticClass:"text-h6"},[e._v(" Edit sent products")]),s("v-spacer"),s("v-card-actions",{staticClass:"justify-end"},[s("v-btn",{attrs:{icon:"",small:"",color:"gray"},on:{click:e.closeSendProducttModal}},[s("v-icon",[e._v("mdi-close")])],1)],1)],1),s("hr"),s("v-card-text",[s("v-row",e._l(e.seletedSentProducts,(function(t){return s("v-col",{key:t.id,attrs:{cols:"4"}},[s("v-text-field",{attrs:{clearable:"",dense:"","append-icon":t.unit,label:"Enter "+t.product_name+" quantity"},model:{value:t.quantity,callback:function(s){e.$set(t,"quantity",s)},expression:"pv.quantity"}})],1)})),1)],1),s("hr"),s("v-card-actions",[s("v-spacer")],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"white--text text-capitalize",attrs:{color:"success me-2",elevation:"0",small:""},on:{click:e.editSentRequest}},[s("i",{staticClass:"bx bx-check"}),e._v(" Yes ")]),s("v-btn",{staticClass:"white--text text-capitalize",attrs:{elevation:"0",color:"red",small:""},on:{click:e.closeSendProducttModal}},[s("i",{staticClass:"bx bx-x"}),e._v(" No ")])],1)],1)],1),s("v-snackbar",{attrs:{color:e.color,elevation:"5"},scopedSlots:e._u([{key:"action",fn:function(t){var a=t.attrs;return[s("v-btn",e._b({attrs:{text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",a,!1),[e._v(" Close ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.snackbarText)+" ")])],1)},c=[],i=(s("07ac"),s("4de4"),s("159b"),s("a434"),s("bc3a")),n=s.n(i),o=s("444f"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-snackbar",{attrs:{color:e.color,elevation:"5"},scopedSlots:e._u([{key:"action",fn:function(t){var a=t.attrs;return[s("v-btn",e._b({attrs:{text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",a,!1),[e._v(" Close ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.snackbarText)+" ")]),s("v-card",[s("v-toolbar",{attrs:{color:"white",elevation:"0"}},[s("span",{staticClass:"text-h6"},[e._v(" Send request")]),s("v-spacer"),s("v-card-actions",{staticClass:"justify-end"},[s("v-btn",{attrs:{icon:"",small:"",color:"gray"},on:{click:e.closeModal}},[s("v-icon",[e._v("mdi-close")])],1)],1)],1),s("hr"),s("v-card-text",[s("v-form",{ref:"supplyForm",attrs:{"lazy-validation":""}},[s("v-row",[s("v-col",{attrs:{cols:"8"}},[s("v-autocomplete",{attrs:{items:e.productList,"item-text":"name",label:"Choose product","return-object":"","hide-selected":"",clearable:"",chips:"","small-chips":"","deletable-chips":"",multiple:""},model:{value:e.productValues,callback:function(t){e.productValues=t},expression:"productValues"}})],1),s("v-col",{attrs:{cols:"4"}},[s("v-autocomplete",{attrs:{items:e.branchList,label:"Choose warehouse","item-text":"name","item-value":"id",clearable:""},model:{value:e.branchValue,callback:function(t){e.branchValue=t},expression:"branchValue"}})],1),s("v-col",{attrs:{cols:"12"}},[s("v-row",e._l(e.productValues,(function(t){return s("v-col",{key:t.id,attrs:{cols:"3"}},[s("v-text-field",{attrs:{clearable:"",dense:"","append-icon":t.unit,label:"Enter "+t.name+" quantity"},model:{value:t.newQnty,callback:function(s){e.$set(t,"newQnty",s)},expression:"pv.newQnty"}})],1)})),1)],1)],1)],1)],1),s("hr"),s("v-card-actions",[s("v-spacer")],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"white--text text-capitalize",attrs:{color:"success me-2",elevation:"0",small:""},on:{click:e.test}},[s("i",{staticClass:"bx bx-save"}),e._v(" add ")]),s("v-btn",{staticClass:"white--text text-capitalize",attrs:{elevation:"0",color:"red",small:""},on:{click:e.closeModal}},[s("i",{staticClass:"bx bx-x-circle"}),e._v(" Cancel ")])],1)],1)],1)},l=[],u={props:{token:{type:String},method:{type:Function}},data:function(){return{sendProductLis:[],snackbar:!1,color:"default",snackbarText:null,request:[],productValues:[],branchValue:"",branchList:[],productList:[],modal:!1}},mounted:function(){var e=this;n.a.request({method:"post",url:this.$hostname+"warehouses/products-list",headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.productList=t.data,e.productList.forEach((function(e){e.selected=!1,e.newQnty=null}))})),n.a.request({method:"post",url:this.$hostname+"warehouses/warehouse-list",headers:{Authorization:"Bearer "+this.token}}).then((function(t){e.branchList=t.data}))},methods:{closeModal:function(){this.productValues=[],this.branchValue="",this.$emit("closeModal")},test:function(){var e=this;this.productValues.forEach((function(t){var s={product_id:t.id,quantity:t.newQnty};e.request.push(s)})),n.a.request({method:"post",url:this.$hostname+"warehouses/send-request",headers:{Authorization:"Bearer "+this.token},data:{supplies:this.request,warehouse_id:this.branchValue}}).then((function(t){e.color="success",e.snackbarText=t.data.data,e.snackbar=!0,e.responseData=t,e.closeModal()}))}}},d=u,v=(s("9e4f"),s("2877")),p=Object(v["a"])(d,r,l,!1,null,null,null),h=p.exports,m=s("dc59"),f={firebase:{newRequestList:m["a"],count:[{id:0}]},page:{title:"Manage Warehouse"},components:{Layout:o["a"],requesModal:h},computed:{},watch:{newRequestList:function(){var e=this,t=Object.values(this.newRequestList);console.log(t[0]["gldani"]);var s=t.filter((function(t){return t.warehouse_id==e.warehouseId&&"receiveRequest"==t.function})),a=t.filter((function(t){return t.warehouse_id==e.warehouseId&&"newRequest"==t.function}));s.length>0&&this.sentRequests(),a.length>0&&this.receiveRequests()},seletedReceiveProductsItems:function(){this.showAcceptRecieveProductsBtn=this.seletedReceiveProductsItems.length>0},seletedReceiveItems:function(){this.showAcceptBtn=this.seletedReceiveItems.length>0},seletedSentProducts:function(){this.showSentProductActiontBtn=this.seletedSentProducts.length>0}},data:function(){return{showAcceptRecieveProductsBtn:!1,seletedReceiveProductsItems:[],showRecieveProductsModal:!1,newRequestList:[],sentProductsList:[],seletedSentProducts:[],sentProductsSearch:null,showAcceptListModal:!1,showAcceptBtn:!1,showSentProductActiontBtn:!1,showSentProductModal:!1,seletedReceiveItems:[],sendRequestModal:!1,editSentProductsModal:!1,snackbar:!1,color:"default",snackbarText:null,TOKEN:null,supplyMinQty:null,warehouseId:null,supplyModal:!1,supplyId:null,supplyQty:null,recieveProductList:[],supplyList:[],suppliesSearch:"",supplyHeaders:[{text:"Name",align:"start",value:"product_name"},{text:"quantity",value:"quantity"},{text:"Actions",value:"actions",sortable:!1,align:"end"}],pendingRequestList:[],requestSearch:"",recieveProductSearch:"",requestHeaders:[{text:"Name",align:"start",value:"product_name"},{text:"quantity",value:"sum"},{text:"status",value:"status"},{text:"Warehouse",value:"to_warehouse_name"},{text:"Actions",value:"actions",align:"end",sortable:!1}],recieveProductHeaders:[{text:"Name",align:"start",value:"product_name"},{text:"Requested Qty",value:"quanunit"},{text:"Sent Qty",value:"sent_quantity"},{text:"status",value:"status"},{text:"Warehouse",value:"to_warehouse_name"},{text:"Actions",value:"actions",align:"end",sortable:!1}],receiveRequestList:[],receiveRequestSearch:"",receiveRequestHeaders:[{text:"Name",align:"start",value:"product_name"},{text:"Requested Qty",value:"quantity"},{text:"Sent Qty",value:"sent_quantity"},{text:"status",value:"status"},{text:"Warehouse",value:"from_warehouse_name"},{text:"Actions",value:"actions",align:"end",sortable:!1}],sendProductsHeaders:[{text:"Name",align:"start",value:"product_name"},{text:"Requested Qty",value:"quantity"},{text:"Sent Qty",value:"sent_quantity"},{text:"status",value:"status"},{text:"Warehouse",value:"from_warehouse_name"},{text:"Actions",value:"actions",align:"end",sortable:!1}],productList:[],tab:null,nameRules:[function(e){return!!e||" required"}]}},mounted:function(){this.loggedUser=this.$store.state.authfack.user,this.warehouseId=this.loggedUser.warehouseId,this.TOKEN=this.loggedUser.token,this.sentRequests(),this.getSupplyList(),this.productslist(),this.receiveRequests()},methods:{closeSendProducttModal:function(){this.sentRequests(),this.getSupplyList(),this.productslist(),this.receiveRequests(),this.seletedSentProducts=[],this.editSentProductsModal=!1},closeRecieveProductsModal:function(){this.sentRequests(),this.getSupplyList(),this.productslist(),this.receiveRequests(),this.seletedReceiveProductsItems=[],this.showRecieveProductsModal=!1},closeAcceptRequestModal:function(){this.sentRequests(),this.getSupplyList(),this.productslist(),this.receiveRequests(),this.showAcceptListModal=!1,this.seletedReceiveItems=[]},closeSendRequestModal:function(){this.sentRequests(),this.getSupplyList(),this.productslist(),this.receiveRequests(),this.seletedSentProducts=[],this.sendRequestModal=!1},rejectRequestSingle:function(e){var t=this;n.a.request({method:"post",url:this.$hostname+"warehouses/void-request",headers:{Authorization:"Bearer "+this.TOKEN},data:{requests:[{id:e}]}}).then((function(e){t.color="success",t.snackbarText=e.data,t.snackbar=!0,t.sentRequests(),t.receiveRequests(),t.showRecieveProductsModal=!1})).catch((function(e){t.color="warning",t.snackbarText=e.response.data.error,t.snackbar=!0}))},rejectRequest:function(){var e=this,t=[];this.seletedReceiveItems.forEach((function(e){t.push({id:e.id})})),n.a.request({method:"post",url:this.$hostname+"warehouses/void-request",headers:{Authorization:"Bearer "+this.TOKEN},data:{requests:t}}).then((function(t){e.color="success",e.snackbarText=t.data,e.snackbar=!0,e.getSupplyList()})).catch((function(t){e.color="warning",e.snackbarText=t.response.data.error,e.snackbar=!0}))},acceptRecieveRequest:function(e){this.seletedReceiveItems=[e],this.showAcceptListModal=!0},acceptRecieveProductsSingle:function(e){this.seletedReceiveProductsItems=[e],this.showRecieveProductsModal=!0},acceptSentProductsSingle:function(e){this.seletedReceiveProductsItems=[e],this.showRecieveProductsModal=!0},acceptRecieveProducts:function(){var e=this,t=[];alert("BLA"),this.seletedReceiveProductsItems.forEach((function(e){t.push({id:e.id,quantity:e.quantity})})),n.a.request({method:"post",url:this.$hostname+"warehouses/recieve-request",headers:{Authorization:"Bearer "+this.TOKEN},data:{requests:t}}).then((function(t){e.color="success",e.snackbarText=t.data,e.snackbar=!0,e.showRecieveProductsModal=!1,e.closeRecieveProductsModal(),e.getSupplyList(),e.receiveRequests(),e.sentRequests()}))},acceptRequest:function(){var e=this,t=[];this.seletedReceiveItems.forEach((function(e){t.push({id:e.id,quantity:e.quantity})})),n.a.request({method:"post",url:this.$hostname+"warehouses/accept-request",headers:{Authorization:"Bearer "+this.TOKEN},data:{requests:t}}).then((function(t){e.color="success",e.snackbarText=t.data.data,e.snackbar=!0,e.showAcceptListModal=!1,e.seletedReceiveItems=[],e.getSupplyList()}))},editSentRequest:function(){var e=this,t=[];this.sentProductsList.forEach((function(e){t.push({id:e.id,quantity:e.quantity})})),n.a.request({method:"post",url:this.$hostname+"warehouses/sender-update-accepted-request",headers:{Authorization:"Bearer "+this.TOKEN},data:{requests:t}}).then((function(t){e.color="success",e.snackbarText=t.data,e.snackbar=!0,e.getSupplyList(),e.receiveRequests(),e.sentRequests(),e.closeSendProducttModal()}))},editSentProductSingle:function(e){this.seletedSentProducts=[e],this.editSentProductsModal=!0},onClearClicked:function(e){this.seletedReceiveItems.splice(e,1)},addSupply:function(){var e=this;this.$refs.supplyForm.validate()&&n.a.request({method:"post",url:this.$hostname+"warehouses/add-supply",headers:{Authorization:"Bearer "+this.TOKEN},data:{product_id:this.supplyId,warehouse_id:this.warehouseId,quantity:this.supplyQty,minQuantity:this.supplyMinQty}}).then((function(t){e.supplyModal=!1,e.color="success",e.snackbarText=t.data,e.snackbar=!0,e.getSupplyList()}))},productslist:function(){var e=this;n.a.request({method:"post",url:this.$hostname+"warehouses/products-list",headers:{Authorization:"Bearer "+this.TOKEN}}).then((function(t){e.productList=t.data}))},getSupplyList:function(){var e=this,t=new FormData;t.set("warehouse_id",this.warehouseId),n.a.request({method:"post",url:this.$hostname+"warehouses/supplies-list",headers:{Authorization:"Bearer "+this.TOKEN},data:t}).then((function(t){e.supplyList=t.data,e.supplyList.forEach((function(e){e.selected=!1}))}))},sentRequests:function(){var e=this,t=new FormData;t.set("warehouse_id",this.warehouseId),n.a.request({method:"post",url:this.$hostname+"warehouses/sent-requests",headers:{Authorization:"Bearer "+this.TOKEN},data:t}).then((function(t){e.pendingRequestList=t.data.filter((function(e){return 1==e.status})),e.recieveProductList=t.data.filter((function(e){return 2==e.status}))}))},asd:function(){var e=this;setTimeout((function(){e.sendRequestModal=!1}),4e3),this.receiveRequests(),this.sentRequests()},receiveRequests:function(){var e=this,t=new FormData;t.set("warehouse_id",this.warehouseId),n.a.request({method:"post",url:this.$hostname+"warehouses/receive-requests",headers:{Authorization:"Bearer "+this.TOKEN},data:t}).then((function(t){e.receiveRequestList=t.data.filter((function(e){return 1==e.status})),e.sentProductsList=t.data.filter((function(e){return 2==e.status}))}))},cancelSupply:function(){this.supplyModal=!1,this.$refs.supplyForm.reset()}}},b=f,x=(s("993c"),Object(v["a"])(b,a,c,!1,null,null,null));t["default"]=x.exports},"993c":function(e,t,s){"use strict";s("ce27")},"9e4f":function(e,t,s){"use strict";s("d058")},a434:function(e,t,s){"use strict";var a=s("23e7"),c=s("23cb"),i=s("a691"),n=s("50c4"),o=s("7b0b"),r=s("65f0"),l=s("8418"),u=s("1dde"),d=u("splice"),v=Math.max,p=Math.min,h=9007199254740991,m="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!d},{splice:function(e,t){var s,a,u,d,f,b,x=o(this),y=n(x.length),q=c(e,y),k=arguments.length;if(0===k?s=a=0:1===k?(s=0,a=y-q):(s=k-2,a=p(v(i(t),0),y-q)),y+s-a>h)throw TypeError(m);for(u=r(x,a),d=0;d<a;d++)f=q+d,f in x&&l(u,d,x[f]);if(u.length=a,s<a){for(d=q;d<y-a;d++)f=d+a,b=d+s,f in x?x[b]=x[f]:delete x[b];for(d=y;d>y-a+s;d--)delete x[d-1]}else if(s>a)for(d=y-a;d>q;d--)f=d+a-1,b=d+s-1,f in x?x[b]=x[f]:delete x[b];for(d=0;d<s;d++)x[d+q]=arguments[d+2];return x.length=y-a+s,u}})},ce27:function(e,t,s){},d058:function(e,t,s){}}]);
//# sourceMappingURL=chunk-5d0d582e.b90dadba.js.map