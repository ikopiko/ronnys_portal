{"version":3,"sources":["webpack:///./node_modules/@syncfusion/ej2-data/src/adaptors.js","webpack:///./node_modules/@syncfusion/ej2-popups/src/spinner/spinner.js","webpack:///./src/components/page-header.vue?174b","webpack:///src/components/page-header.vue","webpack:///./src/components/page-header.vue?7e96","webpack:///./src/components/page-header.vue","webpack:///./node_modules/@syncfusion/ej2-data/src/query.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/actions/data.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/base/string-literals.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/models/column.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/services/summary-model-generator.js","webpack:///./node_modules/@syncfusion/ej2-data/src/manager.js","webpack:///./node_modules/@syncfusion/ej2-popups/src/common/collision.js","webpack:///./node_modules/@syncfusion/ej2-popups/src/common/position.js","webpack:///./node_modules/@syncfusion/ej2-excel-export/src/worksheets.js","webpack:///./node_modules/@syncfusion/ej2-excel-export/src/worksheet.js","webpack:///./node_modules/@syncfusion/ej2-excel-export/src/cell-style.js","webpack:///./node_modules/@syncfusion/ej2-excel-export/src/column.js","webpack:///./node_modules/@syncfusion/ej2-excel-export/src/row.js","webpack:///./node_modules/@syncfusion/ej2-excel-export/src/image.js","webpack:///./node_modules/@syncfusion/ej2-excel-export/src/cell.js","webpack:///./node_modules/@syncfusion/ej2-file-utils/src/encoding.js","webpack:///./node_modules/@syncfusion/ej2-compression/src/compression-writer.js","webpack:///./node_modules/@syncfusion/ej2-file-utils/src/save.js","webpack:///./node_modules/@syncfusion/ej2-compression/src/zip-archive.js","webpack:///./node_modules/@syncfusion/ej2-excel-export/src/value-formatter.js","webpack:///./node_modules/@syncfusion/ej2-excel-export/src/csv-helper.js","webpack:///./node_modules/@syncfusion/ej2-excel-export/src/blob-helper.js","webpack:///./node_modules/@syncfusion/ej2-excel-export/src/auto-filters.js","webpack:///./node_modules/@syncfusion/ej2-excel-export/src/workbook.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/actions/export-helper.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/actions/excel-export.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/actions/print.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/services/value-formatter.js","webpack:///./node_modules/@syncfusion/ej2-base/src/util.js","webpack:///./node_modules/@syncfusion/ej2-base/src/intl/parser-base.js","webpack:///./node_modules/@syncfusion/ej2-base/src/hijri-parser.js","webpack:///./node_modules/@syncfusion/ej2-base/src/intl/date-formatter.js","webpack:///./node_modules/@syncfusion/ej2-base/src/intl/number-formatter.js","webpack:///./node_modules/@syncfusion/ej2-base/src/intl/date-parser.js","webpack:///./node_modules/@syncfusion/ej2-base/src/intl/number-parser.js","webpack:///./node_modules/@syncfusion/ej2-base/src/observer.js","webpack:///./node_modules/@syncfusion/ej2-base/src/internationalization.js","webpack:///./node_modules/@syncfusion/ej2-base/src/intl/intl-base.js","webpack:///./node_modules/@syncfusion/ej2-base/src/ajax.js","webpack:///./node_modules/@syncfusion/ej2-base/src/browser.js","webpack:///./node_modules/@syncfusion/ej2-base/src/event-handler.js","webpack:///./node_modules/@syncfusion/ej2-base/src/dom.js","webpack:///./node_modules/@syncfusion/ej2-base/src/base.js","webpack:///./node_modules/@syncfusion/ej2-base/src/notify-property-change.js","webpack:///./node_modules/@syncfusion/ej2-base/src/animation.js","webpack:///./node_modules/@syncfusion/ej2-base/src/module-loader.js","webpack:///./node_modules/@syncfusion/ej2-base/src/child-property.js","webpack:///./node_modules/@syncfusion/ej2-base/src/validate-lic.js","webpack:///./node_modules/@syncfusion/ej2-base/src/component.js","webpack:///./node_modules/@syncfusion/ej2-base/src/draggable.js","webpack:///./node_modules/@syncfusion/ej2-base/src/droppable.js","webpack:///./node_modules/@syncfusion/ej2-base/src/keyboard.js","webpack:///./node_modules/@syncfusion/ej2-base/src/l10n.js","webpack:///./node_modules/@syncfusion/ej2-base/src/touch.js","webpack:///./node_modules/@syncfusion/ej2-base/src/template.js","webpack:///./node_modules/@syncfusion/ej2-base/src/template-engine.js","webpack:///./node_modules/@syncfusion/ej2-base/src/sanitize-helper.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/services/row-model-generator.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/base/enum.js","webpack:///./node_modules/@syncfusion/ej2-buttons/src/common/common.js","webpack:///./node_modules/@syncfusion/ej2-popups/src/tooltip/tooltip.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/renderer/cell-merge-renderer.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/renderer/row-renderer.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/services/group-model-generator.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/renderer/content-renderer.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/renderer/header-renderer.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/renderer/cell-renderer.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/services/aria-service.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/renderer/header-cell-renderer.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/renderer/stacked-cell-renderer.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/renderer/indent-cell-renderer.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/renderer/caption-cell-renderer.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/renderer/expand-cell-renderer.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/renderer/header-indent-renderer.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/renderer/detail-header-indent-renderer.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/renderer/detail-expand-cell-renderer.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/renderer/row-drag-drop-renderer.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/renderer/row-drag-header-indent-render.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/renderer/render.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/services/cell-render-factory.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/renderer/responsive-dialog-renderer.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/services/service-locator.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/services/renderer-factory.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/services/width-controller.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/models/page-settings.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/models/column-chooser-settings.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/actions/selection.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/actions/search.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/actions/show-hide.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/actions/scroll.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/models/aggregate.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/actions/clipboard.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/base/grid.js","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/@syncfusion/ej2-inputs/src/input/input.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/common/checkbox-filter-base.js","webpack:///./node_modules/@syncfusion/ej2-vue-base/src/component-base.js","webpack:///./node_modules/@syncfusion/ej2-vue-base/src/component-decorator.js","webpack:///./node_modules/@syncfusion/ej2-vue-base/src/template.js","webpack:///./node_modules/@syncfusion/ej2-vue-grids/src/grid/stacked-column.directive.js","webpack:///./node_modules/@syncfusion/ej2-vue-grids/src/grid/columns.directive.js","webpack:///./node_modules/@syncfusion/ej2-vue-grids/src/grid/aggregate-columns.directive.js","webpack:///./node_modules/@syncfusion/ej2-vue-grids/src/grid/aggregates.directive.js","webpack:///./node_modules/@syncfusion/ej2-vue-grids/src/grid/grid.component.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/services/focus-strategy.js","webpack:///./node_modules/@syncfusion/ej2-popups/src/popup/popup.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/base/constant.js","webpack:///./node_modules/@syncfusion/ej2-popups/src/common/resize.js","webpack:///./node_modules/@syncfusion/ej2-popups/src/dialog/dialog.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/base/util.js","webpack:///./node_modules/@syncfusion/ej2-data/src/util.js","webpack:///./node_modules/@syncfusion/ej2-navigations/src/common/h-scroll.js","webpack:///./node_modules/@syncfusion/ej2-navigations/src/common/v-scroll.js","webpack:///./node_modules/@syncfusion/ej2-navigations/src/toolbar/toolbar.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/actions/toolbar.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/models/row.js","webpack:///./node_modules/@syncfusion/ej2-grids/src/grid/models/cell.js","webpack:///./node_modules/@syncfusion/ej2-buttons/src/button/button.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","consts","GroupGuid","Adaptor","ds","options","from","requestType","sortBy","select","skip","group","take","search","count","where","aggregates","expand","type","dataSource","pvt","processResponse","data","query","xhr","JsonAdaptor","_super","apply","arguments","processQuery","dataManager","ret","key","page","result","json","slice","length","countFlg","lazyLoad","keyCount","i","value","agg","queries","fn","call","e","field","undefined","push","args","lazyLoadData","lazyLoadGroup","isCountRequired","getAggregate","onDemandGroupInfo","fieldName","comparer","onPage","formGroupResult","req","onWhere","level","uid","childLevel","records","aggQuery","filterQueries","tmp","getValue","batchRequest","dm","changes","deletedRecordsLen","deletedRecords","addedRecords","insert","changedRecords","update","remove","filter","obj","validate","onAggregates","onSearch","fieldNames","getFieldList","j","getObject","searchKey","ignoreCase","ignoreAccent","onSortBy","fnCompare","sort","endsWith","fnSort","replace","onGroup","size","pageSize","start","pageIndex","end","onRange","onTake","nos","onSkip","onSelect","tableName","position","splice","keyField","Date","UrlAdaptor","hierarchyFilters","temp","getQueryRequest","singles","filterQueryLists","params","url","request","sorts","groups","filters","searches","callAdaptorFunction","name","direction","getFiltersFrom","toJson","res","getModuleName","keys_3","keys","_i","keys_1","prop","isNull","fields","operator","getRequestQuery","reqParams","_a","keys_2","JSON","stringify","parse","jsonDateReplacer","pvtData","contentType","convertToQueryString","indexOf","request1","param","fromTable","distincts","selects","expands","getResponseHeader","handleTimeZone","timeZoneHandling","parseJson","requests","groupDs","action","isExpand","isArray","val","formRemoteGroupedData","getAggregateResult","items","childLvl","lvl","getGroupedRecords","hasRecords","childGroupedRecords","concat","original","batchUrl","crudUrl","removeUrl","dataType","changed","added","deleted","table","getAddParams","beforeSend","insertUrl","keyColumn","updateUrl","fKey","pKey","predicats","or","pData","aggregateData","aggregate","isServerGrouping","groupQuery","addParams","Error","ODataAdaptor","props","_this","accept","multipartAccept","batch","changeSet","batchPre","contentId","batchContent","changeSetContent","batchChangeSetContentType","updateType","onPredicate","predicate","requiresCast","guid","returnValue","getField","replacer","toLowerCase","encodeURIComponent","isGuid","odBiOperator","odUniOperator","odv4UniOperator","onComplexPredicate","predicates","onEachWhere","join","condition","isComplex","onEachSearch","throwError","onEachSort","reverse","onCount","settings","setRequestHeader","overrideMimeType","metaCheck","rootUrl","dataUrls","split","resourceTableName","dataCopy","results","metaData","emptyAndBatch","processBatchResponse","versionCheck","version","parseInt","oDataCount","format","requiresFormat","keys_4","localTimeReplacer","convertObj","dateParse","toLocalTime","localTime","compareAndRemove","initialGuid","getGuid","cid","cSet","generateInsertRequest","generateUpdateRequest","generateDeleteRequest","arr","stat","dateTime","toJSON","generateBodyContent","org","forEach","change","o","date","method","cIdx","jsonObj","substring","exVal","exec","changeGuid","test","isPlainObject","final","valueOf","RemoteSaveAdaptor","ODataV4Adaptor","isDate","onExpand","selected","expanded","exArr","item","splits","sel","exp","close_1","combineVal","expandQueryIndex","idx","ex","onDistinct","distinctFields","map","metaName","dataUrl","dataCount","WebApiAdaptor","_loop_1","x","location","host","_loop_2","_loop_3","state","datTime","Count","Items","WebMethodAdaptor","getData","updateKey","newData","urlParams","CustomDataAdaptor","Function","addRecord","updateRecord","deleteRecord","batchUpdate","CacheAdaptor","GraphQLAdaptor","opt","schema","response","getVariables","getQuery","datamanager","urlQuery","str","vars","variables","resData","inserted","generateCrudData","bData","crudData","parsed","getMutation","adaptor","timeStamp","isCrudAction","isInsertAction","cacheAdaptor","guidId","window","localStorage","setItem","setInterval","getItem","forDel","currentTime","requestTime","removeItem","generateKey","currentFilter","newQuery","clone","cachedItems","index","crossDomain","globalTimeOut","DEFT_MAT_WIDTH","DEFT_FAB_WIDTH","DEFT_FLUENT_WIDTH","DEFT_BOOT_WIDTH","DEFT_BOOT4_WIDTH","DEFT_BOOT5_WIDTH","CLS_SHOWSPIN","CLS_HIDESPIN","CLS_MATERIALSPIN","CLS_FABRICSPIN","CLS_FLUENTSPIN","CLS_TAILWINDSPIN","CLS_BOOTSPIN","CLS_BOOT4SPIN","CLS_BOOT5SPIN","CLS_HIGHCONTRASTSPIN","CLS_SPINWRAP","CLS_SPININWRAP","CLS_SPINCIRCLE","CLS_SPINARC","CLS_SPINLABEL","CLS_SPINTEMPLATE","spinTemplate","spinCSSClass","createSpinner","internalCreateElement","target","radius","makeElement","container","create_spinner_container","cssClass","wrap","classList","add","template","theme","getTheme","width","calculateRadius","setTheme","label","createLabel","inner_wrap","replaceContent","labelEle","innerHTML","appendChild","createMaterialSpinner","uniqueID","random_generator","timeOut","create_material_element","mat_calculate_attributes","createBootstrap4Spinner","createBootstrap5Spinner","startMatAnimate","globalObject","timeOutVar","globalVariables","spinnerInfo","globalInfo","animateMaterial","createFabricSpinner","create_fabric_element","fb_calculate_attributes","createFluentSinner","createTailwindSpinner","createHighContrastSpinner","getComputedStyle","getPropertyValue","innerContainer","querySelector","svg","removeChild","createBootstrapSpinner","create_bootstrap_element","boot_calculate_attributes","svgBoot","document","createElementNS","viewBoxValue","trans","defaultRadius","setAttribute","insertBefore","firstChild","bootCircle","y","rad","style","height","startArc","defineArcPoints","circleEle","generateSeries","begin","stop","series","increment","formSeries","parseFloat","toFixed","animateBootstrap","id","getAttribute","getElementsByClassName","rotation","circle","boot_animate","isAnimate","setTimeout","bind","inner","defaultSize","previousId","random","combine","charAt","Math","floor","innerCon","themeClass","svgFabric","fabricCirclePath","fabricCircleArc","cls","svgMaterial","matCirclePath","spinnerContainer","spinnerInnerContainer","duration","max","createCircle","easeAnimation","easing","startTime","getTime","diameter","getSize","strokeSize","getStrokeSize","rotate","mat_animation","min","updatePath","path","getDashOffset","transformOrigin","drawArc","PI","offset","current","timestamp","timecount","innerConainer","trgClass","centerX","centerY","endArc","defineCircle","defineArc","angle","radians","cos","sin","showSpinner","showHideSpinner","isHide","spinnerWrap","contains","spinCheck","svgEle","clearTimeout","hideSpinner","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","title","attrs","staticRenderFns","components","String","default","component","Query","subQuery","isChild","lookups","sortedColumns","groupedColumns","setKey","using","execute","done","fail","always","executeQuery","executeLocal","cloned","subQuerySelector","distinct","tables","Predicate","fnOperators","isFromGroup","sortByForeignKey","order","sortByDesc","range","hierarchy","selectorFn","foreignKey","requiresCount","q","filtered","processOperator","and","combinePredicates","fromJson","len","fromJSONData","pred","record","isAnd","preds","Data","parent","serviceLocator","dataState","isPending","resolver","foreignKeyDataState","initDataManager","isDestroyed","on","addRows","reorderRows","removeRows","destroy","crudActions","refreshFilteredCols","toIndex","fromIndex","gObj","isAngular","isQueryInvokedFromData","setProperties","generateQuery","skipPage","columnQueryMode","getColumns","column","isPrimaryKey","visible","selectQueryFields","columns","filterQuery","searchQuery","aggregateQuery","sortQuery","virtualGroupPageQuery","pageQuery","rows","row","cols","types","k","fName","notify","allowPaging","enableVirtualization","enableInfiniteScrolling","pageSettings","currentPage","pageCount","infiniteScrollModule","pagerModule","pagerObj","isAllPage","offline","allowGrouping","groupSettings","enableLazyLoading","getColumnByField","log","moduleName","columnName","isGrpFmt","enableGroupByFormat","formatGroupColumn","allowSorting","sortSettings","sortGrp","col","setSortDirection","sortComparer","isRemote","isForeignColumn","getSortDirection","fcolumn","isForeignKey","sSettings","searchSettings","getSearchColumnFieldNames","predicateList","needForeignKeySearch","getForeignKeyColumns","some","foreignKeyValue","fGeneratePredicate","predList","skipFoerign","foreignColEmpty","actualFilter","foreignColumn","allowFiltering","filterSettings","colType","foreignCols","defaultFltrCols","_b","columns_1","gridColumn","grabColumnByFieldFromAllCols","excelPredicate","getPredicate","_d","_e","foreignCols_1","column_1","grabColumnByUidFromAllCols","columnData","_f","_g","fPredicate","getKey","foreignKeyData","getPrimaryKeyFieldNames","def","eventPromise","promise","crud","saveChanges","then","ready","deferred_1","resolve","catch","reject","getDay","getHours","getMinutes","getSeconds","getMilliseconds","getFormatter","formatVal","toView","pr","previousData","deff","endEdit","setState","trigger","off","getState","getForeignKeyDataState","setForeignKeyDataState","getStateEventArgument","adaptr","dataArgs","isDataChanged","editArgs_1","cancelEdit","colFieldNames","columns_2","allowSearching","rowCell","gridHeader","gridContent","gridFooter","headerContent","movableContent","movableHeader","frozenContent","frozenHeader","content","gridChkBox","editedRow","addedRow","leftRight","frozenRight","frozenLeft","ariaColIndex","ariaRowIndex","tbody","colGroup","__decorate","decorators","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","Column","disableHtmlEncode","allowResizing","allowReordering","showColumnMenu","allowEditing","showInColumnChooser","edit","autoFit","sortDirection","getEditTemplate","editTemplateFn","getFilterTemplate","filterTemplateFn","editType","valueFormatter","skeleton","setFormatter","getFormatFunction","setParser","getParserFunction","commands","textAlign","commandsTemplate","templateFn","headerTemplate","headerTemplateFn","itemTemplate","fltrTemplateFn","editTemplate","filterTemplate","ddEditedData","foreignKeyField","text","a_1","xObj","yObj","z","fnDescending","fnAscending","getFreezeTableName","freezeTable","isReact","refreshReactColumnTemplateByUid","refreshReactHeaderTemplateByUid","formatFn","getParser","parserFn","getColumnTemplate","getHeaderTemplate","getFilterItemTemplate","getDomSetter","GridColumn","CommandColumnModel","StackedColumn","SummaryModelGenerator","footerTemplate","groupFooterTemplate","groupCaptionTemplate","columnSelector","detailTemplate","childGrid","isRowDragable","getIndentCount","generateRows","input","buildSummaryData","getGeneratedRow","parentUid","summaryRow","raw","indents","getIndentByLevel","isDetailGridAlone","indentLength","values","getGeneratedCell","getCellType","Indent","DetailFooterIntent","attributes","class","cells","isAggregateRow","cell","isDataCell","cellType","indent","sColumn","scolumn","headerText","dummy","summaryRows","single","setTemplate","helper","a","disp","Summary","GroupSummaryModelGenerator","v","indx","GroupSummary","CaptionSummaryModelGenerator","initVal","reduce","prev","cur","isEmpty","CaptionSummary","DataManager","headers","timeTillExpiration","cachingPageSize","enableCaching","jsonp","isCors","defaultQuery","isDataAvailable","setDefaultQuery","lookup","buildHierarchy","makeRequest","deffered","Deferred","isCustomDataAdaptor","getDeferedArgs","nextTick","setImmediate","extendRequest","fnSuccess","fnFail","cache","processData","onSuccess","onFailure","isSelector","error","process","actual","virtualSelectRecords","toString","fnQueryChild","selector","subDeffer","childArgs","subUrl","childReq","subData","isGraphQLAdaptor","ajaxReqOption","httpRequest","virtualRecords","ajax_1","send","Promise","all","pResult","cResult","doAjaxRequest","deff_1","ajax_2","successFunc","failureFunc","ajaxDeffered","ajaxFunc","ajax_3","parentDocument","targetContainer","fit","element","viewPortElement","axis","X","Y","left","top","elemData","getBoundingClientRect","ownerDocument","containerWidth","getTargetContainerWidth","getViewPortWidth","containerLeft","ContainerLeft","containerRight","ContainerRight","overLeft","overRight","containerHeight","getTargetContainerHeight","getViewPortHeight","containerTop","ContainerTop","containerBottom","ContainerBottom","overTop","overBottom","isCollide","elemOffset","elementRect","right","bottom","yAxis","topCollideCheck","xAxis","leftCollideCheck","topSide","rightSide","leftSide","bottomSide","flip","offsetX","offsetY","positionX","positionY","fixedParent","tEdge","TL","TR","BL","BR","eEdge","display","oldVisibility","visibility","removeProperty","pos","posX","posY","updateElementData","setPosition","leftFlip","topFlip","setPopup","offsetParent","edge","eStatus","getBodyScrollLeft","deepCheck","collideSide","getBodyScrollTop","innerHeight","getTargetContainerLeft","getTargetContainerTop","documentElement","scrollTop","body","scrollLeft","windowWidth","innerWidth","documentReact","offsetWidth","popupRect","calculateRelativeBasedPosition","anchor","fixedElement","anchorPos","tempAnchor","offsetLeft","offsetTop","parentElement","calculatePosition","currentElement","targetValues","updatePosition","setPosx","setPosy","getElementHCenter","getElementTop","getElementRight","getElementVCenter","getElementLeft","getElementBottom","popupWidth","Worksheets","Worksheet","isSummaryRowBelow","showGridLines","enableRtl","HyperLink","Grouping","FreezePane","MergeCell","MergeCells","mergeCell","mCell","isIntersecting","intersectingCell","Width","Height","ref","base","compare","CellStyle","numFmtId","backColor","fontName","fontSize","fontColor","italic","bold","underline","strikeThrough","wrapText","hAlign","vAlign","numberFormat","borders","Borders","isGlobalStyle","Font","sz","u","color","strike","CellXfs","Alignment","CellStyleXfs","CellStyles","xfId","NumFmt","code","formatCode","Border","mLine","mColor","lineStyle","Row","Rows","Image","Cell","Cells","Encoding","includeBom","emitBOM","encodingType","initBOM","get","enumerable","configurable","set","getByteCount","chars","validateNullOrUndefined","byte","utf8Len","charCodeAt","getByteCountInternal","codePoint","bytes","isHighSurrogate","codeUnit","toCodepoint","highCodeUnit","lowCodeUnit","charIndex","charCount","byteCount","isUtf8","charCode","high","low","getBytes","s","RangeError","ArrayBuffer","getBytesOfUtf8Encoding","getBytesOfUnicodeEncoding","getBytesOfAnsiEncoding","getString","byteLength","out","byteCal","Uint8Array","getStringOfUtf8Encoding","byteUnicode","Uint16Array","getStringofUnicodeEncoding","fromCharCode","bufview","charcode","uint","uint16","byteUni","byte16","message","ARR_LITERAL_CODES","Int16Array","ARR_LITERAL_LENGTHS","ARR_DISTANCE_CODES","ARR_DISTANCE_LENGTHS","CompressedStreamWriter","noWrap","pendingBuffer","pendingBufLength","pendingBufCache","pendingBufBitsInCache","bufferPosition","extraBits","currentHash","matchStart","matchLength","matchPrevAvail","blockStart","stringStart","lookAhead","totalBytesIn","inputOffset","inputEnd","windowSize","windowMask","hashSize","hashMask","hashShift","maxDist","checkSum","isHuffmanTreeInitiated","initHuffmanTree","treeLiteral","CompressorHuffmanTree","treeDistances","treeCodeLengths","arrDistances","arrLiterals","stream","dataWindow","hashHead","hashPrevious","writeZLibHeader","compressedString","write","encode","inputBuffer","ChecksumCalculator","checksumUpdate","pendingBufferFlush","compressData","headerDate","pendingBufferWriteShortBytes","finish","success","fillWindow","canFlush","compressSlow","flush","lookAheadCompleted","slideWindow","prevMatch","prevLen","discardMatch","matchPreviousBest","matchPreviousAvailable","huffmanIsFull","insertString","findLongestMatch","huffmanTallyLit","huffmanTallyDist","huffmanFlushBlock","lastBlock","more","subarray","updateHash","m","match","hash","curMatch","chainLen","niceLen","scan","bestEnd","bestLength","limit","stringEnd","scanEnd1","scanEnd","literal","codeFrequencies","dist","lc","huffmanLengthCode","dc","huffmanDistanceCode","stored","storedOffset","storedLength","buildTree","calculateBLFreq","blTreeCodes","codeLengths","huffCodeLengthOrders","opt_len","getEncodedLength","static_len","huffmanFlushStoredBlock","pendingBufferWriteBits","setStaticCodes","huffmanCompressBlock","huffmanReset","huffmanSendAllTrees","pendingBufferAlignToByte","pendingBufferWriteShort","pendingBufferWriteByteBlock","distance","buildCodes","treeLength","rank","writeTree","reset","literalLen","writeCodeToStream","bits","Uint32Array","pendingBufferFlushBits","isClose","array","bitReverse","close","writer","elementCount","minCodes","maxLength","codeMinCount","codeFrequency","lengthCount","Int32Array","codeCount","codeLength","codes","lengths","lengthTemp","nextCode","bitsCount","reverseBits","blTree","maxCount","minCount","curLen","nextLen","maxRepeatCount","minRepeatCount","currentRepeatCount","currentCodeLength","codesCount","arrTree","n","freq","pPos","leafsCount","nodesCount","child","node","iIndex","constructHuffmanTree","buildLength","first","last","lastVal","second","minDepth","numNodes","numLeafs","overflow","calculateOptimalCodeLength","iIncreasableLength","recreateTree","nodePtr","childPtr","childIndex","bitLength","checksum","buffer","checksum_uint","s1","s2","checkSumBitOffset","steps","checksumIterationCount","checksumBase","Save","save","fileName","extension","lastIndexOf","mimeType","getMimeType","Blob","isMicrosoftBrowser","navigator","msSaveBlob","downloadLink","saveInternal","hasDownloadAttribute","download","dataUrl_1","URL","createObjectURL","href","event_1","createEvent","initEvent","dispatchEvent","revokeObjectURL","isPopupBlocked","open","reader_1","FileReader","onloadend","readAsDataURL","CRC32TABLE","ZipArchive","initCrc32Table","files","addItem","file","ZipArchiveItem","addDirectory","directoryName","zipArchive","saveAsBlob","blob","skipFileSave","zipData","dirLength","compressedObject","getCompressedData","constructZippedObject","isDirectory","writeZippedContent","onload","crc32Value","compressedData","compressedSize","uncompressedDataSize","compressionType","length_1","calculateCrc32Value","readAsArrayBuffer","crc32Table","compressor","currentIndex","nextIndex","subArray","zipParts","extFileAttr","header","writeHeader","localHeader","centralDir","writeCentralDirectory","zipHeader","getModifiedTime","getModifiedDate","localDirLen","cenDirLen","getArrayBuffer","shift","writeFooter","externalFileAttribute","directoryHeader","centralLength","localLength","dirEnd","modTime","modiDate","getFullYear","getMonth","getDate","itemName","ValueFormatter","cultureName","intl","isServerRendered","getDateFormat","getNumberFormat","displayText","CsvHelper","separator","csvStr","formatter","styles","globalStyles","Map","worksheets","parseWorksheet","parseRows","rows_1","parseRow","parseCell","csv","parseCellValue","has","dwlLink","BlobHelper","parts","append","part","getBlob","AutoFilters","Workbook","saveType","culture","currencyString","sharedStringCount","unitsProportions","hyperlinkStyle","currency","mSaveType","mArchive","sharedString","mFonts","mBorders","mStyles","printTitles","cellStyles","mNumFmt","mFills","mCellXfs","mCellStyleXfs","drawingCount","imageCount","cellStyle","parserCellStyle","cellStylesIn","tFormat","parserWorksheets","builtInProperties","BuiltInProperties","parserBuiltInProperties","csvHelper","jsonBuiltInProperties","author","comments","category","company","manager","subject","createdDate","modifiedDate","tags","status","jsonSheet","sheet","mergeCells","mergedCellsStyle","mHyperLinks","parserColumns","parserRows","freeze","parserFreezePanes","printTitle","parserPrintTitle","pageSetup","images","parserImages","autoFilters","parseFilters","hyperLinks","mergeOptions","applyProperties","sourceJson","destJson","getCellName","getColumnName","strColumnName","iCurrentDigit","titleRowName","titleColName","printTitleName","fromRow","toRow","fromColumn","toColumn","freezePanes","leftCell","columnsLength","rowsLength","rowId","parserRow","insertMergedCellsStyle","rowToInsert","createCell","insertIndex","styleIndex","cellToInsert","refName","rowIndex","grouping","parseGrouping","parseCells","outlineLevel","isCollapsed","isHidden","cellsLength","spanMin","spanMax","cellId","jsonCell","rowSpan","colSpan","hyperlink","hyperLink","getCellValueType","rId","formula","parseCellType","processMergeCells","spans","GetColors","colors","processColor","colorVal","toUpperCase","rgbColors","processCellValue","cellValue","processedVal","startindex","endIndex","processString","subString","subSplit","subSplit_1","trim","applyGlobalStyle","defStyleIndex","parserBorder","leftBorder","rightBorder","topBorder","bottomBorder","processCellStyle","switchNumberFormat","numFmt","cellStyleXfs","cellXfs","returnFormat","getNumberPattern","useGrouping","getDatePattern","border","processNumFormatId","compareResult","compareStyle","isNewFont","toCompareStyle","font","isNewBorder","bStyle","isAllBorder","toCompareBorder","allBorderStyle","baseStyle","toOADate","value_1","sstvalue","imagesLength","image","parserImage","lastRow","lastColumn","horizontalFlip","verticalFlip","blobSaveType","blobData","proxyUrl","xlsxMatch","csvMatch","saveWorkbook","saveWorksheets","saveSharedString","saveStyles","saveApp","saveCore","saveContentType","saveTopLevelRelation","saveWorkbookRelation","workbookTemp","sheets","sheetName","printTitle_1","addToArchive","saveWorksheet","sheetBlob","sheetString","saveSheetView","colString","pixelsToColumnWidth","rowString","pixelsToRowHeight","_j","hLink","saveDrawings","saveSheetRelations","drawings","sheetDrawingString","imgId","pic","updatelastRowOffset","updatelastColumnOffSet","lastRowOffset","lastColOffset","imageData","convertBase64toImage","saveDrawingRelations","picture","iCurHeight","iCurRow","iCurOffset","iRowHeight","convertToPixels","iSpaceInCell","rowHiddenHeight","round","iCurWidth","iCurCol","iColWidth","ColumnWidthToPixels","colHiddenWidth","img","byteStr","atob","drawingRelation","pixels","dDigitWidth","trunc","fileWidth","relStr","paneString","sstStart","si","updateCellXfsStyleXfs","styleTemp","saveNumberFormats","saveFonts","saveFills","saveBorders","saveCellStyleXfs","saveCellXfs","saveCellStyles","compareFontResult","fontId","fillId","borderId","applyAlignment","alignment","horizontal","vertical","numFmtStyle_1","fontStyle","fillsStyle","bordersStyle","cellStyleString","cellXfsStyle","cellStyleXf","saveAlignment","cellXf","alignString","appString","coreString","toISOString","topRelation","wbRelation","contentTypeString","sheetsOverride","xmlString","archiveItem","startCell","endCell","updatedMergedCellStyles","sCell","eCell","dateToTicks","year","month","day","ticksPerDay","daysToMonth365","daysToMonth366","days","isLeapYear","timeToTicks","hour","minute","totalSeconds","ticks","daysTo1899","doubleDateOffset","oaDateMinAsTicks","millisPerDay","ExportHelper","hideColumnInclude","parentDetails","totalRecordsCount","getFData","getGridRowModel","startIndex","hierarchyPrintMode","expandedRows","generateCells","processColumns","childGridLevel","generateCell","getColumnData","gridObj","columnPromise","fColumns","colData","getHeaders","isHideColumnInclude","colDepth","processHeaderCells","generateActualColumns","getConvertedWidth","actualColumns","getCellCount","appendGridCells","gridRows","StackedHeader","isIgnoreFirstCell","Header","option","columnIndexes","enableColumnVirtualization","getColumnIndexesInView","len_1","HeaderIndent","checkAndExport","gridPool","globalResolve","bool","failureHandler","childGridObj","createChildGrid","exportType","detailRowModule","getGridModel","isPrinting","parentID","parentPrimaryKeys","parentKeyField","queryString","parentKeyFieldValue","parentRowData","exportId","isExportGrid","getGridExportColumns","actualGridColumns","gridColumns","getForeignKeyData","ExportValueFormatter","internationalization","returnFormattedValue","customFormat","formatCellValue","cFormat","ExcelExport","locator","book","workSheet","rowLength","expType","includeHiddenColumn","isCsvExport","isElementIdChanged","l10n","getService","init","isExporting","footer","exportValueFormatter","locale","grid","exportProperties","isMultipleExport","workbook","isCsv","isBlob","cancel","isBlb","workbk","isMultiEx","hierarchyExportMode","gridObject","processRecords","exportingSuccess","blobPromise","query_1","processInnerRecords","allPromise_1","getCurrentViewRecords","groupedColLength","blankRows","isExportPropertiesPresent","multipleExport","processExcelHeader","processGridExport","organisedRows","organiseRows","processExcelFooter","getVisibleColumns","enableFilter","headerRowLen","headerRows","currencyCode","initialIndex","childRows","excelRows","isFrozen","isFrozenGrid","getFrozenColumns","gColumns","headerRow","groupIndent","processHeaderContent","processRecordContent","currentViewData","returnType","currentViewRecords","excelRow","processRecordRows","processGroupedRows","processAggregates","excelExportProperties","dataSource_1","cArgs","captionText","getCaptionThemeStyle","captionModelGen","groupCaptionSummaryRows","fillAggregates","childLevels","lIndex","hIndex","tCell","span","col_1","templateRowHeight","gCell","valueAccessor","fkData","excelCellArgs","base64","setImage","getConstant","getColumnStyle","returnVal","actionFailure","beforeDataBound","childGridCell","appendTo","rowObj","excelImage","excelExportProps","gRow","intent","rec","byGroup","summaryModel","aggregateModule","prepareSummaryInfo","groupSummaryModel","groupSummaryRows","sRows","customIndex","rows_2","getAggreateValue","Sum","Average","Max","Min","TrueCount","FalseCount","Custom","aggregateStyle","gridCellStyle","row_1","dummyOutlineLevel","dummyGrouping","txt","isVue","renderTemplates","textContent","JSON1","JSON2","attrname","columnIndex","spannedCells","parseStyles","getRecordThemeStyle","currentCellIndex","gridCell","DetailHeader","getIndex","spannedCell","getHeaderThemeStyle","headerTextAlign","excelHeaderCellArgs","updateThemeStyle","themestyle","caption","noRows","updatedCellIndex","footerRows","spannedCells_1","getCloneProperties","Print","scrollModule","isAsyncPrint","defered","isContentReady","actionBeginFunction","actionBegin","addEventListener","onEmpty","hierarchyPrint","isPrintGrid","contentReady","removeColGroup","printGridObj","printModule","print","renderPrintGrid","className","printGrid","viewContainerRef","load","modules","getInjectedModules","injectedModues","setInjectedModules","printgrid","registeredTemplate","selectedRows","getContentTable","querySelectorAll","cssProps","getCssProperties","contentDiv","headerDiv","overflowY","padding","firstElementChild","overflowX","waitingPop","printGridElement","printWind","outerHeight","outerWidth","moveTo","resizeTo","screen","availWidth","availHeight","depth","groupCaption","colGroups","contentColGroups","hideColGroup","children","removeEventListener","printGridProp","getDateParser","getNumberParser","fromView","setCulture","isBlazorPlatform","createInstance","classFunction","arrayParam","unshift","handler","unbind","num","intCrypto","msCrypto","crypto","getRandomValues","secret","combineArray","messageHandler","event","source","postMessage","nameSpace","isUndefined","setValue","fromObj","isNullOrUndefined","deleteObject","containerObject","isObject","objCon","getEnumValue","enumObject","enumValue","merge","destination","temrObj","tempProp","deepmerge","extend","copied","deep","arguments_1","obj1","src","copy","isArrayChanged","blazorEventExtend","isBlazor","Event","getUniqueID","definedName","debounce","eventFunction","delay","later","compareElementParent","parentNode","stack","printWindow","div","createElement","links","getElementsByTagName","blinks","l","reference","cloneNode","outerHTML","focus","interval","clearInterval","formatUnit","HijriParser","defaultNumberingSystem","defaultNumberSymbols","latnNumberSystem","ParserBase","getMainObject","cName","getNumberingSystem","numberingSystems","reverseObject","propKeys","propKeys_1","getSymbolRegex","regexStr","RegExp","getSymbolMatch","matchKeys","matchKeys_1","constructRegex","convertValueParts","regex","getDefaultNumberingSystem","nSystem","getCurrentNumericOptions","curObj","numberSystem","needSymbols","blazorMode","digits","numericPair","numberParseRegex","numericRegex","symbolNumberSystem","symbolMatch","getNumberMapper","isNumber","mapper","numberSymbols","timeSeparator","latnNumberSystem_1","nPair","nRegex","blazorCurrencyData","getBlazorCurrencySymbol","dateCorrection","getHijriDate","gDate","tMonth","tYear","yPrefix","julilanOffset","julianNumber","tempMonth","modifiedJulianDate","iyear","cyc","iy","im","tempDay","iln","ii","hYear","hmonth","hDate","toGregorian","mcjdn","julianDate","gDay","gMonth","gYear","abbreviateRegexGlobal","standalone","weekdayKey","timeSetter","h","H","f","datePartMatcher","DateFormat","dateFormat","cldr","dependable","getDependables","calendar","numObject","dateObject","formatOptions","isIslamic","islamicRegex","compareBlazorDateFormats","resPattern","getResultantPattern","dateSeperator","getDateSeparator","ConvertDateToWeekFormat","pattern","numMapper","parserObject","patternMatch","patternMatch_1","char","weekday","monthIndex","designator","eText","era","timeZone","isNaN","intDateFormatter","matches","dateParseRegex","dObject","getCurrentDateValue","matches_1","curval","curvalstr","processNumber","curstr","curlength","substr","desig","dec","retu","timezone","getTimezoneOffset","pattern_1","hourFormat","gmtZeroFormat","getTimeZoneValue","gmtFormat","getWeekOfYear","checkTwodigitNumber","latnParseRegex","tVal","splt","curPattern","no","abs","ishour","errorText","percentSign","minusSign","NumberFormat","numberFormatter","symbolPattern","fOptions","cOptions","dOptions","numericObject","numberMapper","currencySymbol","getCurrencySymbol","defaultCurrencyCode","altSymbol","percentSymbol","minusSymbol","symbols","formatRegex","getProperNumericSkeleton","isCurrency","isPercent","getSymbolPattern","isAccount","groupOne","checkValueRange","maximumSignificantDigits","minimumSignificantDigits","maximumFractionDigits","minimumFractionDigits","fractionDigits","defaultCurrency","nData","replaceBlazorCurrency","getFormatData","groupSeparator","groupData","getGroupingDetails","minFrac","minimumFraction","mval","maximumFraction","mfrac","lfrac","isFinite","intNumberFormatter","negativeDataRegex","primary","secondary","val1","val2","checkbothExist","isFraction","decide","dint","str1","str2","checkRange","curData","zeroData","fValue","processSignificantDigits","processFraction","minimumIntegerDigits","processMinimumIntegers","toExponential","groupNumbers","nlead","nend","tn","toPrecision","level1","sep","decimalSymbol","level2","flag","prefix","lead","latnRegex","milliseconds","DateParser","dateParser","numOptions","parseOptions","hourOnly","regexString","evalposition","gmtCorrection","zCorrectTemp","isgmtTraversed","nRegx","numbers","canUpdate","charKey","optional","weekData","weekObject","monthData","hour12","periodValur","tval","tzone","hpattern","parseTimeZoneRegx","iString","parserRegex","parsedDateParts","internalDateParse","dobj","tDate","ystrig","is2DigitYear","getDateObject","setMilliseconds","tKeys","century","setFullYear","tKeys_1","tValue","setDate","pDate","lDate","lastDay","setHours","tzValue","setMinutes","retOptions","props_1","curObject","matchString","internalNumberParser","tmatch","getZoneValue","tZone","splitStr","cRegex","ival","parseRegex","groupRegex","NumberParser","numberParser","custom","symbolpattern","symbolRegex","infinity","getParsedNumber","isNegative","tempValue","Infinity","NaN","exponent","convertMaxFracDigits","decimalSplitValue","Observer","context","ranArray","boundedEvents","property","cntxt","notExist","isHandlerPresent","indexLocation","argument","successHandler","errorHandler","blazor","blazorCallback","curObject_1","objs","isTrigger","obj_1","isJson","dateReviver","dPattern","boundedEvents_1","onIntlChange","rightToLeft","cldrData","defaultCulture","Internationalization","getCulture","formatNumber","formatDate","parseDate","parseNumber","isExcelFormat","getActualDateTimeFormat","isExcel","getActualNumberFormat","getFirstDayOfWeek","getWeekData","blazorCultureFormats","IntlBase","customRegex","fractionRegex","patternRegex","'","dateConverterMapper","defaultFirstDay","firstDayMapper","currencyFormatRegex","curWithoutNumberRegex","typeMapper","0","1","blazorCulture","iType","basicPatterns","tPattern","mode","calendartype","blazorDefaultObject","defaultObject","dateString","numSystem","convertMapper","tempString","curFormatMapper","patternMatcher","needFraction","cSymbol","fractionOnly","changeCurrencySymbol","groupPattern","fraction","fmatch","sym","symbol","getCurrency","formatSplit","customNumberFormat","integerPart","spaceCapture","spaceGrouping","fractionPart","isCurrencyPercent","loc","dateObj","actualPattern","tLength","timeZonePattern","options_1","processSymbol","numrericObject","curCode","hasNegativePattern","defaultMinimum","fractionDigitsPattern","minimumIntegerPattern","groupingPattern","cPattern","minDigits","maxDigits","diff","integer","firstDay","iCulture","aCurrency","rCurrency","iCurrency","pData_1","weeknum","newYear","daynum","nYear","nday","3","4","5","C","P","N","A","E","headerRegex","defaultType","Ajax","async","emitError","eventArgs","XMLHttpRequest","onreadystatechange","stateChange","onLoad","onProgress","onprogress","onAbort","onabort","onError","onerror","onUploadProgress","upload","reason","responseText","readyState","statusText","responseHeaders","getAllResponseHeaders","REGX_MOBILE","REGX_IE","REGX_IE11","REGX_IOS","REGX_IOS7","REGX_ANDROID","REGX_WINDOWS","REGX_VERSION","REGX_BROWSER","OPERA","EDGE","CHROME","PANTHOMEJS","SAFARI","WEBKIT","MSIE","MOZILLA","browserDetails","Browser","extractBrowserDetail","browserInfo","clientInfo","userAgent","language","getEvent","events","isPointer","isTouch","isDevice","move","getTouchStartEvent","getTouchEndEvent","getTouchMoveEvent","getTouchCancelEvent","regX","platform","maxTouchPoints","uA","info","isMSPointer","isWebView","cordova","PhoneGap","phonegap","forge","touchStartEvent","touchMoveEvent","touchEndEvent","touchCancelEvent","EventHandler","addOrGetEventData","__eventList","eventName","listener","bindTo","intDebounce","debounceListener","eventData","isIE","passive","clearEvents","copyData","eventProp","eventData_1","SVG_REG","tagName","properties","addClass","elements","classes","getClassList","ele","classList_1","curClass","removeClass","canRemove","classList_2","classes_1","classArr","isVisible","prepend","fromElements","toElement","isEval","docFrag","createDocumentFragment","executeScript","eleArray","script","head","detach","iKey","needsVDOM","querySelectId","selectAll","nodeList","charRegex","idList","list","splitId","setId","closest","el","nodeType","setStyleAttribute","addClasses","removeClasses","msMatchesSelector","webkitMatchesSelector","isColEName","Base","isRendered","isComplexArraySetter","allowServerDataBinding","isProtectedOnChange","changedProperties","oldProperties","bulkChanges","refreshing","ignoreCollectionWatch","finalUpdate","childChangedProperties","modelObserver","addInstance","muteOnChange","prevDetection","dataBind","serverDataBind","callChildDataBind","clearChanges","getOwnPropertyNames","newChanges","oldChanges","onPropertyChanged","sfBlazor","updateModel","newValue","oldValue","moduleClass","ej2_instances","instance","curKey","defaultValue","getObjectArray","isSetter","isFactory","curType","inst","propertyGetter","propertySetter","oldVal","complexGetter","complexSetter","complexArrayGetter","defCollection","ignore","controlParent","extendFunc","descriptor","complexArrayDefinedCallback","complexArraySetter","oldValueCollection","newValCollection","dFunc","keyString","propName","getParentKey","model_1","getArrayModel","model","ejsAction","isControlParent","arrayFunction","modelObject","Property","propertyDescriptor","addPropertyCollection","Complex","Collection","eventDescriptor","finalContext","getParentContext","NotifyPropertyChanges","classConstructor","propertyType","propList","complexProps","colProps","propNames","complexPropNames","colPropNames","eventNames","propertyName","curText","Animation","ease","linear","easeIn","easeOut","easeInOut","elasticInOut","elasticIn","elasticOut","Animation_1","animate","getModel","elements_1","element_1","delayAnimation","animation","removeAttribute","animationId","frameId","cancelAnimationFrame","applyAnimation","step","timerId","prevTimeStamp","startAnimation","avg","timingFunction","progress","requestAnimationFrame","newProp","oldProp","rippleEffect","rippleOptions","rippleModel","getRippleModel","rippleFlag","isRippleEnabled","rippleHandler","rippleUpHandler","rippleLeaveHandler","isCenterRipple","pageX","pageY","sqrt","rippleElement","transform","removeRipple","rippleElements","opacity","MODULE_SUFFIX","ModuleLoader","loadedModules","inject","requiredModules","moduleList","reqLength","clearUnusedModule","modl","moduleList_1","module","modName","member","isModuleLoaded","moduleObject","memberName","getMemberName","isProperty","loadedModule","clean","usedModules","arg","removableModule","removableModule_1","mod","ChildProperty","parentObj","isParentArray","updateChange","updateTimeOut","changeTime_1","clearUpdate","curIndex","restrictServerDataBind","isSaveChanges","parent_1","parentKey","complexKeys","isFinal","actionProperty","valueLength","bypassKey","LicenseValidator","isValidated","errors","noLicense","trailExpired","versionMismatched","platformMismatched","invalidKey","licKey","convertToChar","validateMsg","getInfoFromKey","result_1","invalidPlatform","expiryDate","expDate","currDate","errorDiv","getDecryptedData","licKeySplit","pkey","decryptedStr","resultArray","licKeySplit_1","lKey","decodeStr","buffr","licenseValidator","cArr","cArr_1","registerLicense","lastPageID","validateLicense","componentCount","lastHistoryLen","versionBasedStatePersistence","Component","randomId","isStringTemplate","needsID","isReactHybrid","moduleLoader","localObserver","detectFunction","enablePersistence","setPersistData","refresh","preRender","injectModules","accessMount","mount","getRootElement","actualElement","getLocalData","eleId","ej2StatePersistenceVersion","mergePersistData","renderComplete","wrapperElement","event_2","injectedModules","Inject","isVDOM","triggerStateChange","currentContext","calls","getPersistData","renderReactTemplates","clearTemplate","templateName","isHistoryChanged","pageID","history","addOnPersist","persistObj","objValue","getActualProperties","ignoreOnPersist","iterateJsonProperties","ignoreList","newObj","newList","this_1","defaultPosition","isDraggedObject","isDragged","Position","Draggable","dragLimit","Draggable_1","getDefaultPosition","borderWidth","diffX","prevLeft","prevTop","dragProcessStarted","eleTop","tapHoldTimer","externalInitialize","diffY","parentScrollX","parentScrollY","droppables","toggleEvents","scope","isUnWire","handle","enableTapHold","mobileInitialize","initialize","evt","currentTarget","removeTapholdTimer","tapHoldThreshold","getScrollableParent","scroll","client","tempScrollHeight","scrollHeight","tempScrollWidth","scrollWidth","getScrollableValues","curTarget","currentStateTarget","isDragStarted","abort","abortSelectors","preventDefault","changedTouches","intCoord","getCoordinates","initialPosition","clientX","clientY","relativeXPosition","relativeYPosition","intDragStart","intDestroy","isPreventSelect","isChangeTouch","intCordinate","styleProp","margin","marginLeft","marginTop","marginRight","marginBottom","dragTarget","intClosest","isReplaceDragEle","currentStateCheck","calculateParentPosition","getMousePosition","isDragScroll","getHelperElement","dragTargetElement","helperElement","parentClientRect","dragStart","getProperTargetElement","bindEvents","bindDragEvents","dragElement","dragArea","setDragArea","enableTailMode","enableScrollHandler","posValue","getProcessedPositionValue","dragElePosition","getDragPosition","intDrag","intDragStop","setGlobalDroppables","elementInViewport","offsetHeight","pageYOffset","pageXOffset","queryPositionInfo","rect","docHeight","getDocumentWidthHeight","docWidth","drag","eleObj","checkTargetElement","hoverObject","triggerOutFunction","dragData","intOver","tLeft","tTop","pagex","pagey","dLeft","dTop","skipDistanceCheck","helperWidth","helperHeight","draEleTop","draEleLeft","iTop","iLeft","tempDraEleTop","dragValue","enableAutoScroll","scrollIntoView","intOut","docBody","docEle","dragStop","dragStopCalled","intDrop","eleWidthBound","eleHeightBound","elementArea","tborder","tpadding","lowerKey","prevStyle","pointerEvents","elementFromPoint","oldEle","elem","isdragscroll","dragEle","srcElement","isOffsetParent","cursorAt","sender","draggable","draggedElement","dropIns","getDropInstance","drop","eleInst","eleInst_1","Droppable","mouseOver","wireEvents","area","isDrag","isDropArea","canDrop","droppedElement","coord","keyCode","KeyboardEvents","keyPressHandler","isAltKey","altKey","isCtrlKey","ctrlKey","isShiftKey","shiftKey","curkeyCode","which","keyConfigs","configCollection","configCollection_1","rconfig","rKeyObj","KeyboardEvents_1","getKeyConfigData","keyAction","unwireEvents","config","configCache","keyData","Number","getKeyCode","keyVal","L10n","controlName","localeStrings","setLocale","intLocale","intGetControlConstant","currentLocale","localeObject","SwipeSettings","swipeRegex","Touch","touchAction","tapCount","startEvent","point","updateChangeTouches","isTouchMoved","movedDirection","startPoint","lastMovedPoint","startEventData","hScrollLocked","vScrollLocked","tStampStart","now","timeOutTapHold","tapHoldEvent","moveEvent","endEvent","cancelEvent","movedPoint","eScrollArgs","calcScrollPoints","scrollArg","startEvents","originalEvent","startX","startY","distanceX","distanceY","scrollDirection","velocity","getVelocity","timeOutTap","swipeFn","tap","tapThreshold","modeclear","endPoint","calcPoints","swipeArgs","swipeDirection","eSwipeArgs","tDistance","swipeSettings","swipeThresholdDistance","defaultArgs","canTrigger","scrollBool","isScrollable","moved","checkSwipe","modeClear","lastTapTime","eleStyle","eTapArgs","pnt","newX","newY","newT","xDist","yDist","LINES","QUOTES","IF_STMT","ELSEIF_STMT","ELSE_STMT","FOR_STMT","IF_OR_FOR","CALL_FUNCTION","NOT_NUMBER","WORD","DBL_QUOTED_STR","WORDIF","ARR_OBJ","SINGLE_SLASH","DOUBLE_SLASH","WORDFUNC","WINDOWFUNC","compile","ignorePrefix","argName","evalExpResult","evalExp","condtion","fnCode","varCOunt","localKeys","isClass","singleSpace","cnt","matchStr","SPECIAL_CHAR","rlStr","addNameSpace","strs","HandleSpecialCharArrObj","rlStr_1","mtc","fnStr","fNameSpace","ftArray","splRegexp","arrObj","splArrRegexp","SlashReplace","NameSpaceForspecialChar","addNS","NameSpaceArrObj","arrObjReg","tempStr","double","nameSpaceNew","windowFunc","quotes","HAS_ROW","HAS_SVG","blazorTemplates","getRandomId","templateString","compiler","engineObj","templateId","root","blazorTemplateId","blazorId","childNodes","updateBlazorTemplate","comp","callBack","ejsIntrop","updateTemplate","resetBlazorTemplate","templateDiv","getElementById","innerTemplates","tempId","tempElement","setTemplateEngine","classObj","getTemplateEngine","Engine","removeTags","removeAttrs","attribute","jsEvents","SanitizeHtmlHelper","beforeSanitize","selectors","sanitize","output","serializeValue","wrapElement","removeXssTags","removeJsEvents","removeXssAttrs","tempEleValue","removeElement","nodes","localName","attr","hasAttribute","RowModelGenerator","getInfiniteIndex","generateRow","ensureColumns","DetailExpand","RowDragIcon","pid","tIndex","isDataRow","parentGid","isAltRow","enableAltRow","isSelected","getSelectedRowIndexes","refreshForeignKeyRow","getFrozenMode","foreignKeyColumns","dummies","CommandColumn","oIndex","refreshRows","CellType","RenderType","ToolbarItem","ResponsiveDialogAction","ResponsiveToolbarAction","getTextNode","childnode","createCheckBox","enableRipple","wrapper","rippleSpan","frameSpan","checked","labelSpan","TOUCHEND_HIDE_DELAY","TAPHOLD_THRESHOLD","SHOW_POINTER_TIP_GAP","HIDE_POINTER_TIP_GAP","MOUSE_TRAIL_GAP","POINTER_ADJUST","ROOT","RTL","DEVICE","ICON","CLOSE","TOOLTIP_WRAP","CONTENT","ARROW_TIP","ARROW_TIP_OUTER","ARROW_TIP_INNER","TIP_BOTTOM","TIP_TOP","TIP_LEFT","TIP_RIGHT","POPUP_ROOT","POPUP_OPEN","POPUP_CLOSE","POPUP_LIB","HIDE_POPUP","POPUP_CONTAINER","effect","Tooltip","mouseMoveEvent","mouseMoveTarget","containerElement","isBodyContainer","formatPosition","tooltipPositionY","tooltipPositionX","renderArrow","setTipClass","tip","tipClass","tooltipEle","renderPopup","elePos","mouseTrail","getTooltipPosition","popupObj","openPopupHandler","closePopupHandler","offsetPos","calculateTooltipOffset","collisionPosition","calculateElementPosition","collisionLeft","collisionTop","collisionFlipFit","windowResize","reposition","findTarget","needTemplateReposition","tooltipEventArgs","clear","tooltipEleWidth","tooltipEleHeight","arrowEle","tipWidth","tipHeight","tipAdjust","showTipPointer","tipHeightAdjust","clientHeight","tipWidthAdjust","clientWidth","updateTipPosition","selEle","removeList","adjustArrow","leftValue","topValue","tooltipWidth","tooltipHeight","arrowInnerELe","tipPosExclude","tipPointerPosition","renderContent","tooltipContent","HTMLElement","enableHtmlSanitizer","tempFunction","tempArr","enableHtmlParse","templateFunction","renderCloseIcon","isSticky","tipClose","onStickyClose","addDescribedBy","describedby","removeDescribedBy","orgdescribedby","tapHoldHandler","autoCloseTimer","targetHover","touchEndHandler","targetClick","hideTooltip","closeDelay","targetList","ctrlId","targetList_1","target_1","restoreElement","showTooltip","mouseMoveBeforeOpen","mouseMoveBeforeRemove","showAnimation","showTimer","hideTimer","openDelay","isInteracted","observeCallback","beforeRenderArgs","beforeRenderCallback","role","tooltipBeforeRender","tooltipAfterRender","appendContainer","ctrlObj","maxWidth","observedArgs","beforeOpenCallback","openAnimation_1","show","onMouseMove","wireMouseEvents","tooltip","checkCollision","affectedPos","checkCollideTarget","newpos","collidedPosition","elePosVertical","elePosHorizontal","getOffSetPosition","elePosition","eleOffset","arrowleft","positionString","newPos","offsetType","windowCollision","hideAnimation","targetElement","hide","isTooltipOpen","tooltipHide","popupHide","closeAnimation","unwireMouseEvents","tooltipHover","tooltipMouseOut","onMouseOut","enteredElement","relatedTarget","checkForTooltipElement","tooltipElementMouseOut","eventPageX","eventPageY","touches","colpos","keyDown","touchEnd","scrollHandler","opensOn","triggerList","getTriggerList","triggerList_1","wireFocusEvents","touchModule","tapHold","targetList_2","triggerList_2","unwireFocusEvents","targetList_3","triggerList_3","CellMergeRender","cellArgs","td","cellRendererFact","cellRenderer","getCellRenderer","cellSpan","getRowsObject","targetCell_1","uid_1","colSpanLen","colSpanRange","rowSpanRange","isSpanned","spanText","isRowSpanned","containsKey","backupMergeCells","setMergeCells","generteKey","fname","splitKey","getMergeCells","updateVirtualCells","mCells","getIndexFromAllColumns","vColumnIndices","RowRenderer","isSpan","rowTemplate","refreshRow","isChanged","refreshMergeCells","tr","cells_1","isEdit","rowArgs","chekBoxEnable","selIndex","isCheckBoxSelection","checkAllRows","buildAttributeFromRow","isColumnSelected","Filter","requestTypeAction","prevRowCells","prevRowCell","cellMerge","rowHeight","lazyLoadCssClass","vFTable","frozenColumns","summarycell","lastSummaryCell","firstSummaryCell","rowindex","dataUID","ariaSelected","GroupModelGenerator","infiniteChildCount","renderInfiniteAgg","summaryModelGen","isInfiniteScroll","isCollapseStateEnabled","ensureRowVisibility","parentid","childId","generateDataRows","preCaption","captionRow","generateCaptionRow","getPreCaption","isRenderAggregate","rowCnt","isCaptionRow","aggregatesCount","setInfiniteRowVisibility","preCap","getCaptionRowCells","visibles","indexes","groupedLen","generateIndentCell","Expand","captionCells","cIndex_1","wFlag","tmpFlag","GroupCaption","GroupCaptionEmpty","childID","childGid","gSummary","fkValue","cRow","childRow","ContentRender","freezeRows","movableRows","freezeRowElements","currentInfo","prevCurrentView","isLoaded","viewColIndexes","infiniteCache","isRemove","visibleRows","visibleFrozenRows","rightFreezeRows","isAddRows","isInfiniteFreeze","useGroupCache","rafCallback","mHdr","getMovableVirtualHeader","fHdr","getFrozenVirtualHeader","ariaService","setBusy","getPanel","prevPage","infiniteScrollSettings","enableCache","maxBlock","maxBlocks","rowIdx","rowElements","startIdx","ceil","renderFrozenRightContent","getFrozenRightRowsObject","isManualRefresh","allowTextWrap","case","enableDeepCompare","getDataModule","generator","getModelGenerator","setVisible","colGroupRefresh","enableAfterRender","refreshContentRows","beforeCellFocused","droppableDestroy","byKey","keyArgs","pressedKey","renderPanel","setOptions","busy","setPanel","innerDiv","renderTable","virtualTable","virtualTrack","createContentTable","setTable","getTable","multiselectable","selectionSettings","initializeContentDrop","frozenRows","getHeaderContent","cellspacing","setColGroup","getHeaderTable","getColGroup","currentMovableRows","contentModule","frag","initialPageRecords","hdrTbody","trElement","hdrfrag","frzCols","tbdy","modelData","fCont","mCont","cont","emptyVcRows","virtualInfo","sentinelInfo","renderMovableContent","checkCache","setGroupCache","setTbody","getTbody","isFrozenLeft","templatetoclear","rootNodes","destroyTemplate","templates","blockLoad","vcRows","top_1","offsets","offsets_1","vGroupOffsets","bSize","isEndBlock","blockIndexes","contentPanel","rowObject","isVFFrozenOnly","bIndex","mhdrData","vgenerator","virtualFrozenHdrRefresh","setRowsInLazyGroup","setInfiniteVisibleRows","getBlockSize","rowTemplateID","isHeader","getRowTemplate","lastElementChild","isTR","nodeName","isVFreorder","ensureFrozenHeaderRender","ensureVirtualFrozenHeaderRender","colcount","splitRows","getFrozenHeader","parentTable","setIsFrozen","isVFTable","frCont","getContent","appendContent","renderNextFrozentPart","vRows","maintainRows","frozenCols","getGroupCache","initialGroupRows","getCurrentBlockInfiniteRecords","isFreeze","getRows","getReorderedVFRows","getReorderedFrozenRows","getReorderedRows","fhdrData","getInfiniteRows","getInfiniteMovableRows","infiniteCacheRows","infiniteRows","panel","contentTable","getMovableRows","getRowElements","getMovableRowElements","setRowElements","colgroup","testRow","fRows","mRows","rowLen","cellLen","rightRows","rightLen","needFullRefresh","getDataRows","infiniteData","infiniteRowVisibility","contentrows","isDetailRow","clen","getNormalizedColumnIndex","colIdx","getColumnIndexByUid","displayVal","getFrozenLeftColumnsCount","movable","getMovableColumnsCount","colG","getFrozenRightDataRows","infiniteFreezeData","mTable","getMovableDataRows","infiniteMovableData","setDisplayNone","isTemplate","invokedFromMedia","hideAtMedia","updateMediaColumns","isXaxis","getHeaderColGroup","replaceChild","droppable","canSkip","renderEmpty","setSelection","clearAll","getRowByIndex","getInfiniteRowIndex","firstRowIndex","getVirtualRowIndex","getMovableRowByIndex","enable","setRowObjects","immutableModeRendering","oldKeys","newKeys","newRowObjs","oldIndexes","oldRowObjs","batchChangeKeys","getBatchEditedRecords","newIndexes","hasBatch","oldRowElements","trs","currentLen","editSettings","oldIndex","refreshImmutableContent","isEqual","objectEqualityChecker","setRowValue","old","next","primaryKey","getBatchChanges","newRowPosition","isDirty","updateCellIndex","rowEle","HeaderRender","frzIdx","notfrzIdx","isFirstCol","parentEle","visualElement","headercelldiv","getStackedHeaderColumnByHeaderText","innerText","getColumnByUid","lockColumn","colIndex","getColumnIndexByField","lineHeight","cloneElement","widthService","getFrozenRightColumnsCount","colPosRefresh","renderCustomToolbar","rowRenderingMode","updateCustomResponsiveToolbar","toggleStackClass","createHeaderTable","initializeHeaderDrag","initializeHeaderDrop","headerPanel","headerTable","tHead","createTable","createHeader","tableEle","tblName","getFrozenLeftCount","findHeaderRow","createHeaderContent","thead","bodyCell","rowBody","updateColGroup","frozenMode","colHeader","rowRenderer","getHeaderCells","colFreezeMode","pop","len_2","RowDragHIcon","lockcolPositionCount","lockColsRendered","appendCells","isFirstObj","isLastCol","isMovable","isStackLastCol","lastCol","isLockColumn","isFrozenLockColumn","scrollbar","getCellCnt","stackedLockColsCount","getStackedLockColsCount","isStackedLockColumn","isFrozenStack","ensureStackedFrozen","getColSpan","isFirstCol_1","isLaststackedCol","inViewIndexes","isTrue","lockColsCount","getFrozenColSpan","normalizedfrzCols","mTblColGrp","refreshUI","freezeReorder","getVirtualFreezeHeader","setWidthToColumns","updateDefaultCursor","gCells","textWrapSettings","wrapMode","stackedHdr","showDropArea","toolbar","toolbarItems","toolbarLeft","toolbarItem","button","btnObj","onclick","showResponsiveCustomSort","showResponsiveCustomFilter","enableAdaptiveUI","resToolbar","CellRenderer","localizer","tabindex","rowChkBox","getGui","evaluate","fData","isReactCompiler","literals_1","dummyData","templateID","invokeFormatter","refreshCell","refreshTD","cellIndex","parentRow","newTD","cloneAttributes","innerHtml","displayAsCheckBox","localeStr","fromFormatter","appendHtml","persistSelection","checkWrap","rowID","setAttributes","buildAttributeFromCell","customAttributes","clipMode","isCheckBoxType","colindex","AriaService","setStateAndProperties","setExpand","setSort","isBusy","invalid","setGrabbed","isGrabbed","grabbed","setDropTarget","isTarget","dropeffect","datarole","haspopup","rowcount","HeaderCellRenderer","hTxtEle","sortEle","gui","chkAllBox","fltrMenuEle","prepareHeader","hValueAccer","ariaAttr","innerDIV","headerValueAccessor","checkAllWrap","matchFlColumns","extendPrepareHeader","headerTempID","matchFilteredColumns","StackedHeaderCellRenderer","toolTip","IndentCellRenderer","GroupCaptionCellRenderer","fKeyValue","captionTemplate","tempID","GroupCaptionEmptyCellRenderer","ExpandCellRenderer","HeaderIndentCellRenderer","DetailHeaderIndentCellRenderer","DetailExpandCellRenderer","RowDragDropRenderer","nodeElement","RowDragDropHeaderRenderer","Render","emptyGrid","counter","renderer","headerRenderer","getRenderer","contentRenderer","Content","isLayoutRendered","emptyRow","setWidth","setHeight","setPadding","refreshDataManager","dataLength","prevPageMoving","resetTemplates","detailTemplateID","toolbarTemplate","refreshComplete","isCaptionCollapse","isFActon","isNeedForeignAction","deffered_1","disablePageWiseAggregates","validateGroupRecords","dataManagerSuccess","dataManagerFailure","deferred","fbool","sendBulkRequest","dmSuccess","dmFailure","renderEmptyRow","spanCount","colspan","dynamicColumnChange","updateColumnType","equalTo","fmtr","validationRules","isColTypeDef","actionArgs","isInfiniteDelete","isInfiniteEnd","updatesOnInitialRender","isInitialLoad","enableImmutableMode","alert","setRowCount","dataRowCount","buildColumns","isAutoGen","iterateComplexColumns","childKeys","complexCols","instantiateRenderer","addRenderer","cellrender","addCellRenderer","group0","groupN","addWhere","curDm","curFilter","rPredicate","updateGroupInfo","untouched","uGroup","itemGroup","uGroupItem","data_1","customAggregate","CellRendererFactory","cellRenderMap","ResponsiveDialogRenderer","sortedCols","sortPredicate","isCustomDialog","evtHandlers","closeCustomDialog","refreshCustomFilterOkBtn","renderResponsiveContextMenu","renderCustomFilterDiv","customExFilterClose","refreshCustomFilterClearBtn","onActionCompleteFn","editComplate","isCustomDlgRender","customResponsiveDlg","closeBtn","filterModule","closeDialog","saveBtn","disabled","backBtn","localeObj","customExcelFilterParent","isFilter","isOpen","filterClearBtn","isFiltered","getHeaderTitle","renderResponsiveContent","filterParent","customColumnDiv","sortBtnParent","filteredCols","isSort","cDiv","getSortedFieldsAndDirections","sortButtonClickHandler","divIcon","iconSpan","customFilterColumnClickHandler","columndiv","allowMultiSorting","isSortApplied","resetSortButtons","setSortedCols","buttons","getCurrentSortedFields","isRowResponsive","showResponsiveDialog","colDiv","isDialogClose","clearCustomFilter","removeCustomDlgFilterEle","renderCustomFilterDialog","filteredCol","renderResponsiveDialog","setFilterModel","openDialog","createOptions","dialogObj","maxHeight","setTopToChildDialog","dialogEle","outerDiv","customFilterDlg","getDialogOptions","isCustomFilter","isModal","showCloseIcon","closeOnEscape","adaptiveDlgTarget","dialogOpen","created","dialogCreated","beforeDialogClose","animationSettings","renderResponsiveHeader","sortField","closeResponsiveDialog","closeCustomFilter","keyHandler","sortColumn","clearSorting","primaryKeyValue","isAdd","getDialogName","getButtonText","titleDiv","dialogHdrBtnClickHandler","id_1","clearBtn","clearFiltering","filterClear","applyCustomFilter","mainfilterdiv","destroyCustomFilterDialog","customEle","ServiceLocator","services","register","registerAdaptiveService","isAdaptiveUI","responsiveDialogRenderer","RendererFactory","rendererMap","rName","ColumnWidthService","totalColumnsWidth","setColumnWidth","getTableWidth","setMinwidthBycalculation","tWidth","difference","collection","tmWidth","collection_1","minWidth","isWidthUndefined","setUndefinedColumnWidth","cWidth","getWidth","tgridWidth","setWidthToTable","elementWidth","headerCol","fWidth","isDraggable","contentCol","freezeLeft","freezeRight","movableCount","isColFrozen","frHdr","getFrozenRightHeader","getColumnLevelFrozenColgroup","editTableCol","refreshFrozenScrollbar","frzMode","frozenScrollbar","movableScrollbar","frozencontent","frozenWidth","movableWidth","frozenRightScrollbar","frozenRightWidth","placeHolder","getMovableVirtualContent","getSiblingsHeight","previous","getHeightFromDirection","sibling","isWidUndefCount","calcMovableOrFreezeColWidth","tableType","setWidthToFrozenRightTable","freezeWidth","isAutoResize","headerTbl","cntTbl","setWidthToFrozenLeftTable","setWidthToMovableTable","isColUndefined","isWidthAuto","setWidthToFrozenEditTable","setWidthToMovableEditTable","resizeSettings","PageSettings","ColumnChooserSettings","__assign","assign","t","Selection","selectedRowIndexes","selectedRowCellIndexes","selectedRecords","preventFocus","selectedColumnsIndexes","checkBoxState","isMultiShiftRequest","isMultiCtrlRequest","enableSelectMultiTouch","clearRowCheck","selectRowCheck","selectedRowState","chkAllCollec","isCheckedOnAdd","persistSelectedData","deSelectedData","needColumnSelection","isCancelDeSelect","isPreventCellSelect","disableUI","isPersisted","cmdKeyPressed","cellselected","isMultiSelection","isAddRowsToSelection","initialRowSelection","isPrevRowSelection","isKeyAction","isRowDragSelected","autoFillRLselection","right_bottom","bottom_left","top_right","top_left","top_bottom","top_right_bottom","top_bottom_left","top_right_left","right_bottom_left","all_border","factory","initializeSelection","onActionBegin","fDataUpdate","getRowObj","onActionComplete","gridElement","hidePopUp","clearSelection","unWireEvents","mouseDownHandler","isEditing","editModule","formObj","isPersistSelection","getSelectedMovableRow","getSelectedFrozenRightRow","getFrozenRightContent","getFrozenRightRowByIndex","getCurrentBatchRecordChanges","currentRecords","selectRow","isToggle","enableSimpleMultiRowSelection","addRowsToSelection","selectData","selectedRow","selectedMovableRow","selectedFrozenRightRow","isRemoved","selectedIndex","isAvailable","frozenData","getRowObjectByIndex","getRowObjectFromUID","prevSelectedData","getSelectedRecords","clearRowSelection","isRowType","isRowSelected","activeTarget","can","rowSelectingCallBack","isCtrlPressed","isShiftPressed","previousRow","prevRowIndex","previousRowIndex","actualTarget","isHeaderCheckboxClicked","addMovableArgs","toggle","removed","checkboxMode","clearSelectedRow","selectRowCallBack","clearRow","disableInteracted","updateRowSelection","selectMovableRow","selectRowIndex","isHeaderCheckBoxClicked","updateRowProps","targetObj","mRow","frRow","mObj","previousMovRow","frozenRightRow","previousFrozenRightRow","selectRowsByRange","selectRows","getCollectionFromIndexes","selectedDataUpdate","selectedData","rowIndexes","currentRow","isSingleSel","prevRow","selectRowFn","rightEle","rowIndexes_1","checkboxOnly","checkboxColumn","rowIndexes_2","isUnSelected","enableToggle","rowDeselect","addRemoveClassesForRow","clearRowCallBack","selectedEle","updatePersistCollection","updateCheckBoxes","chkState","ensureCheckboxFieldSelection","pKey_1","updatePersistDelete","isPresent","chkBox","nextElementSibling","checkedTarget","setCheckAllState","getPrevIndexes","contextMenuModule","mouseButton","onClick","checkSelectAllClicked","clearCellSelection","clearColumnSelection","prevCIdxs","prevECIdxs","mRow_1","fRightRow_1","rowIndex_1","foreignKeyData_1","frRows","getFrozenRightRows","isRowClicked","getCheckAllStatus","updatePersistSelectedData","movableRow","rowDeselectCallBack","cancl_1","isSingleDeSel","rowDeselectObj","rowInString","target_2","rowidx","rowidxex","dataTxt","isHeaderCheckBxClick","getSelectedMovableCell","getColumnByIndex","getMovableCellFromIndex","getColIndex","selectCell","isCellType","selectedCell","getCellFromIndex","isCellSelected","successCallBack","previousRowCell","getCellIndex","currentCell","previousRowCellIndex","cellSelectingArgs","cncl","clearCell","updateCellSelection","selectedRowCellIndex","updateCellProps","rIdx","selectCellsByRange","cellIndexes","stIndex","edIndex","cellSelectionMode","getLastColIndex","addAttribute","cellSelectedArgs","selectCells","rowCellIndexes","cellSelectArgs","addRowCellIndex","prvRowCellIndex","addCellsToSelection","hideAutoFill","getMovableRowsObject","cellIndexes_1","selectedCellIdx","cellDeselect","cancl","rowCellIndex","isRowAvail","selectedCells","getSelectedCellsElement","cLen","bdrElement","showHideBorders","addMovableRows","mouseMoveHandler","gBRect","x1","y1","x2","y2","isCellDrag","startAFCell","endAFCell","selectLikeExcel","startDIndex","isAutoFillSel","showAFBorders","selectLikeAutoFill","startDCellIndex","drawBorders","createBorders","positionBorders","isLastCell","isLastRow","isFirstRow","isFirstCell","setBorders","bdrStr","stOff","endOff","parentOff","topOffSet","leftOffset","rightOffset","selectDirection","updateStartEndCells","getMovableContent","mcBdrElement","frcBdrElement","fhBdrElement","headerModule","getMovableHeader","mhBdrElement","frhBdrElement","applyBorders","applyBothFrozenBorders","rtl","includes","drawAFBorders","bdrAFBottom","createAFBorders","positionAFBorders","bdrAFLeft","firstCellTop","firstCellLeft","parentRect","sTop","sLeft","totalHeight","totalWidth","scrolloffSet","bdrAFRight","bdrAFTop","leftRemove","topRemove","hideAFBorders","updateValue","createBeforeAutoFill","updateCell","getAutoFillCells","startCellIdx","isApply","startrowIdx","endrowIdx","endCellIdx","colLen","cellIdx","startCellIndex","trIdx","mouseUpHandler","mUPTarget","updateAutoFillPosition","lastCell","updateStartCellsIndex","autofill","enableAutoFill","rindex","isFrozenCol","isFrozenRow","isFrozenRight","clientRect","colWidth","allowRowDragAndDrop","enableDrag","isUpdate","postion","clearSelAfterRefresh","onCellFocused","columnPositionChanged","initialEnd","rowsRemoved","refreshHeader","actionCompleteFunction","actionComplete","addEventListener_checkbox","removeEventListener_checkbox","isMacOS","keyDownHandler","keyUpHandler","beforeFragAppend","getCheckAllBox","initPerisistSelection","prevColIndex","checkBoxSelectionChanged","isLeftRightFrozen","selectedRowIndex","gobj","chkField","proxy_1","dataSuccess","refreshPersistSelection","setRowSelection","mtbody","getMovableContentTbody","frtbody","getFrozenRightContentTbody","checkState","editChkBox","onDataBound","getSelectedRows","totalRecords","checkSelectAllAction","cRenderer","editForm","checkSelectAll","checkBox","stateStr","triggerChkChangeEvent","checkSelect","rIndex","rowCellSelectionHandler","moveIntoUncheckCollection","updateSelectedRowIndex","selectedVal","isAllSelected","isInteraction","checkToSelectAll","checkedLen","spanEle","indeterminate","clickHandler","allowColumnSelection","popUpClickHandler","chkSelect","isEqualNode","hoverFrozenRows","showPopup","headerSelectionHandler","isJump","isContent","isSelectable","headerAction","thLen","childElementCount","selectedIndexes","getSelectedRowCellIndexes","getKeyColIndex","applyDownUpKey","applyRightLeftKey","shiftDownKey","applyShiftLeftRightKey","applyHomeEndKey","applyCtrlHomeEndKey","ctrlPlusA","applySpaceSelection","allowNextRowEdit","stackedHeader","innerColumn","getstackedColumns","lastIndex","firstIndex","applyUpDown","selectColumn","cIndex","selectColumnsByRange","innerColumnIndexes","detailIndentCell","dragdropIndentCell","selectedCol","getColumnHeaderByUid","isColSelected","isMultiColumns","clearColDependency","headerCell","previousColumnIndex","updateColSelection","selectedArgs","updateColProps","selectColumns","getselectedCols","selectingArgs","selectColumnWithExisting","newCol","clearIndex","getFrozenRightColumnHeaderByIndex","getMovableColumnHeaderByIndex","deselectedArgs","isCanceled","columnDeselect","selectedHeader","getSelectedColumnCells","isRowTemplate","seletedcells","selectionString","dataReady","onDataBoundFunction","setCheckAllForEmptyGrid","actionCompleteFunc","actionCompleteHandler","resizeEndFn","checkAllBox","isInfinitecroll","isSelectedRowIndexUpdating","Search","searchString","arg1","refreshSearch","onSearchComplete","cancelBeginEvent","ShowHide","showBy","getToggleFields","hideBy","finalized","getKeyBy","columnModel","changedStateColumns","showHideArgs","currentViewCols","allowSelection","colsInCurrentView","col1","col2","Scroll","previousValues","oneTimeReady","uiupdate","toolbarModule","refreshOverflow","mHdrHeight","getScrollBarWidth","height_1","getRowHeight","ensureOverflow","getThreshold","removePadding","hDiv","footerDiv","getFooterContent","appName","setScrollLeft","onFrozenContentScroll","isPreventScrollEvent","onContentScroll","scrollTarget","isLeft","isDown","scrollDown","isFooter","onCustomScrollbarScroll","onTouchScroll","pointerType","pageXY","getPointXY","scrollBar","setPageXY","getScrollbleParent","scrollingElement","defaultView","addStickyListener","makeStickyHeader","mScrollBar","enableStickyHeader","sHeight","css","contentRect","getClientRects","headerEle","toolbarEle","groupHeaderEle","parentTop","elemTop","setSticky","ccDlg","AggregateColumn","getTemplate","setPropertiesSilent","AggregateRow","Clipboard","copyContent","isSelect","pasteHandler","isMacLike","metaKey","activeElement","clipBoardTextArea","x_1","scrollX","y_1","scrollY","scrollTo","paste","isAvail","dataRows","fTr","mTr","frTr","selectionModule","setCopyData","withHeader","getSelection","headerTextArray","getCopyData","checkBoxSelection","colIndexes","getColumnHeaderByIndex","setSelectionRange","isCell","isElement","queryCommandSupported","execCommand","blur","removeAllRanges","rowCellIndxes","SortDescriptor","SortSettings","InfiniteScrollSettings","FilterSettings","SelectionSettings","SearchSettings","RowDropSettings","TextWrapSettings","ResizeSettings","GroupSettings","EditSettings","Grid","keyA","frozenRightCount","frozenLeftCount","tablesCount","visibleFrozenLeft","visibleFrozenRight","visibleMovable","frozenLeftColumns","frozenRightColumns","movableColumns","media","isFreezeRefresh","tableIndex","componentRefresh","isVirtualAdaptive","rowUid","isAutoFitColumns","pageTemplateChange","mediaBindInstance","commandDelIndex","asyncTimeOut","enableLogger","Grid_1","mergePersistGridData","keyEntity","scrollPosition","currentObject","pagerTemplate","persistData","setFrozenCount","enableInfiniteAggrgate","allowExcelExport","allowPdfExport","isDetail","isCommandColumn","allowAdding","allowDeleting","extendRequiredModules","contextMenuItems","showColumnChooser","isForeignKeyEnabled","initProperties","initializeServices","isInitial","mediaCol","filterOperators","equal","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","notEqual","startsWith","defaultLocale","EmptyRecord","True","False","InvalidFilterMessage","GroupDropArea","UnGroup","UnGroupButton","GroupDisable","FilterbarTitle","EmptyDataSourceError","Add","Edit","Cancel","Update","Delete","Pdfexport","Excelexport","Wordexport","Csvexport","Columnchooser","Item","EditOperationAlert","DeleteOperationAlert","SaveButton","OKButton","CancelButton","EditFormTitle","AddFormTitle","BatchSaveConfirm","BatchSaveLostChanges","ConfirmDelete","CancelEdit","ChooseColumns","SearchColumns","Matchs","FilterButton","ClearButton","StartsWith","EndsWith","Contains","Equal","NotEqual","LessThan","LessThanOrEqual","GreaterThan","GreaterThanOrEqual","ChooseDate","EnterValue","Copy","Group","Ungroup","autoFitAll","AutoFitAll","AutoFit","Export","FirstPage","LastPage","PreviousPage","NextPage","SortAscending","SortDescending","EditRecord","DeleteRecord","FilterMenu","SelectAll","Blanks","FilterTrue","FilterFalse","NoResult","ClearFilter","Clear","NumberFilter","TextFilter","DateFilter","DateTimeFilter","MatchCase","Between","CustomFilter","CustomFilterPlaceHolder","CustomFilterDatePlaceHolder","AND","OR","ShowRowsWhere","FilterMenuDialogARIA","ExcelFilterDialogARIA","DialogEditARIA","ColumnChooserDialogARIA","ColumnMenuDialogARIA","CustomFilterDialogARIA","SortAtoZ","SortZtoA","SortByOldest","SortByNewest","SortSmallestToLargest","SortLargestToSmallest","Sort","downArrow","upArrow","rightArrow","leftArrow","shiftDown","shiftUp","shiftRight","shiftLeft","home","escape","ctrlHome","ctrlEnd","pageUp","pageDown","ctrlAltPageUp","ctrlAltPageDown","altPageUp","altPageDown","altDownArrow","altUpArrow","ctrlDownArrow","ctrlUpArrow","ctrlPlusP","delete","f2","enter","ctrlEnter","shiftEnter","tab","shiftTab","space","ctrlPlusC","ctrlShiftPlusH","ctrlSpace","ctrlLeftArrow","ctrlRightArrow","renderModule","searchModule","getMediaColumns","checkLockColumns","processModel","gridRender","addListener","updateStackedFilter","gcol","getShowHideService","pushMediaColumn","matchMedia","mediaQueryUpdate","mediaColumn","showHider","refreshMediaCol","footerContent","enableHover","removeMediaListener","removeListener","eventInitializer","hasGridChild","destroyDependentModules","toolTipObj","keyboardModule","focusModule","clipboardModule","enableBoxSelection","checkCursor","requireRefresh","requireGridRefresh","freezeRefresh","isEllipsisTooltip","updateColumnObject","properties_1","rowTemplateFn","detailTemplateFn","extendedPropertyChange","maintainSelection","updateRTL","getToolbar","getContextMenu","columnMenuModule","getColumnMenu","showFilterBarOperator","updateResizeLines","updateGridLines","columnMenuItems","applyTextWrap","removeTextWrap","isModeChg","pending_1","getPrototypeOf","deepWatch","pKeyField","setRowData","gResult","names","scrollRefresh","enableVerticalRendering","fn_1","refreshFilter","setTablesCount","getTablesCount","headerCells","stdHdrCell","updateColumnModel","updateColumnLevelFrozen","updateFrozenColumns","updateLockableColumns","leftCols","rightCols","movableCols","directFrozenCount","totalFrozenCount","frozenName","frozenCount","isRefresh","inview","vLen","ensureFrozenCols","individualColumn","stackedColumn","getLocaleConstants","setColumnIndexesInView","getCurrentVisibleColumns","setGridHeaderContent","setGridContentTable","setGridContent","setGridHeaderTable","footerElement","getFooterContentTable","getPager","gridPager","setGridPager","getFrozenRowByIndex","getFrozenDataRows","getRowInfo","rowData","rowsObject","getFrozenRightRowElements","getAllDataRows","includeAdd","getFrozenLeftContentTbody","mrows","includAdd","dRows","getAllMovableDataRows","getAllFrozenDataRows","getAllFrozenRightDataRows","setCellValue","rowuID","isRight","pkName","fieldIdx","rowObjects","frIdx","Idx","sRow","columnUid","rowsObj","headerCellRenderer","getFrozenRightCellFromIndex","getFrozenLeftColumnHeaderByIndex","getColumnHeaderByField","getStackedColumns","getUidByColumnField","rowDropSettings","targetID","getColumnFieldNames","columnNames","getDetailTemplate","getEditHeaderTemplate","editHeaderTemplateFn","getEditFooterTemplate","editFooterTemplateFn","getSelectedColumnsUid","showColumns","hideColumns","getFrozenCount","splitFrozenCount","getVisibleFrozenLeftCount","getVisibleFrozenRightCount","getVisibleMovableCount","getFrozenRightColumns","getFrozenLeftColumns","getMovableColumns","getVisibleFrozenColumns","getVisibleFrozenColumnsCount","getVisibleFrozenCount","getFilterUIInfo","visibleFrozenColumns","goToPage","pageNo","updateExternalMessage","isMultiSort","sortModule","removeSortColumn","clearGridActions","filterByColumn","filterOperator","filterValue","matchCase","actualFilterValue","actualOperator","removeFilteredColsByField","isClearFilterBar","fieldname","startEdit","closeEdit","deleteRow","editCell","saveCell","updateRow","enableToolbarItems","isEnable","enableItems","recalcIndentWidth","indentWidth","perPixel","parentOffset","applyWidth","newWidth","resetIndentWidth","reorderColumns","fromFName","toFName","reorderModule","reorderColumnByIndex","reorderColumnByTargetIndex","fromIndexes","rowDragAndDropModule","refreshDataSource","disableRowDD","disValue","autoFitColumns","resizeModule","createColumnchooser","columnChooserModule","renderColumnChooser","valueFormatterService","gCols","sCols","sLen","showGroupedColumn","initForeignColumn","rendererFactory","createGridPopUpElement","createTooltip","popup","tabIndex","gridLines","getTooltipStatus","headerDivTag","htable","ctable","prevElement","elemNames","tag","myTableDiv","cssText","mySubDiv","myTable","myTr","mytd","onKeyPressed","mouseClickHandler","focusOutHandler","dblClickHandler","allowKeyboard","keyActionHandler","tapEvent","dataBoundFunction","isChildGrid","checkEdit","dataRow","ariaOwns","keyPress","editFormValidate","persistedData","dataObj","mergeColumns","storedColumn","storedColumns","localCol","tCol","this_2","presskey","stopImmediatePropagation","collapse","focusHeader","addOutline","focusContent","refreshColumns","fCnt","frCnt","mTbl","frTbl","colGrp","excelExport","excelExportModule","csvExport","pdfExport","pdfExportProperties","pdfDoc","pdfExportModule","groupColumn","groupModule","groupExpandAll","expandAll","groupCollapseAll","collapseAll","clearGrouping","ungroupColumn","openColumnChooser","detailCollapseAll","detailExpandAll","isContextMenuOpen","ensureModuleInjected","propertyNames","loggerModule","applyBiggerTheme","getPreviousRowData","previousRowData","hideScroll","mvblScrollBar","mvblChild","getRowIndexByPrimaryKey","pKvalue","getFilteredRecords","getUserAgent","timer","getRowUid","getFrozenVirtualContent","getRowElementByUID","frozenRigtRows","cntRows","getHiddenColumns","calculatePageSizeByParentHeight","pagesize","nonContentHeight","getNoncontentHeight","contentHeight","getSummaryValues","summaryCol","summaryData","serverExcelExport","exportGrid","serverPdfExport","serverCsvExport","gridModel","include","sorted","setHeaderText","form","gridInput","submit","getFormat","isExpanded","updateRowValue","setForeignKeyData","colpending","resetFilterDlgPosition","filterDlg","gClient","fClient","portals","processRowChanges","batchAsyncUpdate","processBulkRowChanges","dataToBeUpdated","loopstring","setNewData","oldValues","bulkRefresh","deleteRowElement","mtr","out_i_1","this_3","_loop_4","isRowExist","this_4","renderRowElement","mTbody","addRowObject","moveTbody","updateVisibleExpandCollapseRows","getHeight","isInteger","getMovableHeaderTbody","getFrozenHeaderTbody","getFrozenRightHeaderTbody","isCustom","showCustomFilter","showCustomSort","showAdaptiveFilterDialog","showAdaptiveSortDialog","isColVirtualization","gridCols","gridCols_1","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","STRICT_METHOD","proto","forced","CLASSNAMES","DISABLE","INPUT","TEXTAREA","INPUTGROUP","FLOATINPUT","FLOATLINE","FLOATTEXT","CLEARICON","CLEARICONHIDE","LABELTOP","LABELBOTTOM","NOFLOATLABEL","INPUTCUSTOMTAG","FLOATCUSTOMTAG","Input","floatType","isBindClearAction","createInput","inputObject","clearButton","floatLabelType","bindClearAction","createInputContainer","createFloatingInput","bindInitialEvent","showClearButton","setClearButton","appendSpan","validateInputType","setPropertyValue","checkInputValue","getParentNode","inputElement","inputValue","_focusFn","_blurFn","wireFloatingEvents","unwireFloatingEvents","customTag","floatLinelement","floatLabelElement","placeholder","encodePlaceHolder","inputWrap","updateLabelState","checkFloatLabelType","setCssClass","setEnabled","enabled","setEnableRtl","setPlaceholder","setReadonly","readonly","updateIconState","isNotFocused","createClearButton","initial","baseElement","insertAdjacentElement","wireClearBtnEvents","readOnly","validateLabel","tagClass","hiddenInput","oldClass","isReadonly","isRtl","inputContainer","disabledAttrs","considerWrapper","removeAttributes","addAttributes","isClear","removeFloating","inputEle","addFloating","iconEle","inputObj","isPrependIcon","floatLine","floatText","setRipple","isRipple","_internalRipple","argsButton","_onMouseDownRipple","_onMouseUpRipple","_onMouseRipple","createIconEle","iconClass","addIcon","icons","internalCreate","icon","result_2","prependSpan","innerWrapper","CheckBoxFilterBase","existingPredicate","foreignKeyQuery","filterState","cBoxTrue","cBoxFalse","dlg","keyupHandler","searchHandler","searchBoxKeyUp","foreignKeyFilter","fColl","mPredicate","filterCollection","ejpredicate","fpred","foreignFilter","initalPredicate","searchBoxClick","sInput","refreshCheckboxes","updateSearchIcon","sIcon","getLocalizedLabel","updateDataSource","actualPredicate","filteredColumns","allowCaseSensitive","getAndSetChkElem","sBox","hideSearchbox","searchBox","inputargs","spinner","cBox","showDialog","columnType","filterModel","click","btnClick","buttonModel","isPrimary","renderResponsiveFilter","isResponsiveFilter","responsiveCnt","getAllData","isBlanks","filterTemplateCol","filterItemTemplate","clearFilter","fltrBtnHandler","searchInput","check","optr","ddlValue","isMenuNotEqual","fObj","caseSen","defaults","isNotEqual","itemsCnt","coll","generateNullValuePredicates","arg2","arg3","arg4","arg5","arg6","initiateFilter","isClearFilter","firstVal","foreignQuery","predicte","addDistinct","filterChoiceCount","filterargs","filterObj","emptyValPredicte","generatePredicate","filterEvent","processSearch","getPredicateFromCols","isGrid","processDataOperation","filteredColumn","defObj","allPromise","runArray","fullData","args1","filterColumn","filteredData","getDistinct","processDataSource","updateResult","createFilterItems","updateAllCBoxes","updateIndeterminatenBtn","setFocus","prevElem","cBoxes","cBoxes_1","previousSibling","createCheckbox","btn","nullCounter","selectAllValue","isColFiltered","isRndere","args_1","checkbox","getCheckedState","ejValue","foreignDataObj","operate","updateDateFilter","getCaseValue","aVue","_interopRequireWildcard","__esModule","vueImport","allVue","gh","isExecute","ComponentBase","hasInjectedModules","hasChildDirective","childDirObjects","ej2Instances","$emit","injectables","vueInjectables","prevModule","getInjectedServices","curModule","curModule_1","mounted","cusEle","$el","isVue3","vueInstance","referModels","models","provide","$vnode","$parent","$options","updated","childKey","fetchChildPropValues","curChildDir","assignValueToWrapper","beforeDestroy","tempBeforeDestroyThis","bindProperties","curModule_2","silent","childOption","dirProps","propRef","slots","methods","getTag","resolveArrayDirectives","splitKeys","keyRef","getDirectiveValues","$slots","tagMapper","tagNameMapper","dirProp","innerDirValues","slot","childSlot","tempObj","tagRef","resolveComplexDirs","slot_1","tagObject","find","resolveComplexInnerDirs","slot_2","slot_3","resolveMultilevelComplexInnerDirs","slot_4","tagDirectives","keyTags","dir","tagDirectives_1","tagDirective","componentOptions","dirTag","tagDirChild","retObj","getVNodeValue","getMultiLevelDirValue","tagDirectories","tagKey","mulObj","tagDirectories_1","tagDir","mulLevObj","getCamelCaseProps","retProps","$internalHooks","getProps","newprops","watch","newVal","EJComponentDecorator","EJcomponentFactory","_componentTag","computed","mixins","collectDataFromConstructor","__decorators__","superProto","Super","Extended","vm","_init","plainData","stringCompiler","templateElement","that","returnEle","vue3Slots_1","getVue3Slot","createApp","object","propsData","tempRef_1","templateCompRef","extends","_context","objkeys","objstring","intComponent","tempRef2_1","objkeys_1","vue2Slots_1","getVue2Slot","vueTemplate","$mount","templateVue","templateInstance","templateCollection","getVue2ChildSlot","scopedSlots","$scopedSlots","vSlots","childSlots","getSlot","vnode","componentInstance","getVue3ChildSlot","StackedColumnsDirective","StackedColumnsPlugin","install","Vue","StackedColumnDirective","StackedColumnPlugin","ColumnsDirective","ColumnsPlugin","ColumnDirective","ColumnPlugin","AggregateColumnsDirective","AggregateColumnsPlugin","AggregateColumnDirective","AggregateColumnPlugin","AggregatesDirective","AggregatesPlugin","AggregateDirective","AggregatePlugin","modelProps","testProp","emitProbs","modelProps_1","GridComponent","_trigger","_setProperties","templateNames","templateNames_1","tempName","elementCollection","elementCollection_1","__vue__","$destroy","propKey","$props","isLazyUpdate","GridPlugin","FocusStrategy","oneTime","swap","forget","skipFocus","focusByClick","prevIndexes","refMatrix","refreshMatrix","actions","isVirtualScroll","rowModelGen","focusCheck","onFocus","setActive","enableHeaderFocus","matrix","generate","validator","passiveFocus","skipAction","onBlur","removeFocus","force","beforeArgs","byClick","clickArgs","clearOutline","onKeyPress","checkPagerHasFocus","changePagerFocus","getFocusedElement","setPagerFocus","checkFirstPagerFocus","skipOn","activeKey","bValue","outline","swapInfo","jump","toHeader","toFrozen","toFrozenRight","getNextCurrent","active","setActiveByKey","lastIdxCell","clearIndicator","allowToPaging","setPagerContainerFocus","th","inputTarget","filterCell","focusVirtualElement","virtualData","isCancel","isKeyFocus","empty","elementToFocus","preventScroll","fContent","frContent","fHeader","frHeader","setFocusedElement","addFocus","getFocusInfo","resetFocus","isFocused","getInfo","focusedColumnUid","FixedContentFocus","FixedRightContentFocus","ContentFocus","FixedHeaderFocus","FixedRightHeaderFocus","HeaderFocus","cFocus","newMovableRows","newFrozenRows","newfrRows","handlerInstance","index_1","focusElement","cellPosition","gridPosition","passiveHandler","restoreFocus","filterfocus","restoreFocusWithAction","internalCellFocus","forgetPrevious","focusEle","getFocusable","Matrix","allow","emptyTable","inValid","vector","keyActions","indexesByKey","getCurrentFromAction","editNextRow","isLastCellPrimaryKey","visibleIndex","shouldFocusChange","rN","cN","oRowIndex","oCellIndex","nextRowFocusValidate","previousRowFocusValidate","frozenSwap","frSwap","enterFrozen","isHeaderFocus","optionals","defaultLen","isData","isCellWidth","getGridSeletion","headerSwap","fMatrix","current1","current2","hMatrix","current3","SearchBox","searchFocus","searchBlur","wireEvent","unWireEvent","headerMat","PositionData","OPEN","Popup","zIndex","refreshPosition","setContent","actionOnScroll","wireScrollEvents","unwireScrollEvents","resolveCollision","orientationOnChange","getRelateToElement","parent_2","relateToElement","relateTo","targetVisible","isElementOnViewport","targetInvisibleStatus","scrollElement","scrollParents","parent_3","isElementVisible","checkGetBoundingClientRect","win","windowView","elementView","parent_4","relateToElem","collision","checkFixedParent","parentDisplay","getAnchorPosition","eleRect","anchorEle","anchorRect","targetType","callFlip","callFit","viewPortRect","horz","vert","animationOptions","relativeElement","zIndexElement","getZindexPartial","parentStyle","overflowRegex","parentZindex","childrenZindex","siblingsZindex","finalValue","currentZindexValue","rowDataBound","queryCellInfo","headerCellInfo","dataBound","rowSelecting","rowSelected","rowDeselecting","rowDeselected","cellSelecting","cellSelected","cellDeselecting","cellDeselected","columnSelecting","columnSelected","columnDeselecting","columnDeselected","columnDragStart","columnDrag","columnDrop","beforePrint","printComplete","detailDataBound","toolbarClick","batchAdd","batchCancel","batchDelete","recordDoubleClick","recordClick","beforeOpenAdaptiveDialog","resizeStop","checkBoxChange","beforeCopy","beforePaste","beforeAutoFill","filterChoiceRequest","filterAfterOpen","filterBeforeOpen","filterSearchBegin","exportGroupCaption","initialLoad","uiUpdate","inBoundModelChanged","modelChanged","headerRefreshed","searchComplete","groupComplete","groupAggregates","refreshFooterRenderer","rowSelectionComplete","cellSelectionComplete","cellFocused","keyPressed","columnVisibilityChanged","columnWidthChanged","rowsAdded","columnDragStop","headerDrop","dataSourceModified","dblclick","toolbarRefresh","bulkSave","autoCol","tooltipDestroy","updateData","preventBatch","crudAction","addDeleteAction","doubleTap","beforeExcelExport","excelExportComplete","excelQueryCellInfo","excelHeaderQueryCellInfo","exportDetailDataBound","freezeRender","filterDialogCreated","filterMenuClose","initForeignKeyColumn","showEmptyGrid","dataStateChange","dataSourceChanged","rtlUpdated","frozenHeight","textWrapRefresh","recordAdded","cancelBegin","editNextValCell","expandChildGrid","printGridInit","exportRowDataBound","exportDataBound","rowPositionChanged","partialRefresh","selectVirtualRow","columnsPrepared","cBoxFltrBegin","cBoxFltrComplete","fltrPrevent","filterCboxValue","detailIndentCellInfo","virtaulCellFocus","virtualScrollEdit","editReset","getVirtualData","refreshInfiniteModeBlocks","resetInfiniteBlocks","infiniteScrollHandler","infinitePageQuery","infiniteShowHide","appendInfiniteContent","removeInfiniteRows","setInfiniteCache","infiniteEditHandler","closeFilterDialog","resetColumns","excelAggregateQueryCellInfo","lazyLoadScrollHandler","groupCollapse","beforeCheckboxRenderer","refreshHandlers","setFreezeSelection","beforeRefreshOnDataChange","immutableBatchCancel","checkScrollReset","preventFrozenScrollRefresh","refreshInfiniteCurrentViewData","filterDialogClose","renderResponsiveCmenu","filterCmenuSelect","customFilterClose","setFullScreenDialog","refreshExpandandCollapse","rowModeChange","enterKeyHandler","setVirtualPageQuery","resetVirtualFocus","beforeCheckboxRendererQuery","destroyChildGrid","stickyScrollComplete","refreshInfinitePersistSelection","afterFilterColumnMenuClose","selectedHandler","minHeight","resizeWestWidth","proxy","elementClass","RESIZE_HANDLER","FOCUSED_HANDLER","DIALOG_RESIZABLE","RESTRICT_LEFT","RESIZE_WITHIN_VIEWPORT","dialogBorderResize","originalWidth","originalHeight","originalX","originalY","originalMouseX","originalMouseY","resizeStart","resize","resizeEnd","setLeft","previousWidth","createResize","resizeBegin","resizing","resizeComplete","getDOMElement","boundary","directions","setBorderResizeElm","resizeHandler","calculateValues","borderBottom","domElement","resizers","onMouseDown","onTouchStart","borderResizers","getEventType","targetEle","onMouseUp","coordinates","resizeTowards","resizeSouth","resizeNorth","resizeWest","resizeEast","getClientRectValues","containerRectValues","documentHeight","calculateValue","currentpageY","targetRectValues","calculatedHeight","borderValue","topWithoutborder","targetTop","calculatedTop","boundaryRectValues","currentHeight","rectValues","documentWidth","calculatedWidth","left_1","setMinHeight","minimumHeight","setMaxWidth","setMaxHeight","removeResize","handlers","ButtonProps","AnimationSettings","DLG_HEADER_CONTENT","DLG_HEADER","DLG_FOOTER_CONTENT","MODAL_DLG","DLG_CONTENT","DLG_CLOSE_ICON","DLG_OVERLAY","DLG_TARGET","DLG_CONTAINER","SCROLL_DISABLED","DLG_PRIMARY_BUTTON","FULLSCREEN","DLG_CLOSE_ICON_BTN","DLG_HIDE","DLG_SHOW","DLG_UTIL_DEFAULT_TITLE","DLG_UTIL_ROOT","DLG_UTIL_ALERT","DLG_UTIL_CONFIRM","DLG_RESIZABLE","DLG_RESTRICT_LEFT_VALUE","DLG_RESTRICT_WIDTH_VALUE","DLG_REF_ELEMENT","DLG_USER_ACTION_CLOSED","DLG_CLOSE_ICON_CLOSED","DLG_ESCAPE_CLOSED","DLG_OVERLAYCLICK_CLOSED","Dialog","dlgClosedBy","initRender","enableResize","setResize","getMinHeight","allowMaxHeight","preventVisibility","clonedEle","closeIconClickEventHandler","dlgOverlayClickEventHandler","overlayClickEventArgs","localeText","checkPositionData","prevOnChange","isNumberValue","getEle","computedHeaderHeight","computedFooterHeight","footerEle","headerHeight","footerHeight","onResizeStart","onResizing","onResizeComplete","isBlazorServerRender","computedHeight","computedWidth","resizeHandles","directionValue","toLocaleLowerCase","wireWindowResizeEvent","unWireWindowResizeEvent","getFocusElement","buttonObj","ftrTemplateContent","contentEle","focusableElements","isTagName","isContentEdit","primaryButtonEle","buttonIndex_1","firstPrimary","setCSSClass","initialRender","setzIndex","calculatezIndex","setTargetContent","setHeader","setButton","setFooterTemplate","allowDragging","setAllowDragging","setIsModal","dlgContainer","dlgOverlay","refElement","resetResizeIcon","openEventArgs","unBindEvent","closeArgs","activeEle","storeActiveElement","positionChange","setEnableRTL","setOverlayZindex","dialogConHeight","resizeIcon","zIndexValue","setPopupPosition","handleContent","dragObj","dragEventArgs","buttonContent","buttonType","footerBtn","buttonClickHandler","isFlat","innerContentElement","templateProps","templateValue","sanitizeHelper","isString","dialogItem","beforeEvent","closeIcon","closeIconBtnObj","iconCss","closeIconTitle","oldCSSClass","getValidFocusNode","disableElement","getAutoFocusNode","validNode","elementMatch","msGetRegionContent","Element","bindEvent","updateSanitizeContent","insertAdjacentHTML","updateIsModal","buttonCount","setTarget","setPopupZindex","windowResizeHandler","classArray","getDimension","dialogWidth","dialogHeight","isFullScreen","fullScreen","eventArgs_1","beforeOpenArgs","openAnimation","closedBy","beforeCloseArgs","getButtons","DialogUtility","alertDialogObj","dialogElement","okButtonModel","createDialog","alertOptions","confirm","confirmDialogObj","okCancelButtonModel","confirmOptions","dialogObject","formOptions","setAlertButtonModel","setConfirmButtonModel","alertButtonModel","okButton","formButtonModel","cancelButtonModel","cancelButton","buttonPropModel","buttonProps","doesImplementInterface","checkFor","getUpdateUsingRaf","updateFunction","isExportColumns","updateColumnTypeForExportColumns","exportColumns","iterateArrayOrObject","iterateExtend","templateCompiler","setStyleAndAttributes","copyAttr","literals","setColumnIndex","ind","prepareColumns","autoWidth","setCssInGridPopUp","popUp","popUpSpan","targetPosition","isBottomTail","getPopupLeftPosition","getPosition","parentsUntil","isID","getActualPropFromColl","getUid","appendChildren","calculateAggregate","Global","divNode","isActionPrevent","showConfirmDialog","clName","addRemoveActiveClasses","getFilterMenuPostion","elementVisible","dlgWidth","leftPos","toogleCheckbox","setChecked","createCboxWithWrap","removeAddCboxClasses","refreshForeignData","getForeignData","lValue","fField","fdata","getDatePredicate","getColumnByForeignKeyValue","filterObject","datePredicate","prevDate","nextDate","prevObj","nextObj","setSeconds","predicateSt","predicateEnd","renderMovable","mEle","isGroupAdaptive","getExpandedState","printMode","getPrintGridModel","printGridModel","extendObjWithFn","getPrototypesOfObj","i_1","cpy","cln","measureColumnDepth","checkDepth","indices","refreshFilteredColsUid","getColumnModelByFieldName","ispercentageWidth","percentageCol","undefinedWidthCol","resetRowIndex","rowElms","compareChanges","newArray","frozenRightRowElements","gridActionHandler","getCellsByTableName","getCellByColAndRowIndex","mtch_1","addBiggerDialog","dialogs","performComplexDataOperation","mapObject","returnObj","duplicateMap","setDisplayValue","addRemoveEventListener","isOn","evt_1","clearReactVueTemplates","DataUtil","localeCompare","extractFields","jsonArray","isLazyLoad","jsonData","grouped","groupedArray","getVal","aggs","grp","fKeyData","copyObj","middle","ignoreDiacritics","diacritics","fnName","param1","param2","adp","rand","hexs","getItemFromComparer","castRequired","requiresCompleteRecord","prepareQuery","sampledata","requiresCounts","mainPred","childPred","cpre","serverTimezoneOffset","sum","average","truecount","falsecount","operatorSymbols","expected","notequal","lessthan","greaterthan","lessthanorequal","greaterthanorequal","notnull","isnull","startswith","endswith","processSymbols","jsonText","jsonReviver","iterateAndReviveArray","iterateAndReviveJson","ms","offSet","toTimeZone","isUTC","utcFormat","hrs","mins","addSelfOffset","jsonReplacer","arrayReplacer","toUTC","utc","unix","datefn","differenceString","localtimefn","norm","CLS_ROOT","CLS_DISABLE","CLS_HSCROLLBAR","CLS_HSCROLLCON","CLS_NAVARROW","CLS_NAVRIGHTARROW","CLS_NAVLEFTARROW","CLS_HSCROLLNAV","CLS_HSCROLLNAVRIGHT","CLS_HSCROLLNAVLEFT","CLS_DEVICE","CLS_OVERLAY","CLS_RIGHTOVERLAY","CLS_LEFTOVERLAY","OVERLAY_MAXWID","HScroll","browser","browserCheck","customStep","ieCheck","uniqueId","touchHandler","swipe","swipeHandler","scrollEle","createOverlay","createNavIcon","setScrollState","scrollStep","scrollDiv","innerEle","innerEle_1","ele_1","scrollItems","nav","overlay","disable","navEles","rightOverlayEle","clsRight","navItem","leftEle","eventBinding","clsLeft","navEle","navLeftItem","timeoutFun_1","keyTimeout","eleScrolling","keyTimer","onKeyUp","tabHoldHandler","repeatScroll","clickEventHandler","timeout","trgt","scrollDis","timeoutFun","isContinuous","rootEle","frameScrollRequest","swipeEle","scrollUpdating","scrollVal","scrollValue","arrowDisabling","addDisable","removeDisable","arrowIcon","navLeftEle","navRightEle","leftOverlay","rightOverlay","disEle","CLS_VSCROLLBAR","CLS_VSCROLLCON","CLS_NAVUPARROW","CLS_NAVDOWNARROW","CLS_VSCROLLNAV","CLS_VSCROLLNAVUP","CLS_VSCROLLNAVDOWN","CLS_UPOVERLAY","CLS_DOWNOVERLAY","VScroll","scrollEventHandler","createOverlayElement","wheelEventHandler","scrollCnt","navs","overlays","downOverlayEle","clsDown","downEle","upEle","clsUp","navElement","navUpItem","ev","scrollDistance","deltaY","swipeElement","addDisableCls","removeDisableCls","navUpEle","navDownEle","upOverlay","downOverlay","CLS_VERTICAL","CLS_ITEMS","CLS_ITEM","CLS_SEPARATOR","CLS_POPUPICON","CLS_POPUPDOWN","CLS_POPUPOPEN","CLS_TEMPLATE","CLS_POPUPTEXT","CLS_TBARTEXT","CLS_TBAROVERFLOW","CLS_POPOVERFLOW","CLS_TBARBTN","CLS_TBARNAV","CLS_TBARSCRLNAV","CLS_TBARRIGHT","CLS_TBARLEFT","CLS_TBARCENTER","CLS_TBARPOS","CLS_HSCROLLCNT","CLS_VSCROLLCNT","CLS_POPUPNAV","CLS_POPUPCLASS","CLS_POPUP","CLS_TBARBTNTEXT","CLS_TBARNAVACT","CLS_TBARIGNORE","CLS_POPPRI","CLS_HIDDEN","CLS_MULTIROW","CLS_MULTIROWPOS","CLS_MULTIROW_SEPARATOR","CLS_EXTENDABLE_SEPARATOR","CLS_EXTEANDABLE_TOOLBAR","CLS_EXTENDABLECLASS","CLS_EXTENDPOPUP","CLS_EXTENDEDPOPOPEN","Toolbar","resizeContext","moveLeft","moveRight","moveUp","moveDown","popupOpen","popupClose","btnItems","destroyItems","trgtEle","ctrlTem","popObj","tbarAlign","tbarItemsCol","attrb","enableCollision","isVertical","isExtendedOpen","popupPriCount","wireKeyboardEvent","keyModule","docKeyDown","unwireKeyboardEvent","popCheck","overflowMode","keyCheck","destroyScroll","docEvent","clearProperty","tbarEle","tbarAlgEle","lefts","centers","rights","popEle","tbarItems","destroyMode","tempEle","popupRefresh","elementFocus","fChild","activeEleSwitch","clstElement","tbrNavChk","clst","keyHandling","navChk","scrollChk","popAnimate","eleFocus","popupCheck","extendedPopup","popFrstEle","activeEleRemove","tbarScrollChk","eleContains","sib","skipEle","itemObj","isPopupElement","clsList","popupNav","popupClickHandler","tempItem","clickedArgs","CLS_RTL","getElementOffsetY","renderControl","renderItems","renderLayout","renderOverflowMode","itemPositioning","checkPopupRefresh","itemsAlign","itemEleDom","innerItem","innerPos","renderSubComponent","tbarItemAlign","align","showAlwaysInPopup","changeOrientation","initScroll","innerItems","checkOverflow","itemWidthCal","getScrollCntEle","eleWidth","itemWidth","popNav","scrollNav","navEleWidth","toolbarAlign","priorityCheck","offsetWid","removePositioning","setOverflowAttributes","createPopupEle","eleItem","multiVar","extendVar","eleInlineItem","innerNav","createPopupIcon","innerNavDom","checkPriority","createPopup","pushingPoppedEle","tbarObj","popupPri","eleHeight","sepHeight","poppedEle","nodeIndex","nodePri","tbResize","tbarElement","sepItem","extendEle","popupEle","popupInit","eleStyles","borderRightWidth","tbarPopupHandler","toolEle","popupElePos","popIcon","overflowHeight","tbEleData","popupOffset","inEle","pre","checkoffset","popPriority","eleWid","sepCheck","itemCount","itemPopCount","checkClass","rVal","mrgn","compuStyle","fstEleCheck","tbarEleMrgn","eleWid_1","sepEle","popedEle","tbarPriRef","sepPri","des","elWid","wid","ig","ignoreCount","priEleCnt","eleSep","ignoreCheck","sepDisplay","eleSepWidth","prevSep","previousElementSibling","isVer","dimension","popupEleWidth","popupEleRefresh","ignoreEleFetch","ignoreEle","ignoreInx","tbarWidth","tbarItemsWid","elWidth","btnText","eleSplice","sepBeforePri_1","state_1","refreshPositioning","tbarWid","popWid","itemEle","alignDiv","alignEle","leftAlign_1","ctrlTemplate","setAttr","itemElement","getElementByIndex","addItems","extendedOpen","itemsDiv","itemsRerender","itemAgn","items_1","algIndex","removeItems","removeItemByIndex","eleIdx","indexAgn","btnItem","templateRender","templateProp","isComponent","itemType","tempArray","toolbarTemplateID","buttonRendering","dom","iconPos","textStr","btnTxt","prefixIcon","suffixIcon","iconPosition","tempDom","tooltipText","htmlAttributes","itemClick","showTextOn","sTxt","curEle","multirowele","tEle","changedProb","newProperty","popupPriCheck","booleanCheck","itemCol","hideItem","initIndex","eleIndex","innerItems_1","innerItems_2","nextEle","setFlag","removeFlag","initELe","predefinedItems","gridID","preItems","isAdaptive","excludingItems","preItems_1","itemStr","localeName","ColumnChooser","responsiveFilter","responsiveSort","responsiveBack","createToolbar","addReactToolbarPortals","bindSearchEvents","searchElement","refreshToolbarItems","updateSearchBox","toolbarCreated","isNormal","getItems","clicked","toolbarClickHandler","viewStr","registerTemp","ID","renderResponsiveSearch","isRender","refreshResponsiveToolbarItems","isSearch","searchBoxObj","disableItems","hasData","getItemObject","toolbarItems_1","itemObject","gID","newArgs","toolbarargs","tarElement","reRenderToolbar","removeResponsiveSearch","rowSelectedFunction","rowDeSelectedFunction","isValDiff","makechanges","cssClassName","BUTTON","PRIMARY","ICONBTN","Button","removeRippleEffect","tempContent","setIconCss","controlStatus","btnClickHandler","focusIn"],"mappings":"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rC,EAAWI,iBAAmBP,EACvBG,EA7KoB,GAmL3BsC,EAAqB,CACrB,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,IACP,IAAO,IACP,IAAO,OACP,IAAO,MACP,IAAO,MACP,IAAO,QACP,IAAO,QACP,IAAO,QACP,IAAO,QACP,IAAO,IACP,IAAO,QACP,IAAO,QACP,IAAO,KACP,IAAO,QACP,IAAO,QACP,IAAO,QACP,IAAO,QACP,IAAO,OACP,IAAO,QACP,IAAO,QACP,IAAO,QACP,IAAO,OACP,IAAO,IACP,IAAO,IACP,IAAO,QACP,IAAO,QACP,IAAO,QACP,IAAO,IACP,IAAO,IACP,IAAO,MACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,KACP,IAAO,IACP,IAAO,MACP,IAAO,IACP,IAAO,MACP,IAAO,IACP,IAAO,IACP,IAAO,KACP,IAAO,MACP,IAAO,IACP,IAAO,KACP,IAAO,IACP,IAAO,MACP,IAAO,MACP,IAAO,MACP,IAAO,KACP,IAAO,MACP,IAAO,MACP,IAAO,IACP,IAAO,IACP,IAAO,MACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,KACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,KACP,IAAO,OACP,IAAO,KACP,IAAO,KACP,IAAO,KACP,IAAO,IACP,IAAO,IACP,IAAO,KACP,IAAO,KACP,IAAO,IACP,IAAO,KACP,IAAO,KACP,IAAO,IACP,IAAO,IACP,IAAO,KACP,IAAO,OACP,IAAO,IACP,IAAO,KACP,IAAO,IACP,IAAO,KACP,IAAO,MACP,IAAO,IACP,IAAO,KACP,IAAO,KACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,KACP,IAAO,MACP,IAAO,KACP,IAAO,IACP,IAAO,IACP,IAAO,OACP,IAAO,OACP,IAAO,KACP,IAAO,KACP,IAAO,IACP,IAAO,OACP,IAAO,KACP,IAAO,KACP,IAAO,IACP,IAAO,KACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,MACP,IAAO,KACP,IAAO,IACP,IAAO,MACP,IAAO,MACP,IAAO,IACP,IAAO,IACP,IAAO,IACP,IAAO,KACP,IAAO,KACP,IAAO,OACP,IAAO,IACP,IAAO,KACP,IAAO,IACP,IAAO,KACP,IAAO,IACP,IAAO,MACP,IAAO,IACP,IAAO,MACP,IAAO,OACP,IAAO,OACP,IAAO,MACP,IAAO,IACP,IAAO,KACP,IAAO,IACP,IAAO,MACP,IAAO,IACP,IAAO,OAOJ,SAASC,EAAwBlR,GACpC,OAAOpyD,EAASoyD,GAAgB,GAAIiR,IC1WxC,SAAW1C,GACP,IAAI4C,EAAiB,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAC7G,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,KAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACvH,MAAO,MAAO,MAAO,MAAO,MAAO,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EAAkBvqD,GAKnBy0F,EAAe3pG,GAAGoY,YAAYyxF,EAAYX,WAAW,KAJrDS,EAAez0F,GAAOkD,YAAYyxF,EAAYX,WAAW,IACzDlpG,EAAI2pG,EAAe/pG,SAiBpC,SAASkqG,GAAkBC,GAC9BlB,GAAU1C,QAAU4D,EAAS5D,QAQ1B,SAAS6D,KACZ,OAAOnB,GAAU1C,QAGrB,IAAI,GAAwB,WACxB,SAAS8D,KAOT,OAJAA,EAAO3sG,UAAU6oG,QAAU,SAAUwC,EAAgB3zE,EAAQoxE,GAEzD,YADe,IAAXpxE,IAAqBA,EAAS,IAC3B,GAAO2zE,EAAgB3zE,IAE3Bi1E,EARgB,GAUvBpB,GAAY,CAAE1C,SAAS,IAAI,IAASA,SC1JpC+D,GAAa,CACb,SACA,QACA,cACA,4BACA,kCACA,wCACA,oCACA,uBACA,0BACA,0BACA,2CAEAC,GAAc,CACd,CAAEC,UAAW,OAAQpyE,SAAU,yBAC/B,CAAEoyE,UAAW,aAAcpyE,SAAU,+BACrC,CAAEoyE,UAAW,QAASpyE,SAAU,0BAChC,CAAEoyE,UAAW,QAASpyE,SAAU,0BAChC,CAAEoyE,UAAW,OAAQpyE,SAAU,qCAE/BqyE,GAAW,CAAC,WACZ,UACA,cACA,aACA,YACA,SACA,UACA,SACA,UACA,eACA,iBACA,UACA,WACA,eACA,iBACA,gBACA,SACA,YACA,mBACA,WACA,UACA,gBACA,aACA,SACA,YACA,cACA,cACA,aACA,cACA,SACA,mBACA,YACA,UACA,UACA,UACA,UACA,eACA,cACA,cACA,UACA,YACA,YACA,aACA,UACA,SACA,eACA,mBACA,cACA,YACA,cACA,cACA,aACA,cACA,YACA,eACA,YACA,SACA,WACA,aACA,aACA,UACA,SACA,YACA,aACA,aACA,eACA,qBACA,SACA,WACA,WACA,WACA,YACA,WACA,YACA,YACA,WACA,YACA,eACA,SACA,WACA,iBACA,YACA,eACA,eACA,eACA,UACA,oBAEA,GAAoC,WACpC,SAASC,KA2ET,OAzEAA,EAAmBC,eAAiB,WAChC,MAAO,CACHC,UAAW,CACPptD,KAAM8sD,GACNj2E,WAAY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,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU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","file":"js/chunk-718aa1a3.ca18c5c7.js","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { merge, extend, isNullOrUndefined, setValue, getValue } from '@syncfusion/ej2-base';\nimport { DataUtil } from './util';\nimport { Query, Predicate } from './query';\nvar consts = { GroupGuid: '{271bbba0-1ee7}' };\n/**\n * Adaptors are specific data source type aware interfaces that are used by DataManager to communicate with DataSource.\n * This is the base adaptor class that other adaptors can extend.\n * @hidden\n */\nvar Adaptor = /** @class */ (function () {\n    /**\n     * Constructor for Adaptor class\n     * @param  {DataOptions} ds?\n     * @hidden\n     * @returns aggregates\n     */\n    function Adaptor(ds) {\n        // common options for all the adaptors \n        this.options = {\n            from: 'table',\n            requestType: 'json',\n            sortBy: 'sorted',\n            select: 'select',\n            skip: 'skip',\n            group: 'group',\n            take: 'take',\n            search: 'search',\n            count: 'requiresCounts',\n            where: 'where',\n            aggregates: 'aggregates',\n            expand: 'expand'\n        };\n        /**\n         * Specifies the type of adaptor.\n         * @default Adaptor\n         */\n        this.type = Adaptor;\n        this.dataSource = ds;\n        this.pvt = {};\n    }\n    /**\n     * Returns the data from the query processing.\n     * @param  {Object} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @returns Object\n     */\n    Adaptor.prototype.processResponse = function (data, ds, query, xhr) {\n        return data;\n    };\n    return Adaptor;\n}());\nexport { Adaptor };\n/**\n * JsonAdaptor is used to process JSON data. It contains methods to process the given JSON data based on the queries.\n * @hidden\n */\nvar JsonAdaptor = /** @class */ (function (_super) {\n    __extends(JsonAdaptor, _super);\n    function JsonAdaptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Process the JSON data based on the provided queries.\n     * @param  {DataManager} dataManager\n     * @param  {Query} query\n     * @returns Object\n     */\n    JsonAdaptor.prototype.processQuery = function (dataManager, query) {\n        var result = dataManager.dataSource.json.slice(0);\n        var count = result.length;\n        var countFlg = true;\n        var ret;\n        var key;\n        var lazyLoad = {};\n        var keyCount = 0;\n        var group = [];\n        var page;\n        for (var i = 0; i < query.lazyLoad.length; i++) {\n            keyCount++;\n            lazyLoad[query.lazyLoad[i].key] = query.lazyLoad[i].value;\n        }\n        var agg = {};\n        for (var i = 0; i < query.queries.length; i++) {\n            key = query.queries[i];\n            if ((key.fn === 'onPage' || key.fn === 'onGroup') && query.lazyLoad.length) {\n                if (key.fn === 'onGroup') {\n                    group.push(key.e);\n                }\n                if (key.fn === 'onPage') {\n                    page = key.e;\n                }\n                continue;\n            }\n            ret = this[key.fn].call(this, result, key.e, query);\n            if (key.fn === 'onAggregates') {\n                agg[key.e.field + ' - ' + key.e.type] = ret;\n            }\n            else {\n                result = ret !== undefined ? ret : result;\n            }\n            if (key.fn === 'onPage' || key.fn === 'onSkip' || key.fn === 'onTake' || key.fn === 'onRange') {\n                countFlg = false;\n            }\n            if (countFlg) {\n                count = result.length;\n            }\n        }\n        if (keyCount) {\n            var args = {\n                query: query, lazyLoad: lazyLoad, result: result, group: group, page: page\n            };\n            var lazyLoadData = this.lazyLoadGroup(args);\n            result = lazyLoadData.result;\n            count = lazyLoadData.count;\n        }\n        if (query.isCountRequired) {\n            result = {\n                result: result,\n                count: count,\n                aggregates: agg\n            };\n        }\n        return result;\n    };\n    /**\n     * Perform lazy load grouping in JSON array based on the given query and lazy load details.\n     * @param  {LazyLoadGroupArgs} args\n     */\n    JsonAdaptor.prototype.lazyLoadGroup = function (args) {\n        var count = 0;\n        var agg = this.getAggregate(args.query);\n        var result = args.result;\n        if (!isNullOrUndefined(args.lazyLoad.onDemandGroupInfo)) {\n            var req = args.lazyLoad.onDemandGroupInfo;\n            for (var i = req.where.length - 1; i >= 0; i--) {\n                result = this.onWhere(result, req.where[i]);\n            }\n            if (args.group.length !== req.level) {\n                var field = args.group[req.level].fieldName;\n                result = DataUtil.group(result, field, agg, null, null, args.group[0].comparer, true);\n            }\n            count = result.length;\n            var data = result;\n            result = result.slice(req.skip);\n            result = result.slice(0, req.take);\n            if (args.group.length !== req.level) {\n                this.formGroupResult(result, data);\n            }\n        }\n        else {\n            var field = args.group[0].fieldName;\n            result = DataUtil.group(result, field, agg, null, null, args.group[0].comparer, true);\n            count = result.length;\n            var data = result;\n            if (args.page) {\n                result = this.onPage(result, args.page, args.query);\n            }\n            this.formGroupResult(result, data);\n        }\n        return { result: result, count: count };\n    };\n    JsonAdaptor.prototype.formGroupResult = function (result, data) {\n        if (result.length && data.length) {\n            var uid = 'GroupGuid';\n            var childLevel = 'childLevels';\n            var level = 'level';\n            var records = 'records';\n            result[uid] = data[uid];\n            result[childLevel] = data[childLevel];\n            result[level] = data[level];\n            result[records] = data[records];\n        }\n        return result;\n    };\n    /**\n     * Separate the aggregate query from the given queries\n     * @param  {Query} query\n     */\n    JsonAdaptor.prototype.getAggregate = function (query) {\n        var aggQuery = Query.filterQueries(query.queries, 'onAggregates');\n        var agg = [];\n        if (aggQuery.length) {\n            var tmp = void 0;\n            for (var i = 0; i < aggQuery.length; i++) {\n                tmp = aggQuery[i].e;\n                agg.push({ type: tmp.type, field: DataUtil.getValue(tmp.field, query) });\n            }\n        }\n        return agg;\n    };\n    /**\n     * Performs batch update in the JSON array which add, remove and update records.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {RemoteArgs} e\n     */\n    JsonAdaptor.prototype.batchRequest = function (dm, changes, e) {\n        var i;\n        var deletedRecordsLen = changes.deletedRecords.length;\n        for (i = 0; i < changes.addedRecords.length; i++) {\n            this.insert(dm, changes.addedRecords[i]);\n        }\n        for (i = 0; i < changes.changedRecords.length; i++) {\n            this.update(dm, e.key, changes.changedRecords[i]);\n        }\n        for (i = 0; i < deletedRecordsLen; i++) {\n            this.remove(dm, e.key, changes.deletedRecords[i]);\n        }\n        return changes;\n    };\n    /**\n     * Performs filter operation with the given data and where query.\n     * @param  {Object[]} ds\n     * @param  {{validate:Function}} e\n     */\n    JsonAdaptor.prototype.onWhere = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.filter(function (obj) {\n            if (e) {\n                return e.validate(obj);\n            }\n        });\n    };\n    /**\n     * Returns aggregate function based on the aggregate type.\n     * @param  {Object[]} ds\n     * @param  {{field:string} e\n     * @param  {string}} type\n     */\n    JsonAdaptor.prototype.onAggregates = function (ds, e) {\n        var fn = DataUtil.aggregates[e.type];\n        if (!ds || !fn || ds.length === 0) {\n            return null;\n        }\n        return fn(ds, e.field);\n    };\n    /**\n     * Performs search operation based on the given query.\n     * @param  {Object[]} ds\n     * @param  {QueryOptions} e\n     */\n    JsonAdaptor.prototype.onSearch = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        if (e.fieldNames.length === 0) {\n            DataUtil.getFieldList(ds[0], e.fieldNames);\n        }\n        return ds.filter(function (obj) {\n            for (var j = 0; j < e.fieldNames.length; j++) {\n                if (e.comparer.call(obj, DataUtil.getObject(e.fieldNames[j], obj), e.searchKey, e.ignoreCase, e.ignoreAccent)) {\n                    return true;\n                }\n            }\n            return false;\n        });\n    };\n    /**\n     * Sort the data with given direction and field.\n     * @param  {Object[]} ds\n     * @param  {{comparer:(a:Object} e\n     * @param  {Object} b\n     */\n    JsonAdaptor.prototype.onSortBy = function (ds, e, query) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        var fnCompare;\n        var field = DataUtil.getValue(e.fieldName, query);\n        if (!field) {\n            return ds.sort(e.comparer);\n        }\n        if (field instanceof Array) {\n            field = field.slice(0);\n            for (var i = field.length - 1; i >= 0; i--) {\n                if (!field[i]) {\n                    continue;\n                }\n                fnCompare = e.comparer;\n                if (DataUtil.endsWith(field[i], ' desc')) {\n                    fnCompare = DataUtil.fnSort('descending');\n                    field[i] = field[i].replace(' desc', '');\n                }\n                ds = DataUtil.sort(ds, field[i], fnCompare);\n            }\n            return ds;\n        }\n        return DataUtil.sort(ds, field, e.comparer);\n    };\n    /**\n     * Group the data based on the given query.\n     * @param  {Object[]} ds\n     * @param  {QueryOptions} e\n     * @param  {Query} query\n     */\n    JsonAdaptor.prototype.onGroup = function (ds, e, query) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        var agg = this.getAggregate(query);\n        return DataUtil.group(ds, DataUtil.getValue(e.fieldName, query), agg, null, null, e.comparer);\n    };\n    /**\n     * Retrieves records based on the given page index and size.\n     * @param  {Object[]} ds\n     * @param  {{pageSize:number} e\n     * @param  {number}} pageIndex\n     * @param  {Query} query\n     */\n    JsonAdaptor.prototype.onPage = function (ds, e, query) {\n        var size = DataUtil.getValue(e.pageSize, query);\n        var start = (DataUtil.getValue(e.pageIndex, query) - 1) * size;\n        var end = start + size;\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.slice(start, end);\n    };\n    /**\n     * Retrieves records based on the given start and end index from query.\n     * @param  {Object[]} ds\n     * @param  {{start:number} e\n     * @param  {number}} end\n     */\n    JsonAdaptor.prototype.onRange = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.slice(DataUtil.getValue(e.start), DataUtil.getValue(e.end));\n    };\n    /**\n     * Picks the given count of records from the top of the datasource.\n     * @param  {Object[]} ds\n     * @param  {{nos:number}} e\n     */\n    JsonAdaptor.prototype.onTake = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.slice(0, DataUtil.getValue(e.nos));\n    };\n    /**\n     * Skips the given count of records from the data source.\n     * @param  {Object[]} ds\n     * @param  {{nos:number}} e\n     */\n    JsonAdaptor.prototype.onSkip = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return ds.slice(DataUtil.getValue(e.nos));\n    };\n    /**\n     * Selects specified columns from the data source.\n     * @param  {Object[]} ds\n     * @param  {{fieldNames:string}} e\n     */\n    JsonAdaptor.prototype.onSelect = function (ds, e) {\n        if (!ds || !ds.length) {\n            return ds;\n        }\n        return DataUtil.select(ds, DataUtil.getValue(e.fieldNames));\n    };\n    /**\n     * Inserts new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {number} position\n     */\n    JsonAdaptor.prototype.insert = function (dm, data, tableName, query, position) {\n        if (isNullOrUndefined(position)) {\n            return dm.dataSource.json.push(data);\n        }\n        else {\n            return dm.dataSource.json.splice(position, 0, data);\n        }\n    };\n    /**\n     * Remove the data from the dataSource based on the key field value.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     * @returns null\n     */\n    JsonAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        var ds = dm.dataSource.json;\n        var i;\n        if (typeof value === 'object' && !(value instanceof Date)) {\n            value = DataUtil.getObject(keyField, value);\n        }\n        for (i = 0; i < ds.length; i++) {\n            if (DataUtil.getObject(keyField, ds[i]) === value) {\n                break;\n            }\n        }\n        return i !== ds.length ? ds.splice(i, 1) : null;\n    };\n    /**\n     * Updates existing record and saves the changes to the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     * @returns null\n     */\n    JsonAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        var ds = dm.dataSource.json;\n        var i;\n        var key;\n        if (!isNullOrUndefined(keyField)) {\n            key = getValue(keyField, value);\n        }\n        for (i = 0; i < ds.length; i++) {\n            if (!isNullOrUndefined(keyField) && (getValue(keyField, ds[i])) === key) {\n                break;\n            }\n        }\n        return i < ds.length ? merge(ds[i], value) : null;\n    };\n    return JsonAdaptor;\n}(Adaptor));\nexport { JsonAdaptor };\n/**\n * URL Adaptor of DataManager can be used when you are required to use remote service to retrieve data.\n * It interacts with server-side for all DataManager Queries and CRUD operations.\n * @hidden\n */\nvar UrlAdaptor = /** @class */ (function (_super) {\n    __extends(UrlAdaptor, _super);\n    function UrlAdaptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Process the query to generate request body.\n     * @param  {DataManager} dm\n     * @param  {Query} query\n     * @param  {Object[]} hierarchyFilters?\n     * @returns p\n     */\n    // tslint:disable-next-line:max-func-body-length\n    UrlAdaptor.prototype.processQuery = function (dm, query, hierarchyFilters) {\n        var queries = this.getQueryRequest(query);\n        var singles = Query.filterQueryLists(query.queries, ['onSelect', 'onPage', 'onSkip', 'onTake', 'onRange']);\n        var params = query.params;\n        var url = dm.dataSource.url;\n        var temp;\n        var skip;\n        var take = null;\n        var options = this.options;\n        var request = { sorts: [], groups: [], filters: [], searches: [], aggregates: [] };\n        // calc Paging & Range\n        if ('onPage' in singles) {\n            temp = singles.onPage;\n            skip = DataUtil.getValue(temp.pageIndex, query);\n            take = DataUtil.getValue(temp.pageSize, query);\n            skip = (skip - 1) * take;\n        }\n        else if ('onRange' in singles) {\n            temp = singles.onRange;\n            skip = temp.start;\n            take = temp.end - temp.start;\n        }\n        // Sorting\n        for (var i = 0; i < queries.sorts.length; i++) {\n            temp = DataUtil.getValue(queries.sorts[i].e.fieldName, query);\n            request.sorts.push(DataUtil.callAdaptorFunction(this, 'onEachSort', { name: temp, direction: queries.sorts[i].e.direction }, query));\n        }\n        // hierarchy\n        if (hierarchyFilters) {\n            temp = this.getFiltersFrom(hierarchyFilters, query);\n            if (temp) {\n                request.filters.push(DataUtil.callAdaptorFunction(this, 'onEachWhere', temp.toJson(), query));\n            }\n        }\n        // Filters\n        for (var i = 0; i < queries.filters.length; i++) {\n            var res = DataUtil.callAdaptorFunction(this, 'onEachWhere', queries.filters[i].e.toJson(), query);\n            if ((this.getModuleName &&\n                this.getModuleName() === 'ODataV4Adaptor') &&\n                !isNullOrUndefined(queries.filters[i].e.key) && queries.filters.length > 1) {\n                res = \"(\" + res + \")\";\n            }\n            request.filters.push(res);\n            var keys_3 = typeof request.filters[i] === 'object' ? Object.keys(request.filters[i]) : [];\n            for (var _i = 0, keys_1 = keys_3; _i < keys_1.length; _i++) {\n                var prop = keys_1[_i];\n                if (DataUtil.isNull((request)[prop])) {\n                    delete request[prop];\n                }\n            }\n        }\n        // Searches\n        for (var i = 0; i < queries.searches.length; i++) {\n            temp = queries.searches[i].e;\n            request.searches.push(DataUtil.callAdaptorFunction(this, 'onEachSearch', {\n                fields: temp.fieldNames,\n                operator: temp.operator,\n                key: temp.searchKey,\n                ignoreCase: temp.ignoreCase\n            }, query));\n        }\n        // Grouping\n        for (var i = 0; i < queries.groups.length; i++) {\n            request.groups.push(DataUtil.getValue(queries.groups[i].e.fieldName, query));\n        }\n        // aggregates\n        for (var i = 0; i < queries.aggregates.length; i++) {\n            temp = queries.aggregates[i].e;\n            request.aggregates.push({ type: temp.type, field: DataUtil.getValue(temp.field, query) });\n        }\n        var req = {};\n        this.getRequestQuery(options, query, singles, request, req);\n        // Params\n        DataUtil.callAdaptorFunction(this, 'addParams', { dm: dm, query: query, params: params, reqParams: req });\n        if (query.lazyLoad.length) {\n            for (var i = 0; i < query.lazyLoad.length; i++) {\n                req[query.lazyLoad[i].key] = query.lazyLoad[i].value;\n            }\n        }\n        // cleanup\n        var keys = Object.keys(req);\n        for (var _a = 0, keys_2 = keys; _a < keys_2.length; _a++) {\n            var prop = keys_2[_a];\n            if (DataUtil.isNull(req[prop]) || req[prop] === '' || req[prop].length === 0) {\n                delete req[prop];\n            }\n        }\n        if (!(options.skip in req && options.take in req) && take !== null) {\n            req[options.skip] = DataUtil.callAdaptorFunction(this, 'onSkip', skip, query);\n            req[options.take] = DataUtil.callAdaptorFunction(this, 'onTake', take, query);\n        }\n        var p = this.pvt;\n        this.pvt = {};\n        if (this.options.requestType === 'json') {\n            return {\n                data: JSON.stringify(req, DataUtil.parse.jsonDateReplacer),\n                url: url,\n                pvtData: p,\n                type: 'POST',\n                contentType: 'application/json; charset=utf-8'\n            };\n        }\n        temp = this.convertToQueryString(req, query, dm);\n        temp = (dm.dataSource.url.indexOf('?') !== -1 ? '&' : '/') + temp;\n        return {\n            type: 'GET', url: temp.length ? url.replace(/\\/*$/, temp) : url, pvtData: p\n        };\n    };\n    UrlAdaptor.prototype.getRequestQuery = function (options, query, singles, request, request1) {\n        var param = 'param';\n        var req = request1;\n        req[options.from] = query.fromTable;\n        if (options.apply && query.distincts.length) {\n            req[options.apply] = 'onDistinct' in this ? DataUtil.callAdaptorFunction(this, 'onDistinct', query.distincts) : '';\n        }\n        if (!query.distincts.length && options.expand) {\n            req[options.expand] = 'onExpand' in this && 'onSelect' in singles ?\n                DataUtil.callAdaptorFunction(this, 'onExpand', { selects: DataUtil.getValue(singles.onSelect.fieldNames, query), expands: query.expands }, query) : query.expands;\n        }\n        req[options.select] = 'onSelect' in singles && !query.distincts.length ?\n            DataUtil.callAdaptorFunction(this, 'onSelect', DataUtil.getValue(singles.onSelect.fieldNames, query), query) : '';\n        req[options.count] = query.isCountRequired ? DataUtil.callAdaptorFunction(this, 'onCount', query.isCountRequired, query) : '';\n        req[options.search] = request.searches.length ? DataUtil.callAdaptorFunction(this, 'onSearch', request.searches, query) : '';\n        req[options.skip] = 'onSkip' in singles ?\n            DataUtil.callAdaptorFunction(this, 'onSkip', DataUtil.getValue(singles.onSkip.nos, query), query) : '';\n        req[options.take] = 'onTake' in singles ?\n            DataUtil.callAdaptorFunction(this, 'onTake', DataUtil.getValue(singles.onTake.nos, query), query) : '';\n        req[options.where] = request.filters.length || request.searches.length ?\n            DataUtil.callAdaptorFunction(this, 'onWhere', request.filters, query) : '';\n        req[options.sortBy] = request.sorts.length ? DataUtil.callAdaptorFunction(this, 'onSortBy', request.sorts, query) : '';\n        req[options.group] = request.groups.length ? DataUtil.callAdaptorFunction(this, 'onGroup', request.groups, query) : '';\n        req[options.aggregates] = request.aggregates.length ?\n            DataUtil.callAdaptorFunction(this, 'onAggregates', request.aggregates, query) : '';\n        req[param] = [];\n    };\n    /**\n     * Convert the object from processQuery to string which can be added query string.\n     * @param  {Object} req\n     * @param  {Query} query\n     * @param  {DataManager} dm\n     */\n    UrlAdaptor.prototype.convertToQueryString = function (request, query, dm) {\n        return '';\n        // this needs to be overridden\n    };\n    /**\n     * Return the data from the data manager processing.\n     * @param  {DataResult} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Object} request?\n     * @param  {CrudOptions} changes?\n     */\n    UrlAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        if (xhr && xhr.getResponseHeader('Content-Type') &&\n            xhr.getResponseHeader('Content-Type').indexOf('application/json') !== -1) {\n            var handleTimeZone = DataUtil.timeZoneHandling;\n            if (ds && !ds.timeZoneHandling) {\n                DataUtil.timeZoneHandling = false;\n            }\n            data = DataUtil.parse.parseJson(data);\n            DataUtil.timeZoneHandling = handleTimeZone;\n        }\n        var requests = request;\n        var pvt = requests.pvtData || {};\n        var groupDs = data ? data.groupDs : [];\n        if (xhr && xhr.getResponseHeader('Content-Type') &&\n            xhr.getResponseHeader('Content-Type').indexOf('xml') !== -1) {\n            return (query.isCountRequired ? { result: [], count: 0 } : []);\n        }\n        var d = JSON.parse(requests.data);\n        if (d && d.action === 'batch' && data && data.addedRecords) {\n            changes.addedRecords = data.addedRecords;\n            return changes;\n        }\n        if (data && data.d) {\n            data = data.d;\n        }\n        var args = {};\n        if (data && 'count' in data) {\n            args.count = data.count;\n        }\n        args.result = data && data.result ? data.result : data;\n        var isExpand = false;\n        if (Array.isArray(data.result) && data.result.length) {\n            var key = 'key';\n            var val = 'value';\n            var level = 'level';\n            if (!isNullOrUndefined(data.result[0][key])) {\n                args.result = this.formRemoteGroupedData(args.result, 1, pvt.groups.length - 1);\n            }\n            if (query && query.lazyLoad.length && pvt.groups.length) {\n                for (var i = 0; i < query.lazyLoad.length; i++) {\n                    if (query.lazyLoad[i][key] === 'onDemandGroupInfo') {\n                        var value = query.lazyLoad[i][val][level];\n                        if (pvt.groups.length === value) {\n                            isExpand = true;\n                        }\n                    }\n                }\n            }\n        }\n        if (!isExpand) {\n            this.getAggregateResult(pvt, data, args, groupDs, query);\n        }\n        return DataUtil.isNull(args.count) ? args.result : { result: args.result, count: args.count, aggregates: args.aggregates };\n    };\n    UrlAdaptor.prototype.formRemoteGroupedData = function (data, level, childLevel) {\n        for (var i = 0; i < data.length; i++) {\n            if (data[i].items.length && Object.keys(data[i].items[0]).indexOf('key') > -1) {\n                this.formRemoteGroupedData(data[i].items, level + 1, childLevel - 1);\n            }\n        }\n        var uid = 'GroupGuid';\n        var childLvl = 'childLevels';\n        var lvl = 'level';\n        var records = 'records';\n        data[uid] = consts[uid];\n        data[lvl] = level;\n        data[childLvl] = childLevel;\n        data[records] = data[0].items.length ? this.getGroupedRecords(data, !isNullOrUndefined(data[0].items[records])) : [];\n        return data;\n    };\n    UrlAdaptor.prototype.getGroupedRecords = function (data, hasRecords) {\n        var childGroupedRecords = [];\n        var records = 'records';\n        for (var i = 0; i < data.length; i++) {\n            if (!hasRecords) {\n                for (var j = 0; j < data[i].items.length; j++) {\n                    childGroupedRecords.push(data[i].items[j]);\n                }\n            }\n            else {\n                childGroupedRecords = childGroupedRecords.concat(data[i].items[records]);\n            }\n        }\n        return childGroupedRecords;\n    };\n    /**\n     * Add the group query to the adaptor`s option.\n     * @param  {Object[]} e\n     * @returns void\n     */\n    UrlAdaptor.prototype.onGroup = function (e) {\n        this.pvt.groups = e;\n        return e;\n    };\n    /**\n     * Add the aggregate query to the adaptor`s option.\n     * @param  {Aggregates[]} e\n     * @returns void\n     */\n    UrlAdaptor.prototype.onAggregates = function (e) {\n        this.pvt.aggregates = e;\n    };\n    /**\n     * Prepare the request body based on the newly added, removed and updated records.\n     * The result is used by the batch request.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {Object} e\n     */\n    UrlAdaptor.prototype.batchRequest = function (dm, changes, e, query, original) {\n        var url;\n        var key;\n        return {\n            type: 'POST',\n            url: dm.dataSource.batchUrl || dm.dataSource.crudUrl || dm.dataSource.removeUrl || dm.dataSource.url,\n            contentType: 'application/json; charset=utf-8',\n            dataType: 'json',\n            data: JSON.stringify(extend({}, {\n                changed: changes.changedRecords,\n                added: changes.addedRecords,\n                deleted: changes.deletedRecords,\n                action: 'batch',\n                table: e[url],\n                key: e[key]\n            }, DataUtil.getAddParams(this, dm, query)))\n        };\n    };\n    /**\n     * Method will trigger before send the request to server side.\n     * Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @returns void\n     */\n    UrlAdaptor.prototype.beforeSend = function (dm, request) {\n        // need to extend this method\n    };\n    /**\n     * Prepare and returns request body which is used to insert a new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {string} tableName\n     */\n    UrlAdaptor.prototype.insert = function (dm, data, tableName, query) {\n        return {\n            url: dm.dataSource.insertUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify(extend({}, {\n                value: data,\n                table: tableName,\n                action: 'insert'\n            }, DataUtil.getAddParams(this, dm, query)))\n        };\n    };\n    /**\n     * Prepare and return request body which is used to remove record from the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {number|string} value\n     * @param  {string} tableName\n     */\n    UrlAdaptor.prototype.remove = function (dm, keyField, value, tableName, query) {\n        return {\n            type: 'POST',\n            url: dm.dataSource.removeUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify(extend({}, {\n                key: value,\n                keyColumn: keyField,\n                table: tableName,\n                action: 'remove'\n            }, DataUtil.getAddParams(this, dm, query)))\n        };\n    };\n    /**\n     * Prepare and return request body which is used to update record.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName\n     */\n    UrlAdaptor.prototype.update = function (dm, keyField, value, tableName, query) {\n        return {\n            type: 'POST',\n            url: dm.dataSource.updateUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify(extend({}, {\n                value: value,\n                action: 'update',\n                keyColumn: keyField,\n                key: DataUtil.getObject(keyField, value),\n                table: tableName\n            }, DataUtil.getAddParams(this, dm, query)))\n        };\n    };\n    /**\n     * To generate the predicate based on the filtered query.\n     * @param  {Object[]|string[]|number[]} data\n     * @param  {Query} query\n     * @hidden\n     */\n    UrlAdaptor.prototype.getFiltersFrom = function (data, query) {\n        var key = query.fKey;\n        var value;\n        var prop = key;\n        var pKey = query.key;\n        var predicats = [];\n        if (typeof data[0] !== 'object') {\n            prop = null;\n        }\n        for (var i = 0; i < data.length; i++) {\n            if (typeof data[0] === 'object') {\n                value = DataUtil.getObject(pKey || prop, data[i]);\n            }\n            else {\n                value = data[i];\n            }\n            predicats.push(new Predicate(key, 'equal', value));\n        }\n        return Predicate.or(predicats);\n    };\n    UrlAdaptor.prototype.getAggregateResult = function (pvt, data, args, groupDs, query) {\n        var pData = data;\n        if (data && data.result) {\n            pData = data.result;\n        }\n        if (pvt && pvt.aggregates && pvt.aggregates.length) {\n            var agg = pvt.aggregates;\n            var fn = void 0;\n            var aggregateData = pData;\n            var res = {};\n            if (data.aggregate) {\n                aggregateData = data.aggregate;\n            }\n            for (var i = 0; i < agg.length; i++) {\n                fn = DataUtil.aggregates[agg[i].type];\n                if (fn) {\n                    res[agg[i].field + ' - ' + agg[i].type] = fn(aggregateData, agg[i].field);\n                }\n            }\n            args.aggregates = res;\n        }\n        var key = 'key';\n        var isServerGrouping = Array.isArray(data.result) && data.result.length && !isNullOrUndefined(data.result[0][key]);\n        if (pvt && pvt.groups && pvt.groups.length && !isServerGrouping) {\n            var groups = pvt.groups;\n            for (var i = 0; i < groups.length; i++) {\n                var level = null;\n                if (!isNullOrUndefined(groupDs)) {\n                    groupDs = DataUtil.group(groupDs, groups[i]);\n                }\n                var groupQuery = Query.filterQueries(query.queries, 'onGroup')[i].e;\n                pData = DataUtil.group(pData, groups[i], pvt.aggregates, level, groupDs, groupQuery.comparer);\n            }\n            args.result = pData;\n        }\n        return args;\n    };\n    UrlAdaptor.prototype.getQueryRequest = function (query) {\n        var req = { sorts: [], groups: [], filters: [], searches: [], aggregates: [] };\n        req.sorts = Query.filterQueries(query.queries, 'onSortBy');\n        req.groups = Query.filterQueries(query.queries, 'onGroup');\n        req.filters = Query.filterQueries(query.queries, 'onWhere');\n        req.searches = Query.filterQueries(query.queries, 'onSearch');\n        req.aggregates = Query.filterQueries(query.queries, 'onAggregates');\n        return req;\n    };\n    UrlAdaptor.prototype.addParams = function (options) {\n        var req = options.reqParams;\n        if (options.params.length) {\n            req.params = {};\n        }\n        for (var _i = 0, _a = options.params; _i < _a.length; _i++) {\n            var tmp = _a[_i];\n            if (req[tmp.key]) {\n                throw new Error('Query() - addParams: Custom Param is conflicting other request arguments');\n            }\n            req[tmp.key] = tmp.value;\n            if (tmp.fn) {\n                req[tmp.key] = tmp.fn.call(options.query, tmp.key, options.query, options.dm);\n            }\n            req.params[tmp.key] = req[tmp.key];\n        }\n    };\n    return UrlAdaptor;\n}(Adaptor));\nexport { UrlAdaptor };\n/**\n * OData Adaptor that is extended from URL Adaptor, is used for consuming data through OData Service.\n * @hidden\n */\nvar ODataAdaptor = /** @class */ (function (_super) {\n    __extends(ODataAdaptor, _super);\n    function ODataAdaptor(props) {\n        var _this = _super.call(this) || this;\n        // options replaced the default adaptor options\n        _this.options = extend({}, _this.options, {\n            requestType: 'get',\n            accept: 'application/json;odata=light;q=1,application/json;odata=verbose;q=0.5',\n            multipartAccept: 'multipart/mixed',\n            sortBy: '$orderby',\n            select: '$select',\n            skip: '$skip',\n            take: '$top',\n            count: '$inlinecount',\n            where: '$filter',\n            expand: '$expand',\n            batch: '$batch',\n            changeSet: '--changeset_',\n            batchPre: 'batch_',\n            contentId: 'Content-Id: ',\n            batchContent: 'Content-Type: multipart/mixed; boundary=',\n            changeSetContent: 'Content-Type: application/http\\nContent-Transfer-Encoding: binary ',\n            batchChangeSetContentType: 'Content-Type: application/json; charset=utf-8 ',\n            updateType: 'PUT'\n        });\n        extend(_this.options, props || {});\n        return _this;\n    }\n    ODataAdaptor.prototype.getModuleName = function () {\n        return 'ODataAdaptor';\n    };\n    /**\n     * Generate request string based on the filter criteria from query.\n     * @param  {Predicate} pred\n     * @param  {boolean} requiresCast?\n     */\n    ODataAdaptor.prototype.onPredicate = function (predicate, query, requiresCast) {\n        var returnValue = '';\n        var operator;\n        var guid;\n        var val = predicate.value;\n        var type = typeof val;\n        var field = predicate.field ? ODataAdaptor.getField(predicate.field) : null;\n        if (val instanceof Date) {\n            val = 'datetime\\'' + DataUtil.parse.replacer(val) + '\\'';\n        }\n        if (type === 'string') {\n            val = val.replace(/'/g, \"''\");\n            if (predicate.ignoreCase) {\n                val = val.toLowerCase();\n            }\n            val = encodeURIComponent(val);\n            val = '\\'' + val + '\\'';\n            if (requiresCast) {\n                field = 'cast(' + field + ', \\'Edm.String\\')';\n            }\n            if (DataUtil.parse.isGuid(val)) {\n                guid = 'guid';\n            }\n            if (predicate.ignoreCase) {\n                if (!guid) {\n                    field = 'tolower(' + field + ')';\n                }\n                val = val.toLowerCase();\n            }\n        }\n        operator = DataUtil.odBiOperator[predicate.operator];\n        if (operator) {\n            returnValue += field;\n            returnValue += operator;\n            if (guid) {\n                returnValue += guid;\n            }\n            return returnValue + val;\n        }\n        if (!isNullOrUndefined(this.getModuleName) && this.getModuleName() === 'ODataV4Adaptor') {\n            operator = DataUtil.odv4UniOperator[predicate.operator];\n        }\n        else {\n            operator = DataUtil.odUniOperator[predicate.operator];\n        }\n        if (operator === 'substringof') {\n            var temp = val;\n            val = field;\n            field = temp;\n        }\n        returnValue += operator + '(';\n        returnValue += field + ',';\n        if (guid) {\n            returnValue += guid;\n        }\n        returnValue += val + ')';\n        return returnValue;\n    };\n    ODataAdaptor.prototype.addParams = function (options) {\n        _super.prototype.addParams.call(this, options);\n        delete options.reqParams.params;\n    };\n    /**\n     * Generate request string based on the multiple filter criteria from query.\n     * @param  {Predicate} pred\n     * @param  {boolean} requiresCast?\n     */\n    ODataAdaptor.prototype.onComplexPredicate = function (predicate, query, requiresCast) {\n        var res = [];\n        for (var i = 0; i < predicate.predicates.length; i++) {\n            res.push('(' + this.onEachWhere(predicate.predicates[i], query, requiresCast) + ')');\n        }\n        return res.join(' ' + predicate.condition + ' ');\n    };\n    /**\n     * Generate query string based on the multiple filter criteria from query.\n     * @param  {Predicate} filter\n     * @param  {boolean} requiresCast?\n     */\n    ODataAdaptor.prototype.onEachWhere = function (filter, query, requiresCast) {\n        return filter.isComplex ? this.onComplexPredicate(filter, query, requiresCast) : this.onPredicate(filter, query, requiresCast);\n    };\n    /**\n     * Generate query string based on the multiple filter criteria from query.\n     * @param  {string[]} filters\n     */\n    ODataAdaptor.prototype.onWhere = function (filters) {\n        if (this.pvt.search) {\n            filters.push(this.onEachWhere(this.pvt.search, null, true));\n        }\n        return filters.join(' and ');\n    };\n    /**\n     * Generate query string based on the multiple search criteria from query.\n     * @param  {{fields:string[]} e\n     * @param  {string} operator\n     * @param  {string} key\n     * @param  {boolean}} ignoreCase\n     */\n    ODataAdaptor.prototype.onEachSearch = function (e) {\n        if (e.fields && e.fields.length === 0) {\n            DataUtil.throwError('Query() - Search : oData search requires list of field names to search');\n        }\n        var filter = this.pvt.search || [];\n        for (var i = 0; i < e.fields.length; i++) {\n            filter.push(new Predicate(e.fields[i], e.operator, e.key, e.ignoreCase));\n        }\n        this.pvt.search = filter;\n    };\n    /**\n     * Generate query string based on the search criteria from query.\n     * @param  {Object} e\n     */\n    ODataAdaptor.prototype.onSearch = function (e) {\n        this.pvt.search = Predicate.or(this.pvt.search);\n        return '';\n    };\n    /**\n     * Generate query string based on multiple sort criteria from query.\n     * @param  {QueryOptions} e\n     */\n    ODataAdaptor.prototype.onEachSort = function (e) {\n        var res = [];\n        if (e.name instanceof Array) {\n            for (var i = 0; i < e.name.length; i++) {\n                res.push(ODataAdaptor.getField(e.name[i]) + (e.direction === 'descending' ? ' desc' : ''));\n            }\n        }\n        else {\n            res.push(ODataAdaptor.getField(e.name) + (e.direction === 'descending' ? ' desc' : ''));\n        }\n        return res.join(',');\n    };\n    /**\n     * Returns sort query string.\n     * @param  {string[]} e\n     */\n    ODataAdaptor.prototype.onSortBy = function (e) {\n        return e.reverse().join(',');\n    };\n    /**\n     * Adds the group query to the adaptor option.\n     * @param  {Object[]} e\n     * @returns string\n     */\n    ODataAdaptor.prototype.onGroup = function (e) {\n        this.pvt.groups = e;\n        return [];\n    };\n    /**\n     * Returns the select query string.\n     * @param  {string[]} e\n     */\n    ODataAdaptor.prototype.onSelect = function (e) {\n        for (var i = 0; i < e.length; i++) {\n            e[i] = ODataAdaptor.getField(e[i]);\n        }\n        return e.join(',');\n    };\n    /**\n     * Add the aggregate query to the adaptor option.\n     * @param  {Object[]} e\n     * @returns string\n     */\n    ODataAdaptor.prototype.onAggregates = function (e) {\n        this.pvt.aggregates = e;\n        return '';\n    };\n    /**\n     * Returns the query string which requests total count from the data source.\n     * @param  {boolean} e\n     * @returns string\n     */\n    ODataAdaptor.prototype.onCount = function (e) {\n        return e === true ? 'allpages' : '';\n    };\n    /**\n     * Method will trigger before send the request to server side.\n     * Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @param  {Ajax} settings?\n     */\n    ODataAdaptor.prototype.beforeSend = function (dm, request, settings) {\n        if (DataUtil.endsWith(settings.url, this.options.batch) && settings.type.toLowerCase() === 'post') {\n            request.setRequestHeader('Accept', this.options.multipartAccept);\n            request.setRequestHeader('DataServiceVersion', '2.0');\n            request.overrideMimeType('text/plain; charset=x-user-defined');\n        }\n        else {\n            request.setRequestHeader('Accept', this.options.accept);\n        }\n        request.setRequestHeader('DataServiceVersion', '2.0');\n        request.setRequestHeader('MaxDataServiceVersion', '2.0');\n    };\n    /**\n     * Returns the data from the query processing.\n     * @param  {DataResult} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Ajax} request?\n     * @param  {CrudOptions} changes?\n     * @returns aggregateResult\n     */\n    ODataAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        var metaCheck = 'odata.metadata';\n        if ((request && request.type === 'GET') && !this.rootUrl && data[metaCheck]) {\n            var dataUrls = data[metaCheck].split('/$metadata#');\n            this.rootUrl = dataUrls[0];\n            this.resourceTableName = dataUrls[1];\n        }\n        var pvtData = 'pvtData';\n        if (!isNullOrUndefined(data.d)) {\n            var dataCopy = ((query && query.isCountRequired) ? data.d.results : data.d);\n            var metaData = '__metadata';\n            if (!isNullOrUndefined(dataCopy)) {\n                for (var i = 0; i < dataCopy.length; i++) {\n                    if (!isNullOrUndefined(dataCopy[i][metaData])) {\n                        delete dataCopy[i][metaData];\n                    }\n                }\n            }\n        }\n        var pvt = request && request[pvtData];\n        var emptyAndBatch = this.processBatchResponse(data, query, xhr, request, changes);\n        if (emptyAndBatch) {\n            return emptyAndBatch;\n        }\n        var versionCheck = xhr && request.getResponseHeader('DataServiceVersion');\n        var count = null;\n        var version = (versionCheck && parseInt(versionCheck, 10)) || 2;\n        if (query && query.isCountRequired) {\n            var oDataCount = '__count';\n            if (data[oDataCount] || data['odata.count']) {\n                count = data[oDataCount] || data['odata.count'];\n            }\n            if (data.d) {\n                data = data.d;\n            }\n            if (data[oDataCount] || data['odata.count']) {\n                count = data[oDataCount] || data['odata.count'];\n            }\n        }\n        if (version === 3 && data.value) {\n            data = data.value;\n        }\n        if (data.d) {\n            data = data.d;\n        }\n        if (version < 3 && data.results) {\n            data = data.results;\n        }\n        var args = {};\n        args.count = count;\n        args.result = data;\n        this.getAggregateResult(pvt, data, args, null, query);\n        return DataUtil.isNull(count) ? args.result : { result: args.result, count: args.count, aggregates: args.aggregates };\n    };\n    /**\n     * Converts the request object to query string.\n     * @param  {Object} req\n     * @param  {Query} query\n     * @param  {DataManager} dm\n     * @returns tableName\n     */\n    ODataAdaptor.prototype.convertToQueryString = function (request, query, dm) {\n        var res = [];\n        var table = 'table';\n        var tableName = request[table] || '';\n        var format = '$format';\n        delete request[table];\n        if (dm.dataSource.requiresFormat) {\n            request[format] = 'json';\n        }\n        var keys = Object.keys(request);\n        for (var _i = 0, keys_4 = keys; _i < keys_4.length; _i++) {\n            var prop = keys_4[_i];\n            res.push(prop + '=' + request[prop]);\n        }\n        res = res.join('&');\n        if (dm.dataSource.url && dm.dataSource.url.indexOf('?') !== -1 && !tableName) {\n            return res;\n        }\n        return res.length ? tableName + '?' + res : tableName || '';\n    };\n    ODataAdaptor.prototype.localTimeReplacer = function (key, convertObj) {\n        for (var _i = 0, _a = !isNullOrUndefined(convertObj) ? Object.keys(convertObj) : []; _i < _a.length; _i++) {\n            var prop = _a[_i];\n            if ((convertObj[prop] instanceof Date)) {\n                convertObj[prop] = DataUtil.dateParse.toLocalTime(convertObj[prop]);\n            }\n        }\n        return convertObj;\n    };\n    /**\n     * Prepare and returns request body which is used to insert a new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {string} tableName?\n     */\n    ODataAdaptor.prototype.insert = function (dm, data, tableName) {\n        return {\n            url: (dm.dataSource.insertUrl || dm.dataSource.url).replace(/\\/*$/, tableName ? '/' + tableName : ''),\n            data: JSON.stringify(data, this.options.localTime ? this.localTimeReplacer : null)\n        };\n    };\n    /**\n     * Prepare and return request body which is used to remove record from the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {number} value\n     * @param  {string} tableName?\n     */\n    ODataAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        var url;\n        if (typeof value === 'string' && !DataUtil.parse.isGuid(value)) {\n            url = \"('\" + value + \"')\";\n        }\n        else {\n            url = \"(\" + value + \")\";\n        }\n        return {\n            type: 'DELETE',\n            url: (dm.dataSource.removeUrl || dm.dataSource.url).replace(/\\/*$/, tableName ? '/' + tableName : '') + url\n        };\n    };\n    /**\n     * Updates existing record and saves the changes to the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     * @returns this\n     */\n    ODataAdaptor.prototype.update = function (dm, keyField, value, tableName, query, original) {\n        if (this.options.updateType === 'PATCH' && !isNullOrUndefined(original)) {\n            value = this.compareAndRemove(value, original, keyField);\n        }\n        var url;\n        if (typeof value[keyField] === 'string' && !DataUtil.parse.isGuid(value[keyField])) {\n            url = \"('\" + value[keyField] + \"')\";\n        }\n        else {\n            url = \"(\" + value[keyField] + \")\";\n        }\n        return {\n            type: this.options.updateType,\n            url: (dm.dataSource.updateUrl || dm.dataSource.url).replace(/\\/*$/, tableName ? '/' + tableName : '') + url,\n            data: JSON.stringify(value, this.options.localTime ? this.localTimeReplacer : null),\n            accept: this.options.accept\n        };\n    };\n    /**\n     * Prepare the request body based on the newly added, removed and updated records.\n     * The result is used by the batch request.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {RemoteArgs} e\n     * @returns {Object}\n     */\n    ODataAdaptor.prototype.batchRequest = function (dm, changes, e, query, original) {\n        var initialGuid = e.guid = DataUtil.getGuid(this.options.batchPre);\n        var url = this.rootUrl ? this.rootUrl + '/' + this.options.batch :\n            dm.dataSource.url.replace(/\\/*$/, '/' + this.options.batch);\n        e.url = this.resourceTableName ? this.resourceTableName : e.url;\n        var args = {\n            url: e.url,\n            key: e.key,\n            cid: 1,\n            cSet: DataUtil.getGuid(this.options.changeSet)\n        };\n        var req = '--' + initialGuid + '\\n';\n        req += 'Content-Type: multipart/mixed; boundary=' + args.cSet.replace('--', '') + '\\n';\n        this.pvt.changeSet = 0;\n        req += this.generateInsertRequest(changes.addedRecords, args, dm);\n        req += this.generateUpdateRequest(changes.changedRecords, args, dm, original ? original.changedRecords : []);\n        req += this.generateDeleteRequest(changes.deletedRecords, args, dm);\n        req += args.cSet + '--\\n';\n        req += '--' + initialGuid + '--';\n        return {\n            type: 'POST',\n            url: url,\n            dataType: 'json',\n            contentType: 'multipart/mixed; charset=UTF-8;boundary=' + initialGuid,\n            data: req\n        };\n    };\n    /**\n     * Generate the string content from the removed records.\n     * The result will be send during batch update.\n     * @param  {Object[]} arr\n     * @param  {RemoteArgs} e\n     * @returns this\n     */\n    ODataAdaptor.prototype.generateDeleteRequest = function (arr, e, dm) {\n        if (!arr) {\n            return '';\n        }\n        var req = '';\n        var stat = {\n            'method': 'DELETE ',\n            'url': function (data, i, key) {\n                var url = DataUtil.getObject(key, data[i]);\n                if (typeof url === 'number' || DataUtil.parse.isGuid(url)) {\n                    return '(' + url + ')';\n                }\n                else if (url instanceof Date) {\n                    var dateTime = data[i][key];\n                    return '(' + dateTime.toJSON() + ')';\n                }\n                else {\n                    return \"('\" + url + \"')\";\n                }\n            },\n            'data': function (data, i) { return ''; }\n        };\n        req = this.generateBodyContent(arr, e, stat, dm);\n        return req + '\\n';\n    };\n    /**\n     * Generate the string content from the inserted records.\n     * The result will be send during batch update.\n     * @param  {Object[]} arr\n     * @param  {RemoteArgs} e\n     */\n    ODataAdaptor.prototype.generateInsertRequest = function (arr, e, dm) {\n        if (!arr) {\n            return '';\n        }\n        var req = '';\n        var stat = {\n            'method': 'POST ',\n            'url': function (data, i, key) { return ''; },\n            'data': function (data, i) { return JSON.stringify(data[i]) + '\\n\\n'; }\n        };\n        req = this.generateBodyContent(arr, e, stat, dm);\n        return req;\n    };\n    /**\n     * Generate the string content from the updated records.\n     * The result will be send during batch update.\n     * @param  {Object[]} arr\n     * @param  {RemoteArgs} e\n     */\n    ODataAdaptor.prototype.generateUpdateRequest = function (arr, e, dm, org) {\n        var _this = this;\n        if (!arr) {\n            return '';\n        }\n        var req = '';\n        arr.forEach(function (change) { return change = _this.compareAndRemove(change, org.filter(function (o) { return DataUtil.getObject(e.key, o) === DataUtil.getObject(e.key, change); })[0], e.key); });\n        var stat = {\n            'method': this.options.updateType + ' ',\n            'url': function (data, i, key) {\n                if (typeof data[i][key] === 'number' || DataUtil.parse.isGuid(data[i][key])) {\n                    return '(' + data[i][key] + ')';\n                }\n                else if (data[i][key] instanceof Date) {\n                    var date = data[i][key];\n                    return '(' + date.toJSON() + ')';\n                }\n                else {\n                    return \"('\" + data[i][key] + \"')\";\n                }\n            },\n            'data': function (data, i) { return JSON.stringify(data[i]) + '\\n\\n'; }\n        };\n        req = this.generateBodyContent(arr, e, stat, dm);\n        return req;\n    };\n    ODataAdaptor.getField = function (prop) {\n        return prop.replace(/\\./g, '/');\n    };\n    ODataAdaptor.prototype.generateBodyContent = function (arr, e, stat, dm) {\n        var req = '';\n        for (var i = 0; i < arr.length; i++) {\n            req += '\\n' + e.cSet + '\\n';\n            req += this.options.changeSetContent + '\\n\\n';\n            req += stat.method;\n            if (stat.method === 'POST ') {\n                req += (dm.dataSource.insertUrl || dm.dataSource.crudUrl || e.url) + stat.url(arr, i, e.key) + ' HTTP/1.1\\n';\n            }\n            else if (stat.method === 'PUT ' || stat.method === 'PATCH ') {\n                req += (dm.dataSource.updateUrl || dm.dataSource.crudUrl || e.url) + stat.url(arr, i, e.key) + ' HTTP/1.1\\n';\n            }\n            else if (stat.method === 'DELETE ') {\n                req += (dm.dataSource.removeUrl || dm.dataSource.crudUrl || e.url) + stat.url(arr, i, e.key) + ' HTTP/1.1\\n';\n            }\n            req += 'Accept: ' + this.options.accept + '\\n';\n            req += 'Content-Id: ' + this.pvt.changeSet++ + '\\n';\n            req += this.options.batchChangeSetContentType + '\\n';\n            if (!isNullOrUndefined(arr[i]['@odata.etag'])) {\n                req += 'If-Match: ' + arr[i]['@odata.etag'] + '\\n\\n';\n                delete arr[i]['@odata.etag'];\n            }\n            else {\n                req += '\\n';\n            }\n            req += stat.data(arr, i);\n        }\n        return req;\n    };\n    ODataAdaptor.prototype.processBatchResponse = function (data, query, xhr, request, changes) {\n        if (xhr && xhr.getResponseHeader('Content-Type') && xhr.getResponseHeader('Content-Type').indexOf('xml') !== -1) {\n            return (query.isCountRequired ? { result: [], count: 0 } : []);\n        }\n        if (request && this.options.batch && DataUtil.endsWith(request.url, this.options.batch) && request.type.toLowerCase() === 'post') {\n            var guid = xhr.getResponseHeader('Content-Type');\n            var cIdx = void 0;\n            var jsonObj = void 0;\n            var d = data + '';\n            guid = guid.substring(guid.indexOf('=batchresponse') + 1);\n            d = d.split(guid);\n            if (d.length < 2) {\n                return {};\n            }\n            d = d[1];\n            var exVal = /(?:\\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(d);\n            if (exVal) {\n                d.replace(exVal[0], '');\n            }\n            var changeGuid = exVal ? exVal[1] : '';\n            d = d.split(changeGuid);\n            for (var i = d.length; i > -1; i--) {\n                if (!/\\bContent-ID:/i.test(d[i]) || !/\\bHTTP.+201/.test(d[i])) {\n                    continue;\n                }\n                cIdx = parseInt(/\\bContent-ID: (\\d+)/i.exec(d[i])[1], 10);\n                if (changes.addedRecords[cIdx]) {\n                    jsonObj = DataUtil.parse.parseJson(/^\\{.+\\}/m.exec(d[i])[0]);\n                    extend({}, changes.addedRecords[cIdx], this.processResponse(jsonObj));\n                }\n            }\n            return changes;\n        }\n        return null;\n    };\n    ODataAdaptor.prototype.compareAndRemove = function (data, original, key) {\n        var _this = this;\n        if (isNullOrUndefined(original)) {\n            return data;\n        }\n        Object.keys(data).forEach(function (prop) {\n            if (prop !== key && prop !== '@odata.etag') {\n                if (DataUtil.isPlainObject(data[prop])) {\n                    _this.compareAndRemove(data[prop], original[prop]);\n                    var final = Object.keys(data[prop]).filter(function (data) { return data !== '@odata.etag'; });\n                    if (final.length === 0) {\n                        delete data[prop];\n                    }\n                }\n                else if (data[prop] === original[prop]) {\n                    delete data[prop];\n                }\n                else if (data[prop] && original[prop] && data[prop].valueOf() === original[prop].valueOf()) {\n                    delete data[prop];\n                }\n            }\n        });\n        return data;\n    };\n    return ODataAdaptor;\n}(UrlAdaptor));\nexport { ODataAdaptor };\n/**\n * The OData v4 is an improved version of OData protocols.\n * The DataManager uses the ODataV4Adaptor to consume OData v4 services.\n * @hidden\n */\nvar ODataV4Adaptor = /** @class */ (function (_super) {\n    __extends(ODataV4Adaptor, _super);\n    function ODataV4Adaptor(props) {\n        var _this = _super.call(this, props) || this;\n        // options replaced the default adaptor options\n        _this.options = extend({}, _this.options, {\n            requestType: 'get',\n            accept: 'application/json, text/javascript, */*; q=0.01',\n            multipartAccept: 'multipart/mixed',\n            sortBy: '$orderby',\n            select: '$select',\n            skip: '$skip',\n            take: '$top',\n            count: '$count',\n            search: '$search',\n            where: '$filter',\n            expand: '$expand',\n            batch: '$batch',\n            changeSet: '--changeset_',\n            batchPre: 'batch_',\n            contentId: 'Content-Id: ',\n            batchContent: 'Content-Type: multipart/mixed; boundary=',\n            changeSetContent: 'Content-Type: application/http\\nContent-Transfer-Encoding: binary ',\n            batchChangeSetContentType: 'Content-Type: application/json; charset=utf-8 ',\n            updateType: 'PATCH',\n            localTime: false,\n            apply: '$apply'\n        });\n        extend(_this.options, props || {});\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    ODataV4Adaptor.prototype.getModuleName = function () {\n        return 'ODataV4Adaptor';\n    };\n    /**\n     * Returns the query string which requests total count from the data source.\n     * @param  {boolean} e\n     * @returns string\n     */\n    ODataV4Adaptor.prototype.onCount = function (e) {\n        return e === true ? 'true' : '';\n    };\n    /**\n     * Generate request string based on the filter criteria from query.\n     * @param  {Predicate} pred\n     * @param  {boolean} requiresCast?\n     */\n    ODataV4Adaptor.prototype.onPredicate = function (predicate, query, requiresCast) {\n        var returnValue = '';\n        var val = predicate.value;\n        var isDate = val instanceof Date;\n        if (query instanceof Query) {\n            var queries = this.getQueryRequest(query);\n            for (var i = 0; i < queries.filters.length; i++) {\n                if (queries.filters[i].e.key === predicate.value) {\n                    requiresCast = true;\n                }\n            }\n        }\n        returnValue = _super.prototype.onPredicate.call(this, predicate, query, requiresCast);\n        if (isDate) {\n            returnValue = returnValue.replace(/datetime'(.*)'$/, '$1');\n        }\n        if (DataUtil.parse.isGuid(val)) {\n            returnValue = returnValue.replace('guid', '').replace(/'/g, '');\n        }\n        return returnValue;\n    };\n    /**\n     *  Generate query string based on the multiple search criteria from query.\n     * @param  {{fields:string[]} e\n     * @param  {string} operator\n     * @param  {string} key\n     * @param  {boolean}} ignoreCase\n     */\n    ODataV4Adaptor.prototype.onEachSearch = function (e) {\n        var search = this.pvt.searches || [];\n        search.push(e.key);\n        this.pvt.searches = search;\n    };\n    /**\n     *  Generate query string based on the search criteria from query.\n     * @param  {Object} e\n     */\n    ODataV4Adaptor.prototype.onSearch = function (e) {\n        return this.pvt.searches.join(' OR ');\n    };\n    /**\n     * Returns the expand query string.\n     * @param  {string} e\n     */\n    ODataV4Adaptor.prototype.onExpand = function (e) {\n        var _this = this;\n        var selected = {};\n        var expanded = {};\n        var expands = e.expands.slice();\n        var exArr = [];\n        var selects = e.selects.filter(function (item) { return item.indexOf('.') > -1; });\n        selects.forEach(function (select) {\n            var splits = select.split('.');\n            if (!(splits[0] in selected)) {\n                selected[splits[0]] = [];\n            }\n            if (splits.length == 2) {\n                if (selected[splits[0]].length && Object.keys(selected).indexOf(splits[0]) !== -1) {\n                    if (selected[splits[0]][0].indexOf('$expand') !== -1 && selected[splits[0]][0].indexOf(';$select=') === -1) {\n                        selected[splits[0]][0] = selected[splits[0]][0] + ';' + '$select=' + splits[1];\n                    }\n                    else {\n                        selected[splits[0]][0] = selected[splits[0]][0] + ',' + splits[1];\n                    }\n                }\n                else {\n                    selected[splits[0]].push('$select=' + splits[1]);\n                }\n            }\n            else {\n                var sel = '$select=' + splits[splits.length - 1];\n                var exp = '';\n                var close_1 = '';\n                for (var i = 1; i < splits.length - 1; i++) {\n                    exp = exp + '$expand=' + splits[i] + '(';\n                    close_1 = close_1 + ')';\n                }\n                var combineVal = exp + sel + close_1;\n                if (selected[splits[0]].length && Object.keys(selected).indexOf(splits[0]) !== -1 &&\n                    _this.expandQueryIndex(selected[splits[0]], true)) {\n                    var idx = _this.expandQueryIndex(selected[splits[0]]);\n                    selected[splits[0]][idx] = selected[splits[0]][idx] + combineVal.replace('$expand=', ',');\n                }\n                else {\n                    selected[splits[0]].push(combineVal);\n                }\n            }\n        });\n        //Auto expand from select query\n        Object.keys(selected).forEach(function (expand) {\n            if ((expands.indexOf(expand) === -1)) {\n                expands.push(expand);\n            }\n        });\n        expands.forEach(function (expand) {\n            expanded[expand] = expand in selected ? expand + \"(\" + selected[expand].join(';') + \")\" : expand;\n        });\n        Object.keys(expanded).forEach(function (ex) { return exArr.push(expanded[ex]); });\n        return exArr.join(',');\n    };\n    ODataV4Adaptor.prototype.expandQueryIndex = function (query, isExpand) {\n        for (var i = 0; i < query.length; i++) {\n            if (query[i].indexOf('$expand') !== -1) {\n                return isExpand ? true : i;\n            }\n        }\n        return isExpand ? false : 0;\n    };\n    /**\n     * Returns the groupby query string.\n     * @param  {string} e\n     */\n    ODataV4Adaptor.prototype.onDistinct = function (distinctFields) {\n        var fields = distinctFields.map(function (field) { return ODataAdaptor.getField(field); }).join(',');\n        return \"groupby((\" + fields + \"))\";\n    };\n    /**\n     * Returns the select query string.\n     * @param  {string[]} e\n     */\n    ODataV4Adaptor.prototype.onSelect = function (e) {\n        return _super.prototype.onSelect.call(this, e.filter(function (item) { return item.indexOf('.') === -1; }));\n    };\n    /**\n     * Method will trigger before send the request to server side.\n     * Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @param  {Ajax} settings\n     * @returns void\n     */\n    ODataV4Adaptor.prototype.beforeSend = function (dm, request, settings) {\n        if (settings.type === 'POST' || settings.type === 'PUT' || settings.type === 'PATCH') {\n            request.setRequestHeader('Prefer', 'return=representation');\n        }\n        request.setRequestHeader('Accept', this.options.accept);\n    };\n    /**\n     * Returns the data from the query processing.\n     * @param  {DataResult} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Ajax} request?\n     * @param  {CrudOptions} changes?\n     * @returns aggregateResult\n     */\n    ODataV4Adaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        var metaName = '@odata.context';\n        if ((request && request.type === 'GET') && !this.rootUrl && data[metaName]) {\n            var dataUrl = data[metaName].split('/$metadata#');\n            this.rootUrl = dataUrl[0];\n            this.resourceTableName = dataUrl[1];\n        }\n        var pvtData = 'pvtData';\n        var pvt = request && request[pvtData];\n        var emptyAndBatch = _super.prototype.processBatchResponse.call(this, data, query, xhr, request, changes);\n        if (emptyAndBatch) {\n            return emptyAndBatch;\n        }\n        var count = null;\n        var dataCount = '@odata.count';\n        if (query && query.isCountRequired) {\n            if (dataCount in data) {\n                count = data[dataCount];\n            }\n        }\n        data = !isNullOrUndefined(data.value) ? data.value : data;\n        var args = {};\n        args.count = count;\n        args.result = data;\n        this.getAggregateResult(pvt, data, args, null, query);\n        return DataUtil.isNull(count) ? args.result : { result: args.result, count: count, aggregates: args.aggregates };\n    };\n    return ODataV4Adaptor;\n}(ODataAdaptor));\nexport { ODataV4Adaptor };\n/**\n * The Web API is a programmatic interface to define the request and response messages system that is mostly exposed in JSON or XML.\n * The DataManager uses the WebApiAdaptor to consume Web API.\n * Since this adaptor is targeted to interact with Web API created using OData endpoint, it is extended from ODataAdaptor\n * @hidden\n */\nvar WebApiAdaptor = /** @class */ (function (_super) {\n    __extends(WebApiAdaptor, _super);\n    function WebApiAdaptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WebApiAdaptor.prototype.getModuleName = function () {\n        return 'WebApiAdaptor';\n    };\n    /**\n     * Prepare and returns request body which is used to insert a new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {string} tableName?\n     */\n    WebApiAdaptor.prototype.insert = function (dm, data, tableName) {\n        return {\n            type: 'POST',\n            url: dm.dataSource.url,\n            data: JSON.stringify(data)\n        };\n    };\n    /**\n     * Prepare and return request body which is used to remove record from the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {number} value\n     * @param  {string} tableName?\n     */\n    WebApiAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        return {\n            type: 'DELETE',\n            url: dm.dataSource.url + '/' + value,\n            data: JSON.stringify(value)\n        };\n    };\n    /**\n     * Prepare and return request body which is used to update record.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     */\n    WebApiAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        return {\n            type: 'PUT',\n            url: dm.dataSource.url,\n            data: JSON.stringify(value)\n        };\n    };\n    WebApiAdaptor.prototype.batchRequest = function (dm, changes, e) {\n        var _this = this;\n        var initialGuid = e.guid = DataUtil.getGuid(this.options.batchPre);\n        var url = dm.dataSource.url.replace(/\\/*$/, '/' + this.options.batch);\n        e.url = this.resourceTableName ? this.resourceTableName : e.url;\n        var req = [];\n        var _loop_1 = function (i, x) {\n            changes.addedRecords.forEach(function (j, d) {\n                var stat = {\n                    'method': 'POST ',\n                    'url': function (data, i, key) { return ''; },\n                    'data': function (data, i) { return JSON.stringify(data[i]) + '\\n\\n'; }\n                };\n                req.push('--' + initialGuid);\n                req.push('Content-Type: application/http; msgtype=request', '');\n                req.push('POST ' + '/api/' + (dm.dataSource.insertUrl || dm.dataSource.crudUrl || e.url)\n                    + stat.url(changes.addedRecords, i, e.key) + ' HTTP/1.1');\n                req.push('Content-Type: ' + 'application/json; charset=utf-8');\n                req.push('Host: ' + location.host);\n                req.push('', j ? JSON.stringify(j) : '');\n            });\n        };\n        //insertion\n        for (var i = 0, x = changes.addedRecords.length; i < x; i++) {\n            _loop_1(i, x);\n        }\n        var _loop_2 = function (i, x) {\n            changes.changedRecords.forEach(function (j, d) {\n                var stat = {\n                    'method': _this.options.updateType + ' ',\n                    'url': function (data, i, key) { return ''; },\n                    'data': function (data, i) { return JSON.stringify(data[i]) + '\\n\\n'; }\n                };\n                req.push('--' + initialGuid);\n                req.push('Content-Type: application/http; msgtype=request', '');\n                req.push('PUT ' + '/api/' + (dm.dataSource.updateUrl || dm.dataSource.crudUrl || e.url)\n                    + stat.url(changes.changedRecords, i, e.key) + ' HTTP/1.1');\n                req.push('Content-Type: ' + 'application/json; charset=utf-8');\n                req.push('Host: ' + location.host);\n                req.push('', j ? JSON.stringify(j) : '');\n            });\n        };\n        //updation \n        for (var i = 0, x = changes.changedRecords.length; i < x; i++) {\n            _loop_2(i, x);\n        }\n        var _loop_3 = function (i, x) {\n            changes.deletedRecords.forEach(function (j, d) {\n                var state = {\n                    'mtd': 'DELETE ',\n                    'url': function (data, i, key) {\n                        var url = DataUtil.getObject(key, data[i]);\n                        if (typeof url === 'number' || DataUtil.parse.isGuid(url)) {\n                            return '/' + url;\n                        }\n                        else if (url instanceof Date) {\n                            var datTime = data[i][key];\n                            return '/' + datTime.toJSON();\n                        }\n                        else {\n                            return \"/'\" + url + \"'\";\n                        }\n                    },\n                    'data': function (data, i) { return ''; }\n                };\n                req.push('--' + initialGuid);\n                req.push('Content-Type: application/http; msgtype=request', '');\n                req.push('DELETE ' + '/api/' + (dm.dataSource.removeUrl || dm.dataSource.crudUrl || e.url)\n                    + state.url(changes.deletedRecords, i, e.key) + ' HTTP/1.1');\n                req.push('Content-Type: ' + 'application/json; charset=utf-8');\n                req.push('Host: ' + location.host);\n                req.push('', j ? JSON.stringify(j) : '');\n            });\n        };\n        //deletion\n        for (var i = 0, x = changes.deletedRecords.length; i < x; i++) {\n            _loop_3(i, x);\n        }\n        req.push('--' + initialGuid + '--', '');\n        return {\n            type: 'POST',\n            url: url,\n            contentType: 'multipart/mixed; boundary=' + initialGuid,\n            data: req.join('\\r\\n')\n        };\n    };\n    /**\n     * Method will trigger before send the request to server side.\n     * Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @param  {Ajax} settings\n     * @returns void\n     */\n    WebApiAdaptor.prototype.beforeSend = function (dm, request, settings) {\n        request.setRequestHeader('Accept', 'application/json, text/javascript, */*; q=0.01');\n    };\n    /**\n     * Returns the data from the query processing.\n     * @param  {DataResult} data\n     * @param  {DataOptions} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Ajax} request?\n     * @param  {CrudOptions} changes?\n     * @returns aggregateResult\n     */\n    WebApiAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        var pvtData = 'pvtData';\n        var pvt = request && request[pvtData];\n        var count = null;\n        var args = {};\n        if (request && request.type.toLowerCase() !== 'post') {\n            var versionCheck = xhr && request.getResponseHeader('DataServiceVersion');\n            var version = (versionCheck && parseInt(versionCheck, 10)) || 2;\n            if (query && query.isCountRequired) {\n                if (!DataUtil.isNull(data.Count)) {\n                    count = data.Count;\n                }\n            }\n            if (version < 3 && data.Items) {\n                data = data.Items;\n            }\n            args.count = count;\n            args.result = data;\n            this.getAggregateResult(pvt, data, args, null, query);\n        }\n        args.result = args.result || data;\n        return DataUtil.isNull(count) ? args.result : { result: args.result, count: args.count, aggregates: args.aggregates };\n    };\n    return WebApiAdaptor;\n}(ODataAdaptor));\nexport { WebApiAdaptor };\n/**\n * WebMethodAdaptor can be used by DataManager to interact with web method.\n * @hidden\n */\nvar WebMethodAdaptor = /** @class */ (function (_super) {\n    __extends(WebMethodAdaptor, _super);\n    function WebMethodAdaptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Prepare the request body based on the query.\n     * The query information can be accessed at the WebMethod using variable named `value`.\n     * @param  {DataManager} dm\n     * @param  {Query} query\n     * @param  {Object[]} hierarchyFilters?\n     * @returns application\n     */\n    WebMethodAdaptor.prototype.processQuery = function (dm, query, hierarchyFilters) {\n        var obj = new UrlAdaptor().processQuery(dm, query, hierarchyFilters);\n        var getData = 'data';\n        var data = DataUtil.parse.parseJson(obj[getData]);\n        var result = {};\n        var value = 'value';\n        if (data.param) {\n            for (var i = 0; i < data.param.length; i++) {\n                var param = data.param[i];\n                var key = Object.keys(param)[0];\n                result[key] = param[key];\n            }\n        }\n        result[value] = data;\n        var pvtData = 'pvtData';\n        var url = 'url';\n        return {\n            data: JSON.stringify(result),\n            url: obj[url],\n            pvtData: obj[pvtData],\n            type: 'POST',\n            contentType: 'application/json; charset=utf-8'\n        };\n    };\n    return WebMethodAdaptor;\n}(UrlAdaptor));\nexport { WebMethodAdaptor };\n/**\n * RemoteSaveAdaptor, extended from JsonAdaptor and it is used for binding local data and performs all DataManager queries in client-side.\n * It interacts with server-side only for CRUD operations.\n * @hidden\n */\nvar RemoteSaveAdaptor = /** @class */ (function (_super) {\n    __extends(RemoteSaveAdaptor, _super);\n    /**\n     * @hidden\n     */\n    function RemoteSaveAdaptor() {\n        var _this = _super.call(this) || this;\n        setValue('beforeSend', UrlAdaptor.prototype.beforeSend, _this);\n        return _this;\n    }\n    RemoteSaveAdaptor.prototype.insert = function (dm, data, tableName, query, position) {\n        this.pvt.position = position;\n        this.updateType = 'add';\n        return {\n            url: dm.dataSource.insertUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify(extend({}, {\n                value: data,\n                table: tableName,\n                action: 'insert'\n            }, DataUtil.getAddParams(this, dm, query)))\n        };\n    };\n    RemoteSaveAdaptor.prototype.remove = function (dm, keyField, val, tableName, query) {\n        _super.prototype.remove.call(this, dm, keyField, val);\n        return {\n            type: 'POST',\n            url: dm.dataSource.removeUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify(extend({}, {\n                key: val,\n                keyColumn: keyField,\n                table: tableName,\n                action: 'remove'\n            }, DataUtil.getAddParams(this, dm, query)))\n        };\n    };\n    RemoteSaveAdaptor.prototype.update = function (dm, keyField, val, tableName, query) {\n        this.updateType = 'update';\n        this.updateKey = keyField;\n        return {\n            type: 'POST',\n            url: dm.dataSource.updateUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            data: JSON.stringify(extend({}, {\n                value: val,\n                action: 'update',\n                keyColumn: keyField,\n                key: val[keyField],\n                table: tableName\n            }, DataUtil.getAddParams(this, dm, query)))\n        };\n    };\n    RemoteSaveAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes, e) {\n        var i;\n        var newData = request ? JSON.parse(request.data) : data;\n        data = newData.action === 'batch' ? DataUtil.parse.parseJson(data) : data;\n        if (this.updateType === 'add') {\n            _super.prototype.insert.call(this, ds, data, null, null, this.pvt.position);\n        }\n        if (this.updateType === 'update') {\n            _super.prototype.update.call(this, ds, this.updateKey, data);\n        }\n        this.updateType = undefined;\n        if (data.added) {\n            for (i = 0; i < data.added.length; i++) {\n                _super.prototype.insert.call(this, ds, data.added[i]);\n            }\n        }\n        if (data.changed) {\n            for (i = 0; i < data.changed.length; i++) {\n                _super.prototype.update.call(this, ds, e.key, data.changed[i]);\n            }\n        }\n        if (data.deleted) {\n            for (i = 0; i < data.deleted.length; i++) {\n                _super.prototype.remove.call(this, ds, e.key, data.deleted[i]);\n            }\n        }\n        return data;\n    };\n    /**\n     * Prepare the request body based on the newly added, removed and updated records.\n     * Also perform the changes in the locally cached data to sync with the remote data.\n     * The result is used by the batch request.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {RemoteArgs} e\n     */\n    RemoteSaveAdaptor.prototype.batchRequest = function (dm, changes, e, query, original) {\n        return {\n            type: 'POST',\n            url: dm.dataSource.batchUrl || dm.dataSource.crudUrl || dm.dataSource.url,\n            contentType: 'application/json; charset=utf-8',\n            dataType: 'json',\n            data: JSON.stringify(extend({}, {\n                changed: changes.changedRecords,\n                added: changes.addedRecords,\n                deleted: changes.deletedRecords,\n                action: 'batch',\n                table: e.url,\n                key: e.key\n            }, DataUtil.getAddParams(this, dm, query)))\n        };\n    };\n    RemoteSaveAdaptor.prototype.addParams = function (options) {\n        var urlParams = new UrlAdaptor();\n        urlParams.addParams(options);\n    };\n    return RemoteSaveAdaptor;\n}(JsonAdaptor));\nexport { RemoteSaveAdaptor };\n/**\n * Ajax Adaptor that is extended from URL Adaptor, is used for handle data operations with user defined functions.\n * @hidden\n */\nvar CustomDataAdaptor = /** @class */ (function (_super) {\n    __extends(CustomDataAdaptor, _super);\n    function CustomDataAdaptor(props) {\n        var _this = _super.call(this) || this;\n        // options replaced the default adaptor options\n        _this.options = extend({}, _this.options, {\n            getData: new Function(),\n            addRecord: new Function(),\n            updateRecord: new Function(),\n            deleteRecord: new Function(),\n            batchUpdate: new Function()\n        });\n        extend(_this.options, props || {});\n        return _this;\n    }\n    CustomDataAdaptor.prototype.getModuleName = function () {\n        return 'CustomDataAdaptor';\n    };\n    return CustomDataAdaptor;\n}(UrlAdaptor));\nexport { CustomDataAdaptor };\n/**\n * The GraphqlAdaptor that is extended from URL Adaptor, is used for retrieving data from the Graphql server.\n * It interacts with the Graphql server with all the DataManager Queries and performs CRUD operations.\n * @hidden\n */\nvar GraphQLAdaptor = /** @class */ (function (_super) {\n    __extends(GraphQLAdaptor, _super);\n    function GraphQLAdaptor(options) {\n        var _this = _super.call(this) || this;\n        _this.opt = options;\n        _this.schema = _this.opt.response;\n        _this.query = _this.opt.query;\n        _this.getVariables = _this.opt.getVariables ? _this.opt.getVariables : function () { };\n        _this.getQuery = function () { return _this.query; };\n        return _this;\n    }\n    GraphQLAdaptor.prototype.getModuleName = function () {\n        return 'GraphQLAdaptor';\n    };\n    /**\n     * Process the JSON data based on the provided queries.\n     * @param  {DataManager} dm\n     * @param  {Query} query?\n     */\n    GraphQLAdaptor.prototype.processQuery = function (datamanager, query) {\n        var urlQuery = _super.prototype.processQuery.apply(this, arguments);\n        var dm = JSON.parse(urlQuery.data);\n        // constructing GraphQL parameters\n        var keys = ['skip', 'take', 'sorted', 'table', 'select', 'where',\n            'search', 'requiresCounts', 'aggregates', 'params'];\n        var temp = {};\n        var str = 'searchwhereparams';\n        keys.filter(function (e) {\n            temp[e] = str.indexOf(e) > -1 ? JSON.stringify(dm[e]) : dm[e];\n        });\n        var vars = this.getVariables() || {};\n        vars['datamanager'] = temp;\n        var data = JSON.stringify({\n            query: this.getQuery(),\n            variables: vars\n        });\n        urlQuery.data = data;\n        return urlQuery;\n    };\n    /**\n     * Returns the data from the query processing.\n     * It will also cache the data for later usage.\n     * @param  {DataResult} data\n     * @param  {DataManager} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Object} request?\n     * @returns DataResult\n     */\n    GraphQLAdaptor.prototype.processResponse = function (resData, ds, query, xhr, request) {\n        var res = resData;\n        var count;\n        var aggregates;\n        var result = getValue(this.schema.result, res.data);\n        if (this.schema.count) {\n            count = getValue(this.schema.count, res.data);\n        }\n        if (this.schema.aggregates) {\n            aggregates = getValue(this.schema.aggregates, res.data);\n            aggregates = !isNullOrUndefined(aggregates) ? DataUtil.parse.parseJson(aggregates) : aggregates;\n        }\n        var pvt = request.pvtData || {};\n        var args = { result: result, aggregates: aggregates };\n        var data = args;\n        if (pvt && pvt.groups && pvt.groups.length) {\n            this.getAggregateResult(pvt, data, args, null, query);\n        }\n        return !isNullOrUndefined(count) ? { result: args.result, count: count, aggregates: aggregates } : args.result;\n    };\n    /**\n     * Prepare and returns request body which is used to insert a new record in the table.\n     */\n    GraphQLAdaptor.prototype.insert = function () {\n        var inserted = _super.prototype.insert.apply(this, arguments);\n        return this.generateCrudData(inserted, 'insert');\n    };\n    /**\n     * Prepare and returns request body which is used to update a new record in the table.\n     */\n    GraphQLAdaptor.prototype.update = function () {\n        var inserted = _super.prototype.update.apply(this, arguments);\n        return this.generateCrudData(inserted, 'update');\n    };\n    /**\n     * Prepare and returns request body which is used to remove a new record in the table.\n     */\n    GraphQLAdaptor.prototype.remove = function () {\n        var inserted = _super.prototype.remove.apply(this, arguments);\n        return this.generateCrudData(inserted, 'remove');\n    };\n    /**\n     * Prepare the request body based on the newly added, removed and updated records.\n     * The result is used by the batch request.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {Object} e\n     * @param  {Query} query\n     * @param  {Object} original\n     */\n    GraphQLAdaptor.prototype.batchRequest = function (dm, changes, e, query, original) {\n        var batch = _super.prototype.batchRequest.apply(this, arguments);\n        var bData = JSON.parse(batch.data);\n        bData.key = e.key;\n        batch.data = JSON.stringify(bData);\n        return this.generateCrudData(batch, 'batch');\n    };\n    GraphQLAdaptor.prototype.generateCrudData = function (crudData, action) {\n        var parsed = JSON.parse(crudData.data);\n        crudData.data = JSON.stringify({\n            query: this.opt.getMutation(action),\n            variables: parsed\n        });\n        return crudData;\n    };\n    return GraphQLAdaptor;\n}(UrlAdaptor));\nexport { GraphQLAdaptor };\n/**\n * Cache Adaptor is used to cache the data of the visited pages. It prevents new requests for the previously visited pages.\n * You can configure cache page size and duration of caching by using cachingPageSize and timeTillExpiration properties of the DataManager\n * @hidden\n */\nvar CacheAdaptor = /** @class */ (function (_super) {\n    __extends(CacheAdaptor, _super);\n    /**\n     * Constructor for CacheAdaptor class.\n     * @param  {CacheAdaptor} adaptor?\n     * @param  {number} timeStamp?\n     * @param  {number} pageSize?\n     * @hidden\n     */\n    function CacheAdaptor(adaptor, timeStamp, pageSize) {\n        var _this = _super.call(this) || this;\n        _this.isCrudAction = false;\n        _this.isInsertAction = false;\n        if (!isNullOrUndefined(adaptor)) {\n            _this.cacheAdaptor = adaptor;\n        }\n        _this.pageSize = pageSize;\n        _this.guidId = DataUtil.getGuid('cacheAdaptor');\n        var obj = { keys: [], results: [] };\n        window.localStorage.setItem(_this.guidId, JSON.stringify(obj));\n        var guid = _this.guidId;\n        if (!isNullOrUndefined(timeStamp)) {\n            setInterval(function () {\n                var data;\n                data = DataUtil.parse.parseJson(window.localStorage.getItem(guid));\n                var forDel = [];\n                for (var i = 0; i < data.results.length; i++) {\n                    var currentTime = +new Date();\n                    var requestTime = +new Date(data.results[i].timeStamp);\n                    data.results[i].timeStamp = currentTime - requestTime;\n                    if (currentTime - requestTime > timeStamp) {\n                        forDel.push(i);\n                    }\n                }\n                for (var i = 0; i < forDel.length; i++) {\n                    data.results.splice(forDel[i], 1);\n                    data.keys.splice(forDel[i], 1);\n                }\n                window.localStorage.removeItem(guid);\n                window.localStorage.setItem(guid, JSON.stringify(data));\n            }, timeStamp);\n        }\n        return _this;\n    }\n    /**\n     * It will generate the key based on the URL when we send a request to server.\n     * @param  {string} url\n     * @param  {Query} query?\n     * @hidden\n     */\n    CacheAdaptor.prototype.generateKey = function (url, query) {\n        var queries = this.getQueryRequest(query);\n        var singles = Query.filterQueryLists(query.queries, ['onSelect', 'onPage', 'onSkip', 'onTake', 'onRange']);\n        var key = url;\n        var page = 'onPage';\n        if (page in singles) {\n            key += singles[page].pageIndex;\n        }\n        queries.sorts.forEach(function (obj) {\n            key += obj.e.direction + obj.e.fieldName;\n        });\n        queries.groups.forEach(function (obj) {\n            key += obj.e.fieldName;\n        });\n        queries.searches.forEach(function (obj) {\n            key += obj.e.searchKey;\n        });\n        for (var filter = 0; filter < queries.filters.length; filter++) {\n            var currentFilter = queries.filters[filter];\n            if (currentFilter.e.isComplex) {\n                var newQuery = query.clone();\n                newQuery.queries = [];\n                for (var i = 0; i < currentFilter.e.predicates.length; i++) {\n                    newQuery.queries.push({ fn: 'onWhere', e: currentFilter.e.predicates[i], filter: query.queries.filter });\n                }\n                key += currentFilter.e.condition + this.generateKey(url, newQuery);\n            }\n            else {\n                key += currentFilter.e.field + currentFilter.e.operator + currentFilter.e.value;\n            }\n        }\n        return key;\n    };\n    /**\n     * Process the query to generate request body.\n     * If the data is already cached, it will return the cached data.\n     * @param  {DataManager} dm\n     * @param  {Query} query?\n     * @param  {Object[]} hierarchyFilters?\n     */\n    CacheAdaptor.prototype.processQuery = function (dm, query, hierarchyFilters) {\n        var key = this.generateKey(dm.dataSource.url, query);\n        var cachedItems;\n        cachedItems = DataUtil.parse.parseJson(window.localStorage.getItem(this.guidId));\n        var data = cachedItems ? cachedItems.results[cachedItems.keys.indexOf(key)] : null;\n        if (data != null && !this.isCrudAction && !this.isInsertAction) {\n            return data;\n        }\n        this.isCrudAction = null;\n        this.isInsertAction = null;\n        return this.cacheAdaptor.processQuery.apply(this.cacheAdaptor, [].slice.call(arguments, 0));\n    };\n    /**\n     * Returns the data from the query processing.\n     * It will also cache the data for later usage.\n     * @param  {DataResult} data\n     * @param  {DataManager} ds?\n     * @param  {Query} query?\n     * @param  {XMLHttpRequest} xhr?\n     * @param  {Ajax} request?\n     * @param  {CrudOptions} changes?\n     */\n    CacheAdaptor.prototype.processResponse = function (data, ds, query, xhr, request, changes) {\n        if (this.isInsertAction || (request && this.cacheAdaptor.options.batch &&\n            DataUtil.endsWith(request.url, this.cacheAdaptor.options.batch) && request.type.toLowerCase() === 'post')) {\n            return this.cacheAdaptor.processResponse(data, ds, query, xhr, request, changes);\n        }\n        data = this.cacheAdaptor.processResponse.apply(this.cacheAdaptor, [].slice.call(arguments, 0));\n        var key = query ? this.generateKey(ds.dataSource.url, query) : ds.dataSource.url;\n        var obj = {};\n        obj = DataUtil.parse.parseJson(window.localStorage.getItem(this.guidId));\n        var index = obj.keys.indexOf(key);\n        if (index !== -1) {\n            obj.results.splice(index, 1);\n            obj.keys.splice(index, 1);\n        }\n        obj.results[obj.keys.push(key) - 1] = { keys: key, result: data.result, timeStamp: new Date(), count: data.count };\n        while (obj.results.length > this.pageSize) {\n            obj.results.splice(0, 1);\n            obj.keys.splice(0, 1);\n        }\n        window.localStorage.setItem(this.guidId, JSON.stringify(obj));\n        return data;\n    };\n    /**\n     * Method will trigger before send the request to server side. Used to set the custom header or modify the request options.\n     * @param  {DataManager} dm\n     * @param  {XMLHttpRequest} request\n     * @param  {Ajax} settings?\n     */\n    CacheAdaptor.prototype.beforeSend = function (dm, request, settings) {\n        if (!isNullOrUndefined(this.cacheAdaptor.options.batch) && DataUtil.endsWith(settings.url, this.cacheAdaptor.options.batch)\n            && settings.type.toLowerCase() === 'post') {\n            request.setRequestHeader('Accept', this.cacheAdaptor.options.multipartAccept);\n        }\n        if (!dm.dataSource.crossDomain) {\n            request.setRequestHeader('Accept', this.cacheAdaptor.options.accept);\n        }\n    };\n    /**\n     * Updates existing record and saves the changes to the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName\n     */\n    CacheAdaptor.prototype.update = function (dm, keyField, value, tableName) {\n        this.isCrudAction = true;\n        return this.cacheAdaptor.update(dm, keyField, value, tableName);\n    };\n    /**\n     * Prepare and returns request body which is used to insert a new record in the table.\n     * @param  {DataManager} dm\n     * @param  {Object} data\n     * @param  {string} tableName?\n     */\n    CacheAdaptor.prototype.insert = function (dm, data, tableName) {\n        this.isInsertAction = true;\n        return this.cacheAdaptor.insert(dm, data, tableName);\n    };\n    /**\n     * Prepare and return request body which is used to remove record from the table.\n     * @param  {DataManager} dm\n     * @param  {string} keyField\n     * @param  {Object} value\n     * @param  {string} tableName?\n     */\n    CacheAdaptor.prototype.remove = function (dm, keyField, value, tableName) {\n        this.isCrudAction = true;\n        return this.cacheAdaptor.remove(dm, keyField, value, tableName);\n    };\n    /**\n     * Prepare the request body based on the newly added, removed and updated records.\n     * The result is used by the batch request.\n     * @param  {DataManager} dm\n     * @param  {CrudOptions} changes\n     * @param  {RemoteArgs} e\n     */\n    CacheAdaptor.prototype.batchRequest = function (dm, changes, e) {\n        return this.cacheAdaptor.batchRequest(dm, changes, e);\n    };\n    return CacheAdaptor;\n}(UrlAdaptor));\nexport { CacheAdaptor };\n","import { isNullOrUndefined, classList, createElement } from '@syncfusion/ej2-base';\nvar globalTimeOut = {};\nvar DEFT_MAT_WIDTH = 30;\nvar DEFT_FAB_WIDTH = 30;\nvar DEFT_FLUENT_WIDTH = 30;\nvar DEFT_TAIL_WIDTH = 24;\nvar DEFT_BOOT_WIDTH = 30;\nvar DEFT_BOOT4_WIDTH = 36;\nvar DEFT_BOOT5_WIDTH = 36;\nvar CLS_SHOWSPIN = 'e-spin-show';\nvar CLS_HIDESPIN = 'e-spin-hide';\nvar CLS_MATERIALSPIN = 'e-spin-material';\nvar CLS_FABRICSPIN = 'e-spin-fabric';\nvar CLS_FLUENTSPIN = 'e-spin-fluent';\nvar CLS_TAILWINDSPIN = 'e-spin-tailwind';\nvar CLS_BOOTSPIN = 'e-spin-bootstrap';\nvar CLS_BOOT4SPIN = 'e-spin-bootstrap4';\nvar CLS_BOOT5SPIN = 'e-spin-bootstrap5';\nvar CLS_HIGHCONTRASTSPIN = 'e-spin-high-contrast';\nvar CLS_SPINWRAP = 'e-spinner-pane';\nvar CLS_SPININWRAP = 'e-spinner-inner';\nvar CLS_SPINCIRCLE = 'e-path-circle';\nvar CLS_SPINARC = 'e-path-arc';\nvar CLS_SPINLABEL = 'e-spin-label';\nvar CLS_SPINTEMPLATE = 'e-spin-template';\nvar spinTemplate = null;\nvar spinCSSClass = null;\n// eslint-disable-next-line\n/**\n  * Function to change the Spinners in a page globally from application end.\n  * ```\n  * E.g : blazorSpinner({ action: \"Create\", options: {target: targetElement}, type: \"\" });\n  * ```\n  *\n  * @param {string} action - specifies the string\n  * @param {CreateArgs} options - specifies the args\n  * @param {string} target - specifies the target\n  * @param {string} type - specifes the type\n  * @returns {void}\n  * @private\n  */\nexport function Spinner(action, options, target, type) {\n    switch (action) {\n        case 'Create':\n            /* eslint-disable */\n            var element = document.querySelector(options.target);\n            var args = { type: type, target: element, cssClass: options.cssClass,\n                label: options.label, width: options.width };\n            /* eslint-enable */\n            createSpinner(args);\n            break;\n        case 'Show':\n            showSpinner(document.querySelector(target));\n            break;\n        case 'Hide':\n            hideSpinner(document.querySelector(target));\n            break;\n        case 'Set':\n            // eslint-disable-next-line\n            var setArgs = { cssClass: options.cssClass, type: type };\n            setSpinner(setArgs);\n            break;\n    }\n}\n/**\n * Create a spinner for the specified target element.\n * ```\n * E.g : createSpinner({ target: targetElement, width: '34px', label: 'Loading..' });\n * ```\n *\n * @param {SpinnerArgs} args - specifies the args\n * @param {CreateElementArgs} internalCreateElement - specifis the element args\n * @returns {void}\n * @private\n */\nexport function createSpinner(args, internalCreateElement) {\n    if (!args.target) {\n        return;\n    }\n    var radius;\n    var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n    // eslint-disable-next-line\n    var container = create_spinner_container(args.target, makeElement);\n    if (!isNullOrUndefined(args.cssClass)) {\n        container.wrap.classList.add(args.cssClass);\n    }\n    if (!isNullOrUndefined(args.template) || !isNullOrUndefined(spinTemplate)) {\n        var template = !isNullOrUndefined(args.template) ? args.template : spinTemplate;\n        container.wrap.classList.add(CLS_SPINTEMPLATE);\n        replaceContent(container.wrap, template, spinCSSClass);\n    }\n    else {\n        var theme = !isNullOrUndefined(args.type) ? args.type : getTheme(container.wrap);\n        var width = !isNullOrUndefined(args.width) ? args.width : undefined;\n        radius = calculateRadius(width, theme);\n        setTheme(theme, container.wrap, radius, makeElement);\n        if (!isNullOrUndefined(args.label)) {\n            createLabel(container.inner_wrap, args.label, makeElement);\n        }\n    }\n    container.wrap.classList.add(CLS_HIDESPIN);\n    container = null;\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {string} label - specifies the string\n * @param {createElementParams} makeElement - specifies the element\n * @returns {HTMLElement} - returns the element\n */\nfunction createLabel(container, label, makeElement) {\n    var labelEle = makeElement('div', {});\n    labelEle.classList.add(CLS_SPINLABEL);\n    labelEle.innerHTML = label;\n    container.appendChild(labelEle);\n    return labelEle;\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createMaterialSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Material', radius: radius };\n    create_material_element(container, uniqueID, makeElement, CLS_MATERIALSPIN);\n    mat_calculate_attributes(radius, container, 'Material', CLS_MATERIALSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createBootstrap4Spinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Bootstrap4', radius: radius };\n    create_material_element(container, uniqueID, makeElement, CLS_BOOT4SPIN);\n    mat_calculate_attributes(radius, container, 'Bootstrap4', CLS_BOOT4SPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createBootstrap5Spinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Bootstrap5', radius: radius };\n    create_material_element(container, uniqueID, makeElement, CLS_BOOT5SPIN);\n    mat_calculate_attributes(radius, container, 'Bootstrap5', CLS_BOOT5SPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {string} uniqueID - specifies the id.\n * @param {number} radius - specifies the radius\n * @returns {void}\n */\nfunction startMatAnimate(container, uniqueID, radius) {\n    var globalObject = {};\n    var timeOutVar = 0;\n    globalTimeOut[uniqueID].timeOut = 0;\n    globalObject[uniqueID] = globalVariables(uniqueID, radius, 0, 0);\n    // eslint-disable-next-line\n    var spinnerInfo = { uniqueID: uniqueID, container: container, globalInfo: globalObject, timeOutVar: timeOutVar };\n    animateMaterial(spinnerInfo);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createFabricSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Fabric', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_FABRICSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_FABRICSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createFluentSinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Fluent', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_FLUENTSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_FLUENTSPIN);\n}\nfunction createTailwindSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Tailwind', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_TAILWINDSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_TAILWINDSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createHighContrastSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'HighContrast', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_HIGHCONTRASTSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_HIGHCONTRASTSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @returns {string} - returns the string\n */\nfunction getTheme(container) {\n    var theme = window.getComputedStyle(container, ':after').getPropertyValue('content');\n    return theme.replace(/['\"]+/g, '');\n}\n/**\n *\n * @param {string} theme - specifies the theme\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction setTheme(theme, container, radius, makeElement) {\n    var innerContainer = container.querySelector('.' + CLS_SPININWRAP);\n    var svg = innerContainer.querySelector('svg');\n    if (!isNullOrUndefined(svg)) {\n        innerContainer.removeChild(svg);\n    }\n    switch (theme) {\n        case 'Material':\n            createMaterialSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Fabric':\n            createFabricSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Fluent':\n            createFluentSinner(innerContainer, radius, makeElement);\n            break;\n        case 'Bootstrap':\n            createBootstrapSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'HighContrast':\n            createHighContrastSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Bootstrap4':\n            createBootstrap4Spinner(innerContainer, radius, makeElement);\n            break;\n        case 'Bootstrap5':\n            createBootstrap5Spinner(innerContainer, radius, makeElement);\n            break;\n        case 'Tailwind':\n        case 'Tailwind-dark':\n            createTailwindSpinner(innerContainer, radius, makeElement);\n            break;\n    }\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createBootstrapSpinner(innerContainer, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Bootstrap', radius: radius };\n    create_bootstrap_element(innerContainer, uniqueID, makeElement);\n    boot_calculate_attributes(innerContainer, radius);\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {string} uniqueID - specifies the id\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction create_bootstrap_element(innerContainer, uniqueID, makeElement) {\n    var svgBoot = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    var viewBoxValue = 64;\n    var trans = 32;\n    var defaultRadius = 2;\n    svgBoot.setAttribute('id', uniqueID);\n    svgBoot.setAttribute('class', CLS_BOOTSPIN);\n    svgBoot.setAttribute('viewBox', '0 0 ' + viewBoxValue + ' ' + viewBoxValue);\n    innerContainer.insertBefore(svgBoot, innerContainer.firstChild);\n    for (var item = 0; item <= 7; item++) {\n        var bootCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n        bootCircle.setAttribute('class', CLS_SPINCIRCLE + '_' + item);\n        bootCircle.setAttribute('r', defaultRadius + '');\n        bootCircle.setAttribute('transform', 'translate(' + trans + ',' + trans + ')');\n        svgBoot.appendChild(bootCircle);\n    }\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {number} radius - specifies the radius\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction boot_calculate_attributes(innerContainer, radius) {\n    var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n    var x = 0;\n    var y = 0;\n    var rad = 24;\n    svg.style.width = svg.style.height = radius + 'px';\n    var startArc = 90;\n    for (var item = 0; item <= 7; item++) {\n        var start = defineArcPoints(x, y, rad, startArc);\n        var circleEle = svg.querySelector('.' + CLS_SPINCIRCLE + '_' + item);\n        circleEle.setAttribute('cx', start.x + '');\n        circleEle.setAttribute('cy', start.y + '');\n        startArc = startArc >= 360 ? 0 : startArc;\n        startArc = startArc + 45;\n    }\n}\n/**\n *\n * @param {number} begin - specifies the number\n * @param {number} stop  - specifirs the number\n * @returns {number[]} - returns the array of number\n */\nfunction generateSeries(begin, stop) {\n    var series = [];\n    var start = begin;\n    var end = stop;\n    // eslint-disable-next-line\n    var increment = false, count = 1;\n    formSeries(start);\n    /**\n     *\n     * @param {number} i - specifies the number\n     * @returns {void}\n     */\n    function formSeries(i) {\n        series.push(i);\n        if (i !== end || count === 1) {\n            if (i <= start && i > 1 && !increment) {\n                i = parseFloat((i - 0.2).toFixed(2));\n            }\n            else if (i === 1) {\n                i = 7;\n                i = parseFloat((i + 0.2).toFixed(2));\n                increment = true;\n            }\n            else if (i < 8 && increment) {\n                i = parseFloat((i + 0.2).toFixed(2));\n                if (i === 8) {\n                    increment = false;\n                }\n            }\n            else if (i <= 8 && !increment) {\n                i = parseFloat((i - 0.2).toFixed(2));\n            }\n            ++count;\n            formSeries(i);\n        }\n    }\n    return series;\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @returns {void}\n */\nfunction animateBootstrap(innerContainer) {\n    var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n    var id = svg.getAttribute('id');\n    for (var i = 1; i <= 8; i++) {\n        var circleEle = (innerContainer.getElementsByClassName('e-path-circle_' +\n            (i === 8 ? 0 : i))[0]);\n        rotation(circleEle, i, i, generateSeries(i, i), id);\n    }\n    /**\n     *\n     * @param {SVGCircleElement} circle - specifies the circl element\n     * @param {number} start - specifies the number\n     * @param {number} end - specifies the end number\n     * @param {number} series - specifies the series\n     * @param {string} id - specifies the id\n     * @returns {void}\n     */\n    function rotation(circle, start, end, series, id) {\n        var count = 0;\n        boot_animate(start);\n        // eslint-disable-next-line\n        function boot_animate(radius) {\n            if (globalTimeOut[id].isAnimate) {\n                ++count;\n                circle.setAttribute('r', radius + '');\n                if (count >= series.length) {\n                    count = 0;\n                }\n                // eslint-disable-next-line\n                globalTimeOut[id].timeOut = setTimeout(boot_animate.bind(null, series[count]), 18);\n            }\n        }\n    }\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {string} template - specifies the template\n * @param {string} cssClass - specifies the css class.\n * @returns {void}\n */\nfunction replaceContent(container, template, cssClass) {\n    if (!isNullOrUndefined(cssClass)) {\n        container.classList.add(cssClass);\n    }\n    var inner = container.querySelector('.e-spinner-inner');\n    inner.innerHTML = template;\n}\n/**\n *\n * @param {string} width - specifies the width\n * @param {string} theme - specifies the string\n * @returns {number} - returns the number\n */\nfunction calculateRadius(width, theme) {\n    var defaultSize;\n    switch (theme) {\n        case 'Material':\n            defaultSize = DEFT_MAT_WIDTH;\n            break;\n        case 'Fabric':\n            defaultSize = DEFT_FAB_WIDTH;\n            break;\n        case 'Tailwind':\n        case 'Tailwind-dark':\n            defaultSize = DEFT_FAB_WIDTH;\n            break;\n        case 'Fluent':\n            defaultSize = DEFT_FLUENT_WIDTH;\n            break;\n        case 'Bootstrap4':\n            defaultSize = DEFT_BOOT4_WIDTH;\n            break;\n        case 'Bootstrap5':\n            defaultSize = DEFT_BOOT5_WIDTH;\n            break;\n        default:\n            defaultSize = DEFT_BOOT_WIDTH;\n    }\n    width = width ? parseFloat(width + '') : defaultSize;\n    return theme === 'Bootstrap' ? width : width / 2;\n}\n/**\n *\n * @param {string} id - specifies the id\n * @param {number} radius - specifies the radius\n * @param {number} count - specifies the number count\n * @param {number} previousId - specifies the previous id\n * @returns {GlobalVariables} - returns the variables\n */\nfunction globalVariables(id, radius, count, previousId) {\n    return {\n        radius: radius,\n        count: count,\n        previousId: previousId\n    };\n}\n/**\n * @returns {string} - returns the string\n */\n// eslint-disable-next-line\nfunction random_generator() {\n    var random = '';\n    var combine = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    for (var i = 0; i < 5; i++) {\n        random += combine.charAt(Math.floor(Math.random() * combine.length));\n    }\n    return random;\n}\n/**\n *\n * @param {HTMLElement} innerCon - specifies the element\n * @param {string} uniqueID - specifies the unique id\n * @param {string} themeClass - specifies the string\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction create_fabric_element(innerCon, uniqueID, themeClass, makeElement) {\n    var svgFabric = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svgFabric.setAttribute('id', uniqueID);\n    svgFabric.setAttribute('class', themeClass);\n    var fabricCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    fabricCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n    var fabricCircleArc = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    fabricCircleArc.setAttribute('class', CLS_SPINARC);\n    innerCon.insertBefore(svgFabric, innerCon.firstChild);\n    svgFabric.appendChild(fabricCirclePath);\n    svgFabric.appendChild(fabricCircleArc);\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {string} uniqueID - specifies the unique id\n * @param {createElementParams} makeElement - specifies the element\n * @param {string} cls - specifies the string\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction create_material_element(innerContainer, uniqueID, makeElement, cls) {\n    var svgMaterial = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    var matCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    svgMaterial.setAttribute('class', cls);\n    svgMaterial.setAttribute('id', uniqueID);\n    matCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n    innerContainer.insertBefore(svgMaterial, innerContainer.firstChild);\n    svgMaterial.appendChild(matCirclePath);\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction create_spinner_container(target, makeElement) {\n    var spinnerContainer = makeElement('div', {});\n    var spinnerInnerContainer = makeElement('div', {});\n    spinnerContainer.classList.add(CLS_SPINWRAP);\n    spinnerInnerContainer.classList.add(CLS_SPININWRAP);\n    target.appendChild(spinnerContainer);\n    spinnerContainer.appendChild(spinnerInnerContainer);\n    // eslint-disable-next-line\n    return { wrap: spinnerContainer, inner_wrap: spinnerInnerContainer };\n}\n/**\n *\n * @param {SpinnerInfo} spinnerInfo - specifies the spinner\n * @returns {void}\n */\nfunction animateMaterial(spinnerInfo) {\n    var start = 1;\n    var end = 149;\n    var duration = 1333;\n    var max = 75;\n    createCircle(start, end, easeAnimation, duration, spinnerInfo.globalInfo[spinnerInfo.uniqueID].count, max, spinnerInfo);\n    spinnerInfo.globalInfo[spinnerInfo.uniqueID].count = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].count % 4;\n}\n/**\n *\n * @param {number} start - specifies the number\n * @param {number} end - specifies the end number\n * @param {Function} easing - specifies the function\n * @param {number} duration - specifies the duration\n * @param {number} count - specifies the count\n * @param {number} max - specifies the max number\n * @param {SpinnerInfo} spinnerInfo - specifies the spinner info\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction createCircle(start, end, easing, duration, count, max, spinnerInfo) {\n    var id = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId;\n    var startTime = new Date().getTime();\n    var change = end - start;\n    var diameter = getSize((spinnerInfo.globalInfo[spinnerInfo.uniqueID].radius * 2) + '');\n    var strokeSize = getStrokeSize(diameter);\n    var rotate = -90 * (spinnerInfo.globalInfo[spinnerInfo.uniqueID].count || 0);\n    mat_animation(spinnerInfo);\n    // eslint-disable-next-line\n    function mat_animation(spinnerInfo) {\n        var currentTime = Math.max(0, Math.min(new Date().getTime() - startTime, duration));\n        updatePath(easing(currentTime, start, change, duration), spinnerInfo.container);\n        if (id === spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId && currentTime < duration) {\n            // eslint-disable-next-line\n            globalTimeOut[spinnerInfo.uniqueID].timeOut = setTimeout(mat_animation.bind(null, spinnerInfo), 1);\n        }\n        else {\n            animateMaterial(spinnerInfo);\n        }\n    }\n    /**\n     *\n     * @param {number} value - specifies the number value\n     * @param {HTMLElement} container - specifies the container\n     * @returns {void}\n     */\n    function updatePath(value, container) {\n        if ((!isNullOrUndefined(container.querySelector('svg.e-spin-material')))\n            && (!isNullOrUndefined(container.querySelector('svg.e-spin-material').querySelector('path.e-path-circle')))) {\n            var svg = container.querySelector('svg.e-spin-material');\n            var path = svg.querySelector('path.e-path-circle');\n            path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, value, max) + '');\n            path.setAttribute('transform', 'rotate(' + (rotate) + ' ' + diameter / 2 + ' ' + diameter / 2 + ')');\n        }\n    }\n}\n/**\n *\n * @param {number} radius - specifies the number\n * @param {HTMLElement} container - specifies the element\n * @param {string} type - specifies the string type\n * @param {string} cls - specifies the string\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction mat_calculate_attributes(radius, container, type, cls) {\n    var diameter = radius * 2;\n    var svg = container.querySelector('svg.' + cls);\n    var path = svg.querySelector('path.e-path-circle');\n    var strokeSize = getStrokeSize(diameter);\n    var transformOrigin = (diameter / 2) + 'px';\n    svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n    svg.style.width = svg.style.height = diameter + 'px';\n    svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n    path.setAttribute('d', drawArc(diameter, strokeSize));\n    if (type === 'Material') {\n        path.setAttribute('stroke-width', strokeSize + '');\n        path.setAttribute('stroke-dasharray', ((diameter - strokeSize) * Math.PI * 0.75) + '');\n        path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, 1, 75) + '');\n    }\n}\n/**\n *\n * @param {string} value - specifies the value\n * @returns {number} - returns the number\n */\nfunction getSize(value) {\n    var parsed = parseFloat(value);\n    return parsed;\n}\n/**\n *\n * @param {number} diameter - specifies the diameter\n * @param {number} strokeSize - specifies the size\n * @returns {string} - returns the string\n */\nfunction drawArc(diameter, strokeSize) {\n    var radius = diameter / 2;\n    var offset = strokeSize / 2;\n    return 'M' + radius + ',' + offset\n        + 'A' + (radius - offset) + ',' + (radius - offset) + ' 0 1 1 ' + offset + ',' + radius;\n}\n/**\n *\n * @param {number} diameter - specifies the number\n * @returns {number} - returns the number\n */\nfunction getStrokeSize(diameter) {\n    return 10 / 100 * diameter;\n}\n/**\n *\n * @param {number} diameter - specifies the number\n * @param {number} strokeSize - specifies the stroke size\n * @param {number} value - specifies the value\n * @param {number} max - specifies the max number\n * @returns {number} - returns the number\n */\nfunction getDashOffset(diameter, strokeSize, value, max) {\n    return (diameter - strokeSize) * Math.PI * ((3 * (max) / 100) - (value / 100));\n}\n/**\n *\n * @param {number} current - specifies the number\n * @param {number} start - specifies the stroke size\n * @param {number} change - specifies the value\n * @param {number} duration - specifies the max number\n * @returns {number} - returns the number\n */\nfunction easeAnimation(current, start, change, duration) {\n    var timestamp = (current /= duration) * current;\n    var timecount = timestamp * current;\n    return start + change * (6 * timecount * timestamp + -15 * timestamp * timestamp + 10 * timecount);\n}\n/**\n *\n * @param {number} radius - specifies the number\n * @param {HTMLElement} innerConainer - specifies the element\n * @param {string} trgClass - specifies the class\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction fb_calculate_attributes(radius, innerConainer, trgClass) {\n    var centerX = radius;\n    var centerY = radius;\n    var diameter = radius * 2;\n    // eslint-disable-next-line\n    var startArc = 315, endArc = 45;\n    var svg = innerConainer.querySelector('.' + trgClass);\n    var circle = svg.querySelector('.e-path-circle');\n    var path = svg.querySelector('.e-path-arc');\n    var transformOrigin = (diameter / 2) + 'px';\n    circle.setAttribute('d', defineCircle(centerX, centerY, radius));\n    path.setAttribute('d', defineArc(centerX, centerY, radius, startArc, endArc));\n    svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n    svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n    svg.style.width = svg.style.height = diameter + 'px';\n}\n/**\n *\n * @param {number} centerX - specifies the number\n * @param {number} centerY - specifies the stroke size\n * @param {number} radius - specifies the value\n * @param {number} angle - specifies the max number\n * @returns {number} - returns the number\n */\nfunction defineArcPoints(centerX, centerY, radius, angle) {\n    var radians = (angle - 90) * Math.PI / 180.0;\n    return {\n        x: centerX + (radius * Math.cos(radians)),\n        y: centerY + (radius * Math.sin(radians))\n    };\n}\n/**\n *\n * @param {number} x - specifies the number\n * @param {number} y - specifies the stroke size\n * @param {number} radius - specifies the radius\n * @param {number} startArc - specifies the value\n * @param {number} endArc - specifies the max number\n * @returns {number} - returns the number\n */\nfunction defineArc(x, y, radius, startArc, endArc) {\n    var start = defineArcPoints(x, y, radius, endArc);\n    var end = defineArcPoints(x, y, radius, startArc);\n    var d = [\n        'M', start.x, start.y,\n        'A', radius, radius, 0, 0, 0, end.x, end.y\n    ].join(' ');\n    return d;\n}\n/**\n *\n * @param {number} x - specifies the number\n * @param {number} y - specifies the stroke size\n * @param {number} radius - specifies the value\n * @returns {string} - returns the string\n */\nfunction defineCircle(x, y, radius) {\n    var d = [\n        'M', x, y,\n        'm', -radius, 0,\n        'a', radius, radius, 0, 1, 0, radius * 2, 0,\n        'a', radius, radius, 0, 1, 0, -radius * 2, 0\n    ].join(' ');\n    return d;\n}\n// eslint-disable-next-line\n/**\n * Function to show the Spinner.\n *\n * @param {HTMLElement} container - Specify the target of the Spinner.\n * @returns {void}\n * @private\n */\nexport function showSpinner(container) {\n    showHideSpinner(container, false);\n    container = null;\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {boolean} isHide - specifies the boolean\n * @returns {void}\n */\nfunction showHideSpinner(container, isHide) {\n    var spinnerWrap;\n    if (container) {\n        spinnerWrap = container.classList.contains(CLS_SPINWRAP) ? container :\n            container.querySelector('.' + CLS_SPINWRAP);\n    }\n    if (container && spinnerWrap) {\n        var inner = spinnerWrap.querySelector('.' + CLS_SPININWRAP);\n        var spinCheck = void 0;\n        // eslint-disable-next-line\n        spinCheck = isHide ? !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_HIDESPIN) :\n            !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_SHOWSPIN);\n        if (spinCheck) {\n            var svgEle = spinnerWrap.querySelector('svg');\n            if (isNullOrUndefined(svgEle)) {\n                return;\n            }\n            var id = svgEle.getAttribute('id');\n            globalTimeOut[id].isAnimate = !isHide;\n            switch (globalTimeOut[id].type) {\n                case 'Material':\n                    // eslint-disable-next-line\n                    isHide ? clearTimeout(globalTimeOut[id].timeOut) : startMatAnimate(inner, id, globalTimeOut[id].radius);\n                    break;\n                case 'Bootstrap':\n                    // eslint-disable-next-line\n                    isHide ? clearTimeout(globalTimeOut[id].timeOut) : animateBootstrap(inner);\n                    break;\n            }\n        }\n        // eslint-disable-next-line\n        isHide ? classList(spinnerWrap, [CLS_HIDESPIN], [CLS_SHOWSPIN]) : classList(spinnerWrap, [CLS_SHOWSPIN], [CLS_HIDESPIN]);\n        container = null;\n    }\n}\n/**\n * Function to hide the Spinner.\n *\n * @param {HTMLElement} container - Specify the target of the Spinner.\n * @returns {void}\n * @private\n */\nexport function hideSpinner(container) {\n    showHideSpinner(container, true);\n    container = null;\n}\n// eslint-disable-next-line\n/**\n  * Function to change the Spinners in a page globally from application end.\n  * ```\n  * E.g : setSpinner({ cssClass: 'custom-css'; type: 'Material' });\n  * ```\n  *\n  * @param {SetSpinnerArgs} args - specifies the args\n  * @param {createElementParams} internalCreateElement - specifies the element params\n  * @returns {void}\n  * @private\n  */\nexport function setSpinner(args, internalCreateElement) {\n    var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n    if (args.template !== undefined) {\n        spinTemplate = args.template;\n        if (args.template !== undefined) {\n            spinCSSClass = args.cssClass;\n        }\n    }\n    var container = document.querySelectorAll('.' + CLS_SPINWRAP);\n    for (var index = 0; index < container.length; index++) {\n        ensureTemplate(args.template, container[index], args.type, args.cssClass, makeElement);\n    }\n}\n/**\n *\n * @param {string} template - specifies the string\n * @param {HTMLElement} container - specifies the container\n * @param {string} theme - specifies the theme\n * @param {string} cssClass - specifies the string class\n * @param {createElementParams} makeEle - specifies the params\n * @returns {void}\n */\nfunction ensureTemplate(template, container, theme, cssClass, makeEle) {\n    if (isNullOrUndefined(template) && !container.classList.contains(CLS_SPINTEMPLATE)) {\n        replaceTheme(container, theme, cssClass, makeEle);\n        if (container.classList.contains(CLS_SHOWSPIN)) {\n            container.classList.remove(CLS_SHOWSPIN);\n            showSpinner(container);\n        }\n        else {\n            container.classList.remove(CLS_HIDESPIN);\n            hideSpinner(container);\n        }\n    }\n    else {\n        spinTemplate = template;\n        if (!isNullOrUndefined(cssClass)) {\n            spinCSSClass = cssClass;\n        }\n    }\n}\n/**\n *\n * @param {HTMLElement} container - specifies the container\n * @param {string} theme - specifies the theme\n * @param {string} cssClass - specifies the string class\n * @param {createElementParams} makeEle - specifies the params\n * @returns {void}\n */\nfunction replaceTheme(container, theme, cssClass, makeEle) {\n    if (!isNullOrUndefined(cssClass)) {\n        container.classList.add(cssClass);\n    }\n    var svgElement = container.querySelector('svg');\n    var radius = theme === 'Bootstrap' ? parseFloat(svgElement.style.height) : parseFloat(svgElement.style.height) / 2;\n    var classNames = svgElement.getAttribute('class');\n    var svgClassList = classNames.split(/\\s/);\n    if (svgClassList.indexOf('e-spin-material') >= 0) {\n        var id = svgElement.getAttribute('id');\n        clearTimeout(globalTimeOut[id].timeOut);\n    }\n    setTheme(theme, container, radius, makeEle);\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"page-title-box d-flex align-items-center justify-content-between\"},[_c('h4',{staticClass:\"mb-0 font-size-18\"},[_vm._v(_vm._s(_vm.title))]),_c('div',{staticClass:\"page-title-right\"},[_c('b-breadcrumb',{staticClass:\"m-0\",attrs:{\"items\":_vm.items}})],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nexport default {\n  components: {},\n  props: {\n    title: {\n      type: String,\n      default: '',\n    },\n    items: {\n      type: Array,\n      default: () => {\n        return []\n      },\n    },\n  },\n}\n</script>\n\n<template>\n  <!-- start page title -->\n  <div class=\"row\">\n    <div class=\"col-12\">\n      <div class=\"page-title-box d-flex align-items-center justify-content-between\">\n        <h4 class=\"mb-0 font-size-18\">{{ title }}</h4>\n\n        <div class=\"page-title-right\">\n          <b-breadcrumb :items=\"items\" class=\"m-0\"></b-breadcrumb>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- end page title -->\n</template>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page-header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page-header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./page-header.vue?vue&type=template&id=e08f28f6&\"\nimport script from \"./page-header.vue?vue&type=script&lang=js&\"\nexport * from \"./page-header.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { DataUtil } from './util';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * Query class is used to build query which is used by the DataManager to communicate with datasource.\n */\nvar Query = /** @class */ (function () {\n    /**\n     * Constructor for Query class.\n     * @param  {string|string[]} from?\n     * @hidden\n     */\n    function Query(from) {\n        /** @hidden */\n        this.subQuery = null;\n        /** @hidden */\n        this.isChild = false;\n        /** @hidden */\n        this.distincts = [];\n        this.queries = [];\n        this.key = '';\n        this.fKey = '';\n        if (typeof from === 'string') {\n            this.fromTable = from;\n        }\n        else if (from && from instanceof Array) {\n            this.lookups = from;\n        }\n        this.expands = [];\n        this.sortedColumns = [];\n        this.groupedColumns = [];\n        this.subQuery = null;\n        this.isChild = false;\n        this.params = [];\n        this.lazyLoad = [];\n        return this;\n    }\n    /**\n     * Sets the primary key.\n     * @param  {string} field - Defines the column field.\n     */\n    Query.prototype.setKey = function (field) {\n        this.key = field;\n        return this;\n    };\n    /**\n     * Sets default DataManager to execute query.\n     * @param  {DataManager} dataManager - Defines the DataManager.\n     */\n    Query.prototype.using = function (dataManager) {\n        this.dataManager = dataManager;\n        return this;\n    };\n    /**\n     * Executes query with the given DataManager.\n     * @param  {DataManager} dataManager - Defines the DataManager.\n     * @param  {Function} done - Defines the success callback.\n     * @param  {Function} fail - Defines the failure callback.\n     * @param  {Function} always - Defines the callback which will be invoked on either success or failure.\n     *\n     * <pre>\n     * let dataManager: DataManager = new DataManager([{ ID: '10' }, { ID: '2' }, { ID: '1' }, { ID: '20' }]);\n     * let query: Query = new Query();\n     * query.sortBy('ID', (x: string, y: string): number => { return parseInt(x, 10) - parseInt(y, 10) });\n     * let promise: Promise< Object > = query.execute(dataManager);\n     * promise.then((e: { result: Object }) => { });\n     * </pre>\n     */\n    Query.prototype.execute = function (dataManager, done, fail, always) {\n        dataManager = dataManager || this.dataManager;\n        if (dataManager) {\n            return dataManager.executeQuery(this, done, fail, always);\n        }\n        return DataUtil.throwError('Query - execute() : dataManager needs to be is set using \"using\" function or should be passed as argument');\n    };\n    /**\n     * Executes query with the local datasource.\n     * @param  {DataManager} dataManager - Defines the DataManager.\n     */\n    Query.prototype.executeLocal = function (dataManager) {\n        dataManager = dataManager || this.dataManager;\n        if (dataManager) {\n            return dataManager.executeLocal(this);\n        }\n        return DataUtil.throwError('Query - executeLocal() : dataManager needs to be is set using \"using\" function or should be passed as argument');\n    };\n    /**\n     * Creates deep copy of the Query object.\n     */\n    Query.prototype.clone = function () {\n        var cloned = new Query();\n        cloned.queries = this.queries.slice(0);\n        cloned.key = this.key;\n        cloned.isChild = this.isChild;\n        cloned.dataManager = this.dataManager;\n        cloned.fromTable = this.fromTable;\n        cloned.params = this.params.slice(0);\n        cloned.expands = this.expands.slice(0);\n        cloned.sortedColumns = this.sortedColumns.slice(0);\n        cloned.groupedColumns = this.groupedColumns.slice(0);\n        cloned.subQuerySelector = this.subQuerySelector;\n        cloned.subQuery = this.subQuery;\n        cloned.fKey = this.fKey;\n        cloned.isCountRequired = this.isCountRequired;\n        cloned.distincts = this.distincts.slice(0);\n        cloned.lazyLoad = this.lazyLoad.slice(0);\n        return cloned;\n    };\n    /**\n     * Specifies the name of table to retrieve data in query execution.\n     * @param  {string} tableName - Defines the table name.\n     */\n    Query.prototype.from = function (tableName) {\n        this.fromTable = tableName;\n        return this;\n    };\n    /**\n     * Adds additional parameter which will be sent along with the request which will be generated while DataManager execute.\n     * @param  {string} key - Defines the key of additional parameter.\n     * @param  {Function|string} value - Defines the value for the key.\n     */\n    Query.prototype.addParams = function (key, value) {\n        if (typeof value === 'function') {\n            this.params.push({ key: key, fn: value });\n        }\n        else {\n            this.params.push({ key: key, value: value });\n        }\n        return this;\n    };\n    /**\n     * @hidden\n     */\n    Query.prototype.distinct = function (fields) {\n        if (typeof fields === 'string') {\n            this.distincts = [].slice.call([fields], 0);\n        }\n        else {\n            this.distincts = fields.slice(0);\n        }\n        return this;\n    };\n    /**\n     * Expands the related table.\n     * @param  {string|Object[]} tables\n     */\n    Query.prototype.expand = function (tables) {\n        if (typeof tables === 'string') {\n            this.expands = [].slice.call([tables], 0);\n        }\n        else {\n            this.expands = tables.slice(0);\n        }\n        return this;\n    };\n    /**\n     * Filter data with given filter criteria.\n     * @param  {string|Predicate} fieldName - Defines the column field or Predicate.\n     * @param  {string} operator - Defines the operator how to filter data.\n     * @param  {string|number|boolean} value - Defines the values to match with data.\n     * @param  {boolean} ignoreCase - If ignore case set to false, then filter data with exact match or else\n     * filter data with case insensitive.\n     */\n    Query.prototype.where = function (fieldName, operator, value, ignoreCase, ignoreAccent) {\n        operator = operator ? (operator).toLowerCase() : null;\n        var predicate = null;\n        if (typeof fieldName === 'string') {\n            predicate = new Predicate(fieldName, operator, value, ignoreCase, ignoreAccent);\n        }\n        else if (fieldName instanceof Predicate) {\n            predicate = fieldName;\n        }\n        this.queries.push({\n            fn: 'onWhere',\n            e: predicate\n        });\n        return this;\n    };\n    /**\n     * Search data with given search criteria.\n     * @param  {string|number|boolean} searchKey - Defines the search key.\n     * @param  {string|string[]} fieldNames - Defines the collection of column fields.\n     * @param  {string} operator - Defines the operator how to search data.\n     * @param  {boolean} ignoreCase - If ignore case set to false, then filter data with exact match or else\n     * filter data with case insensitive.\n     */\n    Query.prototype.search = function (searchKey, fieldNames, operator, ignoreCase, ignoreAccent) {\n        if (typeof fieldNames === 'string') {\n            fieldNames = [fieldNames];\n        }\n        if (!operator || operator === 'none') {\n            operator = 'contains';\n        }\n        var comparer = DataUtil.fnOperators[operator];\n        this.queries.push({\n            fn: 'onSearch',\n            e: {\n                fieldNames: fieldNames,\n                operator: operator,\n                searchKey: searchKey,\n                ignoreCase: ignoreCase,\n                ignoreAccent: ignoreAccent,\n                comparer: comparer\n            }\n        });\n        return this;\n    };\n    /**\n     * Sort the data with given sort criteria.\n     * By default, sort direction is ascending.\n     * @param  {string|string[]} fieldName - Defines the single or collection of column fields.\n     * @param  {string|Function} comparer - Defines the sort direction or custom sort comparer function.\n     */\n    Query.prototype.sortBy = function (fieldName, comparer, isFromGroup) {\n        return this.sortByForeignKey(fieldName, comparer, isFromGroup);\n    };\n    /**\n     * Sort the data with given sort criteria.\n     * By default, sort direction is ascending.\n     * @param  {string|string[]} fieldName - Defines the single or collection of column fields.\n     * @param  {string|Function} comparer - Defines the sort direction or custom sort comparer function.\n     * @param  {string} direction - Defines the sort direction .\n     */\n    Query.prototype.sortByForeignKey = function (fieldName, comparer, isFromGroup, direction) {\n        var order = !isNullOrUndefined(direction) ? direction : 'ascending';\n        var sorts;\n        var temp;\n        if (typeof fieldName === 'string' && DataUtil.endsWith(fieldName.toLowerCase(), ' desc')) {\n            fieldName = fieldName.replace(/ desc$/i, '');\n            comparer = 'descending';\n        }\n        if (!comparer || typeof comparer === 'string') {\n            order = comparer ? comparer.toLowerCase() : 'ascending';\n            comparer = DataUtil.fnSort(comparer);\n        }\n        if (isFromGroup) {\n            sorts = Query.filterQueries(this.queries, 'onSortBy');\n            for (var i = 0; i < sorts.length; i++) {\n                temp = sorts[i].e.fieldName;\n                if (typeof temp === 'string') {\n                    if (temp === fieldName) {\n                        return this;\n                    }\n                }\n                else if (temp instanceof Array) {\n                    for (var j = 0; j < temp.length; j++) {\n                        if (temp[j] === fieldName || fieldName.toLowerCase() === temp[j] + ' desc') {\n                            return this;\n                        }\n                    }\n                }\n            }\n        }\n        this.queries.push({\n            fn: 'onSortBy',\n            e: {\n                fieldName: fieldName,\n                comparer: comparer,\n                direction: order\n            }\n        });\n        return this;\n    };\n    /**\n     * Sorts data in descending order.\n     * @param  {string} fieldName - Defines the column field.\n     */\n    Query.prototype.sortByDesc = function (fieldName) {\n        return this.sortBy(fieldName, 'descending');\n    };\n    /**\n     * Groups data with the given field name.\n     * @param  {string} fieldName - Defines the column field.\n     */\n    Query.prototype.group = function (fieldName, fn, format) {\n        this.sortBy(fieldName, null, true);\n        this.queries.push({\n            fn: 'onGroup',\n            e: {\n                fieldName: fieldName,\n                comparer: fn ? fn : null,\n                format: format ? format : null\n            }\n        });\n        return this;\n    };\n    /**\n     * Gets data based on the given page index and size.\n     * @param  {number} pageIndex - Defines the current page index.\n     * @param  {number} pageSize - Defines the no of records per page.\n     */\n    Query.prototype.page = function (pageIndex, pageSize) {\n        this.queries.push({\n            fn: 'onPage',\n            e: {\n                pageIndex: pageIndex,\n                pageSize: pageSize\n            }\n        });\n        return this;\n    };\n    /**\n     * Gets data based on the given start and end index.\n     * @param  {number} start - Defines the start index of the datasource.\n     * @param  {number} end - Defines the end index of the datasource.\n     */\n    Query.prototype.range = function (start, end) {\n        this.queries.push({\n            fn: 'onRange',\n            e: {\n                start: start,\n                end: end\n            }\n        });\n        return this;\n    };\n    /**\n     * Gets data from the top of the data source based on given number of records count.\n     * @param  {number} nos - Defines the no of records to retrieve from datasource.\n     */\n    Query.prototype.take = function (nos) {\n        this.queries.push({\n            fn: 'onTake',\n            e: {\n                nos: nos\n            }\n        });\n        return this;\n    };\n    /**\n     * Skips data with given number of records count from the top of the data source.\n     * @param  {number} nos - Defines the no of records skip in the datasource.\n     */\n    Query.prototype.skip = function (nos) {\n        this.queries.push({\n            fn: 'onSkip',\n            e: { nos: nos }\n        });\n        return this;\n    };\n    /**\n     * Selects specified columns from the data source.\n     * @param  {string|string[]} fieldNames - Defines the collection of column fields.\n     */\n    Query.prototype.select = function (fieldNames) {\n        if (typeof fieldNames === 'string') {\n            fieldNames = [].slice.call([fieldNames], 0);\n        }\n        this.queries.push({\n            fn: 'onSelect',\n            e: { fieldNames: fieldNames }\n        });\n        return this;\n    };\n    /**\n     * Gets the records in hierarchical relationship from two tables. It requires the foreign key to relate two tables.\n     * @param  {Query} query - Defines the query to relate two tables.\n     * @param  {Function} selectorFn - Defines the custom function to select records.\n     */\n    Query.prototype.hierarchy = function (query, selectorFn) {\n        this.subQuerySelector = selectorFn;\n        this.subQuery = query;\n        return this;\n    };\n    /**\n     * Sets the foreign key which is used to get data from the related table.\n     * @param  {string} key - Defines the foreign key.\n     */\n    Query.prototype.foreignKey = function (key) {\n        this.fKey = key;\n        return this;\n    };\n    /**\n     * It is used to get total number of records in the DataManager execution result.\n     */\n    Query.prototype.requiresCount = function () {\n        this.isCountRequired = true;\n        return this;\n    };\n    //type - sum, avg, min, max\n    /**\n     * Aggregate the data with given type and field name.\n     * @param  {string} type - Defines the aggregate type.\n     * @param  {string} field - Defines the column field to aggregate.\n     */\n    Query.prototype.aggregate = function (type, field) {\n        this.queries.push({\n            fn: 'onAggregates',\n            e: { field: field, type: type }\n        });\n        return this;\n    };\n    /**\n     * Pass array of filterColumn query for performing filter operation.\n     * @param  {QueryOptions[]} queries\n     * @param  {string} name\n     * @hidden\n     */\n    Query.filterQueries = function (queries, name) {\n        return queries.filter(function (q) {\n            return q.fn === name;\n        });\n    };\n    /**\n     * To get the list of queries which is already filtered in current data source.\n     * @param  {Object[]} queries\n     * @param  {string[]} singles\n     * @hidden\n     */\n    Query.filterQueryLists = function (queries, singles) {\n        var filtered = queries.filter(function (q) {\n            return singles.indexOf(q.fn) !== -1;\n        });\n        var res = {};\n        for (var i = 0; i < filtered.length; i++) {\n            if (!res[filtered[i].fn]) {\n                res[filtered[i].fn] = filtered[i].e;\n            }\n        }\n        return res;\n    };\n    return Query;\n}());\nexport { Query };\n/**\n * Predicate class is used to generate complex filter criteria.\n * This will be used by DataManager to perform multiple filtering operation.\n */\nvar Predicate = /** @class */ (function () {\n    /**\n     * Constructor for Predicate class.\n     * @param  {string|Predicate} field\n     * @param  {string} operator\n     * @param  {string|number|boolean|Predicate|Predicate[]} value\n     * @param  {boolean=false} ignoreCase\n     * @hidden\n     */\n    function Predicate(field, operator, value, ignoreCase, ignoreAccent) {\n        if (ignoreCase === void 0) { ignoreCase = false; }\n        /** @hidden */\n        this.ignoreAccent = false;\n        /** @hidden */\n        this.isComplex = false;\n        if (typeof field === 'string') {\n            this.field = field;\n            this.operator = operator.toLowerCase();\n            this.value = value;\n            this.ignoreCase = ignoreCase;\n            this.ignoreAccent = ignoreAccent;\n            this.isComplex = false;\n            this.comparer = DataUtil.fnOperators.processOperator(this.operator);\n        }\n        else if (field instanceof Predicate && value instanceof Predicate || value instanceof Array) {\n            this.isComplex = true;\n            this.condition = operator.toLowerCase();\n            this.predicates = [field];\n            if (value instanceof Array) {\n                [].push.apply(this.predicates, value);\n            }\n            else {\n                this.predicates.push(value);\n            }\n        }\n        return this;\n    }\n    /**\n     * Adds n-number of new predicates on existing predicate with and condition.\n     * @param  {Object[]} args - Defines the collection of predicates.\n     */\n    Predicate.and = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return Predicate.combinePredicates([].slice.call(args, 0), 'and');\n    };\n    /**\n     * Adds new predicate on existing predicate with and condition.\n     * @param  {string} field - Defines the column field.\n     * @param  {string} operator - Defines the operator how to filter data.\n     * @param  {string} value - Defines the values to match with data.\n     * @param  {boolean} ignoreCase? - If ignore case set to false, then filter data with exact match or else\n     * filter data with case insensitive.\n     */\n    Predicate.prototype.and = function (field, operator, value, ignoreCase, ignoreAccent) {\n        return Predicate.combine(this, field, operator, value, 'and', ignoreCase, ignoreAccent);\n    };\n    /**\n     * Adds n-number of new predicates on existing predicate with or condition.\n     * @param  {Object[]} args - Defines the collection of predicates.\n     */\n    Predicate.or = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return Predicate.combinePredicates([].slice.call(args, 0), 'or');\n    };\n    /**\n     * Adds new predicate on existing predicate with or condition.\n     * @param  {string} field - Defines the column field.\n     * @param  {string} operator - Defines the operator how to filter data.\n     * @param  {string} value - Defines the values to match with data.\n     * @param  {boolean} ignoreCase? - If ignore case set to false, then filter data with exact match or else\n     * filter data with case insensitive.\n     */\n    Predicate.prototype.or = function (field, operator, value, ignoreCase, ignoreAccent) {\n        return Predicate.combine(this, field, operator, value, 'or', ignoreCase, ignoreAccent);\n    };\n    /**\n     * Converts plain JavaScript object to Predicate object.\n     * @param  {Predicate[]|Predicate} json - Defines single or collection of Predicate.\n     */\n    Predicate.fromJson = function (json) {\n        if (json instanceof Array) {\n            var res = [];\n            for (var i = 0, len = json.length; i < len; i++) {\n                res.push(this.fromJSONData(json[i]));\n            }\n            return res;\n        }\n        var pred = json;\n        return this.fromJSONData(pred);\n    };\n    /**\n     * Validate the record based on the predicates.\n     * @param  {Object} record - Defines the datasource record.\n     */\n    Predicate.prototype.validate = function (record) {\n        var predicate = this.predicates ? this.predicates : [];\n        var isAnd;\n        var ret;\n        if (!this.isComplex && this.comparer) {\n            return this.comparer.call(this, DataUtil.getObject(this.field, record), this.value, this.ignoreCase, this.ignoreAccent);\n        }\n        isAnd = this.condition === 'and';\n        for (var i = 0; i < predicate.length; i++) {\n            ret = predicate[i].validate(record);\n            if (isAnd) {\n                if (!ret) {\n                    return false;\n                }\n            }\n            else {\n                if (ret) {\n                    return true;\n                }\n            }\n        }\n        return isAnd;\n    };\n    /**\n     * Converts predicates to plain JavaScript.\n     * This method is uses Json stringify when serializing Predicate object.\n     */\n    Predicate.prototype.toJson = function () {\n        var predicates;\n        var p;\n        if (this.isComplex) {\n            predicates = [];\n            p = this.predicates;\n            for (var i = 0; i < p.length; i++) {\n                predicates.push(p[i].toJson());\n            }\n        }\n        return {\n            isComplex: this.isComplex,\n            field: this.field,\n            operator: this.operator,\n            value: this.value,\n            ignoreCase: this.ignoreCase,\n            ignoreAccent: this.ignoreAccent,\n            condition: this.condition,\n            predicates: predicates\n        };\n    };\n    Predicate.combinePredicates = function (predicates, operator) {\n        if (predicates.length === 1) {\n            if (!(predicates[0] instanceof Array)) {\n                return predicates[0];\n            }\n            predicates = predicates[0];\n        }\n        return new Predicate(predicates[0], operator, predicates.slice(1));\n    };\n    Predicate.combine = function (pred, field, operator, value, condition, ignoreCase, ignoreAccent) {\n        if (field instanceof Predicate) {\n            return Predicate[condition](pred, field);\n        }\n        if (typeof field === 'string') {\n            return Predicate[condition](pred, new Predicate(field, operator, value, ignoreCase, ignoreAccent));\n        }\n        return DataUtil.throwError('Predicate - ' + condition + ' : invalid arguments');\n    };\n    Predicate.fromJSONData = function (json) {\n        var preds = json.predicates || [];\n        var len = preds.length;\n        var predicates = [];\n        var result;\n        for (var i = 0; i < len; i++) {\n            predicates.push(this.fromJSONData(preds[i]));\n        }\n        if (!json.isComplex) {\n            result = new Predicate(json.field, json.operator, json.value, json.ignoreCase, json.ignoreAccent);\n        }\n        else {\n            result = new Predicate(predicates[0], json.condition, predicates.slice(1));\n        }\n        return result;\n    };\n    return Predicate;\n}());\nexport { Predicate };\n","import { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { Query, DataManager, Predicate, Deferred, UrlAdaptor } from '@syncfusion/ej2-data';\nimport { setFormatter, isGroupAdaptive, getColumnByForeignKeyValue, refreshFilteredColsUid } from '../base/util';\nimport * as events from '../base/constant';\nimport { ValueFormatter } from '../services/value-formatter';\nimport { CheckBoxFilterBase } from '../common/checkbox-filter-base';\n/**\n * Grid data module is used to generate query and data source.\n *\n * @hidden\n */\nvar Data = /** @class */ (function () {\n    /**\n     * Constructor for data module.\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {ServiceLocator} serviceLocator - specifies the service locator\n     * @hidden\n     */\n    function Data(parent, serviceLocator) {\n        this.dataState = { isPending: false, resolver: null, group: [] };\n        this.foreignKeyDataState = { isPending: false, resolver: null };\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        this.initDataManager();\n        if (this.parent.isDestroyed || this.getModuleName() === 'foreignKey') {\n            return;\n        }\n        this.parent.on(events.rowsAdded, this.addRows, this);\n        this.parent.on(events.rowPositionChanged, this.reorderRows, this);\n        this.parent.on(events.rowsRemoved, this.removeRows, this);\n        this.parent.on(events.dataSourceModified, this.initDataManager, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.updateData, this.crudActions, this);\n        this.parent.on(events.addDeleteAction, this.getData, this);\n        this.parent.on(events.autoCol, this.refreshFilteredCols, this);\n        this.parent.on(events.columnsPrepared, this.refreshFilteredCols, this);\n    }\n    Data.prototype.reorderRows = function (e) {\n        this.dataManager.dataSource.json.splice(e.toIndex, 0, this.dataManager.dataSource.json.splice(e.fromIndex, 1)[0]);\n    };\n    Data.prototype.getModuleName = function () {\n        return 'data';\n    };\n    /**\n     * The function used to initialize dataManager and external query\n     *\n     * @returns {void}\n     */\n    Data.prototype.initDataManager = function () {\n        var gObj = this.parent;\n        this.dataManager = gObj.dataSource instanceof DataManager ? gObj.dataSource :\n            (isNullOrUndefined(gObj.dataSource) ? new DataManager() : new DataManager(gObj.dataSource));\n        if (gObj.isAngular && !(gObj.query instanceof Query)) {\n            gObj.setProperties({ query: new Query() }, true);\n        }\n        else {\n            this.isQueryInvokedFromData = true;\n            gObj.query = gObj.query instanceof Query ? gObj.query : new Query();\n        }\n    };\n    /**\n     * The function is used to generate updated Query from Grid model.\n     *\n     * @param {boolean} skipPage - specifies the boolean to skip the page\n     * @returns {Query} returns the Query\n     * @hidden\n     */\n    Data.prototype.generateQuery = function (skipPage) {\n        var gObj = this.parent;\n        var query = gObj.getQuery().clone();\n        if (this.parent.columnQueryMode === 'ExcludeHidden') {\n            query.select(this.parent.getColumns().filter(function (column) { return !(column.isPrimaryKey !== true && column.visible === false || column.field === undefined); }).map(function (column) { return column.field; }));\n        }\n        else if (this.parent.columnQueryMode === 'Schema') {\n            var selectQueryFields = [];\n            var columns = this.parent.columns;\n            for (var i = 0; i < columns.length; i++) {\n                selectQueryFields.push(columns[i].field);\n            }\n            query.select(selectQueryFields);\n        }\n        this.filterQuery(query);\n        this.searchQuery(query);\n        this.aggregateQuery(query);\n        this.sortQuery(query);\n        if (isGroupAdaptive(this.parent)) {\n            this.virtualGroupPageQuery(query);\n        }\n        else {\n            this.pageQuery(query, skipPage);\n        }\n        this.groupQuery(query);\n        return query;\n    };\n    /**\n     * @param {Query} query - specifies the query\n     * @returns {Query} - returns the query\n     * @hidden\n     */\n    Data.prototype.aggregateQuery = function (query) {\n        var rows = this.parent.aggregates;\n        for (var i = 0; i < rows.length; i++) {\n            var row = rows[i];\n            for (var j = 0; j < row.columns.length; j++) {\n                var cols = row.columns[j];\n                var types = cols.type instanceof Array ? cols.type : [cols.type];\n                for (var k = 0; k < types.length; k++) {\n                    query.aggregate(types[k].toLowerCase(), cols.field);\n                }\n            }\n        }\n        return query;\n    };\n    Data.prototype.virtualGroupPageQuery = function (query) {\n        var fName = 'fn';\n        if (query.queries.length) {\n            for (var i = 0; i < query.queries.length; i++) {\n                if (query.queries[i][fName] === 'onPage') {\n                    query.queries.splice(i, 1);\n                }\n            }\n        }\n        return query;\n    };\n    Data.prototype.pageQuery = function (query, skipPage) {\n        var gObj = this.parent;\n        var fName = 'fn';\n        var args = { query: query, skipPage: false };\n        gObj.notify(events.setVirtualPageQuery, args);\n        if (args.skipPage) {\n            return query;\n        }\n        if ((gObj.allowPaging || gObj.enableVirtualization || gObj.enableInfiniteScrolling) && skipPage !== true) {\n            gObj.pageSettings.currentPage = Math.max(1, gObj.pageSettings.currentPage);\n            if (gObj.pageSettings.pageCount <= 0) {\n                gObj.pageSettings.pageCount = 8;\n            }\n            if (gObj.pageSettings.pageSize <= 0) {\n                gObj.pageSettings.pageSize = 12;\n            }\n            if (query.queries.length) {\n                for (var i = 0; i < query.queries.length; i++) {\n                    if (query.queries[i][fName] === 'onPage') {\n                        query.queries.splice(i, 1);\n                    }\n                }\n            }\n            if (!isNullOrUndefined(gObj.infiniteScrollModule) && gObj.enableInfiniteScrolling) {\n                this.parent.notify(events.infinitePageQuery, query);\n            }\n            else {\n                query.page(gObj.pageSettings.currentPage, gObj.allowPaging && gObj.pagerModule &&\n                    gObj.pagerModule.pagerObj.isAllPage && !this.dataManager.dataSource.offline ? null :\n                    gObj.pageSettings.pageSize);\n            }\n        }\n        return query;\n    };\n    Data.prototype.groupQuery = function (query) {\n        var gObj = this.parent;\n        if (gObj.allowGrouping && gObj.groupSettings.columns.length) {\n            if (this.parent.groupSettings.enableLazyLoading) {\n                query.lazyLoad.push({ key: 'isLazyLoad', value: this.parent.groupSettings.enableLazyLoading });\n            }\n            var columns = gObj.groupSettings.columns;\n            for (var i = 0, len = columns.length; i < len; i++) {\n                var column = this.getColumnByField(columns[i]);\n                if (!column) {\n                    this.parent.log('initial_action', { moduleName: 'group', columnName: columns[i] });\n                }\n                var isGrpFmt = column.enableGroupByFormat;\n                var format = column.format;\n                if (isGrpFmt) {\n                    query.group(columns[i], this.formatGroupColumn.bind(this), format);\n                }\n                else {\n                    query.group(columns[i], null);\n                }\n            }\n        }\n        return query;\n    };\n    Data.prototype.sortQuery = function (query) {\n        var gObj = this.parent;\n        if ((gObj.allowSorting || gObj.allowGrouping) && gObj.sortSettings.columns.length) {\n            var columns = gObj.sortSettings.columns;\n            var sortGrp = [];\n            for (var i = columns.length - 1; i > -1; i--) {\n                var col = this.getColumnByField(columns[i].field);\n                if (col) {\n                    col.setSortDirection(columns[i].direction);\n                }\n                else {\n                    this.parent.log('initial_action', { moduleName: 'sort', columnName: columns[i].field });\n                    return query;\n                }\n                var fn = columns[i].direction;\n                if (col.sortComparer) {\n                    this.parent.log('grid_sort_comparer');\n                    fn = !this.isRemote() ? col.sortComparer.bind(col) : columns[i].direction;\n                }\n                if (gObj.groupSettings.columns.indexOf(columns[i].field) === -1) {\n                    if (col.isForeignColumn() || col.sortComparer) {\n                        query.sortByForeignKey(col.field, fn, undefined, columns[i].direction.toLowerCase());\n                    }\n                    else {\n                        query.sortBy(col.field, fn);\n                    }\n                }\n                else {\n                    sortGrp.push({ direction: fn, field: col.field });\n                }\n            }\n            for (var i = 0, len = sortGrp.length; i < len; i++) {\n                if (typeof sortGrp[i].direction === 'string') {\n                    query.sortBy(sortGrp[i].field, sortGrp[i].direction);\n                }\n                else {\n                    var col = this.getColumnByField(sortGrp[i].field);\n                    query.sortByForeignKey(sortGrp[i].field, sortGrp[i].direction, undefined, col.getSortDirection().toLowerCase());\n                }\n            }\n        }\n        return query;\n    };\n    Data.prototype.searchQuery = function (query, fcolumn, isForeignKey) {\n        var sSettings = this.parent.searchSettings;\n        var fields = sSettings.fields.length ? sSettings.fields : this.getSearchColumnFieldNames();\n        var predicateList = [];\n        var needForeignKeySearch = false;\n        if (this.parent.searchSettings.key.length) {\n            needForeignKeySearch = this.parent.getForeignKeyColumns().some(function (col) { return fields.indexOf(col.field) > -1; });\n            var adaptor = !isForeignKey ? this.dataManager.adaptor : fcolumn.dataSource.adaptor;\n            if (needForeignKeySearch || (adaptor.getModuleName &&\n                adaptor.getModuleName() === 'ODataV4Adaptor')) {\n                fields = isForeignKey ? [fcolumn.foreignKeyValue] : fields;\n                for (var i = 0; i < fields.length; i++) {\n                    var column = isForeignKey ? fcolumn : this.getColumnByField(fields[i]);\n                    if (column.isForeignColumn() && !isForeignKey) {\n                        predicateList = this.fGeneratePredicate(column, predicateList);\n                    }\n                    else {\n                        predicateList.push(new Predicate(fields[i], sSettings.operator, sSettings.key, sSettings.ignoreCase, sSettings.ignoreAccent));\n                    }\n                }\n                var predList = Predicate.or(predicateList);\n                predList.key = sSettings.key;\n                query.where(predList);\n            }\n            else {\n                query.search(sSettings.key, fields, sSettings.operator, sSettings.ignoreCase, sSettings.ignoreAccent);\n            }\n        }\n        return query;\n    };\n    Data.prototype.filterQuery = function (query, column, skipFoerign) {\n        var gObj = this.parent;\n        var predicateList = [];\n        var actualFilter = [];\n        var foreignColumn = this.parent.getForeignKeyColumns();\n        var foreignColEmpty;\n        if (gObj.allowFiltering && gObj.filterSettings.columns.length) {\n            var columns = column ? column : gObj.filterSettings.columns;\n            var colType = {};\n            for (var _i = 0, _a = gObj.getColumns(); _i < _a.length; _i++) {\n                var col = _a[_i];\n                colType[col.field] = col.filter.type ? col.filter.type : gObj.filterSettings.type;\n            }\n            var foreignCols = [];\n            var defaultFltrCols = [];\n            for (var _b = 0, columns_1 = columns; _b < columns_1.length; _b++) {\n                var col = columns_1[_b];\n                var gridColumn = gObj.getColumnByField(col.field);\n                if (isNullOrUndefined(col.type) && gridColumn && (gridColumn.type === 'date' || gridColumn.type === 'datetime')) {\n                    col.type = gObj.getColumnByField(col.field).type;\n                }\n                if (col.isForeignKey) {\n                    foreignCols.push(col);\n                }\n                else {\n                    defaultFltrCols.push(col);\n                }\n            }\n            if (defaultFltrCols.length) {\n                for (var i = 0, len = defaultFltrCols.length; i < len; i++) {\n                    defaultFltrCols[i].uid = defaultFltrCols[i].uid ||\n                        this.parent.grabColumnByFieldFromAllCols(defaultFltrCols[i].field).uid;\n                }\n                var excelPredicate = CheckBoxFilterBase.getPredicate(defaultFltrCols);\n                for (var _c = 0, _d = Object.keys(excelPredicate); _c < _d.length; _c++) {\n                    var prop = _d[_c];\n                    predicateList.push(excelPredicate[prop]);\n                }\n            }\n            if (foreignCols.length) {\n                for (var _e = 0, foreignCols_1 = foreignCols; _e < foreignCols_1.length; _e++) {\n                    var col = foreignCols_1[_e];\n                    col.uid = col.uid || this.parent.grabColumnByFieldFromAllCols(col.field).uid;\n                    var column_1 = this.parent.grabColumnByUidFromAllCols(col.uid);\n                    if (!column_1) {\n                        this.parent.log('initial_action', { moduleName: 'filter', columnName: col.field });\n                    }\n                    if (column_1.isForeignColumn() && getColumnByForeignKeyValue(col.field, foreignColumn) && !skipFoerign) {\n                        actualFilter.push(col);\n                        if (!column_1.columnData.length) {\n                            foreignColEmpty = true;\n                        }\n                        predicateList = this.fGeneratePredicate(column_1, predicateList);\n                    }\n                    else {\n                        var excelPredicate = CheckBoxFilterBase.getPredicate(columns);\n                        for (var _f = 0, _g = Object.keys(excelPredicate); _f < _g.length; _f++) {\n                            var prop = _g[_f];\n                            predicateList.push(excelPredicate[prop]);\n                        }\n                    }\n                }\n            }\n            if (predicateList.length && !foreignColEmpty) {\n                query.where(Predicate.and(predicateList));\n            }\n            else {\n                this.parent.notify(events.showEmptyGrid, {});\n            }\n        }\n        return query;\n    };\n    Data.prototype.fGeneratePredicate = function (col, predicateList) {\n        var fPredicate = {};\n        if (col) {\n            this.parent.notify(events.generateQuery, { predicate: fPredicate, column: col });\n            if (fPredicate.predicate.predicates.length) {\n                predicateList.push(fPredicate.predicate);\n            }\n        }\n        return predicateList;\n    };\n    /**\n     * The function is used to get dataManager promise by executing given Query.\n     *\n     * @param {object} args - specifies the object\n     * @param {string} args.requestType - Defines the request type\n     * @param {string[]} args.foreignKeyData - Defines the foreignKeyData.string\n     * @param {Object} args.data - Defines the data.\n     * @param {number} args.index - Defines the index .\n     * @param {Query} query - Defines the query which will execute along with data processing.\n     * @returns {Promise<Object>} - returns the object\n     * @hidden\n     */\n    Data.prototype.getData = function (args, query) {\n        var _this = this;\n        if (args === void 0) { args = { requestType: '' }; }\n        var key = this.getKey(args.foreignKeyData &&\n            Object.keys(args.foreignKeyData).length ?\n            args.foreignKeyData : this.parent.getPrimaryKeyFieldNames());\n        this.parent.log('datasource_syntax_mismatch', { dataState: this.parent });\n        if (this.parent.dataSource && 'result' in this.parent.dataSource) {\n            var def = this.eventPromise(args, query, key);\n            return def.promise;\n        }\n        else {\n            var crud = void 0;\n            switch (args.requestType) {\n                case 'delete':\n                    query = query ? query : this.generateQuery();\n                    // eslint-disable-next-line no-case-declarations\n                    var len = Object.keys(args.data).length;\n                    if (len === 1) {\n                        crud = this.dataManager.remove(key, args.data[0], query.fromTable, query);\n                    }\n                    else {\n                        var changes = {\n                            addedRecords: [],\n                            deletedRecords: [],\n                            changedRecords: []\n                        };\n                        changes.deletedRecords = args.data;\n                        crud = this.dataManager.saveChanges(changes, key, query.fromTable, query.requiresCount());\n                    }\n                    break;\n                case 'save':\n                    query = query ? query : this.generateQuery();\n                    args.index = isNullOrUndefined(args.index) ? 0 : args.index;\n                    crud = this.dataManager.insert(args.data, query.fromTable, query, args.index);\n                    break;\n            }\n            var promise = 'promise';\n            args[promise] = crud;\n            // eslint-disable-next-line no-prototype-builtins\n            if (crud && !Array.isArray(crud) && !crud.hasOwnProperty('deletedRecords')) {\n                return crud.then(function () {\n                    return _this.insert(query, args);\n                });\n            }\n            else {\n                return this.insert(query, args);\n            }\n        }\n    };\n    Data.prototype.insert = function (query, args) {\n        if (args.requestType === 'save') {\n            this.parent.notify(events.recordAdded, args);\n        }\n        return this.executeQuery(query);\n    };\n    Data.prototype.executeQuery = function (query) {\n        var _this = this;\n        if (this.dataManager.ready) {\n            var deferred_1 = new Deferred();\n            var ready = this.dataManager.ready;\n            ready.then(function () {\n                _this.dataManager.executeQuery(query).then(function (result) {\n                    deferred_1.resolve(result);\n                });\n            }).catch(function (e) {\n                deferred_1.reject(e);\n            });\n            return deferred_1.promise;\n        }\n        else {\n            return this.dataManager.executeQuery(query);\n        }\n    };\n    Data.prototype.formatGroupColumn = function (value, field) {\n        var serviceLocator = this.serviceLocator;\n        var column = this.getColumnByField(field);\n        var date = value;\n        if (!column.type) {\n            column.type = date.getDay ? (date.getHours() > 0 || date.getMinutes() > 0 ||\n                date.getSeconds() > 0 || date.getMilliseconds() > 0 ? 'datetime' : 'date') : typeof (value);\n        }\n        if (isNullOrUndefined(column.getFormatter())) {\n            setFormatter(serviceLocator, column);\n        }\n        var formatVal = ValueFormatter.prototype.toView(value, column.getFormatter());\n        return formatVal;\n    };\n    Data.prototype.crudActions = function (args) {\n        var query = this.generateQuery();\n        var promise = null;\n        var pr = 'promise';\n        var key = this.getKey(args.foreignKeyData &&\n            Object.keys(args.foreignKeyData).length ? args.foreignKeyData :\n            this.parent.getPrimaryKeyFieldNames());\n        if (this.parent.dataSource && 'result' in this.parent.dataSource) {\n            this.eventPromise(args, query, key);\n        }\n        switch (args.requestType) {\n            case 'save':\n                promise = this.dataManager.update(key, args.data, query.fromTable, query, args.previousData);\n                break;\n        }\n        args[pr] = promise ? promise : args[pr];\n        this.parent.notify(events.crudAction, args);\n    };\n    /**\n     * @param {object} changes - specifies the changes\n     * @param {string} key - specifies the key\n     * @param {object} original - specifies the original data\n     * @param {Query} query - specifies the query\n     * @returns {Promise<Object>} returns the object\n     * @hidden\n     */\n    Data.prototype.saveChanges = function (changes, key, original, query) {\n        if (query === void 0) { query = this.generateQuery(); }\n        query.requiresCount();\n        if ('result' in this.parent.dataSource) {\n            var deff = new Deferred();\n            var args = {\n                requestType: 'batchsave', changes: changes, key: key, query: query,\n                endEdit: deff.resolve\n            };\n            this.setState({ isPending: true, resolver: deff.resolve });\n            this.parent.trigger(events.dataSourceChanged, args);\n            return deff.promise;\n        }\n        else {\n            var promise = this.dataManager.saveChanges(changes, key, query.fromTable, query, original);\n            return promise;\n        }\n    };\n    Data.prototype.getKey = function (keys) {\n        if (keys && keys.length) {\n            return keys[0];\n        }\n        return undefined;\n    };\n    /**\n     * @returns {boolean} returns whether its remote data\n     * @hidden\n     */\n    Data.prototype.isRemote = function () {\n        return this.dataManager.dataSource.offline !== true && this.dataManager.dataSource.url !== undefined &&\n            this.dataManager.dataSource.url !== '';\n    };\n    Data.prototype.addRows = function (e) {\n        for (var i = e.records.length; i > 0; i--) {\n            this.dataManager.dataSource.json.splice(e.toIndex, 0, e.records[i - 1]);\n        }\n    };\n    Data.prototype.removeRows = function (e) {\n        var json = this.dataManager.dataSource.json;\n        this.dataManager.dataSource.json = json.filter(function (value) { return e.records.indexOf(value) === -1; });\n    };\n    Data.prototype.getColumnByField = function (field) {\n        var col;\n        return (this.parent.columnModel).some(function (column) {\n            col = column;\n            return column.field === field;\n        }) && col;\n    };\n    Data.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.rowsAdded, this.addRows);\n        this.parent.off(events.rowsRemoved, this.removeRows);\n        this.parent.off(events.dataSourceModified, this.initDataManager);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.updateData, this.crudActions);\n        this.parent.off(events.addDeleteAction, this.getData);\n        this.parent.off(events.autoCol, this.refreshFilteredCols);\n        this.parent.off(events.columnsPrepared, this.refreshFilteredCols);\n    };\n    Data.prototype.getState = function () {\n        return this.dataState;\n    };\n    Data.prototype.setState = function (state) {\n        return this.dataState = state;\n    };\n    Data.prototype.getForeignKeyDataState = function () {\n        return this.foreignKeyDataState;\n    };\n    Data.prototype.setForeignKeyDataState = function (state) {\n        this.foreignKeyDataState = state;\n    };\n    Data.prototype.getStateEventArgument = function (query) {\n        var adaptr = new UrlAdaptor();\n        var dm = new DataManager({ url: '', adaptor: new UrlAdaptor });\n        var state = adaptr.processQuery(dm, query);\n        var data = JSON.parse(state.data);\n        return extend(data, state.pvtData);\n    };\n    Data.prototype.eventPromise = function (args, query, key) {\n        var _this = this;\n        var dataArgs = args;\n        var state = this.getStateEventArgument(query);\n        var def = new Deferred();\n        var deff = new Deferred();\n        if (args.requestType !== undefined && this.dataState.isDataChanged !== false) {\n            state.action = args;\n            if (args.requestType === 'save' || args.requestType === 'delete') {\n                var editArgs_1 = args;\n                editArgs_1.key = key;\n                var promise = 'promise';\n                editArgs_1[promise] = deff.promise;\n                editArgs_1.state = state;\n                this.setState({ isPending: true, resolver: deff.resolve });\n                dataArgs.endEdit = deff.resolve;\n                dataArgs.cancelEdit = deff.reject;\n                this.parent.trigger(events.dataSourceChanged, editArgs_1);\n                deff.promise.then(function () {\n                    _this.setState({ isPending: true, resolver: def.resolve, group: state.group, aggregates: state.aggregates });\n                    if (editArgs_1.requestType === 'save') {\n                        _this.parent.notify(events.recordAdded, editArgs_1);\n                    }\n                    _this.parent.trigger(events.dataStateChange, state);\n                })\n                    .catch(function () { return void 0; });\n            }\n            else {\n                this.setState({ isPending: true, resolver: def.resolve, group: state.group, aggregates: state.aggregates });\n                this.parent.trigger(events.dataStateChange, state);\n            }\n        }\n        else {\n            this.setState({});\n            def.resolve(this.parent.dataSource);\n        }\n        return def;\n    };\n    /**\n     * Gets the columns where searching needs to be performed from the Grid.\n     *\n     * @returns {string[]} returns the searched column field names\n     */\n    Data.prototype.getSearchColumnFieldNames = function () {\n        var colFieldNames = [];\n        var columns = this.parent.getColumns();\n        for (var _i = 0, columns_2 = columns; _i < columns_2.length; _i++) {\n            var col = columns_2[_i];\n            if (col.allowSearching && !isNullOrUndefined(col.field)) {\n                colFieldNames.push(col.field);\n            }\n        }\n        return colFieldNames;\n    };\n    Data.prototype.refreshFilteredCols = function () {\n        if (this.parent.allowFiltering && this.parent.filterSettings.columns.length) {\n            refreshFilteredColsUid(this.parent, this.parent.filterSettings.columns);\n        }\n    };\n    return Data;\n}());\nexport { Data };\n","/**\n * Specifies class names\n */\n/** @hidden */\nexport var rowCell = 'e-rowcell';\n/** @hidden */\nexport var gridHeader = 'e-gridheader';\n/** @hidden */\nexport var gridContent = 'e-gridcontent';\n/** @hidden */\nexport var gridFooter = 'e-gridfooter';\n/** @hidden */\nexport var headerContent = 'e-headercontent';\n/** @hidden */\nexport var movableContent = 'e-movablecontent';\n/** @hidden */\nexport var movableHeader = 'e-movableheader';\n/** @hidden */\nexport var frozenContent = 'e-frozencontent';\n/** @hidden */\nexport var frozenHeader = 'e-frozenheader';\n/** @hidden */\nexport var content = 'e-content';\n/** @hidden */\nexport var table = 'e-table';\n/** @hidden */\nexport var row = 'e-row';\n/** @hidden */\nexport var gridChkBox = 'e-gridchkbox';\n/** @hidden */\nexport var editedRow = 'e-editedrow';\n/** @hidden */\nexport var addedRow = 'e-addedrow';\n/**\n * Specifies repeated strings\n */\n/** @hidden */\nexport var changedRecords = 'changedRecords';\n/** @hidden */\nexport var addedRecords = 'addedRecords';\n/** @hidden */\nexport var deletedRecords = 'deletedRecords';\n/** @hidden */\nexport var leftRight = 'Left-Right';\n/** @hidden */\nexport var frozenRight = 'frozen-right';\n/** @hidden */\nexport var frozenLeft = 'frozen-left';\n/** @hidden */\nexport var ariaColIndex = 'aria-colindex';\n/** @hidden */\nexport var ariaRowIndex = 'aria-rowindex';\n/** @hidden */\nexport var tbody = 'tbody';\n/** @hidden */\nexport var colGroup = 'colgroup';\n/** @hidden */\nexport var open = 'open';\n/** @hidden */\nexport var change = 'change';\n/** @hidden */\nexport var focus = 'focus';\n/** @hidden */\nexport var create = 'created';\n/** @hidden */\nexport var beforeOpen = 'beforeOpen';\n/** @hidden */\nexport var downArrow = 'downArrow';\n/** @hidden */\nexport var upArrow = 'upArrow';\n/** @hidden */\nexport var pageUp = 'PageUp';\n/** @hidden */\nexport var pageDown = 'PageDown';\n/** @hidden */\nexport var enter = 'enter';\n/** @hidden */\nexport var shiftEnter = 'shiftEnter';\n/** @hidden */\nexport var tab = 'tab';\n/** @hidden */\nexport var shiftTab = 'shiftTab';\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { merge, isNullOrUndefined, extend, Property } from '@syncfusion/ej2-base';\nimport { Query, DataUtil } from '@syncfusion/ej2-data';\nimport { ValueFormatter } from '../services/value-formatter';\nimport { getUid, templateCompiler, getForeignData, getObject } from '../base/util';\n/**\n * Represents Grid `Column` model class.\n */\nvar Column = /** @class */ (function () {\n    function Column(options, parent) {\n        var _this = this;\n        /**\n         * If `disableHtmlEncode` is set to true, it encodes the HTML of the header and content cells.\n         *\n         * @default true\n         */\n        this.disableHtmlEncode = true;\n        /**\n         * If `allowSorting` set to false, then it disables sorting option of a particular column.\n         * By default all columns are sortable.\n         *\n         * @default true\n         */\n        this.allowSorting = true;\n        /**\n         * If `allowResizing` is set to false, it disables resize option of a particular column.\n         * By default all the columns can be resized.\n         *\n         * @default true\n         */\n        this.allowResizing = true;\n        /**\n         * If `allowFiltering` set to false, then it disables filtering option and filter bar element of a particular column.\n         * By default all columns are filterable.\n         *\n         * @default true\n         */\n        this.allowFiltering = true;\n        /**\n         * If `allowGrouping` set to false, then it disables grouping of a particular column.\n         * By default all columns are groupable.\n         *\n         * @default true\n         */\n        this.allowGrouping = true;\n        /**\n         * If `allowReordering` set to false, then it disables reorder of a particular column.\n         * By default all columns can be reorder.\n         *\n         * @default true\n         */\n        this.allowReordering = true;\n        /**\n         * If `showColumnMenu` set to false, then it disable the column menu of a particular column.\n         * By default column menu will show for all columns\n         *\n         * @default true\n         */\n        this.showColumnMenu = true;\n        /**\n         * If `enableGroupByFormat` set to true, then it groups the particular column by formatted values.\n         *\n         * @default true\n         */\n        this.enableGroupByFormat = false;\n        /**\n         * If `allowEditing` set to false, then it disables editing of a particular column.\n         * By default all columns are editable.\n         *\n         * @default true\n         */\n        this.allowEditing = true;\n        /**\n         *  It is used to customize the default filter options for a specific columns.\n         * * type -  Specifies the filter type as menu or checkbox.\n         * * ui - to render custom component for specific column it has following functions.\n         * * ui.create  It is used for creating custom components.\n         * * ui.read -  It is used for read the value from the component.\n         * * ui.write - It is used to apply component model as dynamically.\n         * {% codeBlock src=\"grid/filter-menu-api/index.ts\" %}{% endcodeBlock %}\n         *\n         * > Check the [`Filter UI`](../../grid/filtering/#custom-component-in-filter-menu) for its customization.\n         *\n         *  @default {}\n         */\n        this.filter = {};\n        /**\n         * If `showInColumnChooser` set to false, then hide the particular column in column chooser.\n         *  By default all columns are displayed in column Chooser.\n         *\n         * @default true\n         */\n        this.showInColumnChooser = true;\n        /**\n         * Defines the `IEditCell` object to customize default edit cell.\n         *\n         * @default {}\n         */\n        this.edit = {};\n        /**\n         * If `allowSearching` set to false, then it disables Searching of a particular column.\n         * By default all columns allow Searching.\n         *\n         * @default true\n         */\n        this.allowSearching = true;\n        /**\n         * If `autoFit` set to true, then the particular column content width will be\n         * adjusted based on its content in the initial rendering itself.\n         * Setting this property as true is equivalent to calling `autoFitColumns` method in the `dataBound` event.\n         *\n         * @default false\n         */\n        this.autoFit = false;\n        this.sortDirection = 'Descending';\n        /**\n         * @returns {Function} returns the edit template\n         * @hidden */\n        this.getEditTemplate = function () { return _this.editTemplateFn; };\n        /**\n         * @returns {Function} returns the filter template\n         * @hidden */\n        this.getFilterTemplate = function () { return _this.filterTemplateFn; };\n        merge(this, options);\n        this.parent = parent;\n        if (this.type === 'none') {\n            this.type = null;\n        }\n        else if (this.type) {\n            this.type = typeof (this.type) === 'string' ? this.type.toLowerCase() : undefined;\n        }\n        if (this.editType) {\n            this.editType = this.editType.toLowerCase();\n        }\n        if (isNullOrUndefined(this.uid)) {\n            this.uid = getUid('grid-column');\n        }\n        var valueFormatter = new ValueFormatter();\n        if (options.format && (options.format.skeleton || (options.format.format &&\n            typeof options.format.format === 'string'))) {\n            this.setFormatter(valueFormatter.getFormatFunction(extend({}, options.format)));\n            this.setParser(valueFormatter.getParserFunction(options.format));\n        }\n        this.toJSON = function () {\n            var col = {};\n            var skip = ['filter', 'dataSource', 'headerText', 'template', 'headerTemplate', 'edit',\n                'editTemplate', 'filterTemplate', 'commandsTemplate', 'parent'];\n            var keys = Object.keys(_this);\n            for (var i = 0; i < keys.length; i++) {\n                if (keys[i] === 'columns') {\n                    col[keys[i]] = [];\n                    for (var j = 0; j < _this[keys[i]].length; j++) {\n                        col[keys[i]].push(_this[keys[i]][j].toJSON());\n                    }\n                }\n                else if (skip.indexOf(keys[i]) < 0) {\n                    col[keys[i]] = _this[keys[i]];\n                }\n            }\n            return col;\n        };\n        if (!this.field) {\n            this.allowFiltering = false;\n            this.allowGrouping = false;\n            this.allowSorting = false;\n            if (this.columns) {\n                this.allowResizing = this.columns.some(function (col) {\n                    return col.allowResizing;\n                });\n            }\n        }\n        if (this.commands && !this.textAlign) {\n            this.textAlign = 'Right';\n        }\n        if (this.template || this.commandsTemplate) {\n            this.templateFn = templateCompiler(this.template || this.commandsTemplate);\n        }\n        if (this.headerTemplate) {\n            this.headerTemplateFn = templateCompiler(this.headerTemplate);\n        }\n        if (!isNullOrUndefined(this.filter) && this.filter.itemTemplate) {\n            this.fltrTemplateFn = templateCompiler(this.filter.itemTemplate);\n        }\n        if (this.editTemplate) {\n            this.editTemplateFn = templateCompiler(this.editTemplate);\n        }\n        if (this.filterTemplate) {\n            this.filterTemplateFn = templateCompiler(this.filterTemplate);\n        }\n        if (this.isForeignColumn() &&\n            (isNullOrUndefined(this.editType) || this.editType === 'dropdownedit' || this.editType === 'defaultedit')) {\n            this.editType = 'dropdownedit';\n            if (this.edit.params && this.edit.params.dataSource) {\n                this.edit.params.ddEditedData = true;\n            }\n            this.edit.params = extend({\n                dataSource: this.dataSource,\n                query: new Query(), fields: { value: this.foreignKeyField || this.field, text: this.foreignKeyValue }\n            }, this.edit.params);\n        }\n        if (this.sortComparer) {\n            var a_1 = this.sortComparer;\n            this.sortComparer = function (x, y, xObj, yObj) {\n                if (typeof a_1 === 'string') {\n                    a_1 = getObject(a_1, window);\n                }\n                if (_this.sortDirection === 'Descending') {\n                    var z = x;\n                    x = y;\n                    y = z;\n                    var obj = xObj;\n                    xObj = yObj;\n                    yObj = obj;\n                }\n                return a_1(x, y, xObj, yObj);\n            };\n        }\n        if (!this.sortComparer && this.isForeignColumn()) {\n            this.sortComparer = function (x, y) {\n                x = getObject(_this.foreignKeyValue, getForeignData(_this, {}, x)[0]);\n                y = getObject(_this.foreignKeyValue, getForeignData(_this, {}, y)[0]);\n                return _this.sortDirection === 'Descending' ? DataUtil.fnDescending(x, y) : DataUtil.fnAscending(x, y);\n            };\n        }\n    }\n    /**\n     * @returns {string} returns the sort direction\n     * @hidden */\n    Column.prototype.getSortDirection = function () {\n        return this.sortDirection;\n    };\n    /**\n     * @param {string} direction - specifies the direction\n     * @returns {void}\n     * @hidden\n     */\n    Column.prototype.setSortDirection = function (direction) {\n        this.sortDirection = direction;\n    };\n    /**\n     * @returns {freezeTable} returns the FreezeTable\n     * @hidden */\n    Column.prototype.getFreezeTableName = function () {\n        return this.freezeTable;\n    };\n    /**\n     * @param {Column} column - specifies the column\n     * @returns {void}\n     * @hidden\n     */\n    Column.prototype.setProperties = function (column) {\n        //Angular two way binding\n        var keys = Object.keys(column);\n        for (var i = 0; i < keys.length; i++) {\n            this[keys[i]] = column[keys[i]];\n            //Refresh the react columnTemplates on state change\n            if (this.parent && this.parent.isReact) {\n                if (keys[i] === 'template') {\n                    this.parent.refreshReactColumnTemplateByUid(this.uid);\n                }\n                else if (keys[i] === 'headerTemplate') {\n                    this.headerTemplateFn = templateCompiler(column[keys[i]]);\n                    this.parent.refreshReactHeaderTemplateByUid(this.uid);\n                }\n            }\n        }\n    };\n    /**\n     * @returns {boolean} returns true for foreign column\n     * @hidden\n     * It defines the column is foreign key column or not.\n     */\n    Column.prototype.isForeignColumn = function () {\n        return !!(this.dataSource && this.foreignKeyValue);\n    };\n    /**\n     * @returns {Function} returns the function\n     * @hidden\n     */\n    Column.prototype.getFormatter = function () {\n        return this.formatFn;\n    };\n    /**\n     * @param {Function} value - specifies the value\n     * @returns {void}\n     * @hidden\n     */\n    Column.prototype.setFormatter = function (value) {\n        this.formatFn = value;\n    };\n    /**\n     * @returns {Function} returns the function\n     * @hidden */\n    Column.prototype.getParser = function () {\n        return this.parserFn;\n    };\n    /**\n     * @param {Function} value - specifies the value\n     * @returns {void}\n     * @hidden\n     */\n    Column.prototype.setParser = function (value) {\n        this.parserFn = value;\n    };\n    /**\n     * @returns {Function} returns the function\n     * @hidden */\n    Column.prototype.getColumnTemplate = function () {\n        return this.templateFn;\n    };\n    /**\n     * @returns {Function} returns the function\n     * @hidden */\n    Column.prototype.getHeaderTemplate = function () {\n        return this.headerTemplateFn;\n    };\n    /**\n     * @returns {Function} returns the function\n     * @hidden */\n    Column.prototype.getFilterItemTemplate = function () {\n        return this.fltrTemplateFn;\n    };\n    /**\n     * @returns {string} returns the string\n     * @hidden */\n    Column.prototype.getDomSetter = function () {\n        return this.disableHtmlEncode ? 'textContent' : 'innerHTML';\n    };\n    return Column;\n}());\nexport { Column };\n/**\n * Define options for custom command buttons.\n */\nvar CommandColumnModel = /** @class */ (function () {\n    function CommandColumnModel() {\n    }\n    __decorate([\n        Property()\n    ], CommandColumnModel.prototype, \"title\", void 0);\n    __decorate([\n        Property()\n    ], CommandColumnModel.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], CommandColumnModel.prototype, \"buttonOption\", void 0);\n    return CommandColumnModel;\n}());\nexport { CommandColumnModel };\n/**\n * Defines Grid column\n */\nvar GridColumn = /** @class */ (function (_super) {\n    __extends(GridColumn, _super);\n    function GridColumn() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], GridColumn.prototype, \"columns\", void 0);\n    return GridColumn;\n}(Column));\nexport { GridColumn };\n/**\n * Defines stacked grid column\n */\nvar StackedColumn = /** @class */ (function (_super) {\n    __extends(StackedColumn, _super);\n    function StackedColumn() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return StackedColumn;\n}(GridColumn));\nexport { StackedColumn };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Row } from '../models/row';\nimport { Column } from '../models/column';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { calculateAggregate, getUid } from '../base/util';\nimport { CellType } from '../base/enum';\nimport { Cell } from '../models/cell';\n/**\n * Summary row model generator\n *\n * @hidden\n */\nvar SummaryModelGenerator = /** @class */ (function () {\n    /**\n     * Constructor for Summary row model generator\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     */\n    function SummaryModelGenerator(parent) {\n        this.parent = parent;\n    }\n    SummaryModelGenerator.prototype.getData = function () {\n        var _this = this;\n        var rows = [];\n        var row = this.parent.aggregates.slice();\n        for (var i = 0; i < row.length; i++) {\n            var columns = row[i].columns.filter(function (column) {\n                return !(column.footerTemplate || column.groupFooterTemplate || column.groupCaptionTemplate)\n                    || _this.columnSelector(column);\n            });\n            if (columns.length) {\n                rows.push({ columns: columns });\n            }\n        }\n        return rows;\n    };\n    SummaryModelGenerator.prototype.columnSelector = function (column) {\n        return column.footerTemplate !== undefined;\n    };\n    SummaryModelGenerator.prototype.getColumns = function (start, end) {\n        var columns = [];\n        if (this.parent.allowGrouping) {\n            for (var i = 0; i < this.parent.groupSettings.columns.length; i++) {\n                columns.push(new Column({}));\n            }\n        }\n        if (this.parent.detailTemplate || !isNullOrUndefined(this.parent.childGrid)) {\n            columns.push(new Column({}));\n        }\n        if (this.parent.isRowDragable() && !start) {\n            columns.push(new Column({}));\n        }\n        columns.push.apply(columns, this.parent.getColumns());\n        end = end && !start ? end + this.parent.getIndentCount() : end;\n        return isNullOrUndefined(start) ? columns : columns.slice(start, end);\n    };\n    SummaryModelGenerator.prototype.generateRows = function (input, args, start, end, columns) {\n        if (input.length === 0) {\n            if (args === undefined || !args.count) {\n                return [];\n            }\n        }\n        var data = this.buildSummaryData(input, args);\n        var rows = [];\n        var row = this.getData();\n        for (var i = 0; i < row.length; i++) {\n            rows.push(this.getGeneratedRow(row[i], data[i], args ? args.level : undefined, start, end, args ? args.parentUid : undefined, columns));\n        }\n        return rows;\n    };\n    SummaryModelGenerator.prototype.getGeneratedRow = function (summaryRow, data, raw, start, end, parentUid, columns) {\n        var tmp = [];\n        var indents = this.getIndentByLevel();\n        var isDetailGridAlone = !isNullOrUndefined(this.parent.childGrid);\n        var indentLength = !start ? this.parent.getIndentCount() : 0;\n        if (this.parent.isRowDragable() && !start) {\n            indents = ['e-indentcelltop'];\n        }\n        var values = columns ? columns : this.getColumns(start, end);\n        for (var i = 0; i < values.length; i++) {\n            tmp.push(this.getGeneratedCell(values[i], summaryRow, i >= indentLength ? this.getCellType() :\n                i < this.parent.groupSettings.columns.length ? CellType.Indent : CellType.DetailFooterIntent, indents[i], isDetailGridAlone));\n        }\n        var row = new Row({ data: data, attributes: { class: 'e-summaryrow' } });\n        row.cells = tmp;\n        row.uid = getUid('grid-row');\n        row.parentUid = parentUid;\n        row.isAggregateRow = true;\n        row.visible = tmp.some(function (cell) { return cell.isDataCell && cell.visible; });\n        return row;\n    };\n    SummaryModelGenerator.prototype.getGeneratedCell = function (column, summaryRow, cellType, indent, isDetailGridAlone) {\n        //Get the summary column by display\n        var sColumn = summaryRow.columns.filter(function (scolumn) { return scolumn.columnName === column.field; })[0];\n        var attrs = {\n            'style': { 'textAlign': column.textAlign },\n            'e-mappinguid': column.uid, index: column.index\n        };\n        if (indent) {\n            attrs.class = indent;\n        }\n        if (isNullOrUndefined(indent) && isDetailGridAlone) {\n            attrs.class = 'e-detailindentcelltop';\n        }\n        var opt = {\n            'visible': column.visible,\n            'isDataCell': !isNullOrUndefined(sColumn),\n            'isTemplate': sColumn && !isNullOrUndefined(sColumn.footerTemplate\n                || sColumn.groupFooterTemplate || sColumn.groupCaptionTemplate),\n            'column': sColumn || {},\n            'attributes': attrs,\n            'cellType': cellType\n        };\n        opt.column.headerText = column.headerText;\n        return new Cell(opt);\n    };\n    SummaryModelGenerator.prototype.buildSummaryData = function (data, args) {\n        var dummy = [];\n        var summaryRows = this.getData();\n        var single = {};\n        for (var i = 0; i < summaryRows.length; i++) {\n            single = {};\n            var column = summaryRows[i].columns;\n            for (var j = 0; j < column.length; j++) {\n                single = this.setTemplate(column[j], (args && args.aggregates) ? args : data, single);\n            }\n            dummy.push(single);\n        }\n        return dummy;\n    };\n    SummaryModelGenerator.prototype.getIndentByLevel = function () {\n        return this.parent.groupSettings.columns.map(function () { return 'e-indentcelltop'; });\n    };\n    SummaryModelGenerator.prototype.setTemplate = function (column, data, single) {\n        var types = column.type;\n        var helper = {};\n        var formatFn = column.getFormatter() || (function () { return function (a) { return a; }; })();\n        var group = data;\n        if (!(types instanceof Array)) {\n            types = [column.type];\n        }\n        for (var i = 0; i < types.length; i++) {\n            var key = column.field + ' - ' + types[i].toLowerCase();\n            var disp = column.columnName;\n            var val = types[i] !== 'Custom' && group.aggregates && key in group.aggregates ? group.aggregates[key] :\n                calculateAggregate(types[i], group.aggregates ? group : data, column, this.parent);\n            single[disp] = single[disp] || {};\n            single[disp][key] = val;\n            single[disp][types[i]] = !isNullOrUndefined(val) ? formatFn(val) : ' ';\n            if (group.field) {\n                single[disp].field = group.field;\n                single[disp].key = group.key;\n            }\n        }\n        helper.format = column.getFormatter();\n        column.setTemplate(helper);\n        return single;\n    };\n    SummaryModelGenerator.prototype.getCellType = function () {\n        return CellType.Summary;\n    };\n    return SummaryModelGenerator;\n}());\nexport { SummaryModelGenerator };\nvar GroupSummaryModelGenerator = /** @class */ (function (_super) {\n    __extends(GroupSummaryModelGenerator, _super);\n    function GroupSummaryModelGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GroupSummaryModelGenerator.prototype.columnSelector = function (column) {\n        return column.groupFooterTemplate !== undefined;\n    };\n    GroupSummaryModelGenerator.prototype.getIndentByLevel = function (level) {\n        if (level === void 0) { level = this.parent.groupSettings.columns.length; }\n        return this.parent.groupSettings.columns.map(function (v, indx) { return indx <= level - 1 ? '' : 'e-indentcelltop'; });\n    };\n    GroupSummaryModelGenerator.prototype.getCellType = function () {\n        return CellType.GroupSummary;\n    };\n    return GroupSummaryModelGenerator;\n}(SummaryModelGenerator));\nexport { GroupSummaryModelGenerator };\nvar CaptionSummaryModelGenerator = /** @class */ (function (_super) {\n    __extends(CaptionSummaryModelGenerator, _super);\n    function CaptionSummaryModelGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CaptionSummaryModelGenerator.prototype.columnSelector = function (column) {\n        return column.groupCaptionTemplate !== undefined;\n    };\n    CaptionSummaryModelGenerator.prototype.getData = function () {\n        var initVal = { columns: [] };\n        return [_super.prototype.getData.call(this).reduce(function (prev, cur) {\n                prev.columns = prev.columns.concat(cur.columns);\n                return prev;\n            }, initVal)];\n    };\n    CaptionSummaryModelGenerator.prototype.isEmpty = function () {\n        return (this.getData()[0].columns || []).length === 0;\n    };\n    CaptionSummaryModelGenerator.prototype.getCellType = function () {\n        return CellType.CaptionSummary;\n    };\n    return CaptionSummaryModelGenerator;\n}(SummaryModelGenerator));\nexport { CaptionSummaryModelGenerator };\n","import { Ajax } from '@syncfusion/ej2-base';\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { DataUtil } from './util';\nimport { Query } from './query';\nimport { ODataAdaptor, JsonAdaptor, CacheAdaptor, RemoteSaveAdaptor, CustomDataAdaptor } from './adaptors';\n/**\n * DataManager is used to manage and manipulate relational data.\n */\nvar DataManager = /** @class */ (function () {\n    /**\n     * Constructor for DataManager class\n     * @param  {DataOptions|JSON[]} dataSource?\n     * @param  {Query} query?\n     * @param  {AdaptorOptions|string} adaptor?\n     * @hidden\n     */\n    function DataManager(dataSource, query, adaptor) {\n        var _this = this;\n        /** @hidden */\n        this.dateParse = true;\n        /** @hidden */\n        this.timeZoneHandling = true;\n        this.requests = [];\n        if (!dataSource && !this.dataSource) {\n            dataSource = [];\n        }\n        adaptor = adaptor || dataSource.adaptor;\n        if (dataSource && dataSource.timeZoneHandling === false) {\n            this.timeZoneHandling = dataSource.timeZoneHandling;\n        }\n        var data;\n        if (dataSource instanceof Array) {\n            data = {\n                json: dataSource,\n                offline: true\n            };\n        }\n        else if (typeof dataSource === 'object') {\n            if (!dataSource.json) {\n                dataSource.json = [];\n            }\n            data = {\n                url: dataSource.url,\n                insertUrl: dataSource.insertUrl,\n                removeUrl: dataSource.removeUrl,\n                updateUrl: dataSource.updateUrl,\n                crudUrl: dataSource.crudUrl,\n                batchUrl: dataSource.batchUrl,\n                json: dataSource.json,\n                headers: dataSource.headers,\n                accept: dataSource.accept,\n                data: dataSource.data,\n                timeTillExpiration: dataSource.timeTillExpiration,\n                cachingPageSize: dataSource.cachingPageSize,\n                enableCaching: dataSource.enableCaching,\n                requestType: dataSource.requestType,\n                key: dataSource.key,\n                crossDomain: dataSource.crossDomain,\n                jsonp: dataSource.jsonp,\n                dataType: dataSource.dataType,\n                offline: dataSource.offline !== undefined ? dataSource.offline\n                    : dataSource.adaptor instanceof RemoteSaveAdaptor || dataSource.adaptor instanceof CustomDataAdaptor ?\n                        false : dataSource.url ? false : true,\n                requiresFormat: dataSource.requiresFormat\n            };\n        }\n        else {\n            DataUtil.throwError('DataManager: Invalid arguments');\n        }\n        if (data.requiresFormat === undefined && !DataUtil.isCors()) {\n            data.requiresFormat = isNullOrUndefined(data.crossDomain) ? true : data.crossDomain;\n        }\n        if (data.dataType === undefined) {\n            data.dataType = 'json';\n        }\n        this.dataSource = data;\n        this.defaultQuery = query;\n        if (data.url && data.offline && !data.json.length) {\n            this.isDataAvailable = false;\n            this.adaptor = adaptor || new ODataAdaptor();\n            this.dataSource.offline = false;\n            this.ready = this.executeQuery(query || new Query());\n            this.ready.then(function (e) {\n                _this.dataSource.offline = true;\n                _this.isDataAvailable = true;\n                data.json = e.result;\n                _this.adaptor = new JsonAdaptor();\n            });\n        }\n        else {\n            this.adaptor = data.offline ? new JsonAdaptor() : new ODataAdaptor();\n        }\n        if (!data.jsonp && this.adaptor instanceof ODataAdaptor) {\n            data.jsonp = 'callback';\n        }\n        this.adaptor = adaptor || this.adaptor;\n        if (data.enableCaching) {\n            this.adaptor = new CacheAdaptor(this.adaptor, data.timeTillExpiration, data.cachingPageSize);\n        }\n        return this;\n    }\n    /**\n     * Overrides DataManager's default query with given query.\n     * @param  {Query} query - Defines the new default query.\n     */\n    DataManager.prototype.setDefaultQuery = function (query) {\n        this.defaultQuery = query;\n        return this;\n    };\n    /**\n     * Executes the given query with local data source.\n     * @param  {Query} query - Defines the query to retrieve data.\n     */\n    DataManager.prototype.executeLocal = function (query) {\n        if (!this.defaultQuery && !(query instanceof Query)) {\n            DataUtil.throwError('DataManager - executeLocal() : A query is required to execute');\n        }\n        if (!this.dataSource.json) {\n            DataUtil.throwError('DataManager - executeLocal() : Json data is required to execute');\n        }\n        query = query || this.defaultQuery;\n        var result = this.adaptor.processQuery(this, query);\n        if (query.subQuery) {\n            var from = query.subQuery.fromTable;\n            var lookup = query.subQuery.lookups;\n            var res = query.isCountRequired ? result.result :\n                result;\n            if (lookup && lookup instanceof Array) {\n                DataUtil.buildHierarchy(query.subQuery.fKey, from, res, lookup, query.subQuery.key);\n            }\n            for (var j = 0; j < res.length; j++) {\n                if (res[j][from] instanceof Array) {\n                    res[j] = extend({}, {}, res[j]);\n                    res[j][from] = this.adaptor.processResponse(query.subQuery.using(new DataManager(res[j][from].slice(0))).executeLocal(), this, query);\n                }\n            }\n        }\n        return this.adaptor.processResponse(result, this, query);\n    };\n    /**\n     * Executes the given query with either local or remote data source.\n     * It will be executed as asynchronously and returns Promise object which will be resolved or rejected after action completed.\n     * @param  {Query|Function} query - Defines the query to retrieve data.\n     * @param  {Function} done - Defines the callback function and triggers when the Promise is resolved.\n     * @param  {Function} fail - Defines the callback function and triggers when the Promise is rejected.\n     * @param  {Function} always - Defines the callback function and triggers when the Promise is resolved or rejected.\n     */\n    DataManager.prototype.executeQuery = function (query, done, fail, always) {\n        var _this = this;\n        var makeRequest = 'makeRequest';\n        if (typeof query === 'function') {\n            always = fail;\n            fail = done;\n            done = query;\n            query = null;\n        }\n        if (!query) {\n            query = this.defaultQuery;\n        }\n        if (!(query instanceof Query)) {\n            DataUtil.throwError('DataManager - executeQuery() : A query is required to execute');\n        }\n        var deffered = new Deferred();\n        var args = { query: query };\n        if (!this.dataSource.offline && (this.dataSource.url !== undefined && this.dataSource.url !== '')\n            || (!isNullOrUndefined(this.adaptor[makeRequest])) || this.isCustomDataAdaptor(this.adaptor)) {\n            var result = this.adaptor.processQuery(this, query);\n            if (!isNullOrUndefined(this.adaptor[makeRequest])) {\n                this.adaptor[makeRequest](result, deffered, args, query);\n            }\n            else if (!isNullOrUndefined(result.url) || this.isCustomDataAdaptor(this.adaptor)) {\n                this.makeRequest(result, deffered, args, query);\n            }\n            else {\n                args = DataManager.getDeferedArgs(query, result, args);\n                deffered.resolve(args);\n            }\n        }\n        else {\n            DataManager.nextTick(function () {\n                var res = _this.executeLocal(query);\n                args = DataManager.getDeferedArgs(query, res, args);\n                deffered.resolve(args);\n            });\n        }\n        if (done || fail) {\n            deffered.promise.then(done, fail);\n        }\n        if (always) {\n            deffered.promise.then(always, always);\n        }\n        return deffered.promise;\n    };\n    DataManager.getDeferedArgs = function (query, result, args) {\n        if (query.isCountRequired) {\n            args.result = result.result;\n            args.count = result.count;\n            args.aggregates = result.aggregates;\n        }\n        else {\n            args.result = result;\n        }\n        return args;\n    };\n    DataManager.nextTick = function (fn) {\n        (window.setImmediate || window.setTimeout)(fn, 0);\n    };\n    DataManager.prototype.extendRequest = function (url, fnSuccess, fnFail) {\n        return extend({}, {\n            type: 'GET',\n            dataType: this.dataSource.dataType,\n            crossDomain: this.dataSource.crossDomain,\n            jsonp: this.dataSource.jsonp,\n            cache: true,\n            processData: false,\n            onSuccess: fnSuccess,\n            onFailure: fnFail\n        }, url);\n    };\n    // tslint:disable-next-line:max-func-body-length\n    DataManager.prototype.makeRequest = function (url, deffered, args, query) {\n        var _this = this;\n        var isSelector = !!query.subQuerySelector;\n        var fnFail = function (e) {\n            args.error = e;\n            deffered.reject(args);\n        };\n        var process = function (data, count, xhr, request, actual, aggregates, virtualSelectRecords) {\n            args.xhr = xhr;\n            args.count = count ? parseInt(count.toString(), 10) : 0;\n            args.result = data;\n            args.request = request;\n            args.aggregates = aggregates;\n            args.actual = actual;\n            args.virtualSelectRecords = virtualSelectRecords;\n            deffered.resolve(args);\n        };\n        var fnQueryChild = function (data, selector) {\n            var subDeffer = new Deferred();\n            var childArgs = { parent: args };\n            query.subQuery.isChild = true;\n            var subUrl = _this.adaptor.processQuery(_this, query.subQuery, data ? _this.adaptor.processResponse(data) : selector);\n            var childReq = _this.makeRequest(subUrl, subDeffer, childArgs, query.subQuery);\n            if (!isSelector) {\n                subDeffer.then(function (subData) {\n                    if (data) {\n                        DataUtil.buildHierarchy(query.subQuery.fKey, query.subQuery.fromTable, data, subData, query.subQuery.key);\n                        process(data, subData.count, subData.xhr);\n                    }\n                }, fnFail);\n            }\n            return childReq;\n        };\n        var fnSuccess = function (data, request) {\n            if (_this.isGraphQLAdaptor(_this.adaptor)) {\n                if (!isNullOrUndefined(data['errors'])) {\n                    return fnFail(data['errors'], request);\n                }\n            }\n            if (_this.isCustomDataAdaptor(_this.adaptor)) {\n                request = extend({}, _this.ajaxReqOption, request);\n            }\n            if (request.httpRequest.getResponseHeader('Content-Type').indexOf('xml') === -1 && _this.dateParse) {\n                data = DataUtil.parse.parseJson(data);\n            }\n            var result = _this.adaptor.processResponse(data, _this, query, request.httpRequest, request);\n            var count = 0;\n            var aggregates = null;\n            var virtualSelectRecords = 'virtualSelectRecords';\n            var virtualRecords = data[virtualSelectRecords];\n            if (query.isCountRequired) {\n                count = result.count;\n                aggregates = result.aggregates;\n                result = result.result;\n            }\n            if (!query.subQuery) {\n                process(result, count, request.httpRequest, request.type, data, aggregates, virtualRecords);\n                return;\n            }\n            if (!isSelector) {\n                fnQueryChild(result, request);\n            }\n        };\n        var req = this.extendRequest(url, fnSuccess, fnFail);\n        if (!this.isCustomDataAdaptor(this.adaptor)) {\n            var ajax_1 = new Ajax(req);\n            ajax_1.beforeSend = function () {\n                _this.beforeSend(ajax_1.httpRequest, ajax_1);\n            };\n            req = ajax_1.send();\n            req.catch(function (e) { return true; }); // to handle failure remote requests.        \n            this.requests.push(ajax_1);\n        }\n        else {\n            this.ajaxReqOption = req;\n            var request = req;\n            this.adaptor.options.getData({\n                data: request.data,\n                onSuccess: request.onSuccess, onFailure: request.onFailure\n            });\n        }\n        if (isSelector) {\n            var promise = void 0;\n            var res = query.subQuerySelector.call(this, { query: query.subQuery, parent: query });\n            if (res && res.length) {\n                promise = Promise.all([req, fnQueryChild(null, res)]);\n                promise.then(function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i] = arguments[_i];\n                    }\n                    var result = args[0];\n                    var pResult = _this.adaptor.processResponse(result[0], _this, query, _this.requests[0].httpRequest, _this.requests[0]);\n                    var count = 0;\n                    if (query.isCountRequired) {\n                        count = pResult.count;\n                        pResult = pResult.result;\n                    }\n                    var cResult = _this.adaptor.processResponse(result[1], _this, query.subQuery, _this.requests[1].httpRequest, _this.requests[1]);\n                    count = 0;\n                    if (query.subQuery.isCountRequired) {\n                        count = cResult.count;\n                        cResult = cResult.result;\n                    }\n                    DataUtil.buildHierarchy(query.subQuery.fKey, query.subQuery.fromTable, pResult, cResult, query.subQuery.key);\n                    isSelector = false;\n                    process(pResult, count, _this.requests[0].httpRequest);\n                });\n            }\n            else {\n                isSelector = false;\n            }\n        }\n        return req;\n    };\n    DataManager.prototype.beforeSend = function (request, settings) {\n        this.adaptor.beforeSend(this, request, settings);\n        var headers = this.dataSource.headers;\n        var props;\n        for (var i = 0; headers && i < headers.length; i++) {\n            props = [];\n            var keys = Object.keys(headers[i]);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var prop = keys_1[_i];\n                props.push(prop);\n                request.setRequestHeader(prop, headers[i][prop]);\n            }\n        }\n    };\n    /**\n     * Save bulk changes to the given table name.\n     * User can add a new record, edit an existing record, and delete a record at the same time.\n     * If the datasource from remote, then updated in a single post.\n     * @param  {Object} changes - Defines the CrudOptions.\n     * @param  {string} key - Defines the column field.\n     * @param  {string|Query} tableName - Defines the table name.\n     * @param  {Query} query - Sets default query for the DataManager.\n     */\n    DataManager.prototype.saveChanges = function (changes, key, tableName, query, original) {\n        var _this = this;\n        if (tableName instanceof Query) {\n            query = tableName;\n            tableName = null;\n        }\n        var args = {\n            url: tableName,\n            key: key || this.dataSource.key\n        };\n        var req = this.adaptor.batchRequest(this, changes, args, query || new Query(), original);\n        var doAjaxRequest = 'doAjaxRequest';\n        if (this.dataSource.offline) {\n            return req;\n        }\n        if (!isNullOrUndefined(this.adaptor[doAjaxRequest])) {\n            return this.adaptor[doAjaxRequest](req);\n        }\n        else if (!this.isCustomDataAdaptor(this.adaptor)) {\n            var deff_1 = new Deferred();\n            var ajax_2 = new Ajax(req);\n            ajax_2.beforeSend = function () {\n                _this.beforeSend(ajax_2.httpRequest, ajax_2);\n            };\n            ajax_2.onSuccess = function (data, request) {\n                if (_this.isGraphQLAdaptor(_this.adaptor)) {\n                    if (!isNullOrUndefined(data['errors'])) {\n                        ajax_2.onFailure(JSON.stringify(data['errors']));\n                    }\n                }\n                deff_1.resolve(_this.adaptor.processResponse(data, _this, null, request.httpRequest, request, changes, args));\n            };\n            ajax_2.onFailure = function (e) {\n                deff_1.reject([{ error: e }]);\n            };\n            ajax_2.send().catch(function (e) { return true; }); // to handle the failure requests.        \n            return deff_1.promise;\n        }\n        else {\n            return this.doAjaxRequest(req, this.adaptor.options.batchUpdate);\n        }\n    };\n    /**\n     * Inserts new record in the given table.\n     * @param  {Object} data - Defines the data to insert.\n     * @param  {string|Query} tableName - Defines the table name.\n     * @param  {Query} query - Sets default query for the DataManager.\n     */\n    DataManager.prototype.insert = function (data, tableName, query, position) {\n        if (tableName instanceof Query) {\n            query = tableName;\n            tableName = null;\n        }\n        var req = this.adaptor.insert(this, data, tableName, query, position);\n        var doAjaxRequest = 'doAjaxRequest';\n        if (this.dataSource.offline) {\n            return req;\n        }\n        if (!isNullOrUndefined(this.adaptor[doAjaxRequest])) {\n            return this.adaptor[doAjaxRequest](req);\n        }\n        else {\n            return this.doAjaxRequest(req, this.adaptor.options.addRecord);\n        }\n    };\n    /**\n     * Removes data from the table with the given key.\n     * @param  {string} keyField - Defines the column field.\n     * @param  {Object} value - Defines the value to find the data in the specified column.\n     * @param  {string|Query} tableName - Defines the table name\n     * @param  {Query} query - Sets default query for the DataManager.\n     */\n    DataManager.prototype.remove = function (keyField, value, tableName, query) {\n        if (typeof value === 'object') {\n            value = DataUtil.getObject(keyField, value);\n        }\n        if (tableName instanceof Query) {\n            query = tableName;\n            tableName = null;\n        }\n        var res = this.adaptor.remove(this, keyField, value, tableName, query);\n        var doAjaxRequest = 'doAjaxRequest';\n        if (this.dataSource.offline) {\n            return res;\n        }\n        if (!isNullOrUndefined(this.adaptor[doAjaxRequest])) {\n            return this.adaptor[doAjaxRequest](res);\n        }\n        else {\n            var remove = this.adaptor.options.deleteRecord;\n            return this.doAjaxRequest(res, remove);\n        }\n    };\n    /**\n     * Updates existing record in the given table.\n     * @param  {string} keyField - Defines the column field.\n     * @param  {Object} value - Defines the value to find the data in the specified column.\n     * @param  {string|Query} tableName - Defines the table name\n     * @param  {Query} query - Sets default query for the DataManager.\n     */\n    DataManager.prototype.update = function (keyField, value, tableName, query, original) {\n        if (tableName instanceof Query) {\n            query = tableName;\n            tableName = null;\n        }\n        var res = this.adaptor.update(this, keyField, value, tableName, query, original);\n        var doAjaxRequest = 'doAjaxRequest';\n        if (this.dataSource.offline) {\n            return res;\n        }\n        if (!isNullOrUndefined(this.adaptor[doAjaxRequest])) {\n            return this.adaptor[doAjaxRequest](res);\n        }\n        else {\n            var update = this.adaptor.options.updateRecord;\n            return this.doAjaxRequest(res, update);\n        }\n    };\n    DataManager.prototype.isCustomDataAdaptor = function (dataSource) {\n        return this.adaptor.getModuleName &&\n            this.adaptor.getModuleName() === 'CustomDataAdaptor';\n    };\n    DataManager.prototype.isGraphQLAdaptor = function (dataSource) {\n        return this.adaptor.getModuleName &&\n            this.adaptor.getModuleName() === 'GraphQLAdaptor';\n    };\n    DataManager.prototype.successFunc = function (record, request) {\n        if (this.isGraphQLAdaptor(this.adaptor)) {\n            var data = JSON.parse(record);\n            if (!isNullOrUndefined(data['errors'])) {\n                this.failureFunc(JSON.stringify(data['errors']));\n            }\n        }\n        if (this.isCustomDataAdaptor(this.adaptor)) {\n            request = extend({}, this.ajaxReqOption, request);\n        }\n        try {\n            DataUtil.parse.parseJson(record);\n        }\n        catch (e) {\n            record = [];\n        }\n        record = this.adaptor.processResponse(DataUtil.parse.parseJson(record), this, null, request.httpRequest, request);\n        this.ajaxDeffered.resolve(record);\n    };\n    ;\n    DataManager.prototype.failureFunc = function (e) {\n        this.ajaxDeffered.reject([{ error: e }]);\n    };\n    ;\n    DataManager.prototype.doAjaxRequest = function (res, ajaxFunc) {\n        var _this = this;\n        res = extend({}, {\n            type: 'POST',\n            contentType: 'application/json; charset=utf-8',\n            processData: false\n        }, res);\n        this.ajaxDeffered = new Deferred();\n        if (!this.isCustomDataAdaptor(this.adaptor)) {\n            var ajax_3 = new Ajax(res);\n            ajax_3.beforeSend = function () {\n                _this.beforeSend(ajax_3.httpRequest, ajax_3);\n            };\n            ajax_3.onSuccess = this.successFunc.bind(this);\n            ajax_3.onFailure = this.failureFunc.bind(this);\n            ajax_3.send().catch(function (e) { return true; }); // to handle the failure requests.\n        }\n        else {\n            this.ajaxReqOption = res;\n            ajaxFunc.call(this, {\n                data: res.data, onSuccess: this.successFunc.bind(this),\n                onFailure: this.failureFunc.bind(this)\n            });\n        }\n        return this.ajaxDeffered.promise;\n    };\n    return DataManager;\n}());\nexport { DataManager };\n/**\n * Deferred is used to handle asynchronous operation.\n */\nvar Deferred = /** @class */ (function () {\n    function Deferred() {\n        var _this = this;\n        /**\n         * Promise is an object that represents a value that may not be available yet, but will be resolved at some point in the future.\n         */\n        this.promise = new Promise(function (resolve, reject) {\n            _this.resolve = resolve;\n            _this.reject = reject;\n        });\n        /**\n         * Defines the callback function triggers when the Deferred object is resolved.\n         */\n        this.then = this.promise.then.bind(this.promise);\n        /**\n         * Defines the callback function triggers when the Deferred object is rejected.\n         */\n        this.catch = this.promise.catch.bind(this.promise);\n    }\n    return Deferred;\n}());\nexport { Deferred };\n","/**\n * Collision module.\n */\nimport { calculatePosition } from './position';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nvar parentDocument;\nvar targetContainer;\n/**\n *\n * @param {HTMLElement} element - specifies the element\n * @param {HTMLElement} viewPortElement - specifies the element\n * @param {CollisionCoordinates} axis - specifies the collision coordinates\n * @param {OffsetPosition} position - specifies the position\n * @returns {void}\n */\nexport function fit(element, viewPortElement, axis, position) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    if (axis === void 0) { axis = { X: false, Y: false }; }\n    if (!axis.Y && !axis.X) {\n        return { left: 0, top: 0 };\n    }\n    var elemData = element.getBoundingClientRect();\n    targetContainer = viewPortElement;\n    parentDocument = element.ownerDocument;\n    if (!position) {\n        position = calculatePosition(element, 'left', 'top');\n    }\n    if (axis.X) {\n        var containerWidth = targetContainer ? getTargetContainerWidth() : getViewPortWidth();\n        var containerLeft = ContainerLeft();\n        var containerRight = ContainerRight();\n        var overLeft = containerLeft - position.left;\n        var overRight = position.left + elemData.width - containerRight;\n        if (elemData.width > containerWidth) {\n            if (overLeft > 0 && overRight <= 0) {\n                position.left = containerRight - elemData.width;\n            }\n            else if (overRight > 0 && overLeft <= 0) {\n                position.left = containerLeft;\n            }\n            else {\n                position.left = overLeft > overRight ? (containerRight - elemData.width) : containerLeft;\n            }\n        }\n        else if (overLeft > 0) {\n            position.left += overLeft;\n        }\n        else if (overRight > 0) {\n            position.left -= overRight;\n        }\n    }\n    if (axis.Y) {\n        var containerHeight = targetContainer ? getTargetContainerHeight() : getViewPortHeight();\n        var containerTop = ContainerTop();\n        var containerBottom = ContainerBottom();\n        var overTop = containerTop - position.top;\n        var overBottom = position.top + elemData.height - containerBottom;\n        if (elemData.height > containerHeight) {\n            if (overTop > 0 && overBottom <= 0) {\n                position.top = containerBottom - elemData.height;\n            }\n            else if (overBottom > 0 && overTop <= 0) {\n                position.top = containerTop;\n            }\n            else {\n                position.top = overTop > overBottom ? (containerBottom - elemData.height) : containerTop;\n            }\n        }\n        else if (overTop > 0) {\n            position.top += overTop;\n        }\n        else if (overBottom > 0) {\n            position.top -= overBottom;\n        }\n    }\n    return position;\n}\n/**\n *\n * @param {HTMLElement} element - specifies the html element\n * @param {HTMLElement} viewPortElement - specifies the html element\n * @param {number} x - specifies the number\n * @param {number} y - specifies the number\n * @returns {string[]} - returns the string value\n */\nexport function isCollide(element, viewPortElement, x, y) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    var elemOffset = calculatePosition(element, 'left', 'top');\n    if (x) {\n        elemOffset.left = x;\n    }\n    if (y) {\n        elemOffset.top = y;\n    }\n    var data = [];\n    targetContainer = viewPortElement;\n    parentDocument = element.ownerDocument;\n    var elementRect = element.getBoundingClientRect();\n    var top = elemOffset.top;\n    var left = elemOffset.left;\n    var right = elemOffset.left + elementRect.width;\n    var bottom = elemOffset.top + elementRect.height;\n    // eslint-disable-next-line\n    var topData = '', leftData = '';\n    var yAxis = topCollideCheck(top, bottom);\n    var xAxis = leftCollideCheck(left, right);\n    if (yAxis.topSide) {\n        data.push('top');\n    }\n    if (xAxis.rightSide) {\n        data.push('right');\n    }\n    if (xAxis.leftSide) {\n        data.push('left');\n    }\n    if (yAxis.bottomSide) {\n        data.push('bottom');\n    }\n    return data;\n}\n/**\n *\n * @param {HTMLElement} element - specifies the element\n * @param {HTMLElement} target - specifies the element\n * @param {number} offsetX - specifies the number\n * @param {number} offsetY - specifies the number\n * @param {string} positionX - specifies the string value\n * @param {string} positionY - specifies the string value\n * @param {HTMLElement} viewPortElement - specifies the element\n * @param {CollisionCoordinates} axis - specifies the collision axis\n * @param {boolean} fixedParent - specifies the boolean\n * @returns {void}\n */\nexport function flip(element, target, offsetX, offsetY, positionX, positionY, viewPortElement, \n/* eslint-disable */\naxis, fixedParent) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    if (axis === void 0) { axis = { X: true, Y: true }; }\n    if (!target || !element || !positionX || !positionY || (!axis.X && !axis.Y)) {\n        return;\n    }\n    // eslint-disable-next-line\n    var tEdge = { TL: null,\n        TR: null,\n        BL: null,\n        BR: null\n    }, eEdge = {\n        TL: null,\n        TR: null,\n        BL: null,\n        BR: null\n        /* eslint-enable */\n    };\n    var elementRect;\n    if (window.getComputedStyle(element).display === 'none') {\n        var oldVisibility = element.style.visibility;\n        element.style.visibility = 'hidden';\n        element.style.display = 'block';\n        elementRect = element.getBoundingClientRect();\n        element.style.removeProperty('display');\n        element.style.visibility = oldVisibility;\n    }\n    else {\n        elementRect = element.getBoundingClientRect();\n    }\n    var pos = {\n        posX: positionX, posY: positionY, offsetX: offsetX, offsetY: offsetY, position: { left: 0, top: 0 }\n    };\n    targetContainer = viewPortElement;\n    parentDocument = target.ownerDocument;\n    updateElementData(target, tEdge, pos, fixedParent, elementRect);\n    setPosition(eEdge, pos, elementRect);\n    if (axis.X) {\n        leftFlip(target, eEdge, tEdge, pos, elementRect, true);\n    }\n    if (axis.Y && tEdge.TL.top > -1) {\n        topFlip(target, eEdge, tEdge, pos, elementRect, true);\n    }\n    setPopup(element, pos, elementRect);\n}\n/**\n *\n * @param {HTMLElement} element - specifies the element\n * @param {PositionLocation} pos - specifies the location\n * @param {ClientRect} elementRect - specifies the client rect\n * @returns {void}\n */\nfunction setPopup(element, pos, elementRect) {\n    //eslint-disable-next-line\n    var left = 0, top = 0;\n    if (element.offsetParent != null\n        && (getComputedStyle(element.offsetParent).position === 'absolute' ||\n            getComputedStyle(element.offsetParent).position === 'relative')) {\n        var data = calculatePosition(element.offsetParent, 'left', 'top', false, elementRect);\n        left = data.left;\n        top = data.top;\n    }\n    element.style.top = (pos.position.top + pos.offsetY - (top)) + 'px';\n    element.style.left = (pos.position.left + pos.offsetX - (left)) + 'px';\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {EdgeOffset} edge - specifies the offset\n * @param {PositionLocation} pos - specifies theloaction\n * @param {boolean} fixedParent - specifies the boolean\n * @param {ClientRect} elementRect - specifies the client rect\n * @returns {void}\n */\nfunction updateElementData(target, edge, pos, fixedParent, elementRect) {\n    pos.position = calculatePosition(target, pos.posX, pos.posY, fixedParent, elementRect);\n    edge.TL = calculatePosition(target, 'left', 'top', fixedParent, elementRect);\n    edge.TR = calculatePosition(target, 'right', 'top', fixedParent, elementRect);\n    edge.BR = calculatePosition(target, 'left', 'bottom', fixedParent, elementRect);\n    edge.BL = calculatePosition(target, 'right', 'bottom', fixedParent, elementRect);\n}\n/**\n *\n * @param {EdgeOffset} eStatus - specifies the status\n * @param {PositionLocation} pos - specifies the location\n * @param {ClientRect} elementRect - specifies the client\n * @returns {void}\n */\nfunction setPosition(eStatus, pos, elementRect) {\n    eStatus.TL = { top: pos.position.top + pos.offsetY, left: pos.position.left + pos.offsetX };\n    eStatus.TR = { top: eStatus.TL.top, left: eStatus.TL.left + elementRect.width };\n    eStatus.BL = { top: eStatus.TL.top + elementRect.height,\n        left: eStatus.TL.left };\n    eStatus.BR = { top: eStatus.TL.top + elementRect.height,\n        left: eStatus.TL.left + elementRect.width };\n}\n/**\n *\n * @param {number} left - specifies the  number\n * @param {number} right - specifies the number\n * @returns {LeftCorners} - returns the value\n */\nfunction leftCollideCheck(left, right) {\n    //eslint-disable-next-line\n    var leftSide = false, rightSide = false;\n    if (((left - getBodyScrollLeft()) < ContainerLeft())) {\n        leftSide = true;\n    }\n    if (right > ContainerRight()) {\n        rightSide = true;\n    }\n    return { leftSide: leftSide, rightSide: rightSide };\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {EdgeOffset} edge - specifes the element\n * @param {EdgeOffset} tEdge - specifies the edge offset\n * @param {PositionLocation} pos - specifes the location\n * @param {ClientRect} elementRect - specifies the client\n * @param {boolean} deepCheck - specifies the boolean value\n * @returns {void}\n */\nfunction leftFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n    var collideSide = leftCollideCheck(edge.TL.left, edge.TR.left);\n    if ((tEdge.TL.left - getBodyScrollLeft()) <= ContainerLeft()) {\n        collideSide.leftSide = false;\n    }\n    if (tEdge.TR.left > ContainerRight()) {\n        collideSide.rightSide = false;\n    }\n    if ((collideSide.leftSide && !collideSide.rightSide) || (!collideSide.leftSide && collideSide.rightSide)) {\n        if (pos.posX === 'right') {\n            pos.posX = 'left';\n        }\n        else {\n            pos.posX = 'right';\n        }\n        pos.offsetX = pos.offsetX + elementRect.width;\n        pos.offsetX = -1 * pos.offsetX;\n        pos.position = calculatePosition(target, pos.posX, pos.posY, false);\n        setPosition(edge, pos, elementRect);\n        if (deepCheck) {\n            leftFlip(target, edge, tEdge, pos, elementRect, false);\n        }\n    }\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {EdgeOffset} edge - specifies the offset\n * @param {EdgeOffset} tEdge - specifies the offset\n * @param {PositionLocation} pos - specifies the location\n * @param {ClientRect} elementRect - specifies the client rect\n * @param {boolean} deepCheck - specifies the boolean\n * @returns {void}\n */\nfunction topFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n    var collideSide = topCollideCheck(edge.TL.top, edge.BL.top);\n    if ((tEdge.TL.top - getBodyScrollTop()) <= ContainerTop()) {\n        collideSide.topSide = false;\n    }\n    if (tEdge.BL.top >= ContainerBottom() && target.getBoundingClientRect().bottom < window.innerHeight) {\n        collideSide.bottomSide = false;\n    }\n    if ((collideSide.topSide && !collideSide.bottomSide) || (!collideSide.topSide && collideSide.bottomSide)) {\n        if (pos.posY === 'top') {\n            pos.posY = 'bottom';\n        }\n        else {\n            pos.posY = 'top';\n        }\n        pos.offsetY = pos.offsetY + elementRect.height;\n        pos.offsetY = -1 * pos.offsetY;\n        pos.position = calculatePosition(target, pos.posX, pos.posY, false, elementRect);\n        setPosition(edge, pos, elementRect);\n        if (deepCheck) {\n            topFlip(target, edge, tEdge, pos, elementRect, false);\n        }\n    }\n}\n/**\n *\n * @param {number} top - specifies the number\n * @param {number} bottom - specifies the number\n * @returns {TopCorners} - retyrns the value\n */\nfunction topCollideCheck(top, bottom) {\n    //eslint-disable-next-line\n    var topSide = false, bottomSide = false;\n    if ((top - getBodyScrollTop()) < ContainerTop()) {\n        topSide = true;\n    }\n    if (bottom > ContainerBottom()) {\n        bottomSide = true;\n    }\n    return { topSide: topSide, bottomSide: bottomSide };\n}\n/**\n * @returns {void}\n */\nfunction getTargetContainerWidth() {\n    return targetContainer.getBoundingClientRect().width;\n}\n/**\n * @returns {void}\n */\nfunction getTargetContainerHeight() {\n    return targetContainer.getBoundingClientRect().height;\n}\n/**\n * @returns {void}\n */\nfunction getTargetContainerLeft() {\n    return targetContainer.getBoundingClientRect().left;\n}\n/**\n * @returns {void}\n */\nfunction getTargetContainerTop() {\n    return targetContainer.getBoundingClientRect().top;\n}\n//eslint-disable-next-line\nfunction ContainerTop() {\n    if (targetContainer) {\n        return getTargetContainerTop();\n    }\n    return 0;\n}\n//eslint-disable-next-line\nfunction ContainerLeft() {\n    if (targetContainer) {\n        return getTargetContainerLeft();\n    }\n    return 0;\n}\n//eslint-disable-next-line\nfunction ContainerRight() {\n    if (targetContainer) {\n        return (getBodyScrollLeft() + getTargetContainerLeft() + getTargetContainerWidth());\n    }\n    return (getBodyScrollLeft() + getViewPortWidth());\n}\n//eslint-disable-next-line\nfunction ContainerBottom() {\n    if (targetContainer) {\n        return (getBodyScrollTop() + getTargetContainerTop() + getTargetContainerHeight());\n    }\n    return (getBodyScrollTop() + getViewPortHeight());\n}\n/**\n * @returns {void}\n */\nfunction getBodyScrollTop() {\n    // if(targetContainer)\n    //     return targetContainer.scrollTop;\n    return parentDocument.documentElement.scrollTop || parentDocument.body.scrollTop;\n}\n/**\n * @returns {void}\n */\nfunction getBodyScrollLeft() {\n    // if(targetContainer)\n    //     return targetContainer.scrollLeft;\n    return parentDocument.documentElement.scrollLeft || parentDocument.body.scrollLeft;\n}\n/**\n * @returns {void}\n */\nfunction getViewPortHeight() {\n    return window.innerHeight;\n}\n/**\n * @returns {void}\n */\nfunction getViewPortWidth() {\n    var windowWidth = window.innerWidth;\n    var documentReact = document.documentElement.getBoundingClientRect();\n    var offsetWidth = (isNullOrUndefined(document.documentElement)) ? 0 : documentReact.width;\n    return windowWidth - (windowWidth - offsetWidth);\n}\n","/**\n * Position library\n */\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nvar elementRect;\nvar popupRect;\nvar element;\nvar parentDocument;\nvar fixedParent = false;\n/**\n *\n * @param {HTMLElement} anchor - specifies the element\n * @param {HTMLElement} element - specifies the element\n * @returns {OffsetPosition} - returns the value\n */\nexport function calculateRelativeBasedPosition(anchor, element) {\n    var fixedElement = false;\n    var anchorPos = { left: 0, top: 0 };\n    var tempAnchor = anchor;\n    if (!anchor || !element) {\n        return anchorPos;\n    }\n    if (isNullOrUndefined(element.offsetParent) && element.style.position === 'fixed') {\n        fixedElement = true;\n    }\n    while ((element.offsetParent || fixedElement) && anchor && element.offsetParent !== anchor) {\n        anchorPos.left += anchor.offsetLeft;\n        anchorPos.top += anchor.offsetTop;\n        anchor = anchor.offsetParent;\n    }\n    anchor = tempAnchor;\n    while ((element.offsetParent || fixedElement) && anchor && element.offsetParent !== anchor) {\n        anchorPos.left -= anchor.scrollLeft;\n        anchorPos.top -= anchor.scrollTop;\n        anchor = anchor.parentElement;\n    }\n    return anchorPos;\n}\n/**\n *\n * @param {Element} currentElement - specifies the element\n * @param {string} positionX - specifies the position\n * @param {string} positionY - specifies the position\n * @param {boolean} parentElement - specifies the boolean\n * @param {ClientRect} targetValues - specifies the client\n * @returns {OffsetPosition} - returns the position\n */\nexport function calculatePosition(currentElement, positionX, positionY, parentElement, targetValues) {\n    //eslint-disable-next-line\n    popupRect = undefined;\n    popupRect = targetValues;\n    fixedParent = parentElement ? true : false;\n    if (!currentElement) {\n        return { left: 0, top: 0 };\n    }\n    if (!positionX) {\n        positionX = 'left';\n    }\n    if (!positionY) {\n        positionY = 'top';\n    }\n    parentDocument = currentElement.ownerDocument;\n    element = currentElement;\n    var pos = { left: 0, top: 0 };\n    return updatePosition(positionX.toLowerCase(), positionY.toLowerCase(), pos);\n}\n/**\n *\n * @param {number} value - specifies the number\n * @param {OffsetPosition} pos - specifies the position\n * @returns {void}\n */\nfunction setPosx(value, pos) {\n    pos.left = value;\n}\n/**\n *\n * @param {number} value - specifies the number\n * @param {OffsetPosition} pos - specifies the position\n * @returns {void}\n */\nfunction setPosy(value, pos) {\n    pos.top = value;\n}\n/**\n *\n * @param {string} posX - specifies the position\n * @param {string} posY - specifies the position\n * @param {OffsetPosition} pos - specifies the position\n * @returns {OffsetPosition} - returns the postion\n */\nfunction updatePosition(posX, posY, pos) {\n    elementRect = element.getBoundingClientRect();\n    switch (posY + posX) {\n        case 'topcenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n        case 'topright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n        case 'centercenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'centerright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'centerleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'bottomcenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        case 'bottomright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        case 'bottomleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        default:\n        case 'topleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n    }\n    return pos;\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getBodyScrollTop() {\n    return parentDocument.documentElement.scrollTop || parentDocument.body.scrollTop;\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getBodyScrollLeft() {\n    return parentDocument.documentElement.scrollLeft || parentDocument.body.scrollLeft;\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementBottom() {\n    return fixedParent ? elementRect.bottom : elementRect.bottom + getBodyScrollTop();\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementVCenter() {\n    return getElementTop() + (elementRect.height / 2);\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementTop() {\n    return fixedParent ? elementRect.top : elementRect.top + getBodyScrollTop();\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementLeft() {\n    return elementRect.left + getBodyScrollLeft();\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementRight() {\n    var popupWidth = (element && element.classList.contains('e-date-range-wrapper')) ? (popupRect ? popupRect.width : 0) :\n        (popupRect && (elementRect.width >= popupRect.width) ? popupRect.width : 0);\n    return elementRect.right + getBodyScrollLeft() - popupWidth;\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementHCenter() {\n    return getElementLeft() + (elementRect.width / 2);\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Worksheets class\n * @private\n */\nvar Worksheets = /** @class */ (function (_super) {\n    __extends(Worksheets, _super);\n    function Worksheets() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return Worksheets;\n}(Array));\nexport { Worksheets };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Worksheet class\n * @private\n */\nvar Worksheet = /** @class */ (function () {\n    function Worksheet() {\n        this.isSummaryRowBelow = true;\n        this.showGridLines = true;\n        this.enableRtl = false;\n    }\n    return Worksheet;\n}());\nexport { Worksheet };\n/**\n * Hyperlink class\n * @private\n */\nvar HyperLink = /** @class */ (function () {\n    function HyperLink() {\n    }\n    return HyperLink;\n}());\nexport { HyperLink };\n/**\n * Grouping class\n * @private\n */\nvar Grouping = /** @class */ (function () {\n    function Grouping() {\n    }\n    return Grouping;\n}());\nexport { Grouping };\n/**\n * FreezePane class\n * @private\n */\nvar FreezePane = /** @class */ (function () {\n    function FreezePane() {\n    }\n    return FreezePane;\n}());\nexport { FreezePane };\n/**\n * MergeCell\n * @private\n */\nvar MergeCell = /** @class */ (function () {\n    function MergeCell() {\n    }\n    return MergeCell;\n}());\nexport { MergeCell };\n/**\n * MergeCells class\n * @private\n */\nvar MergeCells = /** @class */ (function (_super) {\n    __extends(MergeCells, _super);\n    function MergeCells() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.add = function (mergeCell) {\n            var inserted = false;\n            var count = 0;\n            for (var _i = 0, _a = _this; _i < _a.length; _i++) {\n                var mCell = _a[_i];\n                if (MergeCells.isIntersecting(mCell, mergeCell)) {\n                    var intersectingCell = new MergeCell();\n                    intersectingCell.x = Math.min(mCell.x, mergeCell.x);\n                    intersectingCell.y = Math.min(mCell.Y, mergeCell.y);\n                    intersectingCell.width = Math.max(mCell.Width + mCell.X, mergeCell.width + mergeCell.x);\n                    intersectingCell.height = Math.max(mCell.Height + mCell.Y, mergeCell.height + mergeCell.y);\n                    intersectingCell.ref = (_this[count].ref.split(':')[0]) + ':' + (mergeCell.ref.split(':')[1]);\n                    _this[count] = intersectingCell;\n                    mergeCell = intersectingCell;\n                    inserted = true;\n                }\n                count++;\n            }\n            if (!inserted) {\n                _this.push(mergeCell);\n            }\n            return mergeCell;\n        };\n        return _this;\n    }\n    MergeCells.isIntersecting = function (base, compare) {\n        return (base.x <= compare.x + compare.width)\n            && (compare.x <= base.x + base.width)\n            && (base.y <= compare.y + compare.height)\n            && (compare.y <= base.y + base.height);\n    };\n    return MergeCells;\n}(Array));\nexport { MergeCells };\n","/**\n * CellStyle class\n * @private\n */\nvar CellStyle = /** @class */ (function () {\n    function CellStyle() {\n        this.numFmtId = 0;\n        this.backColor = 'none';\n        this.fontName = 'Calibri';\n        this.fontSize = 10.5;\n        this.fontColor = '#000000';\n        this.italic = false;\n        this.bold = false;\n        this.underline = false;\n        this.strikeThrough = false;\n        this.wrapText = false;\n        this.hAlign = 'general';\n        this.vAlign = 'bottom';\n        this.indent = 0;\n        this.rotation = 0;\n        this.numberFormat = 'GENERAL';\n        this.type = 'datetime';\n        this.borders = new Borders();\n        this.isGlobalStyle = false;\n    }\n    return CellStyle;\n}());\nexport { CellStyle };\n/**\n * Font Class\n * @private\n */\nvar Font = /** @class */ (function () {\n    function Font() {\n        this.sz = 10.5;\n        this.name = 'Calibri';\n        this.u = false;\n        this.b = false;\n        this.i = false;\n        this.color = 'FF000000';\n        this.strike = false;\n    }\n    return Font;\n}());\nexport { Font };\n/**\n * CellXfs class\n * @private\n */\nvar CellXfs = /** @class */ (function () {\n    function CellXfs() {\n    }\n    return CellXfs;\n}());\nexport { CellXfs };\n/**\n * Alignment class\n * @private\n */\nvar Alignment = /** @class */ (function () {\n    function Alignment() {\n    }\n    return Alignment;\n}());\nexport { Alignment };\n/**\n * CellStyleXfs class\n * @private\n */\nvar CellStyleXfs = /** @class */ (function () {\n    function CellStyleXfs() {\n    }\n    return CellStyleXfs;\n}());\nexport { CellStyleXfs };\n/**\n * CellStyles class\n * @private\n */\nvar CellStyles = /** @class */ (function () {\n    function CellStyles() {\n        this.name = 'Normal';\n        this.xfId = 0;\n    }\n    return CellStyles;\n}());\nexport { CellStyles };\n/**\n * NumFmt class\n * @private\n */\nvar NumFmt = /** @class */ (function () {\n    function NumFmt(id, code) {\n        this.numFmtId = id;\n        this.formatCode = code;\n    }\n    return NumFmt;\n}());\nexport { NumFmt };\n/**\n * Border class\n * @private\n */\nvar Border = /** @class */ (function () {\n    function Border(mLine, mColor) {\n        this.lineStyle = mLine;\n        this.color = mColor;\n    }\n    return Border;\n}());\nexport { Border };\n/**\n * Borders class\n * @private\n */\nvar Borders = /** @class */ (function () {\n    function Borders() {\n        this.left = new Border('none', '#FFFFFF');\n        this.right = new Border('none', '#FFFFFF');\n        this.top = new Border('none', '#FFFFFF');\n        this.bottom = new Border('none', '#FFFFFF');\n        this.all = new Border('none', '#FFFFFF');\n    }\n    return Borders;\n}());\nexport { Borders };\n","/**\n * Column class\n * @private\n */\nvar Column = /** @class */ (function () {\n    function Column() {\n    }\n    return Column;\n}());\nexport { Column };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Row class\n * @private\n */\nvar Row = /** @class */ (function () {\n    function Row() {\n    }\n    return Row;\n}());\nexport { Row };\n/**\n * Rows class\n * @private\n */\nvar Rows = /** @class */ (function (_super) {\n    __extends(Rows, _super);\n    function Rows() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.add = function (row) {\n            _this.push(row);\n        };\n        return _this;\n    }\n    return Rows;\n}(Array));\nexport { Rows };\n","/**\n * Image class\n * @private\n */\nvar Image = /** @class */ (function () {\n    function Image() {\n    }\n    return Image;\n}());\nexport { Image };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Worksheet class\n * @private\n */\nvar Cell = /** @class */ (function () {\n    function Cell() {\n    }\n    return Cell;\n}());\nexport { Cell };\n/**\n * Cells class\n * @private\n */\nvar Cells = /** @class */ (function (_super) {\n    __extends(Cells, _super);\n    function Cells() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.add = function (cell) {\n            var inserted = false;\n            var count = 0;\n            for (var _i = 0, _a = _this; _i < _a.length; _i++) {\n                var c = _a[_i];\n                if (c.index === cell.index) {\n                    _this[count] = cell;\n                    inserted = true;\n                }\n                count++;\n            }\n            if (!inserted) {\n                _this.push(cell);\n            }\n        };\n        return _this;\n    }\n    return Cells;\n}(Array));\nexport { Cells };\n","/**\n * Encoding class: Contains the details about encoding type, whether to write a Unicode byte order mark (BOM).\n * ```typescript\n * let encoding : Encoding = new Encoding();\n * encoding.type = 'Utf8';\n * encoding.getBytes('Encoding', 0, 5);\n * ```\n */\nvar Encoding = /** @class */ (function () {\n    /**\n     * Initializes a new instance of the Encoding class. A parameter specifies whether to write a Unicode byte order mark\n     * @param  {boolean} includeBom?-true to specify that a Unicode byte order mark is written; otherwise, false.\n     */\n    function Encoding(includeBom) {\n        this.emitBOM = true;\n        this.encodingType = 'Ansi';\n        this.initBOM(includeBom);\n    }\n    Object.defineProperty(Encoding.prototype, \"includeBom\", {\n        /**\n         * Gets a value indicating whether to write a Unicode byte order mark\n         * @returns boolean- true to specify that a Unicode byte order mark is written; otherwise, false\n         */\n        get: function () {\n            return this.emitBOM;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Encoding.prototype, \"type\", {\n        /**\n         * Gets the encoding type.\n         * @returns EncodingType\n         */\n        get: function () {\n            return this.encodingType;\n        },\n        /**\n         * Sets the encoding type.\n         * @param  {EncodingType} value\n         */\n        set: function (value) {\n            this.encodingType = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Initialize the includeBom to emit BOM or Not\n     * @param  {boolean} includeBom\n     */\n    Encoding.prototype.initBOM = function (includeBom) {\n        if (includeBom === undefined || includeBom === null) {\n            this.emitBOM = true;\n        }\n        else {\n            this.emitBOM = includeBom;\n        }\n    };\n    /**\n     * Calculates the number of bytes produced by encoding the characters in the specified string\n     * @param  {string} chars - The string containing the set of characters to encode\n     * @returns {number} - The number of bytes produced by encoding the specified characters\n     */\n    Encoding.prototype.getByteCount = function (chars) {\n        var byteCount = 0;\n        validateNullOrUndefined(chars, 'string');\n        if (chars === '') {\n            var byte = this.utf8Len(chars.charCodeAt(0));\n            return byte;\n        }\n        if (this.type === null || this.type === undefined) {\n            this.type = 'Ansi';\n        }\n        return this.getByteCountInternal(chars, 0, chars.length);\n    };\n    /**\n     * Return the Byte of character\n     * @param  {number} codePoint\n     * @returns {number}\n     */\n    Encoding.prototype.utf8Len = function (codePoint) {\n        var bytes = codePoint <= 0x7F ? 1 :\n            codePoint <= 0x7FF ? 2 :\n                codePoint <= 0xFFFF ? 3 :\n                    codePoint <= 0x1FFFFF ? 4 : 0;\n        return bytes;\n    };\n    /**\n     * for 4 byte character return surrogate pair true, otherwise false\n     * @param  {number} codeUnit\n     * @returns {boolean}\n     */\n    Encoding.prototype.isHighSurrogate = function (codeUnit) {\n        return codeUnit >= 0xD800 && codeUnit <= 0xDBFF;\n    };\n    /**\n     * for 4byte character generate the surrogate pair\n     * @param  {number} highCodeUnit\n     * @param  {number} lowCodeUnit\n     */\n    Encoding.prototype.toCodepoint = function (highCodeUnit, lowCodeUnit) {\n        highCodeUnit = (0x3FF & highCodeUnit) << 10;\n        var u = highCodeUnit | (0x3FF & lowCodeUnit);\n        return u + 0x10000;\n    };\n    /**\n     * private method to get the byte count for specific charindex and count\n     * @param  {string} chars\n     * @param  {number} charIndex\n     * @param  {number} charCount\n     */\n    Encoding.prototype.getByteCountInternal = function (chars, charIndex, charCount) {\n        var byteCount = 0;\n        if (this.encodingType === 'Utf8' || this.encodingType === 'Unicode') {\n            var isUtf8 = this.encodingType === 'Utf8';\n            for (var i = 0; i < charCount; i++) {\n                var charCode = chars.charCodeAt(isUtf8 ? charIndex : charIndex++);\n                if (this.isHighSurrogate(charCode)) {\n                    if (isUtf8) {\n                        var high = charCode;\n                        var low = chars.charCodeAt(++charIndex);\n                        byteCount += this.utf8Len(this.toCodepoint(high, low));\n                    }\n                    else {\n                        byteCount += 4;\n                        ++i;\n                    }\n                }\n                else {\n                    if (isUtf8) {\n                        byteCount += this.utf8Len(charCode);\n                    }\n                    else {\n                        byteCount += 2;\n                    }\n                }\n                if (isUtf8) {\n                    charIndex++;\n                }\n            }\n            return byteCount;\n        }\n        else {\n            byteCount = charCount;\n            return byteCount;\n        }\n    };\n    /**\n     * Encodes a set of characters from the specified string into the ArrayBuffer.\n     * @param  {string} s- The string containing the set of characters to encode\n     * @param  {number} charIndex-The index of the first character to encode.\n     * @param  {number} charCount- The number of characters to encode.\n     * @returns {ArrayBuffer} - The ArrayBuffer that contains the resulting sequence of bytes.\n     */\n    Encoding.prototype.getBytes = function (s, charIndex, charCount) {\n        validateNullOrUndefined(s, 'string');\n        validateNullOrUndefined(charIndex, 'charIndex');\n        validateNullOrUndefined(charCount, 'charCount');\n        if (charIndex < 0 || charCount < 0) {\n            throw new RangeError('Argument Out Of Range Exception: charIndex or charCount is less than zero');\n        }\n        if (s.length - charIndex < charCount) {\n            throw new RangeError('Argument Out Of Range Exception: charIndex and charCount do not denote a valid range in string');\n        }\n        var bytes;\n        if (s === '') {\n            bytes = new ArrayBuffer(0);\n            return bytes;\n        }\n        if (this.type === null || this.type === undefined) {\n            this.type = 'Ansi';\n        }\n        var byteCount = this.getByteCountInternal(s, charIndex, charCount);\n        switch (this.type) {\n            case 'Utf8':\n                bytes = this.getBytesOfUtf8Encoding(byteCount, s, charIndex, charCount);\n                return bytes;\n            case 'Unicode':\n                bytes = this.getBytesOfUnicodeEncoding(byteCount, s, charIndex, charCount);\n                return bytes;\n            default:\n                bytes = this.getBytesOfAnsiEncoding(byteCount, s, charIndex, charCount);\n                return bytes;\n        }\n    };\n    /**\n     * Decodes a sequence of bytes from the specified ArrayBuffer into the string.\n     * @param  {ArrayBuffer} bytes- The ArrayBuffer containing the sequence of bytes to decode.\n     * @param  {number} index- The index of the first byte to decode.\n     * @param  {number} count- The number of bytes to decode.\n     * @returns {string} - The string that contains the resulting set of characters.\n     */\n    Encoding.prototype.getString = function (bytes, index, count) {\n        validateNullOrUndefined(bytes, 'bytes');\n        validateNullOrUndefined(index, 'index');\n        validateNullOrUndefined(count, 'count');\n        if (index < 0 || count < 0) {\n            throw new RangeError('Argument Out Of Range Exception: index or count is less than zero');\n        }\n        if (bytes.byteLength - index < count) {\n            throw new RangeError('Argument Out Of Range Exception: index and count do not denote a valid range in bytes');\n        }\n        if (bytes.byteLength === 0 || count === 0) {\n            return '';\n        }\n        if (this.type === null || this.type === undefined) {\n            this.type = 'Ansi';\n        }\n        var out = '';\n        var byteCal = new Uint8Array(bytes);\n        switch (this.type) {\n            case 'Utf8':\n                var s = this.getStringOfUtf8Encoding(byteCal, index, count);\n                return s;\n            case 'Unicode':\n                var byteUnicode = new Uint16Array(bytes);\n                out = this.getStringofUnicodeEncoding(byteUnicode, index, count);\n                return out;\n            default:\n                var j = index;\n                for (var i = 0; i < count; i++) {\n                    var c = byteCal[j];\n                    out += String.fromCharCode(c); // 1 byte(ASCII) character                  \n                    j++;\n                }\n                return out;\n        }\n    };\n    Encoding.prototype.getBytesOfAnsiEncoding = function (byteCount, s, charIndex, charCount) {\n        var bytes = new ArrayBuffer(byteCount);\n        var bufview = new Uint8Array(bytes);\n        var k = 0;\n        for (var i = 0; i < charCount; i++) {\n            var charcode = s.charCodeAt(charIndex++);\n            if (charcode < 0x800) {\n                bufview[k] = charcode;\n            }\n            else {\n                bufview[k] = 63; //replacement character '?'\n            }\n            k++;\n        }\n        return bytes;\n    };\n    Encoding.prototype.getBytesOfUtf8Encoding = function (byteCount, s, charIndex, charCount) {\n        var bytes = new ArrayBuffer(byteCount);\n        var uint = new Uint8Array(bytes);\n        var index = charIndex;\n        var j = 0;\n        for (var i = 0; i < charCount; i++) {\n            var charcode = s.charCodeAt(index);\n            if (charcode <= 0x7F) { // 1 byte character 2^7\n                uint[j] = charcode;\n            }\n            else if (charcode < 0x800) { // 2 byte character 2^11\n                uint[j] = 0xc0 | (charcode >> 6);\n                uint[++j] = 0x80 | (charcode & 0x3f);\n            }\n            else if ((charcode < 0xd800 || charcode >= 0xe000)) { // 3 byte character 2^16        \n                uint[j] = 0xe0 | (charcode >> 12);\n                uint[++j] = 0x80 | ((charcode >> 6) & 0x3f);\n                uint[++j] = 0x80 | (charcode & 0x3f);\n            }\n            else {\n                uint[j] = 0xef;\n                uint[++j] = 0xbf;\n                uint[++j] = 0xbd; // U+FFFE \"replacement character\"\n            }\n            ++j;\n            ++index;\n        }\n        return bytes;\n    };\n    Encoding.prototype.getBytesOfUnicodeEncoding = function (byteCount, s, charIndex, charCount) {\n        var bytes = new ArrayBuffer(byteCount);\n        var uint16 = new Uint16Array(bytes);\n        for (var i = 0; i < charCount; i++) {\n            var charcode = s.charCodeAt(i);\n            uint16[i] = charcode;\n        }\n        return bytes;\n    };\n    Encoding.prototype.getStringOfUtf8Encoding = function (byteCal, index, count) {\n        var j = 0;\n        var i = index;\n        var s = '';\n        for (j; j < count; j++) {\n            var c = byteCal[i++];\n            while (i > byteCal.length) {\n                return s;\n            }\n            if (c > 127) {\n                if (c > 191 && c < 224 && i < count) {\n                    c = (c & 31) << 6 | byteCal[i] & 63;\n                }\n                else if (c > 223 && c < 240 && i < byteCal.byteLength) {\n                    c = (c & 15) << 12 | (byteCal[i] & 63) << 6 | byteCal[++i] & 63;\n                }\n                else if (c > 239 && c < 248 && i < byteCal.byteLength) {\n                    c = (c & 7) << 18 | (byteCal[i] & 63) << 12 | (byteCal[++i] & 63) << 6 | byteCal[++i] & 63;\n                }\n                ++i;\n            }\n            s += String.fromCharCode(c); // 1 byte(ASCII) character                          \n        }\n        return s;\n    };\n    Encoding.prototype.getStringofUnicodeEncoding = function (byteUni, index, count) {\n        if (count > byteUni.length) {\n            throw new RangeError('ArgumentOutOfRange_Count');\n        }\n        var byte16 = new Uint16Array(count);\n        var out = '';\n        for (var i = 0; i < count && i < byteUni.length; i++) {\n            byte16[i] = byteUni[index++];\n        }\n        out = String.fromCharCode.apply(null, byte16);\n        return out;\n    };\n    /**\n     * To clear the encoding instance\n     * @return {void}\n     */\n    Encoding.prototype.destroy = function () {\n        this.emitBOM = undefined;\n        this.encodingType = undefined;\n    };\n    return Encoding;\n}());\nexport { Encoding };\n/**\n * To check the object is null or undefined and throw error if it is null or undefined\n * @param {Object} value - object to check is null or undefined\n * @return {boolean}\n * @throws {ArgumentException} - if the value is null or undefined\n * @private\n */\nexport function validateNullOrUndefined(value, message) {\n    if (value === null || value === undefined) {\n        throw new Error('ArgumentException: ' + message + ' cannot be null or undefined');\n    }\n}\n","import { Encoding } from '@syncfusion/ej2-file-utils';\n/**\n * array literal codes\n */\nvar ARR_LITERAL_CODES = new Int16Array(286);\nvar ARR_LITERAL_LENGTHS = new Uint8Array(286);\nvar ARR_DISTANCE_CODES = new Int16Array(30);\nvar ARR_DISTANCE_LENGTHS = new Uint8Array(30);\n/**\n * represent compression stream writer\n * ```typescript\n * let compressedWriter = new CompressedStreamWriter();\n * let text: string = 'Hello world!!!';\n * compressedWriter.write(text, 0, text.length);\n * compressedWriter.close();\n * ```\n */\nvar CompressedStreamWriter = /** @class */ (function () {\n    /**\n     * Initializes compressor and writes ZLib header if needed.\n     * @param {boolean} noWrap - optional if true, ZLib header and checksum will not be written.\n     */\n    function CompressedStreamWriter(noWrap) {\n        this.pendingBuffer = new Uint8Array(1 << 16);\n        this.pendingBufLength = 0;\n        this.pendingBufCache = 0;\n        this.pendingBufBitsInCache = 0;\n        this.bufferPosition = 0;\n        this.extraBits = 0;\n        this.currentHash = 0;\n        this.matchStart = 0;\n        this.matchLength = 0;\n        this.matchPrevAvail = false;\n        this.blockStart = 0;\n        this.stringStart = 0;\n        this.lookAhead = 0;\n        this.totalBytesIn = 0;\n        this.inputOffset = 0;\n        this.inputEnd = 0;\n        this.windowSize = 1 << 15;\n        this.windowMask = this.windowSize - 1;\n        this.hashSize = 1 << 15;\n        this.hashMask = this.hashSize - 1;\n        this.hashShift = Math.floor((15 + 3 - 1) / 3);\n        this.maxDist = this.windowSize - 262;\n        this.checkSum = 1;\n        this.noWrap = false;\n        if (!CompressedStreamWriter.isHuffmanTreeInitiated) {\n            CompressedStreamWriter.initHuffmanTree();\n            CompressedStreamWriter.isHuffmanTreeInitiated = true;\n        }\n        this.treeLiteral = new CompressorHuffmanTree(this, 286, 257, 15);\n        this.treeDistances = new CompressorHuffmanTree(this, 30, 1, 15);\n        this.treeCodeLengths = new CompressorHuffmanTree(this, 19, 4, 7);\n        this.arrDistances = new Uint16Array((1 << 14));\n        this.arrLiterals = new Uint8Array((1 << 14));\n        this.stream = [];\n        this.dataWindow = new Uint8Array(2 * this.windowSize);\n        this.hashHead = new Int16Array(this.hashSize);\n        this.hashPrevious = new Int16Array(this.windowSize);\n        this.blockStart = this.stringStart = 1;\n        this.noWrap = noWrap;\n        if (!noWrap) {\n            this.writeZLibHeader();\n        }\n    }\n    Object.defineProperty(CompressedStreamWriter.prototype, \"compressedData\", {\n        /**\n         * get compressed data\n         */\n        get: function () {\n            return this.stream;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CompressedStreamWriter.prototype, \"getCompressedString\", {\n        get: function () {\n            var compressedString = '';\n            if (this.stream !== undefined) {\n                for (var i = 0; i < this.stream.length; i++) {\n                    compressedString += String.fromCharCode.apply(null, this.stream[i]);\n                }\n            }\n            return compressedString;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Compresses data and writes it to the stream.\n     * @param {Uint8Array} data - data to compress\n     * @param {number} offset - offset in data\n     * @param {number} length - length of the data\n     * @returns {void}\n     */\n    CompressedStreamWriter.prototype.write = function (data, offset, length) {\n        if (data === undefined || data === null) {\n            throw new Error('ArgumentException: data cannot null or undefined');\n        }\n        var end = offset + length;\n        if (0 > offset || offset > end || end > data.length) {\n            throw new Error('ArgumentOutOfRangeException: Offset or length is incorrect');\n        }\n        if (typeof data === 'string') {\n            var encode = new Encoding(false);\n            encode.type = 'Utf8';\n            data = new Uint8Array(encode.getBytes(data, 0, data.length));\n            end = offset + data.length;\n        }\n        this.inputBuffer = data;\n        this.inputOffset = offset;\n        this.inputEnd = end;\n        if (!this.noWrap) {\n            this.checkSum = ChecksumCalculator.checksumUpdate(this.checkSum, this.inputBuffer, this.inputOffset, end);\n        }\n        while (!(this.inputEnd === this.inputOffset) || !(this.pendingBufLength === 0)) {\n            this.pendingBufferFlush();\n            this.compressData(false);\n        }\n    };\n    /**\n     * write ZLib header to the compressed data\n     * @return {void}\n     */\n    CompressedStreamWriter.prototype.writeZLibHeader = function () {\n        /* Initialize header.*/\n        var headerDate = (8 + (7 << 4)) << 8;\n        /* Save compression level.*/\n        headerDate |= ((5 >> 2) & 3) << 6;\n        /* Align header.*/\n        headerDate += 31 - (headerDate % 31);\n        /* Write header to stream.*/\n        this.pendingBufferWriteShortBytes(headerDate);\n    };\n    /**\n     *  Write Most Significant Bytes in to stream\n     * @param {number} s - check sum value\n     */\n    CompressedStreamWriter.prototype.pendingBufferWriteShortBytes = function (s) {\n        this.pendingBuffer[this.pendingBufLength++] = s >> 8;\n        this.pendingBuffer[this.pendingBufLength++] = s;\n    };\n    CompressedStreamWriter.prototype.compressData = function (finish) {\n        var success;\n        do {\n            this.fillWindow();\n            var canFlush = (finish && this.inputEnd === this.inputOffset);\n            success = this.compressSlow(canFlush, finish);\n        } while (this.pendingBufLength === 0 && success);\n        return success;\n    };\n    CompressedStreamWriter.prototype.compressSlow = function (flush, finish) {\n        if (this.lookAhead < 262 && !flush) {\n            return false;\n        }\n        while (this.lookAhead >= 262 || flush) {\n            if (this.lookAhead === 0) {\n                return this.lookAheadCompleted(finish);\n            }\n            if (this.stringStart >= 2 * this.windowSize - 262) {\n                this.slideWindow();\n            }\n            var prevMatch = this.matchStart;\n            var prevLen = this.matchLength;\n            if (this.lookAhead >= 3) {\n                this.discardMatch();\n            }\n            if (prevLen >= 3 && this.matchLength <= prevLen) {\n                prevLen = this.matchPreviousBest(prevMatch, prevLen);\n            }\n            else {\n                this.matchPreviousAvailable();\n            }\n            if (this.bufferPosition >= (1 << 14)) {\n                return this.huffmanIsFull(finish);\n            }\n        }\n        return true;\n    };\n    CompressedStreamWriter.prototype.discardMatch = function () {\n        var hashHead = this.insertString();\n        if (hashHead !== 0 && this.stringStart - hashHead <= this.maxDist && this.findLongestMatch(hashHead)) {\n            if (this.matchLength <= 5 && (this.matchLength === 3 && this.stringStart - this.matchStart > 4096)) {\n                this.matchLength = 3 - 1;\n            }\n        }\n    };\n    CompressedStreamWriter.prototype.matchPreviousAvailable = function () {\n        if (this.matchPrevAvail) {\n            this.huffmanTallyLit(this.dataWindow[this.stringStart - 1] & 0xff);\n        }\n        this.matchPrevAvail = true;\n        this.stringStart++;\n        this.lookAhead--;\n    };\n    CompressedStreamWriter.prototype.matchPreviousBest = function (prevMatch, prevLen) {\n        this.huffmanTallyDist(this.stringStart - 1 - prevMatch, prevLen);\n        prevLen -= 2;\n        do {\n            this.stringStart++;\n            this.lookAhead--;\n            if (this.lookAhead >= 3) {\n                this.insertString();\n            }\n        } while (--prevLen > 0);\n        this.stringStart++;\n        this.lookAhead--;\n        this.matchPrevAvail = false;\n        this.matchLength = 3 - 1;\n        return prevLen;\n    };\n    CompressedStreamWriter.prototype.lookAheadCompleted = function (finish) {\n        if (this.matchPrevAvail) {\n            this.huffmanTallyLit(this.dataWindow[this.stringStart - 1] & 0xff);\n        }\n        this.matchPrevAvail = false;\n        this.huffmanFlushBlock(this.dataWindow, this.blockStart, this.stringStart - this.blockStart, finish);\n        this.blockStart = this.stringStart;\n        return false;\n    };\n    CompressedStreamWriter.prototype.huffmanIsFull = function (finish) {\n        var len = this.stringStart - this.blockStart;\n        if (this.matchPrevAvail) {\n            len--;\n        }\n        var lastBlock = (finish && this.lookAhead === 0 && !this.matchPrevAvail);\n        this.huffmanFlushBlock(this.dataWindow, this.blockStart, len, lastBlock);\n        this.blockStart += len;\n        return !lastBlock;\n    };\n    CompressedStreamWriter.prototype.fillWindow = function () {\n        if (this.stringStart >= this.windowSize + this.maxDist) {\n            this.slideWindow();\n        }\n        while (this.lookAhead < 262 && this.inputOffset < this.inputEnd) {\n            var more = 2 * this.windowSize - this.lookAhead - this.stringStart;\n            if (more > this.inputEnd - this.inputOffset) {\n                more = this.inputEnd - this.inputOffset;\n            }\n            this.dataWindow.set(this.inputBuffer.subarray(this.inputOffset, this.inputOffset + more), this.stringStart + this.lookAhead);\n            this.inputOffset += more;\n            this.totalBytesIn += more;\n            this.lookAhead += more;\n        }\n        if (this.lookAhead >= 3) {\n            this.updateHash();\n        }\n    };\n    CompressedStreamWriter.prototype.slideWindow = function () {\n        this.dataWindow.set(this.dataWindow.subarray(this.windowSize, this.windowSize + this.windowSize), 0);\n        this.matchStart -= this.windowSize;\n        this.stringStart -= this.windowSize;\n        this.blockStart -= this.windowSize;\n        for (var i = 0; i < this.hashSize; ++i) {\n            var m = this.hashHead[i] & 0xffff;\n            this.hashHead[i] = (((m >= this.windowSize) ? (m - this.windowSize) : 0));\n        }\n        for (var i = 0; i < this.windowSize; i++) {\n            var m = this.hashPrevious[i] & 0xffff;\n            this.hashPrevious[i] = ((m >= this.windowSize) ? (m - this.windowSize) : 0);\n        }\n    };\n    CompressedStreamWriter.prototype.insertString = function () {\n        var match;\n        var hash = ((this.currentHash << this.hashShift) ^ this.dataWindow[this.stringStart + (3 - 1)]) & this.hashMask;\n        this.hashPrevious[this.stringStart & this.windowMask] = match = this.hashHead[hash];\n        this.hashHead[hash] = this.stringStart;\n        this.currentHash = hash;\n        return match & 0xffff;\n    };\n    CompressedStreamWriter.prototype.findLongestMatch = function (curMatch) {\n        var chainLen = 4096;\n        var niceLen = 258;\n        var scan = this.stringStart;\n        var match;\n        var bestEnd = this.stringStart + this.matchLength;\n        var bestLength = Math.max(this.matchLength, 3 - 1);\n        var limit = Math.max(this.stringStart - this.maxDist, 0);\n        var stringEnd = this.stringStart + 258 - 1;\n        var scanEnd1 = this.dataWindow[bestEnd - 1];\n        var scanEnd = this.dataWindow[bestEnd];\n        var data = this.dataWindow;\n        if (bestLength >= 32) {\n            chainLen >>= 2;\n        }\n        if (niceLen > this.lookAhead) {\n            niceLen = this.lookAhead;\n        }\n        do {\n            if (data[curMatch + bestLength] !== scanEnd ||\n                data[curMatch + bestLength - 1] !== scanEnd1 ||\n                data[curMatch] !== data[scan] ||\n                data[curMatch + 1] !== data[scan + 1]) {\n                continue;\n            }\n            match = curMatch + 2;\n            scan += 2;\n            /* tslint:disable */\n            while (data[++scan] === data[++match] && data[++scan] === data[++match] &&\n                data[++scan] === data[++match] && data[++scan] === data[++match] &&\n                data[++scan] === data[++match] && data[++scan] === data[++match] &&\n                data[++scan] === data[++match] && data[++scan] === data[++match] && scan < stringEnd) {\n                /* tslint:disable */\n            }\n            if (scan > bestEnd) {\n                this.matchStart = curMatch;\n                bestEnd = scan;\n                bestLength = scan - this.stringStart;\n                if (bestLength >= niceLen) {\n                    break;\n                }\n                scanEnd1 = data[bestEnd - 1];\n                scanEnd = data[bestEnd];\n            }\n            scan = this.stringStart;\n        } while ((curMatch = (this.hashPrevious[curMatch & this.windowMask] & 0xffff)) > limit && --chainLen !== 0);\n        this.matchLength = Math.min(bestLength, this.lookAhead);\n        return this.matchLength >= 3;\n    };\n    CompressedStreamWriter.prototype.updateHash = function () {\n        this.currentHash = (this.dataWindow[this.stringStart] << this.hashShift) ^ this.dataWindow[this.stringStart + 1];\n    };\n    CompressedStreamWriter.prototype.huffmanTallyLit = function (literal) {\n        this.arrDistances[this.bufferPosition] = 0;\n        this.arrLiterals[this.bufferPosition++] = literal;\n        this.treeLiteral.codeFrequencies[literal]++;\n        return this.bufferPosition >= (1 << 14);\n    };\n    CompressedStreamWriter.prototype.huffmanTallyDist = function (dist, len) {\n        this.arrDistances[this.bufferPosition] = dist;\n        this.arrLiterals[this.bufferPosition++] = (len - 3);\n        var lc = this.huffmanLengthCode(len - 3);\n        this.treeLiteral.codeFrequencies[lc]++;\n        if (lc >= 265 && lc < 285) {\n            this.extraBits += Math.floor((lc - 261) / 4);\n        }\n        var dc = this.huffmanDistanceCode(dist - 1);\n        this.treeDistances.codeFrequencies[dc]++;\n        if (dc >= 4) {\n            this.extraBits += Math.floor((dc / 2 - 1));\n        }\n        return this.bufferPosition >= (1 << 14);\n    };\n    CompressedStreamWriter.prototype.huffmanFlushBlock = function (stored, storedOffset, storedLength, lastBlock) {\n        this.treeLiteral.codeFrequencies[256]++;\n        this.treeLiteral.buildTree();\n        this.treeDistances.buildTree();\n        this.treeLiteral.calculateBLFreq(this.treeCodeLengths);\n        this.treeDistances.calculateBLFreq(this.treeCodeLengths);\n        this.treeCodeLengths.buildTree();\n        var blTreeCodes = 4;\n        for (var i = 18; i > blTreeCodes; i--) {\n            if (this.treeCodeLengths.codeLengths[CompressorHuffmanTree.huffCodeLengthOrders[i]] > 0) {\n                blTreeCodes = i + 1;\n            }\n        }\n        var opt_len = 14 + blTreeCodes * 3 + this.treeCodeLengths.getEncodedLength() +\n            this.treeLiteral.getEncodedLength() + this.treeDistances.getEncodedLength() + this.extraBits;\n        var static_len = this.extraBits;\n        for (var i = 0; i < 286; i++) {\n            static_len += this.treeLiteral.codeFrequencies[i] * ARR_LITERAL_LENGTHS[i];\n        }\n        for (var i = 0; i < 30; i++) {\n            static_len += this.treeDistances.codeFrequencies[i] * ARR_DISTANCE_LENGTHS[i];\n        }\n        if (opt_len >= static_len) {\n            // Force static trees.\n            opt_len = static_len;\n        }\n        if (storedOffset >= 0 && storedLength + 4 < opt_len >> 3) {\n            this.huffmanFlushStoredBlock(stored, storedOffset, storedLength, lastBlock);\n        }\n        else if (opt_len == static_len) {\n            // Encode with static tree.\n            this.pendingBufferWriteBits((1 << 1) + (lastBlock ? 1 : 0), 3);\n            this.treeLiteral.setStaticCodes(ARR_LITERAL_CODES, ARR_LITERAL_LENGTHS);\n            this.treeDistances.setStaticCodes(ARR_DISTANCE_CODES, ARR_DISTANCE_LENGTHS);\n            this.huffmanCompressBlock();\n            this.huffmanReset();\n        }\n        else {\n            this.pendingBufferWriteBits((2 << 1) + (lastBlock ? 1 : 0), 3);\n            this.huffmanSendAllTrees(blTreeCodes);\n            this.huffmanCompressBlock();\n            this.huffmanReset();\n        }\n    };\n    CompressedStreamWriter.prototype.huffmanFlushStoredBlock = function (stored, storedOffset, storedLength, lastBlock) {\n        this.pendingBufferWriteBits((0 << 1) + (lastBlock ? 1 : 0), 3);\n        this.pendingBufferAlignToByte();\n        this.pendingBufferWriteShort(storedLength);\n        this.pendingBufferWriteShort(~storedLength);\n        this.pendingBufferWriteByteBlock(stored, storedOffset, storedLength);\n        this.huffmanReset();\n    };\n    CompressedStreamWriter.prototype.huffmanLengthCode = function (len) {\n        if (len === 255) {\n            return 285;\n        }\n        var code = 257;\n        while (len >= 8) {\n            code += 4;\n            len >>= 1;\n        }\n        return code + len;\n    };\n    CompressedStreamWriter.prototype.huffmanDistanceCode = function (distance) {\n        var code = 0;\n        while (distance >= 4) {\n            code += 2;\n            distance >>= 1;\n        }\n        return code + distance;\n    };\n    CompressedStreamWriter.prototype.huffmanSendAllTrees = function (blTreeCodes) {\n        this.treeCodeLengths.buildCodes();\n        this.treeLiteral.buildCodes();\n        this.treeDistances.buildCodes();\n        this.pendingBufferWriteBits(this.treeLiteral.treeLength - 257, 5);\n        this.pendingBufferWriteBits(this.treeDistances.treeLength - 1, 5);\n        this.pendingBufferWriteBits(blTreeCodes - 4, 4);\n        for (var rank = 0; rank < blTreeCodes; rank++) {\n            this.pendingBufferWriteBits(this.treeCodeLengths.codeLengths[CompressorHuffmanTree.huffCodeLengthOrders[rank]], 3);\n        }\n        this.treeLiteral.writeTree(this.treeCodeLengths);\n        this.treeDistances.writeTree(this.treeCodeLengths);\n    };\n    CompressedStreamWriter.prototype.huffmanReset = function () {\n        this.bufferPosition = 0;\n        this.extraBits = 0;\n        this.treeLiteral.reset();\n        this.treeDistances.reset();\n        this.treeCodeLengths.reset();\n    };\n    CompressedStreamWriter.prototype.huffmanCompressBlock = function () {\n        for (var i = 0; i < this.bufferPosition; i++) {\n            var literalLen = this.arrLiterals[i] & 255;\n            var dist = this.arrDistances[i];\n            if (dist-- !== 0) {\n                var lc = this.huffmanLengthCode(literalLen);\n                this.treeLiteral.writeCodeToStream(lc);\n                var bits = Math.floor((lc - 261) / 4);\n                if (bits > 0 && bits <= 5) {\n                    this.pendingBufferWriteBits(literalLen & ((1 << bits) - 1), bits);\n                }\n                var dc = this.huffmanDistanceCode(dist);\n                this.treeDistances.writeCodeToStream(dc);\n                bits = Math.floor(dc / 2 - 1);\n                if (bits > 0) {\n                    this.pendingBufferWriteBits(dist & ((1 << bits) - 1), bits);\n                }\n            }\n            else {\n                this.treeLiteral.writeCodeToStream(literalLen);\n            }\n        }\n        this.treeLiteral.writeCodeToStream(256);\n    };\n    /**\n     * write bits in to internal buffer\n     * @param {number} b - source of bits\n     * @param {number} count - count of bits to write\n     */\n    CompressedStreamWriter.prototype.pendingBufferWriteBits = function (b, count) {\n        var uint = new Uint32Array(1);\n        uint[0] = this.pendingBufCache | (b << this.pendingBufBitsInCache);\n        this.pendingBufCache = uint[0];\n        this.pendingBufBitsInCache += count;\n        this.pendingBufferFlushBits();\n    };\n    CompressedStreamWriter.prototype.pendingBufferFlush = function (isClose) {\n        this.pendingBufferFlushBits();\n        if (this.pendingBufLength > 0) {\n            var array = new Uint8Array(this.pendingBufLength);\n            array.set(this.pendingBuffer.subarray(0, this.pendingBufLength), 0);\n            this.stream.push(array);\n        }\n        this.pendingBufLength = 0;\n    };\n    CompressedStreamWriter.prototype.pendingBufferFlushBits = function () {\n        var result = 0;\n        while (this.pendingBufBitsInCache >= 8 && this.pendingBufLength < (1 << 16)) {\n            this.pendingBuffer[this.pendingBufLength++] = this.pendingBufCache;\n            this.pendingBufCache >>= 8;\n            this.pendingBufBitsInCache -= 8;\n            result++;\n        }\n        return result;\n    };\n    CompressedStreamWriter.prototype.pendingBufferWriteByteBlock = function (data, offset, length) {\n        var array = data.subarray(offset, offset + length);\n        this.pendingBuffer.set(array, this.pendingBufLength);\n        this.pendingBufLength += length;\n    };\n    CompressedStreamWriter.prototype.pendingBufferWriteShort = function (s) {\n        this.pendingBuffer[this.pendingBufLength++] = s;\n        this.pendingBuffer[this.pendingBufLength++] = (s >> 8);\n    };\n    CompressedStreamWriter.prototype.pendingBufferAlignToByte = function () {\n        if (this.pendingBufBitsInCache > 0) {\n            this.pendingBuffer[this.pendingBufLength++] = this.pendingBufCache;\n        }\n        this.pendingBufCache = 0;\n        this.pendingBufBitsInCache = 0;\n    };\n    /**\n     * Huffman Tree literal calculation\n     * @private\n     */\n    CompressedStreamWriter.initHuffmanTree = function () {\n        var i = 0;\n        while (i < 144) {\n            ARR_LITERAL_CODES[i] = CompressorHuffmanTree.bitReverse((0x030 + i) << 8);\n            ARR_LITERAL_LENGTHS[i++] = 8;\n        }\n        while (i < 256) {\n            ARR_LITERAL_CODES[i] = CompressorHuffmanTree.bitReverse((0x190 - 144 + i) << 7);\n            ARR_LITERAL_LENGTHS[i++] = 9;\n        }\n        while (i < 280) {\n            ARR_LITERAL_CODES[i] = CompressorHuffmanTree.bitReverse((0x000 - 256 + i) << 9);\n            ARR_LITERAL_LENGTHS[i++] = 7;\n        }\n        while (i < 286) {\n            ARR_LITERAL_CODES[i] = CompressorHuffmanTree.bitReverse((0x0c0 - 280 + i) << 8);\n            ARR_LITERAL_LENGTHS[i++] = 8;\n        }\n        for (i = 0; i < 30; i++) {\n            ARR_DISTANCE_CODES[i] = CompressorHuffmanTree.bitReverse(i << 11);\n            ARR_DISTANCE_LENGTHS[i] = 5;\n        }\n    };\n    /**\n     * close the stream and write all pending buffer in to stream\n     * @returns {void}\n     */\n    CompressedStreamWriter.prototype.close = function () {\n        do {\n            this.pendingBufferFlush(true);\n            if (!this.compressData(true)) {\n                this.pendingBufferFlush(true);\n                this.pendingBufferAlignToByte();\n                if (!this.noWrap) {\n                    this.pendingBufferWriteShortBytes(this.checkSum >> 16);\n                    this.pendingBufferWriteShortBytes(this.checkSum & 0xffff);\n                }\n                this.pendingBufferFlush(true);\n            }\n        } while (!(this.inputEnd === this.inputOffset) ||\n            !(this.pendingBufLength === 0));\n    };\n    /**\n     * release allocated un-managed resource\n     * @returns {void}\n     */\n    CompressedStreamWriter.prototype.destroy = function () {\n        this.stream = [];\n        this.stream = undefined;\n        this.pendingBuffer = undefined;\n        this.treeLiteral = undefined;\n        this.treeDistances = undefined;\n        this.treeCodeLengths = undefined;\n        this.arrLiterals = undefined;\n        this.arrDistances = undefined;\n        this.hashHead = undefined;\n        this.hashPrevious = undefined;\n        this.dataWindow = undefined;\n        this.inputBuffer = undefined;\n        this.pendingBufLength = undefined;\n        this.pendingBufCache = undefined;\n        this.pendingBufBitsInCache = undefined;\n        this.bufferPosition = undefined;\n        this.extraBits = undefined;\n        this.currentHash = undefined;\n        this.matchStart = undefined;\n        this.matchLength = undefined;\n        this.matchPrevAvail = undefined;\n        this.blockStart = undefined;\n        this.stringStart = undefined;\n        this.lookAhead = undefined;\n        this.totalBytesIn = undefined;\n        this.inputOffset = undefined;\n        this.inputEnd = undefined;\n        this.windowSize = undefined;\n        this.windowMask = undefined;\n        this.hashSize = undefined;\n        this.hashMask = undefined;\n        this.hashShift = undefined;\n        this.maxDist = undefined;\n        this.checkSum = undefined;\n        this.noWrap = undefined;\n    };\n    CompressedStreamWriter.isHuffmanTreeInitiated = false;\n    return CompressedStreamWriter;\n}());\nexport { CompressedStreamWriter };\n/**\n * represent the Huffman Tree\n */\nvar CompressorHuffmanTree = /** @class */ (function () {\n    /**\n     * Create new Huffman Tree\n     * @param {CompressedStreamWriter} writer instance\n     * @param {number} elementCount - element count\n     * @param {number} minCodes - minimum count\n     * @param {number} maxLength - maximum count\n     */\n    function CompressorHuffmanTree(writer, elementCount, minCodes, maxLength) {\n        this.writer = writer;\n        this.codeMinCount = minCodes;\n        this.maxLength = maxLength;\n        this.codeFrequency = new Uint16Array(elementCount);\n        this.lengthCount = new Int32Array(maxLength);\n    }\n    Object.defineProperty(CompressorHuffmanTree.prototype, \"treeLength\", {\n        get: function () {\n            return this.codeCount;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CompressorHuffmanTree.prototype, \"codeLengths\", {\n        get: function () {\n            return this.codeLength;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CompressorHuffmanTree.prototype, \"codeFrequencies\", {\n        get: function () {\n            return this.codeFrequency;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CompressorHuffmanTree.prototype.setStaticCodes = function (codes, lengths) {\n        var temp = new Int16Array(codes.length);\n        temp.set(codes, 0);\n        this.codes = temp;\n        var lengthTemp = new Uint8Array(lengths.length);\n        lengthTemp.set(lengths, 0);\n        this.codeLength = lengthTemp;\n    };\n    /**\n     * reset all code data in tree\n     * @returns {void}\n     */\n    CompressorHuffmanTree.prototype.reset = function () {\n        for (var i = 0; i < this.codeFrequency.length; i++) {\n            this.codeFrequency[i] = 0;\n        }\n        this.codes = undefined;\n        this.codeLength = undefined;\n    };\n    /**\n     * write code to the compressor output stream\n     * @param {number} code - code to be written\n     * @returns {void}\n     */\n    CompressorHuffmanTree.prototype.writeCodeToStream = function (code) {\n        this.writer.pendingBufferWriteBits(this.codes[code] & 0xffff, this.codeLength[code]);\n    };\n    /**\n     * calculate code from their frequencies\n     * @returns {void}\n     */\n    CompressorHuffmanTree.prototype.buildCodes = function () {\n        var nextCode = new Int32Array(this.maxLength);\n        this.codes = new Int16Array(this.codeCount);\n        var code = 0;\n        for (var bitsCount = 0; bitsCount < this.maxLength; bitsCount++) {\n            nextCode[bitsCount] = code;\n            code += this.lengthCount[bitsCount] << (15 - bitsCount);\n        }\n        for (var i = 0; i < this.codeCount; i++) {\n            var bits = this.codeLength[i];\n            if (bits > 0) {\n                this.codes[i] = CompressorHuffmanTree.bitReverse(nextCode[bits - 1]);\n                nextCode[bits - 1] += 1 << (16 - bits);\n            }\n        }\n    };\n    CompressorHuffmanTree.bitReverse = function (value) {\n        return (CompressorHuffmanTree.reverseBits[value & 15] << 12\n            | CompressorHuffmanTree.reverseBits[(value >> 4) & 15] << 8\n            | CompressorHuffmanTree.reverseBits[(value >> 8) & 15] << 4\n            | CompressorHuffmanTree.reverseBits[value >> 12]);\n    };\n    /**\n     * calculate length of compressed data\n     * @returns {number}\n     */\n    CompressorHuffmanTree.prototype.getEncodedLength = function () {\n        var len = 0;\n        for (var i = 0; i < this.codeFrequency.length; i++) {\n            len += this.codeFrequency[i] * this.codeLength[i];\n        }\n        return len;\n    };\n    /**\n     * calculate code frequencies\n     * @param {CompressorHuffmanTree} blTree\n     * @returns {void}\n     */\n    CompressorHuffmanTree.prototype.calculateBLFreq = function (blTree) {\n        var maxCount;\n        var minCount;\n        var count;\n        var curLen = -1;\n        var i = 0;\n        while (i < this.codeCount) {\n            count = 1;\n            var nextLen = this.codeLength[i];\n            if (nextLen === 0) {\n                maxCount = 138;\n                minCount = 3;\n            }\n            else {\n                maxCount = 6;\n                minCount = 3;\n                if (curLen !== nextLen) {\n                    blTree.codeFrequency[nextLen]++;\n                    count = 0;\n                }\n            }\n            curLen = nextLen;\n            i++;\n            while (i < this.codeCount && curLen === this.codeLength[i]) {\n                i++;\n                if (++count >= maxCount) {\n                    break;\n                }\n            }\n            if (count < minCount) {\n                blTree.codeFrequency[curLen] += count;\n            }\n            else if (curLen !== 0) {\n                blTree.codeFrequency[16]++;\n            }\n            else if (count <= 10) {\n                blTree.codeFrequency[17]++;\n            }\n            else {\n                blTree.codeFrequency[18]++;\n            }\n        }\n    };\n    /**\n     * @param {CompressorHuffmanTree} blTree - write tree to output stream\n     * @returns {void}\n     */\n    CompressorHuffmanTree.prototype.writeTree = function (blTree) {\n        var maxRepeatCount;\n        var minRepeatCount;\n        var currentRepeatCount;\n        var currentCodeLength = -1;\n        var i = 0;\n        while (i < this.codeCount) {\n            currentRepeatCount = 1;\n            var nextLen = this.codeLength[i];\n            if (nextLen === 0) {\n                maxRepeatCount = 138;\n                minRepeatCount = 3;\n            }\n            else {\n                maxRepeatCount = 6;\n                minRepeatCount = 3;\n                if (currentCodeLength !== nextLen) {\n                    blTree.writeCodeToStream(nextLen);\n                    currentRepeatCount = 0;\n                }\n            }\n            currentCodeLength = nextLen;\n            i++;\n            while (i < this.codeCount && currentCodeLength === this.codeLength[i]) {\n                i++;\n                if (++currentRepeatCount >= maxRepeatCount) {\n                    break;\n                }\n            }\n            if (currentRepeatCount < minRepeatCount) {\n                while (currentRepeatCount-- > 0) {\n                    blTree.writeCodeToStream(currentCodeLength);\n                }\n            }\n            else if (currentCodeLength !== 0) {\n                blTree.writeCodeToStream(16);\n                this.writer.pendingBufferWriteBits(currentRepeatCount - 3, 2);\n            }\n            else if (currentRepeatCount <= 10) {\n                blTree.writeCodeToStream(17);\n                this.writer.pendingBufferWriteBits(currentRepeatCount - 3, 3);\n            }\n            else {\n                blTree.writeCodeToStream(18);\n                this.writer.pendingBufferWriteBits(currentRepeatCount - 11, 7);\n            }\n        }\n    };\n    /**\n     * Build huffman tree\n     * @returns {void}\n     */\n    CompressorHuffmanTree.prototype.buildTree = function () {\n        var codesCount = this.codeFrequency.length;\n        var arrTree = new Int32Array(codesCount);\n        var treeLength = 0;\n        var maxCount = 0;\n        for (var n = 0; n < codesCount; n++) {\n            var freq = this.codeFrequency[n];\n            if (freq !== 0) {\n                var pos = treeLength++;\n                var pPos = 0;\n                while (pos > 0 && this.codeFrequency[arrTree[pPos = Math.floor((pos - 1) / 2)]] > freq) {\n                    arrTree[pos] = arrTree[pPos];\n                    pos = pPos;\n                }\n                arrTree[pos] = n;\n                maxCount = n;\n            }\n        }\n        while (treeLength < 2) {\n            arrTree[treeLength++] =\n                (maxCount < 2) ? ++maxCount : 0;\n        }\n        this.codeCount = Math.max(maxCount + 1, this.codeMinCount);\n        var leafsCount = treeLength;\n        var nodesCount = leafsCount;\n        var child = new Int32Array(4 * treeLength - 2);\n        var values = new Int32Array(2 * treeLength - 1);\n        for (var i = 0; i < treeLength; i++) {\n            var node = arrTree[i];\n            var iIndex = 2 * i;\n            child[iIndex] = node;\n            child[iIndex + 1] = -1;\n            values[i] = (this.codeFrequency[node] << 8);\n            arrTree[i] = i;\n        }\n        this.constructHuffmanTree(arrTree, treeLength, values, nodesCount, child);\n        this.buildLength(child);\n    };\n    CompressorHuffmanTree.prototype.constructHuffmanTree = function (arrTree, treeLength, values, nodesCount, child) {\n        do {\n            var first = arrTree[0];\n            var last = arrTree[--treeLength];\n            var lastVal = values[last];\n            var pPos = 0;\n            var path = 1;\n            while (path < treeLength) {\n                if (path + 1 < treeLength && values[arrTree[path]] > values[arrTree[path + 1]]) {\n                    path++;\n                }\n                arrTree[pPos] = arrTree[path];\n                pPos = path;\n                path = pPos * 2 + 1;\n            }\n            while ((path = pPos) > 0 && values[arrTree[pPos = Math.floor((path - 1) / 2)]] > lastVal) {\n                arrTree[path] = arrTree[pPos];\n            }\n            arrTree[path] = last;\n            var second = arrTree[0];\n            last = nodesCount++;\n            child[2 * last] = first;\n            child[2 * last + 1] = second;\n            var minDepth = Math.min(values[first] & 0xff, values[second] & 0xff);\n            values[last] = lastVal = values[first] + values[second] - minDepth + 1;\n            pPos = 0;\n            path = 1;\n            /* tslint:disable */\n            while (path < treeLength) {\n                if (path + 1 < treeLength && values[arrTree[path]] > values[arrTree[path + 1]]) {\n                    path++;\n                }\n                arrTree[pPos] = arrTree[path];\n                pPos = path;\n                path = pPos * 2 + 1;\n            } /* tslint:disable */\n            while ((path = pPos) > 0 && values[arrTree[pPos = Math.floor((path - 1) / 2)]] > lastVal) {\n                arrTree[path] = arrTree[pPos];\n            }\n            arrTree[path] = last;\n        } while (treeLength > 1);\n    };\n    CompressorHuffmanTree.prototype.buildLength = function (child) {\n        this.codeLength = new Uint8Array(this.codeFrequency.length);\n        var numNodes = Math.floor(child.length / 2);\n        var numLeafs = Math.floor((numNodes + 1) / 2);\n        var overflow = 0;\n        for (var i = 0; i < this.maxLength; i++) {\n            this.lengthCount[i] = 0;\n        }\n        overflow = this.calculateOptimalCodeLength(child, overflow, numNodes);\n        if (overflow === 0) {\n            return;\n        }\n        var iIncreasableLength = this.maxLength - 1;\n        do {\n            while (this.lengthCount[--iIncreasableLength] === 0) {\n                /* tslint:disable */\n            }\n            do {\n                this.lengthCount[iIncreasableLength]--;\n                this.lengthCount[++iIncreasableLength]++;\n                overflow -= (1 << (this.maxLength - 1 - iIncreasableLength));\n            } while (overflow > 0 && iIncreasableLength < this.maxLength - 1);\n        } while (overflow > 0);\n        this.recreateTree(child, overflow, numLeafs);\n    };\n    CompressorHuffmanTree.prototype.recreateTree = function (child, overflow, numLeafs) {\n        this.lengthCount[this.maxLength - 1] += overflow;\n        this.lengthCount[this.maxLength - 2] -= overflow;\n        var nodePtr = 2 * numLeafs;\n        for (var bits = this.maxLength; bits !== 0; bits--) {\n            var n = this.lengthCount[bits - 1];\n            while (n > 0) {\n                var childPtr = 2 * child[nodePtr++];\n                if (child[childPtr + 1] === -1) {\n                    this.codeLength[child[childPtr]] = bits;\n                    n--;\n                }\n            }\n        }\n    };\n    CompressorHuffmanTree.prototype.calculateOptimalCodeLength = function (child, overflow, numNodes) {\n        var lengths = new Int32Array(numNodes);\n        lengths[numNodes - 1] = 0;\n        for (var i = numNodes - 1; i >= 0; i--) {\n            var childIndex = 2 * i + 1;\n            if (child[childIndex] !== -1) {\n                var bitLength = lengths[i] + 1;\n                if (bitLength > this.maxLength) {\n                    bitLength = this.maxLength;\n                    overflow++;\n                }\n                lengths[child[childIndex - 1]] = lengths[child[childIndex]] = bitLength;\n            }\n            else {\n                var bitLength = lengths[i];\n                this.lengthCount[bitLength - 1]++;\n                this.codeLength[child[childIndex - 1]] = lengths[i];\n            }\n        }\n        return overflow;\n    };\n    CompressorHuffmanTree.reverseBits = [0, 8, 4, 12, 2, 10, 6, 14, 1, 9, 5, 13, 3, 11, 7, 15];\n    CompressorHuffmanTree.huffCodeLengthOrders = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];\n    return CompressorHuffmanTree;\n}());\nexport { CompressorHuffmanTree };\n/**\n * Checksum calculator, based on Adler32 algorithm.\n */\nvar ChecksumCalculator = /** @class */ (function () {\n    function ChecksumCalculator() {\n    }\n    /**\n     * Updates checksum by calculating checksum of the\n     * given buffer and adding it to current value.\n     * @param {number} checksum - current checksum.\n     * @param {Uint8Array} buffer - data byte array.\n     * @param {number} offset - offset in the buffer.\n     * @param {number} length - length of data to be used from the stream.\n     * @returns {number}\n     */\n    ChecksumCalculator.checksumUpdate = function (checksum, buffer, offset, length) {\n        var uint = new Uint32Array(1);\n        uint[0] = checksum;\n        var checksum_uint = uint[0];\n        var s1 = uint[0] = checksum_uint & 65535;\n        var s2 = uint[0] = checksum_uint >> ChecksumCalculator.checkSumBitOffset;\n        while (length > 0) {\n            var steps = Math.min(length, ChecksumCalculator.checksumIterationCount);\n            length -= steps;\n            while (--steps >= 0) {\n                s1 = s1 + (uint[0] = (buffer[offset++] & 255));\n                s2 = s2 + s1;\n            }\n            s1 %= ChecksumCalculator.checksumBase;\n            s2 %= ChecksumCalculator.checksumBase;\n        }\n        checksum_uint = (s2 << ChecksumCalculator.checkSumBitOffset) | s1;\n        return checksum_uint;\n    };\n    ChecksumCalculator.checkSumBitOffset = 16;\n    ChecksumCalculator.checksumBase = 65521;\n    ChecksumCalculator.checksumIterationCount = 3800;\n    return ChecksumCalculator;\n}());\nexport { ChecksumCalculator };\n","/**\n * Save class provide method to save file\n * ```typescript\n * let blob : Blob = new Blob([''], { type: 'text/plain' });\n * Save.save('fileName.txt',blob);\n */\nvar Save = /** @class */ (function () {\n    /**\n     * Initialize new instance of {save}\n     */\n    function Save() {\n        // tslint:disable\n    }\n    /**\n     * Saves the file with specified name and sends the file to client browser\n     * @param  {string} fileName- file name to save.\n     * @param  {Blob} buffer- the content to write in file\n     * @param  {boolean} isMicrosoftBrowser- specify whether microsoft browser or not\n     * @returns {void}\n     */\n    Save.save = function (fileName, buffer) {\n        if (fileName === null || fileName === undefined || fileName === '') {\n            throw new Error('ArgumentException: fileName cannot be undefined, null or empty');\n        }\n        var extension = fileName.substring(fileName.lastIndexOf('.') + 1, fileName.length);\n        var mimeType = this.getMimeType(extension);\n        if (mimeType !== '') {\n            buffer = new Blob([buffer], { type: mimeType });\n        }\n        if (this.isMicrosoftBrowser) {\n            navigator.msSaveBlob(buffer, fileName);\n        }\n        else {\n            var downloadLink = document.createElementNS('http://www.w3.org/1999/xhtml', 'a');\n            this.saveInternal(fileName, extension, buffer, downloadLink, 'download' in downloadLink);\n        }\n    };\n    Save.saveInternal = function (fileName, extension, buffer, downloadLink, hasDownloadAttribute) {\n        if (hasDownloadAttribute) {\n            downloadLink.download = fileName;\n            var dataUrl_1 = window.URL.createObjectURL(buffer);\n            downloadLink.href = dataUrl_1;\n            var event_1 = document.createEvent('MouseEvent');\n            event_1.initEvent('click', true, true);\n            downloadLink.dispatchEvent(event_1);\n            setTimeout(function () {\n                window.URL.revokeObjectURL(dataUrl_1);\n                dataUrl_1 = undefined;\n            });\n        }\n        else {\n            if (extension !== 'docx' && extension !== 'xlsx') {\n                var url = window.URL.createObjectURL(buffer);\n                var isPopupBlocked = window.open(url, '_blank');\n                if (!isPopupBlocked) {\n                    window.location.href = url;\n                }\n            }\n            else {\n                var reader_1 = new FileReader();\n                reader_1.onloadend = function () {\n                    var isPopupBlocked = window.open(reader_1.result, '_blank');\n                    if (!isPopupBlocked) {\n                        window.location.href = reader_1.result;\n                    }\n                };\n                reader_1.readAsDataURL(buffer);\n            }\n        }\n    };\n    /**\n     *\n     * @param {string} extension - get mime type of the specified extension\n     * @private\n     */\n    Save.getMimeType = function (extension) {\n        var mimeType = '';\n        switch (extension) {\n            case 'html':\n                mimeType = 'text/html';\n                break;\n            case 'pdf':\n                mimeType = 'application/pdf';\n                break;\n            case 'docx':\n                mimeType = 'application/vnd.openxmlformats-officedocument.wordprocessingml.document';\n                break;\n            case 'xlsx':\n                mimeType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet';\n                break;\n            case 'txt':\n                mimeType = 'text/plain';\n                break;\n        }\n        return mimeType;\n    };\n    return Save;\n}());\nexport { Save };\n","import { CompressedStreamWriter } from './compression-writer';\nimport { Save } from '@syncfusion/ej2-file-utils';\nvar CRC32TABLE = [];\n/**\n * class provide compression library\n * ```typescript\n * let archive = new ZipArchive();\n * archive.compressionLevel = 'Normal';\n * let archiveItem = new ZipArchiveItem(archive, 'directoryName\\fileName.txt');\n * archive.addItem(archiveItem);\n * archive.save(fileName.zip);\n * ```\n */\nvar ZipArchive = /** @class */ (function () {\n    /**\n     * constructor for creating ZipArchive instance\n     */\n    function ZipArchive() {\n        if (CRC32TABLE.length === 0) {\n            ZipArchive.initCrc32Table();\n        }\n        this.files = [];\n        this.level = 'Normal';\n        Save.isMicrosoftBrowser = !(!navigator.msSaveBlob);\n    }\n    Object.defineProperty(ZipArchive.prototype, \"compressionLevel\", {\n        /**\n         * gets compression level\n         */\n        get: function () {\n            return this.level;\n        },\n        /**\n         * sets compression level\n         */\n        set: function (level) {\n            this.level = level;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ZipArchive.prototype, \"length\", {\n        /**\n         * gets items count\n         */\n        get: function () {\n            if (this.files === undefined) {\n                return 0;\n            }\n            return this.files.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * add new item to archive\n     * @param {ZipArchiveItem} item - item to be added\n     * @returns {void}\n     */\n    ZipArchive.prototype.addItem = function (item) {\n        if (item === null || item === undefined) {\n            throw new Error('ArgumentException: item cannot be null or undefined');\n        }\n        for (var i = 0; i < this.files.length; i++) {\n            var file = this.files[i];\n            if (file instanceof ZipArchiveItem) {\n                if (file.name === item.name) {\n                    throw new Error('item with same name already exist');\n                }\n            }\n        }\n        this.files.push(item);\n    };\n    /**\n     * add new directory to archive\n     * @param directoryName directoryName to be created\n     * @returns {void}\n     */\n    ZipArchive.prototype.addDirectory = function (directoryName) {\n        if (directoryName === null || directoryName === undefined) {\n            throw new Error('ArgumentException: string cannot be null or undefined');\n        }\n        if (directoryName.length === 0) {\n            throw new Error('ArgumentException: string cannot be empty');\n        }\n        if (directoryName.slice(-1) !== '/') {\n            directoryName += '/';\n        }\n        if (this.files.indexOf(directoryName) !== -1) {\n            throw new Error('item with same name already exist');\n        }\n        this.files.push(directoryName);\n    };\n    /**\n     * gets item at specified index\n     * @param {number} index - item index\n     * @returns {ZipArchiveItem}\n     */\n    ZipArchive.prototype.getItem = function (index) {\n        if (index >= 0 && index < this.files.length) {\n            return this.files[index];\n        }\n        return undefined;\n    };\n    /**\n     * determines whether an element is in the collection\n     * @param {string | ZipArchiveItem} item - item to search\n     * @returns {boolean}\n     */\n    ZipArchive.prototype.contains = function (item) {\n        return this.files.indexOf(item) !== -1 ? true : false;\n    };\n    /**\n     * save archive with specified file name\n     * @param {string} fileName save archive with specified file name\n     * @returns {Promise<ZipArchive>}\n     */\n    ZipArchive.prototype.save = function (fileName) {\n        if (fileName === null || fileName === undefined || fileName.length === 0) {\n            throw new Error('ArgumentException: fileName cannot be null or undefined');\n        }\n        if (this.files.length === 0) {\n            throw new Error('InvalidOperation');\n        }\n        var zipArchive = this;\n        var promise;\n        return promise = new Promise(function (resolve, reject) {\n            zipArchive.saveInternal(fileName, false).then(function () {\n                resolve(zipArchive);\n            });\n        });\n    };\n    /**\n     * Save archive as blob\n     * @return {Promise<Blob>}\n     */\n    ZipArchive.prototype.saveAsBlob = function () {\n        var zipArchive = this;\n        var promise;\n        return promise = new Promise(function (resolve, reject) {\n            zipArchive.saveInternal('', true).then(function (blob) {\n                resolve(blob);\n            });\n        });\n    };\n    ZipArchive.prototype.saveInternal = function (fileName, skipFileSave) {\n        var _this = this;\n        var zipArchive = this;\n        var promise;\n        return promise = new Promise(function (resolve, reject) {\n            var zipData = [];\n            var dirLength = 0;\n            for (var i = 0; i < zipArchive.files.length; i++) {\n                var compressedObject = _this.getCompressedData(_this.files[i]);\n                compressedObject.then(function (data) {\n                    dirLength = zipArchive.constructZippedObject(zipData, data, dirLength, data.isDirectory);\n                    if (zipData.length === zipArchive.files.length) {\n                        var blob = zipArchive.writeZippedContent(fileName, zipData, dirLength, skipFileSave);\n                        resolve(blob);\n                    }\n                });\n            }\n        });\n    };\n    /**\n     * release allocated un-managed resource\n     * @returns {void}\n     */\n    ZipArchive.prototype.destroy = function () {\n        if (this.files !== undefined && this.files.length > 0) {\n            for (var i = 0; i < this.files.length; i++) {\n                var file = this.files[i];\n                if (file instanceof ZipArchiveItem) {\n                    file.destroy();\n                }\n                file = undefined;\n            }\n            this.files = [];\n        }\n        this.files = undefined;\n        this.level = undefined;\n    };\n    ZipArchive.prototype.getCompressedData = function (item) {\n        var zipArchive = this;\n        var promise = new Promise(function (resolve, reject) {\n            if (item instanceof ZipArchiveItem) {\n                var reader_1 = new FileReader();\n                reader_1.onload = function () {\n                    var input = new Uint8Array(reader_1.result);\n                    var data = {\n                        fileName: item.name, crc32Value: 0, compressedData: [],\n                        compressedSize: undefined, uncompressedDataSize: input.length, compressionType: undefined,\n                        isDirectory: false\n                    };\n                    if (zipArchive.level === 'Normal') {\n                        zipArchive.compressData(input, data, CRC32TABLE);\n                        var length_1 = 0;\n                        for (var i = 0; i < data.compressedData.length; i++) {\n                            length_1 += data.compressedData[i].length;\n                        }\n                        data.compressedSize = length_1;\n                        data.compressionType = '\\x08\\x00'; //Deflated = 8\n                    }\n                    else {\n                        data.compressedSize = input.length;\n                        data.crc32Value = zipArchive.calculateCrc32Value(0, input, CRC32TABLE);\n                        data.compressionType = '\\x00\\x00'; // Stored = 0\n                        data.compressedData.push(input);\n                    }\n                    resolve(data);\n                };\n                reader_1.readAsArrayBuffer(item.data);\n            }\n            else {\n                var data = {\n                    fileName: item, crc32Value: 0, compressedData: '', compressedSize: 0, uncompressedDataSize: 0,\n                    compressionType: '\\x00\\x00', isDirectory: true\n                };\n                resolve(data);\n            }\n        });\n        return promise;\n    };\n    ZipArchive.prototype.compressData = function (input, data, crc32Table) {\n        var compressor = new CompressedStreamWriter(true);\n        var currentIndex = 0;\n        var nextIndex = 0;\n        do {\n            if (currentIndex >= input.length) {\n                compressor.close();\n                break;\n            }\n            nextIndex = Math.min(input.length, currentIndex + 16384);\n            var subArray = input.subarray(currentIndex, nextIndex);\n            data.crc32Value = this.calculateCrc32Value(data.crc32Value, subArray, crc32Table);\n            compressor.write(subArray, 0, nextIndex - currentIndex);\n            currentIndex = nextIndex;\n        } while (currentIndex <= input.length);\n        data.compressedData = compressor.compressedData;\n        compressor.destroy();\n    };\n    ZipArchive.prototype.constructZippedObject = function (zipParts, data, dirLength, isDirectory) {\n        var extFileAttr = 0;\n        var date = new Date();\n        if (isDirectory) {\n            extFileAttr = extFileAttr | 0x00010; // directory flag\n        }\n        extFileAttr = extFileAttr | (0 & 0x3F);\n        var header = this.writeHeader(data, date);\n        var localHeader = 'PK\\x03\\x04' + header + data.fileName;\n        var centralDir = this.writeCentralDirectory(data, header, dirLength, extFileAttr);\n        zipParts.push({ localHeader: localHeader, centralDir: centralDir, compressedData: data });\n        return dirLength + localHeader.length + data.compressedSize;\n    };\n    ZipArchive.prototype.writeHeader = function (data, date) {\n        var zipHeader = '';\n        zipHeader += '\\x0A\\x00' + '\\x00\\x00'; // version needed to extract & general purpose bit flag\n        zipHeader += data.compressionType; // compression method Deflate=8,Stored=0\n        zipHeader += this.getBytes(this.getModifiedTime(date), 2); // last modified Time\n        zipHeader += this.getBytes(this.getModifiedDate(date), 2); // last modified date\n        zipHeader += this.getBytes(data.crc32Value, 4); // crc-32 value\n        zipHeader += this.getBytes(data.compressedSize, 4); // compressed file size\n        zipHeader += this.getBytes(data.uncompressedDataSize, 4); // uncompressed file size\n        zipHeader += this.getBytes(data.fileName.length, 2); // file name length\n        zipHeader += this.getBytes(0, 2); // extra field length\n        return zipHeader;\n    };\n    ZipArchive.prototype.writeZippedContent = function (fileName, zipData, localDirLen, skipFileSave) {\n        var cenDirLen = 0;\n        var buffer = [];\n        for (var i = 0; i < zipData.length; i++) {\n            var item = zipData[i];\n            cenDirLen += item.centralDir.length;\n            buffer.push(this.getArrayBuffer(item.localHeader));\n            while (item.compressedData.compressedData.length) {\n                buffer.push(item.compressedData.compressedData.shift().buffer);\n            }\n        }\n        for (var i = 0; i < zipData.length; i++) {\n            buffer.push(this.getArrayBuffer(zipData[i].centralDir));\n        }\n        buffer.push(this.getArrayBuffer(this.writeFooter(zipData, cenDirLen, localDirLen)));\n        var blob = new Blob(buffer, { type: 'application/zip' });\n        if (!skipFileSave) {\n            Save.save(fileName, blob);\n        }\n        return blob;\n    };\n    ZipArchive.prototype.writeCentralDirectory = function (data, localHeader, offset, externalFileAttribute) {\n        var directoryHeader = 'PK\\x01\\x02' +\n            this.getBytes(0x0014, 2) + localHeader + // inherit from file header\n            this.getBytes(0, 2) + // comment length\n            '\\x00\\x00' + '\\x00\\x00' + // internal file attributes \n            this.getBytes(externalFileAttribute, 4) + // external file attributes\n            this.getBytes(offset, 4) + // local fileHeader relative offset\n            data.fileName;\n        return directoryHeader;\n    };\n    ZipArchive.prototype.writeFooter = function (zipData, centralLength, localLength) {\n        var dirEnd = 'PK\\x05\\x06' + '\\x00\\x00' + '\\x00\\x00' +\n            this.getBytes(zipData.length, 2) + this.getBytes(zipData.length, 2) +\n            this.getBytes(centralLength, 4) + this.getBytes(localLength, 4) +\n            this.getBytes(0, 2);\n        return dirEnd;\n    };\n    ZipArchive.prototype.getArrayBuffer = function (input) {\n        var a = new Uint8Array(input.length);\n        for (var j = 0; j < input.length; ++j) {\n            a[j] = input.charCodeAt(j) & 0xFF;\n        }\n        return a.buffer;\n    };\n    ZipArchive.prototype.getBytes = function (value, offset) {\n        var bytes = '';\n        for (var i = 0; i < offset; i++) {\n            bytes += String.fromCharCode(value & 0xff);\n            value = value >>> 8;\n        }\n        return bytes;\n    };\n    ZipArchive.prototype.getModifiedTime = function (date) {\n        var modTime = date.getHours();\n        modTime = modTime << 6;\n        modTime = modTime | date.getMinutes();\n        modTime = modTime << 5;\n        return modTime = modTime | date.getSeconds() / 2;\n    };\n    ZipArchive.prototype.getModifiedDate = function (date) {\n        var modiDate = date.getFullYear() - 1980;\n        modiDate = modiDate << 4;\n        modiDate = modiDate | (date.getMonth() + 1);\n        modiDate = modiDate << 5;\n        return modiDate = modiDate | date.getDate();\n    };\n    ZipArchive.prototype.calculateCrc32Value = function (crc32Value, input, crc32Table) {\n        crc32Value ^= -1;\n        for (var i = 0; i < input.length; i++) {\n            crc32Value = (crc32Value >>> 8) ^ crc32Table[(crc32Value ^ input[i]) & 0xFF];\n        }\n        return (crc32Value ^ (-1));\n    };\n    /**\n     * construct cyclic redundancy code table\n     * @private\n     */\n    ZipArchive.initCrc32Table = function () {\n        var i;\n        for (var j = 0; j < 256; j++) {\n            i = j;\n            for (var k = 0; k < 8; k++) {\n                i = ((i & 1) ? (0xEDB88320 ^ (i >>> 1)) : (i >>> 1));\n            }\n            CRC32TABLE[j] = i;\n        }\n    };\n    return ZipArchive;\n}());\nexport { ZipArchive };\n/**\n * Class represent unique ZipArchive item\n * ```typescript\n * let archiveItem = new ZipArchiveItem(archive, 'directoryName\\fileName.txt');\n * ```\n */\nvar ZipArchiveItem = /** @class */ (function () {\n    /**\n     * constructor for creating {ZipArchiveItem} instance\n     * @param {Blob|ArrayBuffer} data file data\n     * @param {itemName} itemName absolute file path\n     */\n    function ZipArchiveItem(data, itemName) {\n        if (data === null || data === undefined) {\n            throw new Error('ArgumentException: data cannot be null or undefined');\n        }\n        if (itemName === null || itemName === undefined) {\n            throw new Error('ArgumentException: string cannot be null or undefined');\n        }\n        if (itemName.length === 0) {\n            throw new Error('string cannot be empty');\n        }\n        this.data = data;\n        this.name = itemName;\n    }\n    Object.defineProperty(ZipArchiveItem.prototype, \"name\", {\n        /**\n         * Get the name of archive item\n         * @returns string\n         */\n        get: function () {\n            return this.fileName;\n        },\n        /**\n         * Set the name of archive item\n         * @param  {string} value\n         */\n        set: function (value) {\n            this.fileName = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * release allocated un-managed resource\n     * @returns {void}\n     */\n    ZipArchiveItem.prototype.destroy = function () {\n        this.fileName = undefined;\n        this.data = undefined;\n    };\n    return ZipArchiveItem;\n}());\nexport { ZipArchiveItem };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Internationalization } from '@syncfusion/ej2-base';\n// import { IValueFormatter } from '../base/interface';\n/**\n * ValueFormatter class to globalize the value.\n * @private\n */\nvar ValueFormatter = /** @class */ (function () {\n    function ValueFormatter(cultureName) {\n        this.intl = new Internationalization();\n        // if (!isNullOrUndefined(cultureName)) {\n        //     this.intl.culture = cultureName;\n        // }\n    }\n    ValueFormatter.prototype.getFormatFunction = function (format, isServerRendered) {\n        if (format.type) {\n            if (isServerRendered) {\n                format.isServerRendered = true;\n            }\n            return this.intl.getDateFormat(format);\n        }\n        else {\n            return this.intl.getNumberFormat(format);\n        }\n    };\n    // public getParserFunction(format: NumberFormatOptions | DateFormatOptions): Function {\n    //     if ((<DateFormatOptions>format).type) {\n    //         return this.intl.getDateParser(<DateFormatOptions>format);\n    //     } else {\n    //         return this.intl.getNumberParser(<DateFormatOptions>format);\n    //     }\n    // }\n    // public fromView(value: string, format: Function, type?: string): string | number | Date {\n    //     if (type === 'date' || type === 'datetime' || type === 'number') {\n    //         return format(value);\n    //     } else {\n    //         return value;\n    //     }\n    // }\n    ValueFormatter.prototype.toView = function (value, format) {\n        var result = value;\n        if (!isNullOrUndefined(format) && !isNullOrUndefined(value)) {\n            result = format(value);\n        }\n        return result;\n    };\n    // public setCulture(cultureName: string): void {\n    //     if (!isNullOrUndefined(cultureName)) {\n    //         setCulture(cultureName);\n    //     }\n    // }\n    /* tslint:disable:no-any */\n    ValueFormatter.prototype.displayText = function (value, format, isServerRendered) {\n        return this.toView(value, this.getFormatFunction(format, isServerRendered));\n    };\n    return ValueFormatter;\n}());\nexport { ValueFormatter };\n","import { ValueFormatter } from './value-formatter';\n/**\n * CsvHelper class\n * @private\n */\nvar CsvHelper = /** @class */ (function () {\n    /* tslint:disable:no-any */\n    function CsvHelper(json, separator) {\n        this.csvStr = '';\n        if (separator === null || separator === undefined) {\n            this.separator = ',';\n        }\n        else {\n            this.separator = separator;\n        }\n        this.formatter = new ValueFormatter();\n        this.isMicrosoftBrowser = !(!navigator.msSaveBlob);\n        if (json.isServerRendered !== null && json.isServerRendered !== undefined) {\n            this.isServerRendered = json.isServerRendered;\n        }\n        if (json.styles !== null && json.styles !== undefined) {\n            this.globalStyles = new Map();\n            for (var i = 0; i < json.styles.length; i++) {\n                if (json.styles[i].name !== undefined && json.styles[i].numberFormat !== undefined) {\n                    this.globalStyles.set(json.styles[i].name, json.styles[i].numberFormat);\n                }\n            }\n        }\n        // Parses Worksheets data to DOM.        \n        if (json.worksheets !== null && json.worksheets !== undefined) {\n            this.parseWorksheet(json.worksheets[0]);\n        }\n        //this.csvStr = 'a1,a2,a3\\nb1,b2,b3';\n    }\n    CsvHelper.prototype.parseWorksheet = function (json) {\n        //Rows\n        if (json.rows !== null && json.rows !== undefined) {\n            this.parseRows(json.rows);\n        }\n    };\n    /* tslint:disable:no-any */\n    CsvHelper.prototype.parseRows = function (rows) {\n        var count = 1;\n        for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n            var row = rows_1[_i];\n            //Row index\n            if (row.index !== null && row.index !== undefined) {\n                while (count < row.index) {\n                    this.csvStr += '\\n';\n                    count++;\n                }\n                this.parseRow(row);\n            }\n            else {\n                throw Error('Row index is missing.');\n            }\n        }\n    };\n    /* tslint:disable:no-any */\n    CsvHelper.prototype.parseRow = function (row) {\n        if (row.cells !== null && row.cells !== undefined) {\n            var count = 1;\n            for (var _i = 0, _a = row.cells; _i < _a.length; _i++) {\n                var cell = _a[_i];\n                //cell index\n                if (cell.index !== null && cell.index !== undefined) {\n                    while (count < cell.index) {\n                        this.csvStr += this.separator;\n                        count++;\n                    }\n                    this.parseCell(cell);\n                }\n                else {\n                    throw Error('Cell index is missing.');\n                }\n            }\n        }\n    };\n    /* tslint:disable:no-any */\n    CsvHelper.prototype.parseCell = function (cell) {\n        var csv = this.csvStr;\n        if (cell.value !== undefined) {\n            if (cell.value instanceof Date) {\n                if (cell.style !== undefined && cell.style.numberFormat !== undefined) {\n                    /* tslint:disable-next-line:max-line-length */\n                    try {\n                        csv += this.parseCellValue(this.formatter.displayText(cell.value, { type: 'dateTime', skeleton: cell.style.numberFormat }, this.isServerRendered));\n                    }\n                    catch (error) {\n                        /* tslint:disable-next-line:max-line-length */\n                        csv += this.parseCellValue(this.formatter.displayText(cell.value, { type: 'dateTime', format: cell.style.numberFormat }, this.isServerRendered));\n                    }\n                }\n                else if (cell.style !== undefined && cell.style.name !== undefined && this.globalStyles.has(cell.style.name)) {\n                    /* tslint:disable-next-line:max-line-length */\n                    try {\n                        csv += this.parseCellValue(this.formatter.displayText(cell.value, { type: 'dateTime', skeleton: this.globalStyles.get(cell.style.name) }, this.isServerRendered));\n                    }\n                    catch (error) {\n                        /* tslint:disable-next-line:max-line-length */\n                        csv += this.parseCellValue(this.formatter.displayText(cell.value, { type: 'dateTime', format: this.globalStyles.get(cell.style.name) }, this.isServerRendered));\n                    }\n                }\n                else {\n                    csv += cell.value;\n                }\n            }\n            else if (typeof (cell.value) === 'boolean') {\n                csv += cell.value ? 'TRUE' : 'FALSE';\n            }\n            else if (typeof (cell.value) === 'number') {\n                if (cell.style !== undefined && cell.style.numberFormat !== undefined) {\n                    /* tslint:disable-next-line:max-line-length */\n                    csv += this.parseCellValue(this.formatter.displayText(cell.value, { format: cell.style.numberFormat }, this.isServerRendered));\n                }\n                else if (cell.style !== undefined && cell.style.name !== undefined && this.globalStyles.has(cell.style.name)) {\n                    /* tslint:disable-next-line:max-line-length */\n                    csv += this.parseCellValue(this.formatter.displayText(cell.value, { format: this.globalStyles.get(cell.style.name) }, this.isServerRendered));\n                }\n                else {\n                    csv += cell.value;\n                }\n            }\n            else {\n                csv += this.parseCellValue(cell.value);\n            }\n        }\n        this.csvStr = csv;\n    };\n    CsvHelper.prototype.parseCellValue = function (value) {\n        var val = '';\n        var length = value.length;\n        for (var start = 0; start < length; start++) {\n            if (value[start] === '\\\"') {\n                val += value[start].replace('\\\"', '\\\"\\\"');\n            }\n            else {\n                val += value[start];\n            }\n        }\n        value = val;\n        if (value.indexOf(this.separator) !== -1 || value.indexOf('\\n') !== -1) {\n            return value = '\\\"' + value + '\\\"';\n        }\n        else {\n            return value;\n        }\n    };\n    /**\n     * Saves the file with specified name and sends the file to client browser\n     * @param  {string} fileName- file name to save.\n     * @param  {Blob} buffer- the content to write in file\n     */\n    CsvHelper.prototype.save = function (fileName) {\n        this.buffer = new Blob(['\\ufeff' + this.csvStr], { type: 'text/csv;charset=UTF-8' });\n        if (this.isMicrosoftBrowser) {\n            navigator.msSaveBlob(this.buffer, fileName);\n        }\n        else {\n            var dataUrl_1 = window.URL.createObjectURL(this.buffer);\n            var dwlLink = document.createElementNS('http://www.w3.org/1999/xhtml', 'a');\n            dwlLink.download = fileName;\n            dwlLink.href = dataUrl_1;\n            var event_1 = document.createEvent('MouseEvent');\n            event_1.initEvent('click', true, true);\n            dwlLink.dispatchEvent(event_1);\n            setTimeout(function () {\n                window.URL.revokeObjectURL(dataUrl_1);\n            });\n        }\n    };\n    CsvHelper.prototype.saveAsBlob = function () {\n        return new Blob(['\\ufeff' + this.csvStr], { type: 'text/csv;charset=UTF-8' });\n    };\n    return CsvHelper;\n}());\nexport { CsvHelper };\n","/**\n * BlobHelper class\n * @private\n */\nvar BlobHelper = /** @class */ (function () {\n    function BlobHelper() {\n        /* tslint:disable:no-any */\n        this.parts = [];\n    }\n    /* tslint:disable:no-any */\n    BlobHelper.prototype.append = function (part) {\n        this.parts.push(part);\n        this.blob = undefined; // Invalidate the blob\n    };\n    BlobHelper.prototype.getBlob = function () {\n        return new Blob(this.parts, { type: 'text/plain' });\n    };\n    return BlobHelper;\n}());\nexport { BlobHelper };\n","/**\n * AutoFilters class\n * @private\n */\nvar AutoFilters = /** @class */ (function () {\n    function AutoFilters() {\n    }\n    return AutoFilters;\n}());\nexport { AutoFilters };\n","import { Worksheets } from './worksheets';\nimport { Worksheet, FreezePane, MergeCell, MergeCells, HyperLink, Grouping } from './worksheet';\nimport { CellStyle, Font, Borders, CellXfs, Alignment, NumFmt, CellStyleXfs, CellStyles } from './cell-style';\nimport { Column } from './column';\nimport { Row, Rows } from './row';\nimport { Image } from './image';\nimport { Cell, Cells } from './cell';\nimport { ZipArchive, ZipArchiveItem } from '@syncfusion/ej2-compression';\nimport { CsvHelper } from './csv-helper';\nimport { Internationalization, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { BlobHelper } from './blob-helper';\nimport { AutoFilters } from './auto-filters';\n/**\n * Workbook class\n */\nvar Workbook = /** @class */ (function () {\n    /* tslint:disable:no-any */\n    function Workbook(json, saveType, culture, currencyString, separator) {\n        this.sharedStringCount = 0;\n        this.unitsProportions = [\n            96 / 75.0,\n            96 / 300.0,\n            96,\n            96 / 25.4,\n            96 / 2.54,\n            1,\n            96 / 72.0,\n            96 / 72.0 / 12700,\n        ];\n        /* tslint:disable:no-any */\n        this.hyperlinkStyle = { fontColor: '#0000FF', underline: true };\n        if (culture !== undefined) {\n            this.culture = culture;\n        }\n        else {\n            this.culture = 'en-US';\n        }\n        if (currencyString !== undefined) {\n            this.currency = currencyString;\n        }\n        else {\n            this.currency = 'USD';\n        }\n        this.intl = new Internationalization(this.culture);\n        this.mSaveType = saveType;\n        if (saveType === 'xlsx') {\n            this.mArchive = new ZipArchive();\n            this.sharedString = [];\n            this.mFonts = [];\n            this.mBorders = [];\n            this.mStyles = [];\n            this.printTitles = new Map();\n            this.cellStyles = new Map();\n            this.mNumFmt = new Map();\n            this.mFills = new Map();\n            this.mStyles.push(new CellStyle());\n            this.mFonts.push(new Font());\n            /* tslint:disable */\n            this.cellStyles.set('Normal', new CellStyles());\n            /* tslint:enable */\n            this.mCellXfs = [];\n            this.mCellStyleXfs = [];\n            this.drawingCount = 0;\n            this.imageCount = 0;\n            if (json.styles !== null && json.styles !== undefined) {\n                /* tslint:disable-next-line:no-any */\n                this.globalStyles = new Map();\n                for (var i = 0; i < json.styles.length; i++) {\n                    if (json.styles[i].name !== undefined) {\n                        if (!this.cellStyles.has(json.styles[i].name)) {\n                            var cellStyle = new CellStyle();\n                            cellStyle.isGlobalStyle = true;\n                            this.parserCellStyle(json.styles[i], cellStyle, 'none');\n                            var cellStylesIn = new CellStyles();\n                            cellStylesIn.name = cellStyle.name;\n                            cellStylesIn.xfId = (cellStyle.index - 1);\n                            this.cellStyles.set(cellStylesIn.name, cellStylesIn);\n                            /* tslint:disable-next-line:no-any */\n                            var tFormat = {};\n                            if (json.styles[i].numberFormat !== undefined) {\n                                tFormat.format = json.styles[i].numberFormat;\n                            }\n                            if (json.styles[i].type !== undefined) {\n                                tFormat.type = json.styles[i].type;\n                            }\n                            else {\n                                tFormat.type = 'datetime';\n                            }\n                            if (tFormat.format !== undefined) {\n                                this.globalStyles.set(json.styles[i].name, tFormat);\n                            }\n                        }\n                        else {\n                            throw Error('Style name ' + json.styles[i].name + ' is already existed');\n                        }\n                    }\n                }\n            }\n            // Parses Worksheets data to DOM.        \n            if (json.worksheets !== null && json.worksheets !== undefined) {\n                this.parserWorksheets(json.worksheets);\n            }\n            else {\n                throw Error('Worksheet is expected.');\n            }\n            // Parses the BuiltInProperties data to DOM.        \n            if (json.builtInProperties !== null && json.builtInProperties !== undefined) {\n                this.builtInProperties = new BuiltInProperties();\n                this.parserBuiltInProperties(json.builtInProperties, this.builtInProperties);\n            }\n        }\n        else {\n            this.csvHelper = new CsvHelper(json, separator);\n        }\n    }\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserBuiltInProperties = function (jsonBuiltInProperties, builtInProperties) {\n        //Author\n        if (jsonBuiltInProperties.author !== null && jsonBuiltInProperties.author !== undefined) {\n            builtInProperties.author = jsonBuiltInProperties.author;\n        }\n        //Comments\n        if (jsonBuiltInProperties.comments !== null && jsonBuiltInProperties.comments !== undefined) {\n            builtInProperties.comments = jsonBuiltInProperties.comments;\n        }\n        //Category\n        if (jsonBuiltInProperties.category !== null && jsonBuiltInProperties.category !== undefined) {\n            builtInProperties.category = jsonBuiltInProperties.category;\n        }\n        //Company\n        if (jsonBuiltInProperties.company !== null && jsonBuiltInProperties.company !== undefined) {\n            builtInProperties.company = jsonBuiltInProperties.company;\n        }\n        //Manager\n        if (jsonBuiltInProperties.manager !== null && jsonBuiltInProperties.manager !== undefined) {\n            builtInProperties.manager = jsonBuiltInProperties.manager;\n        }\n        //Subject\n        if (jsonBuiltInProperties.subject !== null && jsonBuiltInProperties.subject !== undefined) {\n            builtInProperties.subject = jsonBuiltInProperties.subject;\n        }\n        //Title\n        if (jsonBuiltInProperties.title !== null && jsonBuiltInProperties.title !== undefined) {\n            builtInProperties.title = jsonBuiltInProperties.title;\n        }\n        //Creation date\n        if (jsonBuiltInProperties.createdDate !== null && jsonBuiltInProperties.createdDate !== undefined) {\n            builtInProperties.createdDate = jsonBuiltInProperties.createdDate;\n        }\n        //Modified date\n        if (jsonBuiltInProperties.modifiedDate !== null && jsonBuiltInProperties.modifiedDate !== undefined) {\n            builtInProperties.modifiedDate = jsonBuiltInProperties.modifiedDate;\n        }\n        //Tags\n        if (jsonBuiltInProperties.tags !== null && jsonBuiltInProperties.tags !== undefined) {\n            builtInProperties.tags = jsonBuiltInProperties.tags;\n        }\n        //Status\n        if (jsonBuiltInProperties.status !== null && jsonBuiltInProperties.status !== undefined) {\n            builtInProperties.status = jsonBuiltInProperties.status;\n        }\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserWorksheets = function (json) {\n        this.worksheets = new Worksheets();\n        var length = json.length;\n        for (var i = 0; i < length; i++) {\n            var jsonSheet = json[i];\n            var sheet = new Worksheet();\n            this.mergeCells = new MergeCells();\n            this.mergedCellsStyle = new Map();\n            this.mHyperLinks = [];\n            //Name\n            if (jsonSheet.name !== null && jsonSheet.name !== undefined) {\n                sheet.name = jsonSheet.name;\n            }\n            else {\n                sheet.name = 'Sheet' + (i + 1).toString();\n            }\n            if (jsonSheet.enableRtl !== null && jsonSheet.enableRtl !== undefined) {\n                sheet.enableRtl = jsonSheet.enableRtl;\n            }\n            sheet.index = (i + 1);\n            //Columns\n            if (jsonSheet.columns !== null && jsonSheet.columns !== undefined) {\n                this.parserColumns(jsonSheet.columns, sheet);\n            }\n            //Rows\n            if (jsonSheet.rows !== null && jsonSheet.rows !== undefined) {\n                this.parserRows(jsonSheet.rows, sheet);\n            }\n            //showGridLines\n            if (jsonSheet.showGridLines !== null && jsonSheet.showGridLines !== undefined) {\n                sheet.showGridLines = jsonSheet.showGridLines;\n            }\n            //FreezePanes\n            if (jsonSheet.freeze !== null && jsonSheet.freeze !== undefined) {\n                this.parserFreezePanes(jsonSheet.freeze, sheet);\n            }\n            //Print Title\n            if (jsonSheet.printTitle !== null && jsonSheet.printTitle !== undefined) {\n                this.parserPrintTitle(jsonSheet.printTitle, sheet);\n            }\n            if (jsonSheet.pageSetup !== undefined) {\n                if (jsonSheet.pageSetup.isSummaryRowBelow !== undefined) {\n                    sheet.isSummaryRowBelow = jsonSheet.pageSetup.isSummaryRowBelow;\n                }\n            }\n            if (jsonSheet.images !== undefined) {\n                this.parserImages(jsonSheet.images, sheet);\n            }\n            if (jsonSheet.autoFilters !== null && jsonSheet.autoFilters !== undefined) {\n                this.parseFilters(jsonSheet.autoFilters, sheet);\n            }\n            sheet.index = (i + 1);\n            sheet.mergeCells = this.mergeCells;\n            sheet.hyperLinks = this.mHyperLinks;\n            this.worksheets.push(sheet);\n        }\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.mergeOptions = function (fromJson, toJson) {\n        /* tslint:disable:no-any */\n        var result = {};\n        this.applyProperties(fromJson, result);\n        this.applyProperties(toJson, result);\n        return result;\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.applyProperties = function (sourceJson, destJson) {\n        var keys = Object.keys(sourceJson);\n        for (var index = 0; index < keys.length; index++) {\n            if (keys[index] !== 'name') {\n                destJson[keys[index]] = sourceJson[keys[index]];\n            }\n        }\n    };\n    Workbook.prototype.getCellName = function (row, column) {\n        return this.getColumnName(column) + row.toString();\n    };\n    Workbook.prototype.getColumnName = function (col) {\n        col--;\n        var strColumnName = '';\n        do {\n            var iCurrentDigit = col % 26;\n            col = col / 26 - 1;\n            strColumnName = String.fromCharCode(65 + iCurrentDigit) + strColumnName;\n        } while (col >= 0);\n        return strColumnName;\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserPrintTitle = function (json, sheet) {\n        var printTitleName = '';\n        var titleRowName;\n        if (json.fromRow !== null && json.fromRow !== undefined) {\n            var fromRow = json.fromRow;\n            var toRow = void 0;\n            if (json.toRow !== null && json.toRow !== undefined) {\n                toRow = json.toRow;\n            }\n            else {\n                toRow = json.fromRow;\n            }\n            titleRowName = '$' + fromRow + ':$' + toRow;\n        }\n        var titleColName;\n        if (json.fromColumn !== null && json.fromColumn !== undefined) {\n            var fromColumn = json.fromColumn;\n            var toColumn = void 0;\n            if (json.toColumn !== null && json.toColumn !== undefined) {\n                toColumn = json.toColumn;\n            }\n            else {\n                toColumn = json.fromColumn;\n            }\n            titleColName = '$' + this.getColumnName(fromColumn) + ':$' + this.getColumnName(toColumn);\n        }\n        if (titleRowName !== undefined) {\n            printTitleName += (sheet.name + '!' + titleRowName);\n        }\n        if (titleColName !== undefined && titleRowName !== undefined) {\n            printTitleName += ',' + (sheet.name + '!' + titleColName);\n        }\n        else if (titleColName !== undefined) {\n            printTitleName += (sheet.name + '!' + titleColName);\n        }\n        if (printTitleName !== '') {\n            this.printTitles.set(sheet.index - 1, printTitleName);\n        }\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserFreezePanes = function (json, sheet) {\n        sheet.freezePanes = new FreezePane();\n        if (json.row !== null && json.row !== undefined) {\n            sheet.freezePanes.row = json.row;\n        }\n        else {\n            sheet.freezePanes.row = 0;\n        }\n        if (json.column !== null && json.column !== undefined) {\n            sheet.freezePanes.column = json.column;\n        }\n        else {\n            sheet.freezePanes.column = 0;\n        }\n        sheet.freezePanes.leftCell = this.getCellName(sheet.freezePanes.row + 1, sheet.freezePanes.column + 1);\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserColumns = function (json, sheet) {\n        var columnsLength = json.length;\n        sheet.columns = [];\n        for (var column = 0; column < columnsLength; column++) {\n            var col = new Column();\n            if (json[column].index !== null && json[column].index !== undefined) {\n                col.index = json[column].index;\n            }\n            else {\n                throw Error('Column index is missing.');\n            }\n            if (json[column].width !== null && json[column].width !== undefined) {\n                col.width = json[column].width;\n            }\n            sheet.columns.push(col);\n        }\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserRows = function (json, sheet) {\n        var rowsLength = json.length;\n        sheet.rows = new Rows();\n        var rowId = 0;\n        for (var r = 0; r < rowsLength; r++) {\n            var row = this.parserRow(json[r], rowId);\n            rowId = row.index;\n            sheet.rows.add(row);\n        }\n        this.insertMergedCellsStyle(sheet);\n    };\n    Workbook.prototype.insertMergedCellsStyle = function (sheet) {\n        var _this = this;\n        if (this.mergeCells.length > 0) {\n            this.mergedCellsStyle.forEach(function (value, key) {\n                var row = sheet.rows.filter(function (item) {\n                    return item.index === value.y;\n                })[0];\n                if (!isNullOrUndefined(row)) {\n                    var cell = row.cells.filter(function (item) {\n                        return item.index === value.x;\n                    })[0];\n                    if (!isNullOrUndefined(cell)) {\n                        cell.styleIndex = value.styleIndex;\n                    }\n                    else {\n                        var cells = row.cells.filter(function (item) {\n                            return item.index <= value.x;\n                        });\n                        var insertIndex = 0;\n                        if (cells.length > 0) {\n                            insertIndex = row.cells.indexOf(cells[cells.length - 1]) + 1;\n                        }\n                        row.cells.splice(insertIndex, 0, _this.createCell(value, key));\n                    }\n                }\n                else {\n                    var rows = sheet.rows.filter(function (item) {\n                        return item.index <= value.y;\n                    });\n                    var rowToInsert = new Row();\n                    rowToInsert.index = value.y;\n                    rowToInsert.cells = new Cells();\n                    rowToInsert.cells.add(_this.createCell(value, key));\n                    var insertIndex = 0;\n                    if (rows.length > 0) {\n                        insertIndex = sheet.rows.indexOf(rows[rows.length - 1]) + 1;\n                    }\n                    sheet.rows.splice(insertIndex, 0, rowToInsert);\n                }\n            });\n        }\n    };\n    Workbook.prototype.createCell = function (value, key) {\n        var cellToInsert = new Cell();\n        cellToInsert.refName = key;\n        cellToInsert.index = value.x;\n        cellToInsert.cellStyle = new CellStyle();\n        cellToInsert.styleIndex = value.styleIndex;\n        return cellToInsert;\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserRow = function (json, rowIndex) {\n        var row = new Row();\n        //Row Height\n        if (json.height !== null && json.height !== undefined) {\n            row.height = json.height;\n        }\n        //Row index\n        if (json.index !== null && json.index !== undefined) {\n            row.index = json.index;\n        }\n        else {\n            throw Error('Row index is missing.');\n        }\n        if (json.grouping !== null && json.grouping !== undefined) {\n            this.parseGrouping(json.grouping, row);\n        }\n        this.parseCells(json.cells, row);\n        return row;\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parseGrouping = function (json, row) {\n        row.grouping = new Grouping();\n        if (json.outlineLevel !== undefined) {\n            row.grouping.outlineLevel = json.outlineLevel;\n        }\n        if (json.isCollapsed !== undefined) {\n            row.grouping.isCollapsed = json.isCollapsed;\n        }\n        if (json.isHidden !== undefined) {\n            row.grouping.isHidden = json.isHidden;\n        }\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parseCells = function (json, row) {\n        row.cells = new Cells();\n        var cellsLength = json !== undefined ? json.length : 0;\n        var spanMin = 1;\n        var spanMax = 1;\n        var curCellIndex = 0;\n        for (var cellId = 0; cellId < cellsLength; cellId++) {\n            /* tslint:disable:no-any */\n            var jsonCell = json[cellId];\n            var cell = new Cell();\n            //cell index\n            if (jsonCell.index !== null && jsonCell.index !== undefined) {\n                cell.index = jsonCell.index;\n            }\n            else {\n                throw Error('Cell index is missing.');\n            }\n            if (cell.index < spanMin) {\n                spanMin = cell.index;\n            }\n            else if (cell.index > spanMax) {\n                spanMax = cell.index;\n            }\n            //Update the Cell name\n            cell.refName = this.getCellName(row.index, cell.index);\n            //Row span\n            if (jsonCell.rowSpan !== null && jsonCell.rowSpan !== undefined) {\n                cell.rowSpan = jsonCell.rowSpan - 1;\n            }\n            else {\n                cell.rowSpan = 0;\n            }\n            //Column span\n            if (jsonCell.colSpan !== null && jsonCell.colSpan !== undefined) {\n                cell.colSpan = jsonCell.colSpan - 1;\n            }\n            else {\n                cell.colSpan = 0;\n            }\n            //Hyperlink\n            if (jsonCell.hyperlink !== null && jsonCell.hyperlink !== undefined) {\n                var hyperLink = new HyperLink();\n                if (jsonCell.hyperlink.target !== undefined) {\n                    hyperLink.target = jsonCell.hyperlink.target;\n                    if (jsonCell.hyperlink.displayText !== undefined) {\n                        cell.value = jsonCell.hyperlink.displayText;\n                    }\n                    else {\n                        cell.value = jsonCell.hyperlink.target;\n                    }\n                    cell.type = this.getCellValueType(cell.value);\n                    hyperLink.ref = cell.refName;\n                    hyperLink.rId = (this.mHyperLinks.length + 1);\n                    this.mHyperLinks.push(hyperLink);\n                    cell.cellStyle = new CellStyle();\n                    /* tslint:disable-next-line:max-line-length */\n                    this.parserCellStyle((jsonCell.style !== undefined ? this.mergeOptions(jsonCell.style, this.hyperlinkStyle) : this.hyperlinkStyle), cell.cellStyle, 'string');\n                    cell.styleIndex = cell.cellStyle.index;\n                }\n            }\n            // formulas\n            if (jsonCell.formula !== null && jsonCell.formula !== undefined) {\n                cell.formula = jsonCell.formula;\n                cell.type = 'formula';\n            }\n            //Cell value\n            if (jsonCell.value !== null && jsonCell.value !== undefined) {\n                if (cell.formula !== undefined) {\n                    cell.value = 0;\n                }\n                else {\n                    cell.value = jsonCell.value;\n                    cell.type = this.getCellValueType(cell.value);\n                }\n            }\n            if (jsonCell.style !== null && jsonCell.style !== undefined && cell.styleIndex === undefined) {\n                cell.cellStyle = new CellStyle();\n                if (cell.value instanceof Date) {\n                    this.parserCellStyle(jsonCell.style, cell.cellStyle, cell.type, 14);\n                }\n                else {\n                    this.parserCellStyle(jsonCell.style, cell.cellStyle, cell.type);\n                }\n                cell.styleIndex = cell.cellStyle.index;\n            }\n            else if (cell.value instanceof Date) {\n                cell.cellStyle = new CellStyle();\n                this.parserCellStyle({}, cell.cellStyle, cell.type, 14);\n                cell.styleIndex = cell.cellStyle.index;\n            }\n            this.parseCellType(cell);\n            this.mergeCells = this.processMergeCells(cell, row.index, this.mergeCells);\n            row.cells.add(cell);\n            curCellIndex = (cell.index + 1);\n        }\n        row.spans = (spanMin) + ':' + (spanMax);\n    };\n    Workbook.prototype.GetColors = function () {\n        var colors;\n        colors = new Map();\n        /* tslint:disable */\n        colors.set('WHITE', 'FFFFFFFF');\n        /* tslint:disable */\n        colors.set('SILVER', 'FFC0C0C0');\n        /* tslint:disable */\n        colors.set('GRAY', 'FF808080');\n        /* tslint:disable */\n        colors.set('BLACK', 'FF000000');\n        /* tslint:disable */\n        colors.set('RED', 'FFFF0000');\n        /* tslint:disable */\n        colors.set('MAROON', 'FF800000');\n        /* tslint:disable */\n        colors.set('YELLOW', 'FFFFFF00');\n        /* tslint:disable */\n        colors.set('OLIVE', 'FF808000');\n        /* tslint:disable */\n        colors.set('LIME', 'FF00FF00');\n        /* tslint:disable */\n        colors.set('GREEN', 'FF008000');\n        /* tslint:disable */\n        colors.set('AQUA', 'FF00FFFF');\n        /* tslint:disable */\n        colors.set('TEAL', 'FF008080');\n        /* tslint:disable */\n        colors.set('BLUE', 'FF0000FF');\n        /* tslint:disable */\n        colors.set('NAVY', 'FF000080');\n        /* tslint:disable */\n        colors.set('FUCHSIA', 'FFFF00FF');\n        /* tslint:disable */\n        colors.set('PURPLE', 'FF800080');\n        return colors;\n    };\n    Workbook.prototype.processColor = function (colorVal) {\n        if (colorVal.indexOf('#') === 0) {\n            return colorVal.replace('#', 'FF');\n        }\n        colorVal = colorVal.toUpperCase();\n        this.rgbColors = this.GetColors();\n        if (this.rgbColors.has(colorVal)) {\n            colorVal = this.rgbColors.get(colorVal);\n        }\n        else {\n            colorVal = 'FF000000';\n        }\n        return colorVal;\n    };\n    Workbook.prototype.processCellValue = function (value, cell) {\n        var cellValue = value;\n        if (value.indexOf(\"<font\") !== -1 || value.indexOf(\"<a\") !== -1 || value.indexOf(\"<b>\") !== -1 ||\n            value.indexOf(\"<i>\") !== -1 || value.indexOf(\"<u>\") !== -1) {\n            var processedVal = '';\n            var startindex = value.indexOf('<', 0);\n            var endIndex = value.indexOf('>', startindex + 1);\n            if (startindex >= 0 && endIndex >= 0) {\n                if (startindex !== 0) {\n                    processedVal += '<r><t xml:space=\"preserve\">' + this.processString(value.substring(0, startindex)) + '</t></r>';\n                }\n                while (startindex >= 0 && endIndex >= 0) {\n                    endIndex = value.indexOf('>', startindex + 1);\n                    if (endIndex >= 0) {\n                        var subString = value.substring(startindex + 1, endIndex);\n                        startindex = value.indexOf('<', endIndex + 1);\n                        if (startindex < 0) {\n                            startindex = cellValue.length;\n                        }\n                        var text = cellValue.substring(endIndex + 1, startindex);\n                        if (text.length !== 0) {\n                            var subSplit = subString.split(' ');\n                            if (subSplit.length > 0) {\n                                processedVal += '<r><rPr>';\n                            }\n                            if (subSplit.length > 1) {\n                                for (var _i = 0, subSplit_1 = subSplit; _i < subSplit_1.length; _i++) {\n                                    var element = subSplit_1[_i];\n                                    var start = element.trim().substring(0, 5);\n                                    switch (start) {\n                                        case 'size=':\n                                            processedVal += '<sz val=\"' + element.substring(6, element.length - 1) + '\"/>';\n                                            break;\n                                        case 'face=':\n                                            processedVal += '<rFont val=\"' + element.substring(6, element.length - 1) + '\"/>';\n                                            break;\n                                        case 'color':\n                                            processedVal += '<color rgb=\"' + this.processColor(element.substring(7, element.length - 1)) + '\"/>';\n                                            break;\n                                        case 'href=':\n                                            var hyperLink = new HyperLink();\n                                            hyperLink.target = element.substring(6, element.length - 1).trim();\n                                            hyperLink.ref = cell.refName;\n                                            hyperLink.rId = (this.mHyperLinks.length + 1);\n                                            this.mHyperLinks.push(hyperLink);\n                                            processedVal += '<color rgb=\"FF0000FF\"/><u/><b/>';\n                                            break;\n                                    }\n                                }\n                            }\n                            else if (subSplit.length === 1) {\n                                var style = subSplit[0].trim();\n                                switch (style) {\n                                    case 'b':\n                                        processedVal += '<b/>';\n                                        break;\n                                    case 'i':\n                                        processedVal += '<i/>';\n                                        break;\n                                    case 'u':\n                                        processedVal += '<u/>';\n                                        break;\n                                }\n                            }\n                            processedVal += '</rPr><t xml:space=\"preserve\">' + this.processString(text) + '</t></r>';\n                        }\n                    }\n                }\n                if (processedVal === '') {\n                    return cellValue;\n                }\n                return processedVal;\n            }\n            else {\n                return cellValue;\n            }\n        }\n        else {\n            return cellValue;\n        }\n    };\n    Workbook.prototype.applyGlobalStyle = function (json, cellStyle) {\n        var index = 0;\n        if (this.cellStyles.has(json.name)) {\n            cellStyle.index = this.mStyles.filter(function (a) { return (a.name === json.name); })[0].index;\n            cellStyle.name = json.name;\n        }\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserCellStyle = function (json, cellStyle, cellType, defStyleIndex) {\n        //name\n        if (json.name !== null && json.name !== undefined) {\n            if (cellStyle.isGlobalStyle) {\n                cellStyle.name = json.name;\n            }\n            else {\n                this.applyGlobalStyle(json, cellStyle);\n                return;\n            }\n        }\n        //background color\n        if (json.backColor !== null && json.backColor !== undefined) {\n            cellStyle.backColor = json.backColor;\n        }\n        //borders\n        //leftBorder\n        cellStyle.borders = new Borders();\n        //AllBorder\n        if (json.borders !== null && json.borders !== undefined) {\n            this.parserBorder(json.borders, cellStyle.borders.all);\n        }\n        //leftborder\n        if (json.leftBorder !== null && json.leftBorder !== undefined) {\n            this.parserBorder(json.leftBorder, cellStyle.borders.left);\n        }\n        //rightBorder\n        if (json.rightBorder !== null && json.rightBorder !== undefined) {\n            this.parserBorder(json.rightBorder, cellStyle.borders.right);\n        }\n        //topBorder\n        if (json.topBorder !== null && json.topBorder !== undefined) {\n            this.parserBorder(json.topBorder, cellStyle.borders.top);\n        }\n        //bottomBorder\n        if (json.bottomBorder !== null && json.bottomBorder !== undefined) {\n            this.parserBorder(json.bottomBorder, cellStyle.borders.bottom);\n        }\n        //fontName\n        if (json.fontName !== null && json.fontName !== undefined) {\n            cellStyle.fontName = json.fontName;\n        }\n        //fontSize\n        if (json.fontSize !== null && json.fontSize !== undefined) {\n            cellStyle.fontSize = json.fontSize;\n        }\n        //fontColor\n        if (json.fontColor !== null && json.fontColor !== undefined) {\n            cellStyle.fontColor = json.fontColor;\n        }\n        //italic\n        if (json.italic !== null && json.italic !== undefined) {\n            cellStyle.italic = json.italic;\n        }\n        //bold\n        if (json.bold !== null && json.bold !== undefined) {\n            cellStyle.bold = json.bold;\n        }\n        //hAlign\n        if (json.hAlign !== null && json.hAlign !== undefined) {\n            cellStyle.hAlign = json.hAlign.toLowerCase();\n        }\n        //indent\n        if (json.indent !== null && json.indent !== undefined) {\n            cellStyle.indent = json.indent;\n            if (!(cellStyle.hAlign === 'left' || cellStyle.hAlign === 'right')) {\n                cellStyle.hAlign = 'left';\n            }\n        }\n        if (json.rotation !== null && json.rotation !== undefined) {\n            cellStyle.rotation = json.rotation;\n        }\n        //vAlign\n        if (json.vAlign !== null && json.vAlign !== undefined) {\n            cellStyle.vAlign = json.vAlign.toLowerCase();\n        }\n        //underline\n        if (json.underline !== null && json.underline !== undefined) {\n            cellStyle.underline = json.underline;\n        }\n        //strikeThrough\n        if (json.strikeThrough !== null && json.strikeThrough !== undefined) {\n            cellStyle.strikeThrough = json.strikeThrough;\n        }\n        //wrapText\n        if (json.wrapText !== null && json.wrapText !== undefined) {\n            cellStyle.wrapText = json.wrapText;\n        }\n        //numberFormat\n        if (json.numberFormat !== null && json.numberFormat !== undefined) {\n            if (json.type !== null && json.type !== undefined) {\n                cellStyle.numberFormat = this.getNumberFormat(json.numberFormat, json.type);\n            }\n            else {\n                cellStyle.numberFormat = this.getNumberFormat(json.numberFormat, cellType);\n            }\n        }\n        else if (defStyleIndex !== undefined) {\n            cellStyle.numFmtId = 14;\n            cellStyle.numberFormat = 'GENERAL';\n        }\n        else {\n            cellStyle.numberFormat = 'GENERAL';\n        }\n        cellStyle.index = this.processCellStyle(cellStyle);\n    };\n    Workbook.prototype.switchNumberFormat = function (numberFormat, type) {\n        var format = this.getNumberFormat(numberFormat, type);\n        if (format !== numberFormat) {\n            var numFmt = this.mNumFmt.get(numberFormat);\n            if (numFmt !== undefined) {\n                numFmt.formatCode = format;\n                if (this.mNumFmt.has(format)) {\n                    for (var _i = 0, _a = this.mCellStyleXfs; _i < _a.length; _i++) {\n                        var cellStyleXfs = _a[_i];\n                        if (cellStyleXfs.numFmtId === numFmt.numFmtId) {\n                            cellStyleXfs.numFmtId = this.mNumFmt.get(format).numFmtId;\n                        }\n                    }\n                    for (var _b = 0, _c = this.mCellXfs; _b < _c.length; _b++) {\n                        var cellXfs = _c[_b];\n                        if (cellXfs.numFmtId === numFmt.numFmtId) {\n                            cellXfs.numFmtId = this.mNumFmt.get(format).numFmtId;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    Workbook.prototype.getNumberFormat = function (numberFormat, type) {\n        var returnFormat;\n        switch (type) {\n            case 'number':\n                try {\n                    returnFormat = this.intl.getNumberPattern({ format: numberFormat, currency: this.currency, useGrouping: true }, true);\n                }\n                catch (error) {\n                    returnFormat = numberFormat;\n                }\n                break;\n            case 'datetime':\n                try {\n                    returnFormat = this.intl.getDatePattern({ skeleton: numberFormat, type: 'dateTime' }, true);\n                }\n                catch (error) {\n                    try {\n                        returnFormat = this.intl.getDatePattern({ format: numberFormat, type: 'dateTime' }, true);\n                    }\n                    catch (error) {\n                        returnFormat = numberFormat;\n                    }\n                }\n                break;\n            case 'date':\n                try {\n                    returnFormat = this.intl.getDatePattern({ skeleton: numberFormat, type: 'date' }, true);\n                }\n                catch (error) {\n                    try {\n                        returnFormat = this.intl.getDatePattern({ format: numberFormat, type: 'date' }, true);\n                    }\n                    catch (error) {\n                        returnFormat = numberFormat;\n                    }\n                }\n                break;\n            case 'time':\n                try {\n                    returnFormat = this.intl.getDatePattern({ skeleton: numberFormat, type: 'time' }, true);\n                }\n                catch (error) {\n                    try {\n                        returnFormat = this.intl.getDatePattern({ format: numberFormat, type: 'time' }, true);\n                    }\n                    catch (error) {\n                        returnFormat = numberFormat;\n                    }\n                }\n                break;\n            default:\n                returnFormat = numberFormat;\n                break;\n        }\n        return returnFormat;\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserBorder = function (json, border) {\n        if (json.color !== null && json.color !== undefined) {\n            border.color = json.color;\n        }\n        else {\n            border.color = '#000000';\n        }\n        if (json.lineStyle !== null && json.lineStyle !== undefined) {\n            border.lineStyle = json.lineStyle;\n        }\n        else {\n            border.lineStyle = 'thin';\n        }\n    };\n    Workbook.prototype.processCellStyle = function (style) {\n        if (style.isGlobalStyle) {\n            this.processNumFormatId(style);\n            this.mStyles.push(style);\n            return this.mStyles.length;\n        }\n        else {\n            var compareResult = this.compareStyle(style);\n            if (!compareResult.result) {\n                this.processNumFormatId(style);\n                this.mStyles.push(style);\n                return this.mStyles.length;\n            }\n            else {\n                //Return the index of the already existing style.\n                return compareResult.index;\n            }\n        }\n    };\n    Workbook.prototype.processNumFormatId = function (style) {\n        if (style.numberFormat !== 'GENERAL' && !this.mNumFmt.has(style.numberFormat)) {\n            var id = this.mNumFmt.size + 164;\n            this.mNumFmt.set(style.numberFormat, new NumFmt(id, style.numberFormat));\n        }\n    };\n    Workbook.prototype.isNewFont = function (toCompareStyle) {\n        var result = false;\n        var index = 0;\n        for (var _i = 0, _a = this.mFonts; _i < _a.length; _i++) {\n            var font = _a[_i];\n            index++;\n            var fontColor = undefined;\n            if (toCompareStyle.fontColor !== undefined) {\n                fontColor = ('FF' + toCompareStyle.fontColor.replace('#', ''));\n            }\n            result = font.color === fontColor &&\n                font.b === toCompareStyle.bold &&\n                font.i === toCompareStyle.italic &&\n                font.u === toCompareStyle.underline &&\n                font.strike === toCompareStyle.strikeThrough &&\n                font.name === toCompareStyle.fontName &&\n                font.sz === toCompareStyle.fontSize;\n            if (result) {\n                break;\n            }\n        }\n        index = index - 1;\n        return { index: index, result: result };\n    };\n    Workbook.prototype.isNewBorder = function (toCompareStyle) {\n        var bStyle = new CellStyle();\n        if (this.isAllBorder(toCompareStyle.borders)) {\n            return (bStyle.borders.all.color === toCompareStyle.borders.all.color &&\n                bStyle.borders.all.lineStyle === toCompareStyle.borders.all.lineStyle);\n        }\n        else {\n            return (bStyle.borders.left.color === toCompareStyle.borders.left.color &&\n                bStyle.borders.left.lineStyle === toCompareStyle.borders.left.lineStyle &&\n                bStyle.borders.right.color === toCompareStyle.borders.right.color &&\n                bStyle.borders.right.lineStyle === toCompareStyle.borders.right.lineStyle &&\n                bStyle.borders.top.color === toCompareStyle.borders.top.color &&\n                bStyle.borders.top.lineStyle === toCompareStyle.borders.top.lineStyle &&\n                bStyle.borders.bottom.color === toCompareStyle.borders.bottom.color &&\n                bStyle.borders.bottom.lineStyle === toCompareStyle.borders.bottom.lineStyle);\n        }\n    };\n    Workbook.prototype.isAllBorder = function (toCompareBorder) {\n        var allBorderStyle = new CellStyle();\n        return allBorderStyle.borders.all.color !== toCompareBorder.all.color &&\n            allBorderStyle.borders.all.lineStyle !== toCompareBorder.all.lineStyle;\n    };\n    Workbook.prototype.compareStyle = function (toCompareStyle) {\n        var result = true;\n        var index = 0;\n        var globalStyleIndex = 0;\n        for (var _i = 0, _a = this.mStyles; _i < _a.length; _i++) {\n            var baseStyle = _a[_i];\n            result = baseStyle.isGlobalStyle ? false : (baseStyle.backColor === toCompareStyle.backColor &&\n                baseStyle.bold === toCompareStyle.bold &&\n                baseStyle.numFmtId === toCompareStyle.numFmtId &&\n                baseStyle.numberFormat === toCompareStyle.numberFormat &&\n                baseStyle.type === toCompareStyle.type &&\n                baseStyle.fontColor === toCompareStyle.fontColor &&\n                baseStyle.fontName === toCompareStyle.fontName &&\n                baseStyle.fontSize === toCompareStyle.fontSize &&\n                baseStyle.hAlign === toCompareStyle.hAlign &&\n                baseStyle.italic === toCompareStyle.italic &&\n                baseStyle.underline === toCompareStyle.underline &&\n                baseStyle.strikeThrough === toCompareStyle.strikeThrough &&\n                baseStyle.vAlign === toCompareStyle.vAlign &&\n                baseStyle.indent === toCompareStyle.indent &&\n                baseStyle.rotation === toCompareStyle.rotation &&\n                baseStyle.wrapText === toCompareStyle.wrapText &&\n                (baseStyle.borders.all.color === toCompareStyle.borders.all.color &&\n                    baseStyle.borders.all.lineStyle === toCompareStyle.borders.all.lineStyle) &&\n                (baseStyle.borders.left.color === toCompareStyle.borders.left.color &&\n                    baseStyle.borders.left.lineStyle === toCompareStyle.borders.left.lineStyle &&\n                    baseStyle.borders.right.color === toCompareStyle.borders.right.color &&\n                    baseStyle.borders.right.lineStyle === toCompareStyle.borders.right.lineStyle &&\n                    baseStyle.borders.top.color === toCompareStyle.borders.top.color &&\n                    baseStyle.borders.top.lineStyle === toCompareStyle.borders.top.lineStyle &&\n                    baseStyle.borders.bottom.color === toCompareStyle.borders.bottom.color &&\n                    baseStyle.borders.bottom.lineStyle === toCompareStyle.borders.bottom.lineStyle));\n            if (result) {\n                index = baseStyle.index;\n                break;\n            }\n        }\n        return { index: index, result: result };\n    };\n    Workbook.prototype.contains = function (array, item) {\n        var index = array.indexOf(item);\n        return index > -1 && index < array.length;\n    };\n    Workbook.prototype.getCellValueType = function (value) {\n        if (value instanceof Date) {\n            return 'datetime';\n        }\n        else if (typeof (value) === 'boolean') {\n            return 'boolean';\n        }\n        else if (typeof (value) === 'number') {\n            return 'number';\n        }\n        else {\n            return 'string';\n        }\n    };\n    Workbook.prototype.parseCellType = function (cell) {\n        var type = cell.type;\n        var saveType;\n        var value = cell.value;\n        switch (type) {\n            case 'datetime':\n                value = this.toOADate(value);\n                if (cell.cellStyle !== undefined && cell.cellStyle.name !== undefined) {\n                    if (this.globalStyles.has(cell.cellStyle.name)) {\n                        var value_1 = this.globalStyles.get(cell.cellStyle.name);\n                        this.switchNumberFormat(value_1.format, value_1.type);\n                    }\n                }\n                saveType = 'n';\n                break;\n            //TODO: Update the number format index and style\n            case 'boolean':\n                value = value ? 1 : 0;\n                saveType = 'b';\n                break;\n            case 'number':\n                saveType = 'n';\n                if (cell.cellStyle !== undefined && cell.cellStyle.name !== undefined) {\n                    if (this.globalStyles.has(cell.cellStyle.name)) {\n                        this.switchNumberFormat(this.globalStyles.get(cell.cellStyle.name).format, 'number');\n                    }\n                }\n                break;\n            case 'string':\n                this.sharedStringCount++;\n                saveType = 's';\n                var sstvalue = this.processCellValue(value, cell);\n                if (!this.contains(this.sharedString, sstvalue)) {\n                    this.sharedString.push(sstvalue);\n                }\n                value = this.sharedString.indexOf(sstvalue);\n                break;\n            default:\n                break;\n        }\n        cell.saveType = saveType;\n        cell.value = value;\n    };\n    Workbook.prototype.parserImages = function (json, sheet) {\n        var imagesLength = json.length;\n        sheet.images = [];\n        var imageId = 0;\n        for (var p = 0; p < imagesLength; p++) {\n            var image = this.parserImage(json[p]);\n            sheet.images.push(image);\n        }\n    };\n    Workbook.prototype.parseFilters = function (json, sheet) {\n        sheet.autoFilters = new AutoFilters();\n        if (json.row !== null && json.row !== undefined)\n            sheet.autoFilters.row = json.row;\n        else\n            throw new Error('Argument Null Exception: row null or empty');\n        if (json.lastRow !== null && json.lastRow !== undefined)\n            sheet.autoFilters.lastRow = json.lastRow;\n        else\n            throw new Error('Argument Null Exception: lastRow cannot be null or empty');\n        if (json.column !== null && json.column !== undefined)\n            sheet.autoFilters.column = json.column;\n        else\n            throw new Error('Argument Null Exception: column cannot be null or empty');\n        if (json.lastColumn !== null && json.row !== undefined)\n            sheet.autoFilters.lastColumn = json.lastColumn;\n        else\n            throw new Error('Argument Null Exception: lastColumn cannot be null or empty');\n    };\n    Workbook.prototype.parserImage = function (json) {\n        var image = new Image();\n        if (json.image !== null && json.image !== undefined) {\n            image.image = json.image;\n        }\n        if (json.row !== null && json.row !== undefined) {\n            image.row = json.row;\n        }\n        if (json.column !== null && json.column !== undefined) {\n            image.column = json.column;\n        }\n        if (json.lastRow !== null && json.lastRow !== undefined) {\n            image.lastRow = json.lastRow;\n        }\n        if (json.lastColumn !== null && json.lastColumn !== undefined) {\n            image.lastColumn = json.lastColumn;\n        }\n        if (json.width !== null && json.width !== undefined) {\n            image.width = json.width;\n        }\n        if (json.height !== null && json.height !== undefined) {\n            image.height = json.height;\n        }\n        if (json.horizontalFlip !== null && json.horizontalFlip !== undefined) {\n            image.horizontalFlip = json.horizontalFlip;\n        }\n        if (json.verticalFlip !== null && json.verticalFlip !== undefined) {\n            image.verticalFlip = json.verticalFlip;\n        }\n        if (json.rotation !== null && json.rotation !== undefined) {\n            image.rotation = json.rotation;\n        }\n        return image;\n    };\n    Workbook.prototype.saveAsBlob = function (blobSaveType) {\n        var _this = this;\n        switch (blobSaveType) {\n            case 'text/csv':\n                return new Promise(function (resolve, reject) {\n                    var obj = {};\n                    obj.blobData = _this.csvHelper.saveAsBlob();\n                    resolve(obj);\n                });\n            default:\n                return new Promise(function (resolve, reject) {\n                    _this.saveInternal();\n                    _this.mArchive.saveAsBlob().then(function (blob) {\n                        var obj = {};\n                        obj.blobData = new Blob([blob], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\n                        resolve(obj);\n                    });\n                });\n        }\n    };\n    Workbook.prototype.save = function (fileName, proxyUrl) {\n        var _this = this;\n        if (fileName === null || fileName === undefined || fileName === '') {\n            throw new Error('Argument Null Exception: fileName cannot be null or empty');\n        }\n        var xlsxMatch = fileName.match('.xlsx$');\n        var csvMatch = fileName.match('.csv$');\n        if (xlsxMatch !== null && xlsxMatch[0] === ('.' + this.mSaveType)) {\n            this.saveInternal();\n            this.mArchive.save(fileName).then(function () {\n                _this.mArchive.destroy();\n            });\n        }\n        else if (csvMatch !== null && csvMatch[0] === ('.' + this.mSaveType)) {\n            this.csvHelper.save(fileName);\n        }\n        else {\n            throw Error('Save type and file extension is different.');\n        }\n    };\n    Workbook.prototype.saveInternal = function () {\n        this.saveWorkbook();\n        this.saveWorksheets();\n        this.saveSharedString();\n        this.saveStyles();\n        this.saveApp(this.builtInProperties);\n        this.saveCore(this.builtInProperties);\n        this.saveContentType();\n        this.saveTopLevelRelation();\n        this.saveWorkbookRelation();\n    };\n    Workbook.prototype.saveWorkbook = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var workbookTemp = '<?xml version=\"1.0\" encoding=\"utf-8\"?><workbook xmlns:r = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" xmlns= \"http://schemas.openxmlformats.org/spreadsheetml/2006/main\"><workbookPr codeName=\"ThisWorkbook\" defaultThemeVersion= \"153222\"/><bookViews><workbookView activeTab=\"0\"/></bookViews>';\n        var sheets = '<sheets>';\n        var length = this.worksheets.length;\n        for (var i = 0; i < length; i++) {\n            /* tslint:disable-next-line:max-line-length */\n            var sheetName = this.worksheets[i].name;\n            sheetName = sheetName.replace(\"&\", \"&amp;\");\n            sheetName = sheetName.replace(\"<\", \"&lt;\");\n            sheetName = sheetName.replace(\">\", \"&gt;\");\n            sheetName = sheetName.replace(\"\\\"\", \"&quot;\");\n            sheets += '<sheet name=\"' + sheetName + '\" sheetId=\"' + (i + 1).toString() + '\" r:id =\"rId' + (i + 1).toString() + '\" />';\n        }\n        sheets += '</sheets>';\n        workbookTemp += sheets;\n        if (this.printTitles.size > 0) {\n            var printTitle_1 = '<definedNames>';\n            this.printTitles.forEach(function (value, key) {\n                printTitle_1 += '<definedName name=\"_xlnm.Print_Titles\" localSheetId=\"' + key + '\">' + value + '</definedName>';\n            });\n            printTitle_1 += '</definedNames>';\n            workbookTemp += printTitle_1;\n        }\n        this.addToArchive(workbookTemp + '</workbook>', 'xl/workbook.xml');\n    };\n    Workbook.prototype.saveWorksheets = function () {\n        var length = this.worksheets.length;\n        for (var i = 0; i < length; i++) {\n            this.saveWorksheet(this.worksheets[i], i);\n        }\n    };\n    Workbook.prototype.saveWorksheet = function (sheet, index) {\n        var sheetBlob = new BlobHelper();\n        /* tslint:disable-next-line:max-line-length */\n        var sheetString = '<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?><worksheet xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" xmlns:x14=\"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main\" xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\">';\n        if (!sheet.isSummaryRowBelow) {\n            sheetString += ('<sheetPr>' + '<outlinePr ' + 'summaryBelow=\"0\" >' + '</outlinePr>' + '</sheetPr>');\n        }\n        else {\n            sheetString += ('<sheetPr />');\n        }\n        sheetString += this.saveSheetView(sheet);\n        if (sheet.columns !== undefined) {\n            var colString = '<cols>';\n            for (var _i = 0, _a = sheet.columns; _i < _a.length; _i++) {\n                var column = _a[_i];\n                /* tslint:disable-next-line:max-line-length */\n                if (column.width !== undefined) {\n                    colString += '<col min=\"' + (column.index) + '\" max=\"' + (column.index) + '\" width=\"' + this.pixelsToColumnWidth(column.width) + '\" customWidth=\"1\" />';\n                }\n                else {\n                    colString += '<col min=\"' + (column.index) + '\" max=\"' + (column.index) + '\" width=\"' + '8.43' + '\" customWidth=\"1\" />';\n                }\n            }\n            sheetString += (colString + '</cols>');\n        }\n        sheetString += ('<sheetData>');\n        sheetBlob.append(sheetString);\n        sheetString = '';\n        if (sheet.rows !== undefined) {\n            for (var _b = 0, _c = sheet.rows; _b < _c.length; _b++) {\n                var row = _c[_b];\n                var rowString = '<row r=\"' + (row.index) + '\" ';\n                if (!isNullOrUndefined(row.spans)) {\n                    rowString += 'spans=\"' + row.spans + '\" ';\n                }\n                if (row.height !== undefined) {\n                    rowString += ('ht=\"' + this.pixelsToRowHeight(row.height) + '\" customHeight=\"1\" ');\n                }\n                if (row.grouping !== undefined) {\n                    if (row.grouping.isHidden) {\n                        rowString += ('hidden=\"1\" ');\n                    }\n                    if (row.grouping.outlineLevel !== undefined) {\n                        rowString += ('outlineLevel=\"' + row.grouping.outlineLevel + '\" ');\n                    }\n                    if (row.grouping.isCollapsed) {\n                        rowString += ('collapsed=\"1\" ');\n                    }\n                }\n                rowString += ('>');\n                for (var _d = 0, _e = row.cells; _d < _e.length; _d++) {\n                    var cell = _e[_d];\n                    if (cell !== undefined && (cell.value !== undefined || cell.cellStyle !== undefined)) {\n                        rowString += ('<c r=\"' + cell.refName + '\" ');\n                        if (cell.saveType !== undefined) {\n                            rowString += ('t=\"' + cell.saveType + '\" ');\n                        }\n                        if (cell.styleIndex !== undefined) {\n                            rowString += ('s=\"' + cell.styleIndex + '\" ');\n                        }\n                        rowString += (' >');\n                        if (cell.formula !== undefined) {\n                            rowString += ('<f>' + cell.formula + '</f>');\n                        }\n                        if (cell.value !== undefined) {\n                            rowString += ('<v>' + cell.value + '</v></c>');\n                        }\n                        else {\n                            rowString += ('</c>');\n                        }\n                    }\n                }\n                rowString += ('</row>');\n                sheetBlob.append(rowString);\n            }\n        }\n        sheetString += ('</sheetData>');\n        /* tslint:disable-next-line:max-line-length */\n        if (sheet.autoFilters !== null && sheet.autoFilters !== undefined)\n            sheetString += ('<autoFilter ref=\"' + this.getCellName(sheet.autoFilters.row, sheet.autoFilters.column) + ':' + this.getCellName(sheet.autoFilters.lastRow, sheet.autoFilters.lastColumn) + '\"/>');\n        if (sheet.mergeCells.length > 0) {\n            sheetString += ('<mergeCells count=\"' + sheet.mergeCells.length + '\">');\n            for (var _f = 0, _g = sheet.mergeCells; _f < _g.length; _f++) {\n                var mCell = _g[_f];\n                sheetString += ('<mergeCell ref=\"' + mCell.ref + '\" />');\n            }\n            sheetString += ('</mergeCells>');\n        }\n        if (sheet.hyperLinks.length > 0) {\n            sheetString += ('<hyperlinks>');\n            for (var _h = 0, _j = sheet.hyperLinks; _h < _j.length; _h++) {\n                var hLink = _j[_h];\n                sheetString += ('<hyperlink ref=\"' + hLink.ref + '\" r:id=\"rId' + hLink.rId + '\" />');\n            }\n            sheetString += ('</hyperlinks>');\n        }\n        /* tslint:disable-next-line:max-line-length */\n        sheetString += ('<pageMargins left=\"0.75\" right=\"0.75\" top=\"1\" bottom=\"1\" header=\"0.5\" footer=\"0.5\" /><headerFooter scaleWithDoc=\"1\" alignWithMargins=\"0\" differentFirst=\"0\" differentOddEven=\"0\" />');\n        if (sheet.images != undefined && sheet.images.length > 0) {\n            this.drawingCount++;\n            this.saveDrawings(sheet, sheet.index);\n            sheetString += '<drawing r:id=\"rId' + (sheet.hyperLinks.length + 1) + '\"/>';\n        }\n        this.addToArchive(this.saveSheetRelations(sheet), ('xl/worksheets/_rels/sheet' + sheet.index + '.xml.rels'));\n        sheetBlob.append(sheetString + '</worksheet>');\n        this.addToArchive(sheetBlob.getBlob(), 'xl/worksheets' + '/sheet' + (index + 1) + '.xml');\n    };\n    Workbook.prototype.saveDrawings = function (sheet, index) {\n        var drawings = new BlobHelper();\n        /* tslint:disable-next-line:max-line-length */\n        var sheetDrawingString = '<xdr:wsDr xmlns:xdr=\"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing\" xmlns:a=\"http://schemas.openxmlformats.org/drawingml/2006/main\">';\n        if (sheet.images !== undefined) {\n            var imgId = 0;\n            for (var _i = 0, _a = sheet.images; _i < _a.length; _i++) {\n                var pic = _a[_i];\n                if (pic.height !== undefined && pic.width !== undefined) {\n                    this.updatelastRowOffset(sheet, pic);\n                    this.updatelastColumnOffSet(sheet, pic);\n                }\n                else if (pic.lastRow !== undefined && pic.lastColumn !== undefined) {\n                    pic.lastRowOffset = 0;\n                    pic.lastColOffset = 0;\n                }\n                imgId++;\n                sheetDrawingString += '<xdr:twoCellAnchor editAs=\"oneCell\">';\n                sheetDrawingString += '<xdr:from><xdr:col>';\n                //col\n                sheetDrawingString += pic.column - 1;\n                sheetDrawingString += '</xdr:col><xdr:colOff>';\n                //colOff\n                sheetDrawingString += 0;\n                sheetDrawingString += '</xdr:colOff><xdr:row>';\n                //row\n                sheetDrawingString += pic.row - 1;\n                sheetDrawingString += '</xdr:row><xdr:rowOff>';\n                //rowOff\n                sheetDrawingString += 0;\n                sheetDrawingString += '</xdr:rowOff></xdr:from>';\n                sheetDrawingString += '<xdr:to><xdr:col>';\n                //col\n                sheetDrawingString += pic.lastColumn;\n                sheetDrawingString += '</xdr:col><xdr:colOff>';\n                //colOff\n                sheetDrawingString += pic.lastColOffset;\n                sheetDrawingString += '</xdr:colOff><xdr:row>';\n                //row\n                sheetDrawingString += pic.lastRow;\n                sheetDrawingString += '</xdr:row><xdr:rowOff>';\n                //rowOff\n                sheetDrawingString += pic.lastRowOffset;\n                sheetDrawingString += '</xdr:rowOff></xdr:to>';\n                sheetDrawingString += '<xdr:pic>';\n                sheetDrawingString += '<xdr:nvPicPr>';\n                sheetDrawingString += '<xdr:cNvPr id=\"' + imgId + '\" name=\"Picture ' + imgId + '\"> </xdr:cNvPr>';\n                sheetDrawingString += '<xdr:cNvPicPr><a:picLocks noChangeAspect=\"1\"/></xdr:cNvPicPr> </xdr:nvPicPr>';\n                sheetDrawingString += '<xdr:blipFill>';\n                /* tslint:disable-next-line:max-line-length */\n                sheetDrawingString += '<a:blip xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" r:embed=\"rId' + imgId + '\" cstate=\"print\">';\n                sheetDrawingString += '</a:blip><a:stretch><a:fillRect /></a:stretch></xdr:blipFill>';\n                sheetDrawingString += '<xdr:spPr>';\n                sheetDrawingString += '<a:xfrm';\n                if (pic.rotation != undefined && pic.rotation <= 3600 && pic.rotation >= -3600) {\n                    sheetDrawingString += ' rot=\"' + (pic.rotation * 60000) + '\"';\n                }\n                if (pic.verticalFlip != undefined && pic.verticalFlip != false) {\n                    sheetDrawingString += ' flipV=\"1\"';\n                }\n                if (pic.horizontalFlip != undefined && pic.horizontalFlip != false) {\n                    sheetDrawingString += ' flipH=\"1\"';\n                }\n                sheetDrawingString += '/>';\n                sheetDrawingString += '<a:prstGeom prst=\"rect\"><a:avLst /></a:prstGeom></xdr:spPr>';\n                sheetDrawingString += '</xdr:pic><xdr:clientData /></xdr:twoCellAnchor>';\n                var imageFile = new BlobHelper();\n                var imageData = this.convertBase64toImage(pic.image);\n                this.imageCount += 1;\n                this.addToArchive(imageData, 'xl/media/image' + this.imageCount + '.png');\n            }\n            drawings.append(sheetDrawingString);\n            drawings.append('</xdr:wsDr>');\n            this.saveDrawingRelations(sheet);\n            this.addToArchive(drawings.getBlob(), 'xl/drawings/drawing' + this.drawingCount + '.xml');\n        }\n    };\n    Workbook.prototype.updatelastRowOffset = function (sheet, picture) {\n        var iCurHeight = picture.height;\n        var iCurRow = picture.row;\n        var iCurOffset = 0;\n        while (iCurHeight >= 0) {\n            var iRowHeight = 0;\n            if (sheet.rows !== undefined && sheet.rows[iCurRow - 1] !== undefined)\n                iRowHeight = this.convertToPixels(sheet.rows[iCurRow - 1].height === undefined ? 15 : sheet.rows[iCurRow - 1].height);\n            else\n                iRowHeight = this.convertToPixels(15);\n            var iSpaceInCell = iRowHeight - (iCurOffset * iRowHeight / 256);\n            if (iSpaceInCell > iCurHeight) {\n                picture.lastRow = iCurRow;\n                picture.lastRowOffset = iCurOffset + (iCurHeight * 256 / iRowHeight);\n                var rowHiddenHeight = 0;\n                if (sheet.rows !== undefined && sheet.rows[iCurRow - 1] !== undefined)\n                    rowHiddenHeight = this.convertToPixels(sheet.rows[iCurRow - 1].height === undefined ? 15 : sheet.rows[iCurRow - 1].height);\n                else\n                    rowHiddenHeight = this.convertToPixels(15);\n                picture.lastRowOffset = (rowHiddenHeight * picture.lastRowOffset) / 256;\n                picture.lastRowOffset = Math.round(picture.lastRowOffset / this.unitsProportions[7]);\n                break;\n            }\n            else {\n                iCurHeight -= iSpaceInCell;\n                iCurRow++;\n                iCurOffset = 0;\n            }\n        }\n    };\n    Workbook.prototype.updatelastColumnOffSet = function (sheet, picture) {\n        var iCurWidth = picture.width;\n        var iCurCol = picture.column;\n        var iCurOffset = 0;\n        while (iCurWidth >= 0) {\n            var iColWidth = 0;\n            if (sheet.columns !== undefined && sheet.columns[iCurCol - 1] !== undefined)\n                iColWidth = this.ColumnWidthToPixels(sheet.columns[iCurCol - 1].width === undefined ? 8.43 : sheet.columns[iCurCol - 1].width);\n            else\n                iColWidth = this.ColumnWidthToPixels(8.43);\n            var iSpaceInCell = iColWidth - (iCurOffset * iColWidth / 1024);\n            if (iSpaceInCell > iCurWidth) {\n                picture.lastColumn = iCurCol;\n                picture.lastColOffset = iCurOffset + (iCurWidth * 1024 / iColWidth);\n                var colHiddenWidth = 0;\n                if (sheet.columns !== undefined && sheet.columns[iCurCol - 1] !== undefined)\n                    colHiddenWidth = this.ColumnWidthToPixels(sheet.columns[iCurCol - 1].width === undefined ? 8.43 : sheet.columns[iCurCol].width);\n                else\n                    colHiddenWidth = this.ColumnWidthToPixels(8.43);\n                picture.lastColOffset = (colHiddenWidth * picture.lastColOffset) / 1024;\n                picture.lastColOffset = Math.round(picture.lastColOffset / this.unitsProportions[7]);\n                break;\n            }\n            else {\n                iCurWidth -= iSpaceInCell;\n                iCurCol++;\n                iCurOffset = 0;\n            }\n        }\n    };\n    Workbook.prototype.convertToPixels = function (value) {\n        return value * this.unitsProportions[6];\n    };\n    Workbook.prototype.convertBase64toImage = function (img) {\n        var byteStr = window.atob(img);\n        var buffer = new ArrayBuffer(byteStr.length);\n        var data = new Uint8Array(buffer);\n        for (var i = 0; i < byteStr.length; i++) {\n            data[i] = byteStr.charCodeAt(i);\n        }\n        var blob = new Blob([data], { type: 'image/png' });\n        return blob;\n    };\n    Workbook.prototype.saveDrawingRelations = function (sheet) {\n        /* tslint:disable-next-line:max-line-length */\n        var drawingRelation = '<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?><Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">';\n        var length = sheet.images.length;\n        var id = this.imageCount - sheet.images.length;\n        for (var i = 1; i <= length; i++) {\n            id++;\n            /* tslint:disable-next-line:max-line-length */\n            drawingRelation += '<Relationship Id=\"rId' + i + '\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image\" Target=\"../media/image' + id + '.png\" />';\n        }\n        this.addToArchive((drawingRelation + '</Relationships>'), 'xl/drawings/_rels/drawing' + this.drawingCount + '.xml.rels');\n    };\n    Workbook.prototype.pixelsToColumnWidth = function (pixels) {\n        var dDigitWidth = 7;\n        var val = (pixels > dDigitWidth + 5) ?\n            this.trunc((pixels - 5) / dDigitWidth * 100 + 0.5) / 100 :\n            pixels / (dDigitWidth + 5);\n        return (val > 1) ?\n            ((val * dDigitWidth + 5) / dDigitWidth * 256.0) / 256.0 :\n            (val * (dDigitWidth + 5) / dDigitWidth * 256.0) / 256.0;\n    };\n    Workbook.prototype.ColumnWidthToPixels = function (val) {\n        var dDigitWidth = 7;\n        var fileWidth = (val > 1) ?\n            ((val * dDigitWidth + 5) / dDigitWidth * 256.0) / 256.0 :\n            (val * (dDigitWidth + 5) / dDigitWidth * 256.0) / 256.0;\n        return this.trunc(((256 * fileWidth + this.trunc(128 / dDigitWidth)) / 256) * dDigitWidth);\n    };\n    Workbook.prototype.trunc = function (x) {\n        var n = x - x % 1;\n        return n === 0 && (x < 0 || (x === 0 && (1 / x !== 1 / 0))) ? -0 : n;\n    };\n    Workbook.prototype.pixelsToRowHeight = function (pixels) {\n        return (pixels * this.unitsProportions[5] / this.unitsProportions[6]);\n    };\n    Workbook.prototype.saveSheetRelations = function (sheet) {\n        /* tslint:disable-next-line:max-line-length */\n        var relStr = '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?><Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">';\n        for (var _i = 0, _a = sheet.hyperLinks; _i < _a.length; _i++) {\n            var hLink = _a[_i];\n            /* tslint:disable-next-line:max-line-length */\n            relStr += '<Relationship Id=\"rId' + hLink.rId + '\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink\" Target=\"' + this.processString(hLink.target) + '\" TargetMode=\"External\" />';\n        }\n        if (sheet.images != undefined && sheet.images.length > 0) {\n            /* tslint:disable-next-line:max-line-length */\n            relStr += '<Relationship Id=\"rId' + (sheet.hyperLinks.length + 1) + '\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing\" Target=\"../drawings/drawing' + this.drawingCount + '.xml\" />';\n        }\n        relStr += '</Relationships>';\n        return relStr;\n    };\n    Workbook.prototype.saveSheetView = function (sheet) {\n        var paneString = '<sheetViews><sheetView workbookViewId=\"0\" ';\n        if (sheet.enableRtl === true) {\n            paneString += 'rightToLeft=\"1\"';\n        }\n        if (sheet.showGridLines === false) {\n            paneString += 'showGridLines=\"0\" >';\n        }\n        else {\n            paneString += '>';\n        }\n        if (sheet.freezePanes !== undefined) {\n            paneString += '<pane state=\"frozen\"' +\n                ' topLeftCell=\"' + sheet.freezePanes.leftCell + '\" ';\n            if (sheet.freezePanes.row !== 0) {\n                paneString += 'ySplit=\"' + sheet.freezePanes.row + '\" ';\n            }\n            if (sheet.freezePanes.column !== 0) {\n                paneString += 'xSplit=\"' + sheet.freezePanes.column + '\" ';\n            }\n            paneString += '/>';\n        }\n        paneString += '</sheetView></sheetViews > ';\n        return paneString;\n    };\n    Workbook.prototype.saveSharedString = function () {\n        var length = this.sharedString.length;\n        if (length > 0) {\n            /* tslint:disable-next-line:max-line-length */\n            var sstStart = '<?xml version=\"1.0\" encoding=\"utf-8\"?><sst uniqueCount=\"' + length + '\" count=\"' + this.sharedStringCount + '\" xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\">';\n            var si = '';\n            for (var i = 0; i < length; i++) {\n                if (this.sharedString[i].indexOf('<r>') !== 0) {\n                    si += '<si><t>';\n                    si += this.processString(this.sharedString[i]);\n                    si += '</t></si>';\n                }\n                else {\n                    si += '<si>';\n                    si += this.sharedString[i];\n                    si += '</si>';\n                }\n            }\n            si += '</sst>';\n            this.addToArchive(sstStart + si, 'xl/sharedStrings.xml');\n        }\n    };\n    Workbook.prototype.processString = function (value) {\n        if (value.indexOf('&') !== -1) {\n            value = value.replace(/&/g, '&amp;');\n        }\n        if (value.indexOf('<') !== -1) {\n            value = value.replace(/</g, '&lt;');\n        }\n        if (value.indexOf('>') !== -1) {\n            value = value.replace(/>/g, '&gt;');\n        }\n        return value;\n    };\n    Workbook.prototype.saveStyles = function () {\n        this.updateCellXfsStyleXfs();\n        /* tslint:disable-next-line:max-line-length */\n        var styleTemp = '<?xml version=\"1.0\" encoding=\"utf-8\"?><styleSheet xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" mc:Ignorable=\"x14ac\" xmlns:x14ac=\"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac\" xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\">';\n        styleTemp += this.saveNumberFormats();\n        styleTemp += this.saveFonts();\n        styleTemp += this.saveFills();\n        styleTemp += this.saveBorders();\n        styleTemp += this.saveCellStyleXfs();\n        styleTemp += this.saveCellXfs();\n        styleTemp += this.saveCellStyles();\n        this.addToArchive(styleTemp + '</styleSheet>', 'xl/styles.xml');\n    };\n    Workbook.prototype.updateCellXfsStyleXfs = function () {\n        for (var _i = 0, _a = this.mStyles; _i < _a.length; _i++) {\n            var style = _a[_i];\n            var cellXfs = undefined;\n            if (style.isGlobalStyle) {\n                cellXfs = new CellStyleXfs();\n                cellXfs.xfId = (style.index - 1);\n            }\n            else {\n                cellXfs = new CellXfs();\n                cellXfs.xfId = 0;\n            }\n            //Add font\n            var compareFontResult = this.isNewFont(style);\n            if (!compareFontResult.result) {\n                var font = new Font();\n                font.b = style.bold;\n                font.i = style.italic;\n                font.name = style.fontName;\n                font.sz = style.fontSize;\n                font.u = style.underline;\n                font.strike = style.strikeThrough;\n                font.color = ('FF' + style.fontColor.replace('#', ''));\n                this.mFonts.push(font);\n                cellXfs.fontId = this.mFonts.length - 1;\n            }\n            else {\n                cellXfs.fontId = compareFontResult.index;\n            }\n            //Add fill\n            if (style.backColor !== 'none') {\n                var backColor = 'FF' + style.backColor.replace('#', '');\n                if (this.mFills.has(backColor)) {\n                    var fillId = this.mFills.get(backColor);\n                    cellXfs.fillId = fillId;\n                }\n                else {\n                    var fillId = this.mFills.size + 2;\n                    this.mFills.set(backColor, fillId);\n                    cellXfs.fillId = (fillId);\n                }\n            }\n            else {\n                cellXfs.fillId = 0;\n            }\n            //Add border            \n            if (!this.isNewBorder(style)) {\n                this.mBorders.push(style.borders);\n                cellXfs.borderId = this.mBorders.length;\n            }\n            else {\n                cellXfs.borderId = 0;\n            }\n            //Add Number Format            \n            if (style.numberFormat !== 'GENERAL') {\n                if (this.mNumFmt.has(style.numberFormat)) {\n                    var numFmt = this.mNumFmt.get(style.numberFormat);\n                    cellXfs.numFmtId = numFmt.numFmtId;\n                }\n                else {\n                    var id = this.mNumFmt.size + 164;\n                    this.mNumFmt.set(style.numberFormat, new NumFmt(id, style.numberFormat));\n                    cellXfs.numFmtId = id;\n                }\n            }\n            else {\n                if (style.numberFormat === 'GENERAL' && style.numFmtId === 14) {\n                    cellXfs.numFmtId = 14;\n                }\n                else {\n                    cellXfs.numFmtId = 0;\n                }\n            }\n            //Add alignment            \n            if (!style.isGlobalStyle) {\n                cellXfs.applyAlignment = 1;\n            }\n            cellXfs.alignment = new Alignment();\n            cellXfs.alignment.indent = style.indent;\n            cellXfs.alignment.horizontal = style.hAlign;\n            cellXfs.alignment.vertical = style.vAlign;\n            cellXfs.alignment.wrapText = style.wrapText ? 1 : 0;\n            cellXfs.alignment.rotation = style.rotation;\n            if (style.isGlobalStyle) {\n                this.mCellStyleXfs.push(cellXfs);\n                this.mCellXfs.push(cellXfs);\n            }\n            else {\n                //Add cellxfs\n                this.mCellXfs.push(cellXfs);\n            }\n        }\n    };\n    Workbook.prototype.saveNumberFormats = function () {\n        if (this.mNumFmt.size >= 1) {\n            var numFmtStyle_1 = '<numFmts count=\"' + (this.mNumFmt.size) + '\">';\n            this.mNumFmt.forEach(function (value, key) {\n                numFmtStyle_1 += '<numFmt numFmtId=\"' + value.numFmtId + '\" formatCode=\"' + value.formatCode.replace(/\"/g, '&quot;') + '\" />';\n            });\n            return (numFmtStyle_1 += '</numFmts>');\n        }\n        else {\n            return '';\n        }\n    };\n    Workbook.prototype.saveFonts = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var fontStyle = '<fonts count=\"' + (this.mFonts.length) + '\">';\n        if (this.mFonts.length >= 1) {\n            for (var _i = 0, _a = this.mFonts; _i < _a.length; _i++) {\n                var font = _a[_i];\n                fontStyle += '<font>';\n                if (font.b) {\n                    fontStyle += '<b />';\n                }\n                if (font.i) {\n                    fontStyle += '<i />';\n                }\n                if (font.u) {\n                    fontStyle += '<u />';\n                }\n                if (font.strike) {\n                    fontStyle += '<strike />';\n                }\n                fontStyle += '<sz val=\"' + font.sz + '\" />';\n                fontStyle += '<color rgb=\"' + font.color + '\" />';\n                fontStyle += '<name val=\"' + font.name + '\" /></font>';\n            }\n        }\n        return fontStyle + '</fonts>';\n    };\n    Workbook.prototype.saveFills = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var fillsStyle = '<fills count=\"' + (this.mFills.size + 2) + '\"><fill><patternFill patternType=\"none\"></patternFill></fill><fill><patternFill patternType=\"gray125\"></patternFill></fill>';\n        if (this.mFills.size >= 1) {\n            this.mFills.forEach(function (value, key) {\n                /* tslint:disable-next-line:max-line-length */\n                fillsStyle += '<fill><patternFill patternType=\"solid\"><fgColor rgb=\"' + key + '\" /><bgColor rgb=\"FFFFFFFF\" /></patternFill></fill>';\n            });\n        }\n        return fillsStyle + '</fills>';\n    };\n    Workbook.prototype.saveBorders = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var bordersStyle = '<borders count=\"' + (this.mBorders.length + 1) + '\"><border><left /><right /><top /><bottom /><diagonal /></border>';\n        if (this.mBorders.length >= 1) {\n            for (var _i = 0, _a = this.mBorders; _i < _a.length; _i++) {\n                var borders = _a[_i];\n                if (this.isAllBorder(borders)) {\n                    var color = borders.all.color.replace('#', '');\n                    var lineStyle = borders.all.lineStyle;\n                    /* tslint:disable-next-line:max-line-length */\n                    bordersStyle += '<border><left style=\"' + lineStyle + '\"><color rgb=\"FF' + color + '\" /></left><right style=\"' + lineStyle + '\"><color rgb=\"FF' + color + '\" /></right><top style=\"' + lineStyle + '\"><color rgb=\"FF' + color + '\" /></top><bottom style=\"' + lineStyle + '\"><color rgb=\"FF' + color + '\" /></bottom></border>';\n                }\n                else {\n                    /* tslint:disable-next-line:max-line-length */\n                    bordersStyle += '<border><left style=\"' + borders.left.lineStyle + '\"><color rgb=\"FF' + borders.left.color.replace('#', '') + '\" /></left><right style=\"' + borders.right.lineStyle + '\"><color rgb=\"FF' + borders.right.color.replace('#', '') + '\" /></right><top style=\"' + borders.top.lineStyle + '\"><color rgb=\"FF' + borders.top.color.replace('#', '') + '\" /></top><bottom style=\"' + borders.bottom.lineStyle + '\"><color rgb=\"FF' + borders.bottom.color.replace('#', '') + '\" /></bottom></border>';\n                }\n            }\n        }\n        return bordersStyle + '</borders>';\n    };\n    Workbook.prototype.saveCellStyles = function () {\n        var _this = this;\n        var cellStyleString = '<cellStyles  count=\"' + (this.cellStyles.size) + '\">';\n        this.cellStyles.forEach(function (value, key) {\n            cellStyleString += '<cellStyle name=\"' + key + '\" xfId=\"' + _this.cellStyles.get(key).xfId + '\"';\n            if (key === 'Normal') {\n                cellStyleString += ' builtinId=\"0\"';\n            }\n            cellStyleString += ' />';\n        });\n        return cellStyleString += '</cellStyles>';\n    };\n    Workbook.prototype.saveCellStyleXfs = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var cellXfsStyle = '<cellStyleXfs count=\"' + (this.mCellStyleXfs.length + 1) + '\"><xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\" />';\n        if (this.mCellStyleXfs.length >= 1) {\n            for (var _i = 0, _a = this.mCellStyleXfs; _i < _a.length; _i++) {\n                var cellStyleXf = _a[_i];\n                /* tslint:disable-next-line:max-line-length */\n                cellXfsStyle += '<xf numFmtId=\"' + cellStyleXf.numFmtId + '\" fontId=\"' + cellStyleXf.fontId + '\" fillId=\"' + cellStyleXf.fillId + '\" borderId=\"' + cellStyleXf.borderId + '\" ';\n                if (cellStyleXf.alignment !== undefined) {\n                    cellXfsStyle += '>' + this.saveAlignment(cellStyleXf) + '</xf>';\n                }\n                else {\n                    cellXfsStyle += ' />';\n                }\n            }\n        }\n        return cellXfsStyle + '</cellStyleXfs>';\n    };\n    Workbook.prototype.saveCellXfs = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var cellXfsStyle = '<cellXfs count=\"' + (this.mCellXfs.length + 1) + '\"><xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\" xfId=\"0\" />';\n        if (this.mCellXfs.length >= 1) {\n            for (var _i = 0, _a = this.mCellXfs; _i < _a.length; _i++) {\n                var cellXf = _a[_i];\n                /* tslint:disable-next-line:max-line-length */\n                cellXfsStyle += '<xf numFmtId=\"' + cellXf.numFmtId + '\" fontId=\"' + cellXf.fontId + '\" fillId=\"' + cellXf.fillId + '\" borderId=\"' + cellXf.borderId + '\" xfId=\"' + cellXf.xfId + '\" ';\n                if (cellXf.applyAlignment === 1) {\n                    cellXfsStyle += 'applyAlignment=\"1\"';\n                }\n                cellXfsStyle += '>' + this.saveAlignment(cellXf) + '</xf>';\n            }\n        }\n        return cellXfsStyle + '</cellXfs>';\n    };\n    Workbook.prototype.saveAlignment = function (cellXf) {\n        var alignString = '<alignment ';\n        if (cellXf.alignment.horizontal !== undefined) {\n            alignString += 'horizontal=\"' + cellXf.alignment.horizontal + '\" ';\n        }\n        if (cellXf.alignment.indent !== undefined && cellXf.alignment.indent !== 0) {\n            alignString += 'indent=\"' + cellXf.alignment.indent + '\" ';\n        }\n        else if (cellXf.alignment.rotation !== undefined && cellXf.alignment.rotation !== 0) {\n            alignString += 'textRotation=\"' + cellXf.alignment.rotation + '\" ';\n        }\n        if (cellXf.alignment.vertical !== undefined) {\n            alignString += 'vertical=\"' + cellXf.alignment.vertical + '\" ';\n        }\n        alignString += 'wrapText=\"' + cellXf.alignment.wrapText + '\" />';\n        return alignString;\n    };\n    Workbook.prototype.saveApp = function (builtInProperties) {\n        /* tslint:disable-next-line:max-line-length */\n        var appString = '<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?><Properties xmlns=\"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\"><Application>Essential XlsIO</Application>';\n        if (builtInProperties !== undefined) {\n            if (builtInProperties.manager !== undefined) {\n                appString += '<Manager>' + builtInProperties.manager + '</Manager>';\n            }\n            if (builtInProperties.company !== undefined) {\n                appString += '<Company>' + builtInProperties.company + '</Company>';\n            }\n        }\n        this.addToArchive((appString + '</Properties>'), 'docProps/app.xml');\n    };\n    Workbook.prototype.saveCore = function (builtInProperties) {\n        var createdDate = new Date();\n        /* tslint:disable-next-line:max-line-length */\n        var coreString = '<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?><cp:coreProperties xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:dcterms=\"http://purl.org/dc/terms/\" xmlns:dcmitype=\"http://purl.org/dc/dcmitype/\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:cp=\"http://schemas.openxmlformats.org/package/2006/metadata/core-properties\">';\n        if (this.builtInProperties !== undefined) {\n            if (builtInProperties.author !== undefined) {\n                coreString += '<dc:creator>' + builtInProperties.author + '</dc:creator>';\n            }\n            if (builtInProperties.subject !== undefined) {\n                coreString += '<dc:subject>' + builtInProperties.subject + '</dc:subject>';\n            }\n            if (builtInProperties.category !== undefined) {\n                coreString += '<cp:category>' + builtInProperties.category + '</cp:category>';\n            }\n            if (builtInProperties.comments !== undefined) {\n                coreString += '<dc:description>' + builtInProperties.comments + '</dc:description>';\n            }\n            if (builtInProperties.title !== undefined) {\n                coreString += '<dc:title>' + builtInProperties.title + '</dc:title>';\n            }\n            if (builtInProperties.tags !== undefined) {\n                coreString += '<cp:keywords>' + builtInProperties.tags + '</cp:keywords>';\n            }\n            if (builtInProperties.status !== undefined) {\n                coreString += '<cp:contentStatus>' + builtInProperties.status + '</cp:contentStatus>';\n            }\n            if (builtInProperties.createdDate !== undefined) {\n                /* tslint:disable-next-line:max-line-length */\n                coreString += '<dcterms:created xsi:type=\"dcterms:W3CDTF\">' + builtInProperties.createdDate.toISOString() + '</dcterms:created>';\n            }\n            else {\n                coreString += '<dcterms:created xsi:type=\"dcterms:W3CDTF\">' + createdDate.toISOString() + '</dcterms:created>';\n            }\n            if (builtInProperties.modifiedDate !== undefined) {\n                /* tslint:disable-next-line:max-line-length */\n                coreString += '<dcterms:modified xsi:type=\"dcterms:W3CDTF\">' + builtInProperties.modifiedDate.toISOString() + '</dcterms:modified>';\n            }\n            else {\n                coreString += '<dcterms:modified xsi:type=\"dcterms:W3CDTF\">' + createdDate.toISOString() + '</dcterms:modified>';\n            }\n        }\n        else {\n            coreString += '<dcterms:created xsi:type=\"dcterms:W3CDTF\">' + createdDate.toISOString() + '</dcterms:created>';\n            coreString += '<dcterms:modified xsi:type=\"dcterms:W3CDTF\">' + createdDate.toISOString() + '</dcterms:modified>';\n        }\n        /* tslint:disable-next-line:max-line-length */\n        coreString += '</cp:coreProperties>';\n        this.addToArchive(coreString, 'docProps/core.xml');\n    };\n    Workbook.prototype.saveTopLevelRelation = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var topRelation = '<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?><Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\"><Relationship Id=\"rId1\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\" Target=\"xl/workbook.xml\" /><Relationship Id=\"rId2\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties\" Target=\"docProps/app.xml\" /><Relationship Id=\"rId3\" Type=\"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties\" Target=\"docProps/core.xml\" /></Relationships>';\n        this.addToArchive(topRelation, '_rels/.rels');\n    };\n    Workbook.prototype.saveWorkbookRelation = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var wbRelation = '<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?><Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">';\n        var length = this.worksheets.length;\n        var count = 0;\n        for (var i = 0; i < length; i++, count++) {\n            /* tslint:disable-next-line:max-line-length */\n            wbRelation += '<Relationship Id=\"rId' + (i + 1).toString() + '\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet\" Target=\"worksheets/sheet' + (i + 1).toString() + '.xml\" />';\n        }\n        /* tslint:disable-next-line:max-line-length */\n        wbRelation += '<Relationship Id=\"rId' + (++count).toString() + '\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles\" Target=\"styles.xml\" />';\n        if (this.sharedStringCount > 0) {\n            /* tslint:disable-next-line:max-line-length */\n            wbRelation += '<Relationship Id=\"rId' + (++count).toString() + '\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings\" Target=\"sharedStrings.xml\" />';\n        }\n        this.addToArchive((wbRelation + '</Relationships>'), 'xl/_rels/workbook.xml.rels');\n    };\n    Workbook.prototype.saveContentType = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var contentTypeString = '<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?><Types xmlns=\"http://schemas.openxmlformats.org/package/2006/content-types\"><Default Extension=\"xml\" ContentType=\"application/xml\" /><Default Extension=\"rels\" ContentType=\"application/vnd.openxmlformats-package.relationships+xml\" /><Override PartName=\"/xl/styles.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\" /><Override PartName=\"/xl/workbook.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\" /><Override PartName=\"/docProps/app.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.extended-properties+xml\" /><Override PartName=\"/docProps/core.xml\" ContentType=\"application/vnd.openxmlformats-package.core-properties+xml\" />';\n        var sheetsOverride = '';\n        var length = this.worksheets.length;\n        for (var i = 0; i < length; i++) {\n            /* tslint:disable-next-line:max-line-length */\n            sheetsOverride += '<Override PartName=\"/xl/worksheets/sheet' + (i + 1).toString() + '.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\" />';\n            if (this.worksheets[i].images != undefined && this.worksheets[i].images.length > 0) {\n                /* tslint:disable-next-line:max-line-length */\n                sheetsOverride += '<Override PartName=\"/xl/drawings/drawing' + (i + 1).toString() + '.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.drawing+xml\" />';\n            }\n        }\n        if (this.imageCount > 0)\n            sheetsOverride += '<Default Extension=\"png\" ContentType=\"image/png\" />';\n        if (this.sharedStringCount > 0) {\n            /* tslint:disable-next-line:max-line-length */\n            contentTypeString += '<Override PartName=\"/xl/sharedStrings.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\" />';\n        }\n        this.addToArchive((contentTypeString + sheetsOverride + '</Types>'), '[Content_Types].xml');\n    };\n    Workbook.prototype.addToArchive = function (xmlString, itemName) {\n        if (typeof (xmlString) === 'string') {\n            var blob = new Blob([xmlString], { type: 'text/plain' });\n            var archiveItem = new ZipArchiveItem(blob, itemName);\n            this.mArchive.addItem(archiveItem);\n        }\n        else {\n            var archiveItem = new ZipArchiveItem(xmlString, itemName);\n            this.mArchive.addItem(archiveItem);\n        }\n    };\n    Workbook.prototype.processMergeCells = function (cell, rowIndex, mergeCells) {\n        if (cell.rowSpan !== 0 || cell.colSpan !== 0) {\n            var mCell = new MergeCell();\n            mCell.x = cell.index;\n            mCell.width = cell.colSpan;\n            mCell.y = rowIndex;\n            mCell.height = cell.rowSpan;\n            var startCell = this.getCellName(mCell.y, mCell.x);\n            var endCell = this.getCellName(rowIndex + mCell.height, cell.index + mCell.width);\n            mCell.ref = startCell + ':' + endCell;\n            var mergedCell = mergeCells.add(mCell);\n            var start = { x: mCell.x, y: mCell.y };\n            var end = {\n                x: (cell.index + mCell.width), y: (rowIndex + mCell.height)\n            };\n            this.updatedMergedCellStyles(start, end, cell);\n        }\n        return mergeCells;\n    };\n    Workbook.prototype.updatedMergedCellStyles = function (sCell, eCell, cell) {\n        for (var x = sCell.x; x <= eCell.x; x++) {\n            for (var y = sCell.y; y <= eCell.y; y++) {\n                this.mergedCellsStyle.set(this.getCellName(y, x), { x: x, y: y, styleIndex: cell.styleIndex });\n            }\n        }\n    };\n    /**\n     * Returns the tick count corresponding to the given year, month, and day.\n     * @param year number value of year\n     * @param month number value of month\n     * @param day number value of day\n     */\n    Workbook.prototype.dateToTicks = function (year, month, day) {\n        var ticksPerDay = 10000 * 1000 * 60 * 60 * 24;\n        var daysToMonth365 = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365];\n        var daysToMonth366 = [0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335, 366];\n        if (year >= 1 && year <= 9999 && month >= 1 && month <= 12) {\n            var days = this.isLeapYear(year) ? daysToMonth366 : daysToMonth365;\n            var y = year - 1;\n            var n = y * 365 + ((y / 4) | 0) - ((y / 100) | 0) + ((y / 400) | 0) + days[month - 1] + day - 1;\n            return n * ticksPerDay;\n        }\n        throw new Error('Not a valid date');\n    };\n    /**\n     * Return the tick count corresponding to the given hour, minute, second.\n     * @param hour number value of hour\n     * @param minute number value if minute\n     * @param second number value of second\n     */\n    Workbook.prototype.timeToTicks = function (hour, minute, second) {\n        if (hour >= 0 && hour < 24 && minute >= 0 && minute < 60 && second >= 0 && second < 60) {\n            var totalSeconds = hour * 3600 + minute * 60 + second;\n            return totalSeconds * 10000 * 1000;\n        }\n        throw new Error('Not valid time');\n    };\n    /**\n     * Checks if given year is a leap year.\n     * @param year Year value.\n     */\n    Workbook.prototype.isLeapYear = function (year) {\n        return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n    };\n    /**\n     * Converts `DateTime` to the equivalent OLE Automation date.\n     */\n    Workbook.prototype.toOADate = function (date) {\n        var ticks = 0;\n        /* tslint:disable-next-line:max-line-length */\n        ticks = this.dateToTicks(date.getFullYear(), (date.getMonth() + 1), date.getDate()) + this.timeToTicks(date.getHours(), date.getMinutes(), date.getSeconds());\n        if (ticks === 0) {\n            return 0.0;\n        }\n        var ticksPerDay = 10000 * 1000 * 60 * 60 * 24;\n        var daysTo1899 = (((365 * 4 + 1) * 25 - 1) * 4 + 1) * 4 + ((365 * 4 + 1) * 25 - 1) * 3 - 367;\n        var doubleDateOffset = daysTo1899 * ticksPerDay;\n        var oaDateMinAsTicks = (((365 * 4 + 1) * 25 - 1) - 365) * ticksPerDay;\n        if (ticks < oaDateMinAsTicks) {\n            throw new Error('Arg_OleAutDateInvalid');\n        }\n        var millisPerDay = 1000 * 60 * 60 * 24;\n        return ((ticks - doubleDateOffset) / 10000) / millisPerDay;\n    };\n    return Workbook;\n}());\nexport { Workbook };\n/**\n * BuiltInProperties Class\n * @private\n */\nvar BuiltInProperties = /** @class */ (function () {\n    function BuiltInProperties() {\n    }\n    return BuiltInProperties;\n}());\nexport { BuiltInProperties };\n","import { Row } from './../models/row';\nimport { CellType } from '../base/enum';\nimport { isNullOrUndefined, Internationalization, getValue, createElement } from '@syncfusion/ej2-base';\nimport { Cell } from '../models/cell';\nimport { ValueFormatter } from './../services/value-formatter';\nimport { Query, DataManager } from '@syncfusion/ej2-data';\nimport { getForeignData, measureColumnDepth, getUid } from '../base/util';\nimport { Grid } from '../base/grid';\n/**\n * @hidden\n * `ExportHelper` for `PdfExport` & `ExcelExport`\n */\nvar ExportHelper = /** @class */ (function () {\n    function ExportHelper(parent, foreignKeyData) {\n        this.hideColumnInclude = false;\n        this.foreignKeyData = {};\n        this.parent = parent;\n        if (!parent.parentDetails && foreignKeyData) {\n            this.foreignKeyData = foreignKeyData;\n        }\n    }\n    ExportHelper.getQuery = function (parent, data) {\n        var query = data.generateQuery(true).requiresCount();\n        if (data.isRemote()) {\n            if (parent.groupSettings.enableLazyLoading && parent.groupSettings.columns.length) {\n                query.lazyLoad = [];\n            }\n            else {\n                query.take(parent.pageSettings.totalRecordsCount);\n            }\n        }\n        return query;\n    };\n    ExportHelper.prototype.getFData = function (value, column) {\n        var foreignKeyData = getForeignData(column, {}, value, this.foreignKeyData[column.field])[0];\n        return foreignKeyData;\n    };\n    ExportHelper.prototype.getGridRowModel = function (columns, dataSource, gObj, startIndex) {\n        if (startIndex === void 0) { startIndex = 0; }\n        var rows = [];\n        var length = dataSource.length;\n        if (length) {\n            for (var i = 0; i < length; i++, startIndex++) {\n                var options = { isExpand: false };\n                options.data = dataSource[i];\n                options.index = startIndex;\n                if (gObj.childGrid) {\n                    if (gObj.hierarchyPrintMode === 'All') {\n                        options.isExpand = true;\n                    }\n                    else if (gObj.hierarchyPrintMode === 'Expanded' &&\n                        this.parent.expandedRows && this.parent.expandedRows[startIndex]) {\n                        options.isExpand = gObj.expandedRows[startIndex].isExpand;\n                    }\n                }\n                var row = new Row(options);\n                row.cells = this.generateCells(columns, gObj);\n                rows.push(row);\n            }\n            this.processColumns(rows);\n        }\n        return rows;\n    };\n    ExportHelper.prototype.generateCells = function (columns, gObj) {\n        var cells = [];\n        if (gObj.childGridLevel) {\n            var len = gObj.childGridLevel;\n            for (var i = 0; len > i; i++) {\n                cells.push(this.generateCell({}, CellType.Indent));\n            }\n        }\n        for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\n            var col = columns_1[_i];\n            cells.push(this.generateCell(col, CellType.Data));\n        }\n        return cells;\n    };\n    ExportHelper.prototype.getColumnData = function (gridObj) {\n        var _this = this;\n        var columnPromise = [];\n        var promise;\n        var fColumns = gridObj.getForeignKeyColumns();\n        if (fColumns.length) {\n            for (var i = 0; i < fColumns.length; i++) {\n                var colData = ('result' in fColumns[i].dataSource) ?\n                    new DataManager(fColumns[i].dataSource.result) :\n                    fColumns[i].dataSource;\n                columnPromise.push(colData.executeQuery(new Query()));\n            }\n            promise = Promise.all(columnPromise).then(function (e) {\n                for (var j = 0; j < fColumns.length; j++) {\n                    _this.foreignKeyData[fColumns[j].field] = e[j].result;\n                }\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            });\n        }\n        return promise;\n    };\n    ExportHelper.prototype.getHeaders = function (columns, isHideColumnInclude) {\n        if (isHideColumnInclude) {\n            this.hideColumnInclude = true;\n        }\n        else {\n            this.hideColumnInclude = false;\n        }\n        this.colDepth = measureColumnDepth(columns);\n        var rows = [];\n        for (var i = 0; i < this.colDepth; i++) {\n            rows[i] = new Row({});\n            rows[i].cells = [];\n        }\n        rows = this.processColumns(rows);\n        rows = this.processHeaderCells(rows, columns);\n        return { rows: rows, columns: this.generateActualColumns(columns) };\n    };\n    ExportHelper.prototype.getConvertedWidth = function (input) {\n        var value = parseFloat(input);\n        return (input.indexOf('%') !== -1) ? (this.parent.element.getBoundingClientRect().width * value / 100) : value;\n    };\n    ExportHelper.prototype.generateActualColumns = function (columns, actualColumns) {\n        if (actualColumns === void 0) { actualColumns = []; }\n        for (var _i = 0, columns_2 = columns; _i < columns_2.length; _i++) {\n            var column = columns_2[_i];\n            if (column.commands) {\n                continue;\n            }\n            if (!column.columns) {\n                if (column.visible || this.hideColumnInclude) {\n                    actualColumns.push(column);\n                }\n            }\n            else {\n                if (column.visible || this.hideColumnInclude) {\n                    var colSpan = this.getCellCount(column, 0);\n                    if (colSpan !== 0) {\n                        this.generateActualColumns(column.columns, actualColumns);\n                    }\n                }\n            }\n        }\n        return actualColumns;\n    };\n    ExportHelper.prototype.processHeaderCells = function (rows, cols) {\n        var columns = cols;\n        for (var i = 0; i < columns.length; i++) {\n            if (!columns[i].commands) {\n                rows = this.appendGridCells(columns[i], rows, 0);\n            }\n        }\n        return rows;\n    };\n    ExportHelper.prototype.appendGridCells = function (cols, gridRows, index) {\n        if (!cols.columns && (cols.visible !== false || this.hideColumnInclude) && !cols.commands) {\n            gridRows[index].cells.push(this.generateCell(cols, CellType.Header, this.colDepth - index, index));\n        }\n        else if (cols.columns) {\n            var colSpan = this.getCellCount(cols, 0);\n            if (colSpan) {\n                gridRows[index].cells.push(new Cell({\n                    cellType: CellType.StackedHeader, column: cols, colSpan: colSpan\n                }));\n            }\n            var isIgnoreFirstCell = void 0;\n            for (var i = 0, len = cols.columns.length; i < len; i++) {\n                if (cols.columns[i].visible && !isIgnoreFirstCell) {\n                    isIgnoreFirstCell = true;\n                }\n                gridRows = this.appendGridCells(cols.columns[i], gridRows, index + 1);\n            }\n        }\n        return gridRows;\n    };\n    ExportHelper.prototype.generateCell = function (gridColumn, cellType, rowSpan, rowIndex) {\n        var option = {\n            'visible': gridColumn.visible,\n            'isDataCell': cellType === CellType.Data,\n            'column': gridColumn,\n            'cellType': cellType,\n            'rowSpan': rowSpan,\n            'index': rowIndex\n        };\n        if (!option.rowSpan || option.rowSpan < 2) {\n            delete option.rowSpan;\n        }\n        return new Cell(option);\n    };\n    ExportHelper.prototype.processColumns = function (rows) {\n        //TODO: generate dummy column for group, detail, stacked row here; ensureColumns here\n        var gridObj = this.parent;\n        var columnIndexes = [];\n        if (gridObj.enableColumnVirtualization) {\n            columnIndexes = gridObj.getColumnIndexesInView();\n        }\n        for (var i = 0, len = rows.length; i < len; i++) {\n            if (gridObj.allowGrouping) {\n                for (var j = 0, len_1 = gridObj.groupSettings.columns.length - 1; j < len_1; j++) {\n                    if (gridObj.enableColumnVirtualization && columnIndexes.indexOf(j) === -1) {\n                        continue;\n                    }\n                    rows[i].cells.splice(0, 0, this.generateCell({}, CellType.HeaderIndent));\n                }\n            }\n        }\n        return rows;\n    };\n    ExportHelper.prototype.getCellCount = function (column, count) {\n        if (column.columns) {\n            for (var i = 0; i < column.columns.length; i++) {\n                count = this.getCellCount(column.columns[i], count);\n            }\n        }\n        else {\n            if (column.visible || this.hideColumnInclude) {\n                count++;\n            }\n        }\n        return count;\n    };\n    ExportHelper.prototype.checkAndExport = function (gridPool, globalResolve) {\n        var bool = Object.keys(gridPool).some(function (key) {\n            return !gridPool[key];\n        });\n        if (!bool) {\n            globalResolve();\n        }\n    };\n    ExportHelper.prototype.failureHandler = function (gridPool, childGridObj, resolve) {\n        var _this = this;\n        return function () {\n            gridPool[childGridObj.id] = true;\n            _this.checkAndExport(gridPool, resolve);\n        };\n    };\n    ExportHelper.prototype.createChildGrid = function (gObj, row, exportType, gridPool) {\n        var childGridObj = new Grid(this.parent.detailRowModule.getGridModel(gObj, row, exportType));\n        gObj.isPrinting = false;\n        var parent = 'parentDetails';\n        childGridObj[parent] = {\n            parentID: gObj.element.id,\n            parentPrimaryKeys: gObj.getPrimaryKeyFieldNames(),\n            parentKeyField: gObj.childGrid.queryString,\n            parentKeyFieldValue: getValue(childGridObj.queryString, row.data),\n            parentRowData: row.data\n        };\n        var exportId = getUid('child-grid');\n        var element = createElement('div', {\n            id: exportId, styles: 'display: none'\n        });\n        document.body.appendChild(element);\n        childGridObj.id = exportId;\n        gridPool[exportId] = false;\n        childGridObj.isExportGrid = true;\n        return { childGrid: childGridObj, element: element };\n    };\n    ExportHelper.prototype.getGridExportColumns = function (columns) {\n        var actualGridColumns = [];\n        for (var i = 0, gridColumns = columns; i < gridColumns.length; i++) {\n            if (gridColumns[i].type !== 'checkbox') {\n                actualGridColumns.push(gridColumns[i]);\n            }\n        }\n        return actualGridColumns;\n    };\n    /**\n     * Gets the foreignkey data.\n     *\n     * @returns {ForeignKeyFormat} returns the foreignkey data\n     * @hidden\n     */\n    ExportHelper.prototype.getForeignKeyData = function () {\n        return this.foreignKeyData;\n    };\n    return ExportHelper;\n}());\nexport { ExportHelper };\n/**\n * @hidden\n * `ExportValueFormatter` for `PdfExport` & `ExcelExport`\n */\nvar ExportValueFormatter = /** @class */ (function () {\n    function ExportValueFormatter(culture) {\n        this.valueFormatter = new ValueFormatter(culture);\n        this.internationalization = new Internationalization(culture);\n    }\n    ExportValueFormatter.prototype.returnFormattedValue = function (args, customFormat) {\n        if (!isNullOrUndefined(args.value) && args.value) {\n            return this.valueFormatter.getFormatFunction(customFormat)(args.value);\n        }\n        else {\n            return '';\n        }\n    };\n    /**\n     * Used to format the exporting cell value\n     *\n     * @param  {ExportHelperArgs} args - Specifies cell details.\n     * @returns {string} returns formated value\n     * @hidden\n     */\n    ExportValueFormatter.prototype.formatCellValue = function (args) {\n        if (args.isForeignKey) {\n            args.value = getValue(args.column.foreignKeyValue, getForeignData(args.column, {}, args.value)[0]);\n        }\n        if (args.column.type === 'number' && args.column.format !== undefined && args.column.format !== '') {\n            return args.value || args.value === 0 ?\n                this.internationalization.getNumberFormat({ format: args.column.format })(args.value) : '';\n        }\n        else if (args.column.type === 'boolean' && args.value !== '') {\n            return args.value ? 'true' : 'false';\n            /* tslint:disable-next-line:max-line-length */\n        }\n        else if ((args.column.type === 'date' || args.column.type === 'datetime' || args.column.type === 'time') && args.column.format !== undefined) {\n            if (typeof args.value === 'string') {\n                args.value = new Date(args.value);\n            }\n            if (typeof args.column.format === 'string') {\n                var format = void 0;\n                var cFormat = args.column.format;\n                if (args.column.type === 'date') {\n                    format = { type: 'date', skeleton: cFormat };\n                }\n                else if (args.column.type === 'time') {\n                    format = { type: 'time', skeleton: cFormat };\n                }\n                else {\n                    format = { type: 'dateTime', skeleton: cFormat };\n                }\n                return this.returnFormattedValue(args, format);\n            }\n            else {\n                if (args.column.format instanceof Object && args.column.format.type === undefined) {\n                    return (args.value.toString());\n                }\n                else {\n                    var customFormat = void 0;\n                    if (args.column.type === 'date') {\n                        customFormat = {\n                            type: args.column.format.type,\n                            format: args.column.format.format, skeleton: args.column.format.skeleton\n                        };\n                    }\n                    else if (args.column.type === 'time') {\n                        customFormat = { type: 'time', format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    else {\n                        customFormat = { type: 'dateTime', format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    return this.returnFormattedValue(args, customFormat);\n                }\n            }\n        }\n        else {\n            if ((!isNullOrUndefined(args.column.type) && !isNullOrUndefined(args.value)) || !isNullOrUndefined(args.value)) {\n                return (args.value).toString();\n            }\n            else {\n                return '';\n            }\n        }\n    };\n    return ExportValueFormatter;\n}());\nexport { ExportValueFormatter };\n","import * as events from '../base/constant';\nimport { Workbook } from '@syncfusion/ej2-excel-export';\nimport { isNullOrUndefined, getEnumValue, compile, getValue, detach, extend } from '@syncfusion/ej2-base';\nimport { Data } from '../actions/data';\nimport { ExportHelper, ExportValueFormatter } from './export-helper';\nimport { SummaryModelGenerator, GroupSummaryModelGenerator, CaptionSummaryModelGenerator } from '../services/summary-model-generator';\nimport { CellType } from '../base/enum';\nimport { Query, DataManager } from '@syncfusion/ej2-data';\nimport { getPrintGridModel, getUid, isExportColumns, updateColumnTypeForExportColumns, prepareColumns, measureColumnDepth } from '../base/util';\n/**\n * @hidden\n * `ExcelExport` module is used to handle the Excel export action.\n */\nvar ExcelExport = /** @class */ (function () {\n    /**\n     * Constructor for the Grid Excel Export module.\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {ServiceLocator} locator - specifies the ServiceLocator\n     * @hidden\n     */\n    function ExcelExport(parent, locator) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.book = {};\n        this.workSheet = [];\n        this.rows = [];\n        this.columns = [];\n        this.styles = [];\n        this.rowLength = 1;\n        this.expType = 'AppendToSheet';\n        this.includeHiddenColumn = false;\n        this.isCsvExport = false;\n        this.isElementIdChanged = false;\n        this.gridPool = {};\n        this.sheet = {};\n        this.parent = parent;\n        this.helper = new ExportHelper(parent);\n        this.locator = locator;\n        this.l10n = this.locator.getService('localization');\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     */\n    ExcelExport.prototype.getModuleName = function () {\n        return 'ExcelExport';\n    };\n    ExcelExport.prototype.init = function (gObj) {\n        if (gObj.element !== null && gObj.element.id === '') {\n            gObj.element.id = new Date().toISOString();\n            this.isElementIdChanged = true;\n        }\n        this.parent = gObj;\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.isExporting = undefined;\n        this.book = {};\n        this.workSheet = [];\n        this.rows = [];\n        this.columns = [];\n        this.styles = [];\n        this.rowLength = 1;\n        this.footer = undefined;\n        this.expType = 'AppendToSheet';\n        this.includeHiddenColumn = false;\n        this.exportValueFormatter = new ExportValueFormatter(gObj.locale);\n        gObj.id = getUid('main-grid');\n        this.gridPool[gObj.id] = false;\n    };\n    /**\n     * Export Grid to Excel file.\n     *\n     * @param {IGrid} grid - Defines the grid.\n     * @param  {exportProperties} exportProperties - Defines the export properties of the Grid.\n     * @param  {isMultipleExport} isMultipleExport - Defines is multiple Grid's are exported.\n     * @param  {Workbook} workbook - Defined the Workbook if multiple Grid is exported.\n     * @param  {boolean} isCsv - true if export to CSV.\n     * @param {boolean} isBlob - true if isBlob is enabled.\n     * @returns {Promise<any>} - Returns the map for export.\n     */\n    // eslint-disable-next-line\n    ExcelExport.prototype.Map = function (grid, exportProperties, isMultipleExport, workbook, isCsv, isBlob) {\n        var gObj = grid;\n        var cancel = 'cancel';\n        var isBlb = 'isBlob';\n        var csv = 'isCsv';\n        var workbk = 'workbook';\n        var isMultiEx = 'isMultipleExport';\n        this.gridPool = {};\n        if (grid.childGrid && !(!isNullOrUndefined(exportProperties) && exportProperties.hierarchyExportMode === 'None')) {\n            grid.expandedRows = getPrintGridModel(grid).expandedRows;\n        }\n        var args = {\n            requestType: 'beforeExcelExport', gridObject: gObj, cancel: false,\n            isMultipleExport: isMultipleExport, workbook: workbook, isCsv: isCsv, isBlob: isBlob\n        };\n        gObj.trigger(events.beforeExcelExport, args);\n        if (args[cancel]) {\n            return new Promise(function (resolve) {\n                return resolve();\n            });\n        }\n        this.parent.log('exporting_begin', this.getModuleName());\n        this.data = new Data(gObj);\n        this.isExporting = true;\n        this.isBlob = args[isBlb];\n        if (args[csv]) {\n            this.isCsvExport = args[csv];\n        }\n        else {\n            this.isCsvExport = false;\n        }\n        if (isExportColumns(exportProperties)) {\n            updateColumnTypeForExportColumns(exportProperties, gObj);\n        }\n        return this.processRecords(gObj, exportProperties, args[isMultiEx], args[workbk]);\n    };\n    ExcelExport.prototype.exportingSuccess = function (resolve) {\n        this.isExporting = false;\n        this.parent.trigger(events.excelExportComplete, this.isBlob ? { promise: this.blobPromise } : {});\n        this.parent.log('exporting_complete', this.getModuleName());\n        resolve(this.book);\n        this.sheet.images = [];\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ExcelExport.prototype.processRecords = function (gObj, exportProperties, isMultipleExport, workbook) {\n        var _this = this;\n        if (!isNullOrUndefined(exportProperties) && !isNullOrUndefined(exportProperties.dataSource) &&\n            exportProperties.dataSource instanceof DataManager) {\n            var query_1 = exportProperties.query ? exportProperties.query : new Query();\n            if (isNullOrUndefined(query_1.isCountRequired) || gObj.aggregates) {\n                query_1.isCountRequired = true;\n            }\n            return new Promise(function (resolve) {\n                var dataManager = exportProperties.dataSource.executeQuery(query_1);\n                dataManager.then(function (r) {\n                    _this.init(gObj);\n                    _this.processInnerRecords(gObj, exportProperties, isMultipleExport, workbook, r).then(function () {\n                        _this.exportingSuccess(resolve);\n                    });\n                });\n            });\n        }\n        else if (!isNullOrUndefined(exportProperties) && exportProperties.exportType === 'CurrentPage') {\n            return new Promise(function (resolve) {\n                _this.init(gObj);\n                _this.processInnerRecords(gObj, exportProperties, isMultipleExport, workbook, _this.parent.getCurrentViewRecords());\n                _this.exportingSuccess(resolve);\n            });\n        }\n        else {\n            var allPromise_1 = [];\n            allPromise_1.push(this.data.getData({}, ExportHelper.getQuery(gObj, this.data)));\n            allPromise_1.push(this.helper.getColumnData(gObj));\n            return new Promise(function (resolve, reject) {\n                Promise.all(allPromise_1).then(function (e) {\n                    _this.init(gObj);\n                    _this.processInnerRecords(gObj, exportProperties, isMultipleExport, workbook, e[0]).then(function () {\n                        _this.exportingSuccess(resolve);\n                    });\n                }).catch(function (e) {\n                    reject(_this.book);\n                    _this.parent.trigger(events.actionFailure, e);\n                });\n            });\n        }\n    };\n    ExcelExport.prototype.processInnerRecords = function (gObj, exportProperties, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    isMultipleExport, workbook, r) {\n        var _this = this;\n        this.groupedColLength = gObj.groupSettings.columns.length;\n        var blankRows = 5;\n        var separator;\n        var rows = [];\n        var colDepth = measureColumnDepth(gObj.columns);\n        var isExportPropertiesPresent = !isNullOrUndefined(exportProperties);\n        if (isExportPropertiesPresent && !isNullOrUndefined(exportProperties.multipleExport)) {\n            this.expType = (!isNullOrUndefined(exportProperties.multipleExport.type) ? exportProperties.multipleExport.type : 'AppendToSheet');\n            if (!isNullOrUndefined(exportProperties.multipleExport.blankRows)) {\n                blankRows = exportProperties.multipleExport.blankRows;\n            }\n        }\n        if (isNullOrUndefined(workbook)) {\n            this.workSheet = [];\n            this.rows = [];\n            this.columns = [];\n            this.styles = [];\n        }\n        else if (this.expType === 'NewSheet') {\n            this.workSheet = workbook.worksheets;\n            this.rows = [];\n            this.columns = [];\n            this.styles = workbook.styles;\n        }\n        else {\n            this.workSheet = [];\n            this.rows = workbook.worksheets[0].rows;\n            this.columns = workbook.worksheets[0].columns;\n            this.styles = workbook.styles;\n            this.rowLength = (this.rows[this.rows.length - 1].index + blankRows);\n            this.rowLength++;\n        }\n        if (isExportPropertiesPresent) {\n            if (!isNullOrUndefined(isMultipleExport)) {\n                if (!isNullOrUndefined(exportProperties.header) && (isMultipleExport || this.expType === 'NewSheet')) {\n                    this.processExcelHeader(JSON.parse(JSON.stringify(exportProperties.header)));\n                }\n                if (!isNullOrUndefined(exportProperties.footer)) {\n                    if (this.expType === 'AppendToSheet') {\n                        if (!isMultipleExport) {\n                            this.footer = JSON.parse(JSON.stringify(exportProperties.footer));\n                        }\n                    }\n                    else {\n                        this.footer = JSON.parse(JSON.stringify(exportProperties.footer));\n                    }\n                }\n            }\n            else {\n                if (!isNullOrUndefined(exportProperties.header)) {\n                    this.processExcelHeader(JSON.parse(JSON.stringify(exportProperties.header)));\n                }\n                if (!isNullOrUndefined(exportProperties.footer)) {\n                    this.footer = JSON.parse(JSON.stringify(exportProperties.footer));\n                }\n            }\n        }\n        this.includeHiddenColumn = (isExportPropertiesPresent ? exportProperties.includeHiddenColumn : false);\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        return new Promise(function (resolve, reject) {\n            gObj.childGridLevel = 0;\n            rows = _this.processGridExport(gObj, exportProperties, r);\n            _this.globalResolve = resolve;\n            _this.gridPool[gObj.id] = true;\n            _this.helper.checkAndExport(_this.gridPool, _this.globalResolve);\n        }).then(function () {\n            var organisedRows = [];\n            _this.organiseRows(rows, rows[0].index, organisedRows);\n            _this.rows = _this.rows.concat(organisedRows);\n            //footer template add\n            if (!isNullOrUndefined(_this.footer)) {\n                if ((_this.expType === 'AppendToSheet' && !isMultipleExport) || (_this.expType === 'NewSheet')) {\n                    _this.processExcelFooter(_this.footer);\n                }\n            }\n            if (_this.columns.length > 0) {\n                _this.sheet.columns = _this.columns;\n            }\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            _this.sheet.rows = _this.rows;\n            _this.sheet.enableRtl = _this.parent.enableRtl;\n            if (_this.parent.allowFiltering && gObj.getVisibleColumns().length && isExportPropertiesPresent &&\n                exportProperties.enableFilter) {\n                var headerRowLen = exportProperties.header ? exportProperties.header.headerRows ||\n                    exportProperties.header.rows.length : 0;\n                var autoFilters = {\n                    row: colDepth + headerRowLen, column: _this.groupedColLength ? _this.groupedColLength + 1 :\n                        _this.sheet.columns[0].index, lastRow: _this.sheet.rows.length, lastColumn: _this.sheet.columns.length\n                };\n                _this.sheet.autoFilters = autoFilters;\n            }\n            _this.workSheet.push(_this.sheet);\n            _this.book.worksheets = _this.workSheet;\n            _this.book.styles = _this.styles;\n            gObj.notify('finalPageSetup', _this.book);\n            if (!isMultipleExport) {\n                if (_this.isCsvExport) {\n                    if (isExportPropertiesPresent && !isNullOrUndefined(exportProperties.separator)\n                        && exportProperties.separator !== ',') {\n                        separator = exportProperties.separator;\n                    }\n                    var book = new Workbook(_this.book, 'csv', gObj.locale, gObj.currencyCode, separator);\n                    if (!_this.isBlob) {\n                        if (isExportPropertiesPresent && exportProperties.fileName) {\n                            book.save(exportProperties.fileName);\n                        }\n                        else {\n                            book.save('Export.csv');\n                        }\n                    }\n                    else {\n                        _this.blobPromise = book.saveAsBlob('text/csv');\n                    }\n                }\n                else {\n                    var book = new Workbook(_this.book, 'xlsx', gObj.locale, gObj.currencyCode);\n                    if (!_this.isBlob) {\n                        if (isExportPropertiesPresent && exportProperties.fileName) {\n                            book.save(exportProperties.fileName);\n                        }\n                        else {\n                            book.save('Export.xlsx');\n                        }\n                    }\n                    else {\n                        _this.blobPromise = book.saveAsBlob('application/vnd.openxmlformats-officedocument.spreadsheetml.sheet');\n                    }\n                }\n                if (_this.isElementIdChanged) {\n                    gObj.element.id = '';\n                }\n                delete gObj.expandedRows;\n            }\n            return workbook;\n        });\n    };\n    ExcelExport.prototype.organiseRows = function (rows, initialIndex, organisedRows) {\n        if (!rows.length) {\n            return initialIndex;\n        }\n        for (var i = 0; i < rows.length; i++) {\n            var row = rows[i];\n            var childRows = row.childRows;\n            if (childRows) {\n                row.index = initialIndex++;\n                delete row.childRows;\n                organisedRows.push(row);\n                initialIndex = this.organiseRows(childRows, initialIndex, organisedRows);\n            }\n            else {\n                row.index = initialIndex++;\n                organisedRows.push(row);\n            }\n        }\n        return initialIndex;\n    };\n    ExcelExport.prototype.processGridExport = function (gObj, exportProperties, r) {\n        var excelRows = [];\n        var isFrozen = this.parent.isFrozenGrid() && !this.parent.getFrozenColumns();\n        if (!isNullOrUndefined(exportProperties) && !isNullOrUndefined(exportProperties.theme)) {\n            this.theme = exportProperties.theme;\n        }\n        if (gObj.childGrid && !isNullOrUndefined(exportProperties)) {\n            gObj.hierarchyPrintMode = exportProperties.hierarchyExportMode || 'Expanded';\n        }\n        var helper = new ExportHelper(gObj, this.helper.getForeignKeyData());\n        var gColumns = isExportColumns(exportProperties) ?\n            prepareColumns(exportProperties.columns, gObj.enableColumnVirtualization) :\n            helper.getGridExportColumns(isFrozen ? gObj.getColumns() : gObj.columns);\n        var headerRow = helper.getHeaders(gColumns, this.includeHiddenColumn);\n        var groupIndent = gObj.groupSettings.columns.length ? gObj.groupSettings.columns.length - 1 : 0;\n        excelRows = this.processHeaderContent(gObj, headerRow, groupIndent, excelRows);\n        // eslint-disable-next-line max-len\n        if (!isNullOrUndefined(exportProperties) && !isNullOrUndefined(exportProperties.dataSource) && !(exportProperties.dataSource instanceof DataManager)) {\n            // eslint-disable-next-line max-len\n            excelRows = this.processRecordContent(gObj, r, headerRow, exportProperties, exportProperties.dataSource, excelRows, helper);\n        }\n        else if (!isNullOrUndefined(exportProperties) && exportProperties.exportType === 'CurrentPage') {\n            excelRows = this.processRecordContent(gObj, r, headerRow, exportProperties, gObj.currentViewData, excelRows, helper);\n        }\n        else {\n            excelRows = this.processRecordContent(gObj, r, headerRow, exportProperties, undefined, excelRows, helper);\n        }\n        gObj.notify(events.exportDataBound, { excelRows: excelRows, type: 'excel' });\n        return excelRows;\n    };\n    ExcelExport.prototype.processRecordContent = function (gObj, returnType, headerRow, exportProperties, currentViewRecords, excelRow, helper) {\n        var record;\n        if (!isNullOrUndefined(currentViewRecords) && currentViewRecords.length) {\n            record = currentViewRecords;\n        }\n        else {\n            record = returnType.result;\n        }\n        if (!isNullOrUndefined(record.level)) {\n            this.processGroupedRows(gObj, record, headerRow, record.level, 0, exportProperties, excelRow, helper);\n        }\n        else {\n            this.processRecordRows(gObj, record, headerRow, 0, 0, exportProperties, excelRow, helper);\n        }\n        if (!isNullOrUndefined(returnType.aggregates)) {\n            if (!isNullOrUndefined(currentViewRecords)) {\n                this.processAggregates(gObj, returnType.result, excelRow, currentViewRecords);\n            }\n            else {\n                var result = returnType.result.GroupGuid ?\n                    returnType.result.records : returnType.result;\n                this.processAggregates(gObj, result, excelRow);\n            }\n        }\n        return excelRow;\n    };\n    ExcelExport.prototype.processGroupedRows = function (\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    gObj, dataSource, headerRow, level, startIndex, excelExportProperties, excelRows, helper) {\n        for (var _i = 0, dataSource_1 = dataSource; _i < dataSource_1.length; _i++) {\n            var item = dataSource_1[_i];\n            var cells = [];\n            var index = 1;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var cell = {};\n            cell.index = (index + level) - 1;\n            var col = gObj.getColumnByField(item.field);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var args = {\n                value: item.key,\n                column: col,\n                style: undefined,\n                isForeignKey: col.isForeignColumn()\n            };\n            var value = gObj.getColumnByField(item.field).headerText +\n                ': ' + (!col.enableGroupByFormat ? this.exportValueFormatter.formatCellValue(args) : item.key) + ' - ';\n            if (item.count > 1) {\n                value += item.count + ' items';\n            }\n            else {\n                value += item.count + ' item';\n            }\n            var cArgs = { captionText: value, type: this.isCsvExport ? 'CSV' : 'Excel', data: item };\n            this.parent.trigger(events.exportGroupCaption, cArgs);\n            cell.value = cArgs.captionText;\n            cell.style = this.getCaptionThemeStyle(this.theme);\n            var captionModelGen = new CaptionSummaryModelGenerator(gObj);\n            var groupCaptionSummaryRows = captionModelGen.generateRows(item);\n            this.fillAggregates(gObj, groupCaptionSummaryRows, (dataSource.level + dataSource.childLevels) - 1, excelRows, this.rowLength);\n            cells.push(cell);\n            if (excelRows[excelRows.length - 1].cells.length > 0) {\n                var lIndex = dataSource.level + dataSource.childLevels + groupCaptionSummaryRows[0].cells.length;\n                var hIndex = 0;\n                for (var _a = 0, _b = excelRows[excelRows.length - 1].cells; _a < _b.length; _a++) {\n                    var tCell = _b[_a];\n                    if (tCell.index < lIndex) {\n                        lIndex = tCell.index;\n                    }\n                    if (tCell.index > hIndex) {\n                        hIndex = tCell.index;\n                    }\n                    if (cells[cells.length - 1].index !== tCell.index) {\n                        cells.push(tCell);\n                    }\n                }\n                if ((lIndex - cell.index) > 1) {\n                    cell.colSpan = lIndex - cell.index;\n                }\n                while (hIndex < (headerRow.columns.length + level + dataSource.childLevels)) {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    var sCell = {};\n                    sCell.index = (hIndex + 1);\n                    sCell.style = this.getCaptionThemeStyle(this.theme);\n                    cells.push(sCell);\n                    hIndex++;\n                }\n            }\n            else {\n                var span = 0;\n                //Calculation for column span when group caption dont have aggregates\n                for (var _c = 0, _d = headerRow.columns; _c < _d.length; _c++) {\n                    var col_1 = _d[_c];\n                    if (col_1.visible) {\n                        span++;\n                    }\n                }\n                cell.colSpan = (dataSource.childLevels + span);\n            }\n            excelRows[excelRows.length - 1].cells = cells;\n            this.rowLength++;\n            if (this.groupedColLength < 8 && level > 1) {\n                var grouping = { outlineLevel: level - 1, isCollapsed: true };\n                excelRows[excelRows.length - 1].grouping = grouping;\n            }\n            if (!isNullOrUndefined(dataSource.childLevels) && dataSource.childLevels > 0) {\n                this.processGroupedRows(gObj, item.items, headerRow, item.items.level, startIndex, excelExportProperties, excelRows, helper);\n                this.processAggregates(gObj, item, excelRows, undefined, (level - 1) + dataSource.childLevels, true);\n            }\n            else {\n                startIndex = this.processRecordRows(gObj, item.items, headerRow, (level - 1), startIndex, excelExportProperties, excelRows, helper);\n                this.processAggregates(gObj, item, excelRows, undefined, (level - 1), true);\n            }\n        }\n    };\n    ExcelExport.prototype.processRecordRows = function (gObj, record, headerRow, level, startIndex, excelExportProperties, excelRows, helper) {\n        var index = 1;\n        var cells = [];\n        var columns = headerRow.columns;\n        var rows = helper.getGridRowModel(columns, record, gObj, startIndex);\n        for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n            var row = rows_1[_i];\n            cells = [];\n            startIndex++;\n            index = 1;\n            var templateRowHeight = void 0;\n            for (var c = 0, len = row.cells.length; c < len; c++) {\n                var gCell = row.cells[c];\n                if (gCell.cellType !== CellType.Data) {\n                    continue;\n                }\n                var column = gCell.column;\n                var field = column.field;\n                var cellValue = !isNullOrUndefined(field) ? column.valueAccessor(field, row.data, column) : '';\n                var value = !isNullOrUndefined(cellValue) ? cellValue : '';\n                var fkData = void 0;\n                if (column.isForeignColumn && column.isForeignColumn()) {\n                    fkData = helper.getFData(value, column);\n                    value = getValue(column.foreignKeyValue, fkData);\n                }\n                if (!isNullOrUndefined(value)) {\n                    var cell = {};\n                    var idx = index + level + gObj.childGridLevel;\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    var excelCellArgs = {\n                        data: row.data, column: column, foreignKeyData: fkData,\n                        value: value, style: undefined, colSpan: 1, cell: cell\n                    };\n                    gObj.trigger(events.excelQueryCellInfo, excelCellArgs);\n                    if (!isNullOrUndefined(excelCellArgs.image) && !isNullOrUndefined(excelCellArgs.image.base64)) {\n                        templateRowHeight = this.setImage(excelCellArgs, idx);\n                    }\n                    if (!isNullOrUndefined(excelCellArgs.hyperLink)) {\n                        excelCellArgs.cell.hyperlink = { target: excelCellArgs.hyperLink.target };\n                        excelCellArgs.value = excelCellArgs.hyperLink.displayText || excelCellArgs.value;\n                    }\n                    cell = excelCellArgs.cell;\n                    cell.index = idx;\n                    cell.value = excelCellArgs.value;\n                    if (excelCellArgs.data === '' && gObj.childGridLevel && index === 1) {\n                        var style = {};\n                        style.hAlign = 'left';\n                        excelCellArgs = { style: style };\n                        cell.colSpan = gObj.getVisibleColumns().length;\n                        cell.value = this.l10n.getConstant('EmptyRecord');\n                    }\n                    if (excelCellArgs.colSpan > 1) {\n                        cell.colSpan = excelCellArgs.colSpan;\n                    }\n                    if (!isNullOrUndefined(excelCellArgs.style)) {\n                        var styleIndex = this.getColumnStyle(gObj, index + level);\n                        cell.style = this.mergeOptions(this.styles[styleIndex], excelCellArgs.style);\n                    }\n                    else {\n                        cell.style = { name: gObj.element.id + 'column' + (index + level) };\n                    }\n                    cells.push(cell);\n                }\n                index++;\n            }\n            var excelRow = { index: this.rowLength++, cells: cells };\n            if (!isNullOrUndefined(templateRowHeight)) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                excelRow.height = templateRowHeight;\n            }\n            if (this.groupedColLength && this.groupedColLength < 8 && (level + 1) > 0) {\n                excelRow.grouping = { outlineLevel: (level + 1), isCollapsed: true };\n                excelRows.push(excelRow);\n            }\n            else {\n                excelRows.push(excelRow);\n            }\n            if (row.isExpand && !isNullOrUndefined(gObj.childGrid)) {\n                gObj.isPrinting = true;\n                var exportType = (!isNullOrUndefined(excelExportProperties) && excelExportProperties.exportType) ?\n                    excelExportProperties.exportType : 'AllPages';\n                var returnVal = this.helper.createChildGrid(gObj, row, exportType, this.gridPool);\n                var childGridObj = returnVal.childGrid;\n                var element = returnVal.element;\n                childGridObj.actionFailure =\n                    helper.failureHandler(this.gridPool, childGridObj, this.globalResolve);\n                childGridObj.childGridLevel = gObj.childGridLevel + 1;\n                var args = { childGrid: childGridObj, row: row, exportProperties: excelExportProperties };\n                this.parent.trigger(events.exportDetailDataBound, args);\n                childGridObj.beforeDataBound = this.childGridCell(excelRow, childGridObj, excelExportProperties, row);\n                childGridObj.appendTo(element);\n            }\n            gObj.notify(events.exportRowDataBound, { rowObj: row, type: 'excel', excelRows: excelRows });\n        }\n        return startIndex;\n    };\n    ExcelExport.prototype.setImage = function (args, idx) {\n        if (isNullOrUndefined(this.sheet.images)) {\n            this.sheet.images = [];\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var excelImage = {\n            image: args.image.base64, row: this.rowLength, column: idx,\n            lastRow: this.rowLength, lastColumn: idx\n        };\n        this.sheet.images.push(excelImage);\n        this.columns[idx - 1].width = args.image.width || this.columns[idx - 1].width;\n        return args.image.height || 50;\n    };\n    ExcelExport.prototype.childGridCell = function (excelRow, childGridObj, excelExportProps, gRow) {\n        var _this = this;\n        return function (result) {\n            childGridObj.beforeDataBound = null;\n            result.cancel = true;\n            if (result.result.length === 0) {\n                result.result = [''];\n            }\n            excelRow.childRows = _this.processGridExport(childGridObj, excelExportProps, result);\n            var intent = _this.parent.groupSettings.columns.length;\n            var rows = excelRow.childRows;\n            for (var i = 0; i < rows.length; i++) {\n                rows[i].grouping = { outlineLevel: intent + childGridObj.childGridLevel,\n                    isCollapsed: !gRow.isExpand, isHidden: !gRow.isExpand };\n            }\n            childGridObj.destroy();\n            detach(childGridObj.element);\n            _this.gridPool[childGridObj.id] = true;\n            _this.helper.checkAndExport(_this.gridPool, _this.globalResolve);\n            return excelRow;\n        };\n    };\n    ExcelExport.prototype.processAggregates = function (gObj, rec, excelRows, currentViewRecords, indent, byGroup) {\n        var summaryModel = new SummaryModelGenerator(gObj);\n        var columns = summaryModel.getColumns();\n        columns = columns.filter(function (col) { return isNullOrUndefined(col.commands) && col.type !== 'checkbox'; });\n        if (gObj.aggregates.length && this.parent !== gObj) {\n            gObj.aggregateModule.prepareSummaryInfo();\n        }\n        var data = undefined;\n        if (!isNullOrUndefined(currentViewRecords)) {\n            data = currentViewRecords;\n        }\n        else {\n            data = rec;\n        }\n        if (indent === undefined) {\n            indent = 0;\n        }\n        if (gObj.groupSettings.columns.length > 0 && byGroup) {\n            var groupSummaryModel = new GroupSummaryModelGenerator(gObj);\n            var groupSummaryRows = groupSummaryModel.generateRows(data, { level: data.level });\n            if (groupSummaryRows.length > 0) {\n                excelRows = this.fillAggregates(gObj, groupSummaryRows, indent, excelRows);\n            }\n        }\n        else {\n            indent = gObj.groupSettings.columns.length > 0 && !byGroup ? gObj.groupSettings.columns.length : indent;\n            var sRows = summaryModel.generateRows(data, rec.aggregates, null, null, columns);\n            if (sRows.length > 0 && !byGroup) {\n                indent = gObj.groupSettings.columns.length ? indent - 1 : indent;\n                excelRows = this.fillAggregates(gObj, sRows, indent, excelRows);\n            }\n        }\n        return excelRows;\n    };\n    ExcelExport.prototype.fillAggregates = function (gObj, rows, indent, excelRows, customIndex) {\n        for (var _i = 0, rows_2 = rows; _i < rows_2.length; _i++) {\n            var row = rows_2[_i];\n            var cells = [];\n            var isEmpty = true;\n            var index = 0;\n            for (var _a = 0, _b = row.cells; _a < _b.length; _a++) {\n                var cell = _b[_a];\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var eCell = {};\n                if (cell.cellType === CellType.DetailFooterIntent) {\n                    continue;\n                }\n                if ((cell.visible || this.includeHiddenColumn)) {\n                    index++;\n                    if (cell.isDataCell) {\n                        isEmpty = false;\n                        var footerTemplate = !isNullOrUndefined(cell.column.footerTemplate);\n                        var groupFooterTemplate = !isNullOrUndefined(cell.column.groupFooterTemplate);\n                        var groupCaptionTemplate = !isNullOrUndefined(cell.column.groupCaptionTemplate);\n                        eCell.index = index + indent + gObj.childGridLevel;\n                        if (footerTemplate) {\n                            eCell.value = this.getAggreateValue(CellType.Summary, cell.column.footerTemplate, cell, row);\n                        }\n                        else if (groupFooterTemplate) {\n                            eCell.value = this.getAggreateValue(CellType.GroupSummary, cell.column.groupFooterTemplate, cell, row);\n                        }\n                        else if (groupCaptionTemplate) {\n                            eCell.value = this.getAggreateValue(CellType.CaptionSummary, cell.column.groupCaptionTemplate, cell, row);\n                        }\n                        else {\n                            for (var _c = 0, _d = Object.keys(row.data[cell.column.field]); _c < _d.length; _c++) {\n                                var key = _d[_c];\n                                if (key === cell.column.type) {\n                                    if (!isNullOrUndefined(row.data[cell.column.field].Sum)) {\n                                        eCell.value = row.data[cell.column.field][cell.column.field + \" - sum\"];\n                                    }\n                                    else if (!isNullOrUndefined(row.data[cell.column.field].Average)) {\n                                        eCell.value = row.data[cell.column.field][cell.column.field + \" - average\"];\n                                    }\n                                    else if (!isNullOrUndefined(row.data[cell.column.field].Max)) {\n                                        eCell.value = row.data[cell.column.field][cell.column.field + \" - max\"];\n                                    }\n                                    else if (!isNullOrUndefined(row.data[cell.column.field].Min)) {\n                                        eCell.value = row.data[cell.column.field][cell.column.field + \" - min\"];\n                                    }\n                                    else if (!isNullOrUndefined(row.data[cell.column.field].Count)) {\n                                        eCell.value = row.data[cell.column.field][cell.column.field + \" - count\"];\n                                    }\n                                    else if (!isNullOrUndefined(row.data[cell.column.field].TrueCount)) {\n                                        eCell.value = row.data[cell.column.field][cell.column.field + \" - truecount\"];\n                                    }\n                                    else if (!isNullOrUndefined(row.data[cell.column.field].FalseCount)) {\n                                        eCell.value = row.data[cell.column.field][cell.column.field + \" - falsecount\"];\n                                    }\n                                    else if (!isNullOrUndefined(row.data[cell.column.field].Custom)) {\n                                        eCell.value = row.data[cell.column.field].Custom;\n                                    }\n                                }\n                            }\n                        }\n                        eCell.style = this.getCaptionThemeStyle(this.theme); //{ name: gObj.element.id + 'column' + index };\n                        this.aggregateStyle(cell.column, eCell.style, cell.column.field);\n                        var gridCellStyle = cell.attributes.style;\n                        if (gridCellStyle.textAlign) {\n                            eCell.style.hAlign = gridCellStyle.textAlign.toLowerCase();\n                        }\n                        var args = {\n                            row: row,\n                            type: footerTemplate ? 'Footer' : groupFooterTemplate ? 'GroupFooter' : 'GroupCaption',\n                            style: eCell\n                        };\n                        this.parent.trigger(events.excelAggregateQueryCellInfo, args);\n                        cells.push(eCell);\n                    }\n                    else {\n                        if (customIndex === undefined) {\n                            eCell.index = index + indent + gObj.childGridLevel;\n                            eCell.style = this.getCaptionThemeStyle(this.theme); //{ name: gObj.element.id + 'column' + index };\n                            cells.push(eCell);\n                        }\n                    }\n                }\n            }\n            if (!isNullOrUndefined(customIndex)) {\n                excelRows.push({ index: customIndex, cells: cells });\n            }\n            else {\n                var row_1 = {};\n                if (this.groupedColLength < 8 && this.groupedColLength > 0) {\n                    var dummyOutlineLevel = 'outlineLevel';\n                    var dummyGrouping = 'grouping';\n                    var level = excelRows[excelRows.length - 1][dummyGrouping][dummyOutlineLevel];\n                    var grouping = { outlineLevel: level, isCollapsed: true };\n                    row_1 = { index: this.rowLength++, cells: cells, grouping: grouping };\n                }\n                else {\n                    row_1 = { index: this.rowLength++, cells: cells };\n                }\n                if (!isEmpty) {\n                    excelRows.push(row_1);\n                }\n            }\n        }\n        return excelRows;\n    };\n    ExcelExport.prototype.aggregateStyle = function (col, style, field) {\n        var column = this.parent.getColumnByField(field);\n        if (typeof col.format === 'object') {\n            var format = col.format;\n            style.numberFormat = !isNullOrUndefined(format.format) ? format.format : format.skeleton;\n            if (!isNullOrUndefined(format.type)) {\n                style.type = format.type.toLowerCase();\n            }\n        }\n        else {\n            style.numberFormat = col.format;\n        }\n        if (!isNullOrUndefined(column) && isNullOrUndefined(style.type)) {\n            style.type = column.type.toLowerCase();\n        }\n    };\n    ExcelExport.prototype.getAggreateValue = function (cellType, template, cell, row) {\n        var templateFn = {};\n        templateFn[getEnumValue(CellType, cell.cellType)] = compile(template);\n        var txt;\n        var data = row.data[cell.column.field ? cell.column.field : cell.column.columnName];\n        if (this.parent.isReact || this.parent.isVue) {\n            txt = (templateFn[getEnumValue(CellType, cell.cellType)](data, this.parent));\n            if (this.parent.isReact) {\n                this.parent.renderTemplates();\n            }\n        }\n        else {\n            txt = (templateFn[getEnumValue(CellType, cell.cellType)](data));\n        }\n        return txt[0].textContent;\n    };\n    ExcelExport.prototype.mergeOptions = function (JSON1, JSON2) {\n        var result = {};\n        var attrname = Object.keys(JSON1);\n        for (var index = 0; index < attrname.length; index++) {\n            if (attrname[index] !== 'name') {\n                result[attrname[index]] = JSON1[attrname[index]];\n            }\n        }\n        attrname = Object.keys(JSON2);\n        for (var index = 0; index < attrname.length; index++) {\n            if (attrname[index] !== 'name') {\n                result[attrname[index]] = JSON2[attrname[index]];\n            }\n        }\n        return result;\n    };\n    ExcelExport.prototype.getColumnStyle = function (gObj, columnIndex) {\n        var index = 0;\n        for (var _i = 0, _a = this.styles; _i < _a.length; _i++) {\n            var style = _a[_i];\n            if (style.name === gObj.element.id + 'column' + columnIndex) {\n                return index;\n            }\n            index++;\n        }\n        return undefined;\n    };\n    ExcelExport.prototype.processHeaderContent = function (gObj, headerRow, indent, excelRows) {\n        var rowIndex = 1;\n        var gridRows = headerRow.rows;\n        // Column collection with respect to the records in the grid\n        var gridColumns = headerRow.columns;\n        var spannedCells = [];\n        if (indent > 0) {\n            var index = 0;\n            while (index !== indent) {\n                this.columns.push({ index: index + 1, width: 30 });\n                index++;\n            }\n        }\n        for (var col = 0; col < gridColumns.length; col++) {\n            this.parseStyles(gObj, gridColumns[col], this.getRecordThemeStyle(this.theme), indent + col + 1);\n        }\n        var templateRowHeight;\n        for (var row = 0; row < gridRows.length; row++) {\n            var currentCellIndex = 1 + indent;\n            var cells = [];\n            for (var column = 0; column < gridRows[row].cells.length; column++) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var style = {};\n                var cell = {};\n                var gridCell = gridRows[row].cells[column];\n                if (gridCell.cellType === CellType.HeaderIndent || gridCell.cellType === CellType.DetailHeader) {\n                    continue;\n                }\n                var result = { contains: true, index: 1 };\n                while (result.contains) {\n                    result = this.getIndex(spannedCells, rowIndex, currentCellIndex);\n                    currentCellIndex = result.index;\n                    if (!result.contains) {\n                        cell.index = result.index + gObj.childGridLevel;\n                        break;\n                    }\n                }\n                if (!isNullOrUndefined(gridCell.rowSpan) && gridCell.rowSpan !== 1) {\n                    cell.rowSpan = gridCell.rowSpan;\n                    for (var i = rowIndex; i < gridCell.rowSpan + rowIndex; i++) {\n                        var spannedCell = { rowIndex: 0, columnIndex: 0 };\n                        spannedCell.rowIndex = i;\n                        spannedCell.columnIndex = currentCellIndex;\n                        spannedCells.push(spannedCell);\n                    }\n                }\n                if (!isNullOrUndefined(gridCell.colSpan) && gridCell.colSpan !== 1) {\n                    cell.colSpan = gridCell.colSpan;\n                    currentCellIndex = currentCellIndex + cell.colSpan - 1;\n                }\n                cell.value = gridCell.column.headerText;\n                style = this.getHeaderThemeStyle(this.theme);\n                if (!isNullOrUndefined(gridCell.column.textAlign)) {\n                    style.hAlign = gridCell.column.textAlign.toLowerCase();\n                }\n                if (!isNullOrUndefined(gridCell.column.headerTextAlign)) {\n                    style.hAlign = gridCell.column.headerTextAlign.toLowerCase();\n                }\n                var excelHeaderCellArgs = { cell: cell, gridCell: gridCell, style: style };\n                gObj.trigger(events.excelHeaderQueryCellInfo, excelHeaderCellArgs);\n                if (!isNullOrUndefined(excelHeaderCellArgs.image) && !isNullOrUndefined(excelHeaderCellArgs.image.base64)) {\n                    templateRowHeight = this.setImage(excelHeaderCellArgs, currentCellIndex);\n                }\n                if (!isNullOrUndefined(excelHeaderCellArgs.hyperLink)) {\n                    excelHeaderCellArgs.cell.hyperlink = { target: excelHeaderCellArgs.hyperLink.target };\n                    cell.value = excelHeaderCellArgs.hyperLink.displayText || cell.value;\n                }\n                cell.style = excelHeaderCellArgs.style;\n                cells.push(cell);\n                currentCellIndex++;\n            }\n            var excelRow = { index: this.rowLength++, cells: cells };\n            if (!isNullOrUndefined(templateRowHeight)) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                excelRow.height = templateRowHeight;\n            }\n            excelRows.push(excelRow);\n        }\n        return excelRows;\n    };\n    ExcelExport.prototype.getHeaderThemeStyle = function (theme) {\n        var style = {};\n        style.fontSize = 12;\n        style.borders = { color: '#E0E0E0' };\n        style.bold = true;\n        if (!isNullOrUndefined(theme) && !isNullOrUndefined(theme.header)) {\n            style = this.updateThemeStyle(theme.header, style);\n        }\n        return style;\n    };\n    ExcelExport.prototype.updateThemeStyle = function (themestyle, style) {\n        return extend(style, themestyle);\n    };\n    ExcelExport.prototype.getCaptionThemeStyle = function (theme) {\n        var style = {};\n        style.fontSize = 13;\n        style.backColor = '#F6F6F6';\n        if (!isNullOrUndefined(theme) && !isNullOrUndefined(theme.caption)) {\n            style = this.updateThemeStyle(theme.caption, style);\n        }\n        return style;\n    };\n    ExcelExport.prototype.getRecordThemeStyle = function (theme) {\n        var style = {};\n        style.fontSize = 13;\n        style.borders = { color: '#E0E0E0' };\n        if (!isNullOrUndefined(theme) && !isNullOrUndefined(theme.record)) {\n            style = this.updateThemeStyle(theme.record, style);\n        }\n        return style;\n    };\n    ExcelExport.prototype.processExcelHeader = function (header) {\n        if (!isNullOrUndefined(header.rows) && (this.expType === 'NewSheet' || this.rowLength === 1)) {\n            var noRows = void 0;\n            if (header.headerRows === undefined) {\n                this.rowLength = header.rows.length;\n            }\n            else {\n                this.rowLength = header.headerRows;\n            }\n            if (this.rowLength < header.rows.length) {\n                noRows = this.rowLength;\n            }\n            else {\n                noRows = header.rows.length;\n            }\n            this.rowLength++;\n            for (var row = 0; row < noRows; row++) {\n                var json = header.rows[row];\n                //Row index\n                if (!(json.index !== null && !isNullOrUndefined(json.index))) {\n                    json.index = (row + 1);\n                }\n                this.updatedCellIndex(json);\n            }\n        }\n    };\n    ExcelExport.prototype.updatedCellIndex = function (json) {\n        var cellsLength = json.cells.length;\n        for (var cellId = 0; cellId < cellsLength; cellId++) {\n            var jsonCell = json.cells[cellId];\n            //cell index\n            if (!(jsonCell.index !== null && !isNullOrUndefined(jsonCell.index))) {\n                jsonCell.index = (cellId + 1);\n            }\n        }\n        this.rows.push(json);\n    };\n    ExcelExport.prototype.processExcelFooter = function (footer) {\n        if (!isNullOrUndefined(footer.rows)) {\n            var noRows = void 0;\n            if (footer.footerRows === undefined) {\n                this.rowLength += footer.rows.length;\n            }\n            else {\n                if (footer.footerRows > footer.rows.length) {\n                    this.rowLength += (footer.footerRows - footer.rows.length);\n                    noRows = footer.rows.length;\n                }\n                else {\n                    noRows = footer.footerRows;\n                }\n            }\n            for (var row = 0; row < noRows; row++) {\n                var json = footer.rows[row];\n                //Row index\n                if (json.index === null || json.index === undefined) {\n                    json.index = this.rowLength++;\n                }\n                else {\n                    json.index += this.rowLength;\n                }\n                this.updatedCellIndex(json);\n            }\n        }\n    };\n    ExcelExport.prototype.getIndex = function (spannedCells, rowIndex, columnIndex) {\n        for (var _i = 0, spannedCells_1 = spannedCells; _i < spannedCells_1.length; _i++) {\n            var spannedCell = spannedCells_1[_i];\n            if ((spannedCell.rowIndex === rowIndex) && (spannedCell.columnIndex === columnIndex)) {\n                columnIndex = columnIndex + 1;\n                return { contains: true, index: columnIndex };\n            }\n        }\n        return { contains: false, index: columnIndex };\n    };\n    ExcelExport.prototype.parseStyles = function (gObj, col, style, index) {\n        if (!isNullOrUndefined(col.format)) {\n            if (typeof col.format === 'object') {\n                var format = col.format;\n                style.numberFormat = !isNullOrUndefined(format.format) ? format.format : format.skeleton;\n                if (!isNullOrUndefined(format.type)) {\n                    style.type = format.type.toLowerCase();\n                }\n            }\n            else {\n                style.numberFormat = col.format;\n                style.type = col.type;\n            }\n        }\n        if (!isNullOrUndefined(col.textAlign)) {\n            style.hAlign = col.textAlign.toLowerCase();\n        }\n        if (Object.keys(style).length > 0) {\n            style.name = gObj.element.id + 'column' + index;\n            this.styles.push(style);\n        }\n        if (!isNullOrUndefined(col.width) && col.width !== 'auto') {\n            this.columns.push({ index: index + gObj.childGridLevel, width: typeof col.width === 'number' ?\n                    col.width : this.helper.getConvertedWidth(col.width) });\n        }\n    };\n    ExcelExport.prototype.destroy = function () {\n        //destroy for exporting\n    };\n    return ExcelExport;\n}());\nexport { ExcelExport };\n","import { print as printWindow, createElement, detach, classList, selectAll, extend } from '@syncfusion/ej2-base';\nimport { getPrintGridModel } from '../base/util';\nimport { Grid } from '../base/grid';\nimport * as events from '../base/constant';\nimport { Deferred } from '@syncfusion/ej2-data';\nimport * as literals from '../base/string-literals';\n/**\n * @returns {string[]} returns the cloned property\n * @hidden\n */\nexport function getCloneProperties() {\n    return ['aggregates', 'allowGrouping', 'allowFiltering', 'allowMultiSorting', 'allowReordering', 'allowSorting',\n        'allowTextWrap', 'childGrid', 'columns', 'currentViewData', 'dataSource', 'detailTemplate', 'enableAltRow',\n        'enableColumnVirtualization', 'filterSettings', 'gridLines',\n        'groupSettings', 'height', 'locale', 'pageSettings', 'printMode', 'query', 'queryString', 'enableRtl',\n        'rowHeight', 'rowTemplate', 'sortSettings', 'textWrapSettings', 'allowPaging', 'hierarchyPrintMode', 'searchSettings',\n        'queryCellInfo', 'beforeDataBound'];\n}\n/**\n *\n * The `Print` module is used to handle print action.\n */\nvar Print = /** @class */ (function () {\n    /**\n     * Constructor for the Grid print module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {Scroll} scrollModule - specifies the scroll module\n     * @hidden\n     */\n    function Print(parent, scrollModule) {\n        this.isAsyncPrint = false;\n        this.defered = new Deferred();\n        this.parent = parent;\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.contentReady, this.isContentReady(), this);\n        this.actionBeginFunction = this.actionBegin.bind(this);\n        this.parent.addEventListener(events.actionBegin, this.actionBeginFunction);\n        this.parent.on(events.onEmpty, this.onEmpty.bind(this));\n        this.parent.on(events.hierarchyPrint, this.hierarchyPrint, this);\n        this.scrollModule = scrollModule;\n    }\n    Print.prototype.isContentReady = function () {\n        var _this = this;\n        if (this.isPrintGrid() && (this.parent.hierarchyPrintMode === 'None' || !this.parent.childGrid)) {\n            return this.contentReady;\n        }\n        return function () {\n            _this.defered.promise.then(function () {\n                _this.contentReady();\n            });\n            if (_this.isPrintGrid()) {\n                _this.hierarchyPrint();\n            }\n        };\n    };\n    Print.prototype.hierarchyPrint = function () {\n        this.removeColGroup(this.parent);\n        var printGridObj = window.printGridObj;\n        if (printGridObj && !printGridObj.element.querySelector('[aria-busy=true')) {\n            printGridObj.printModule.defered.resolve();\n        }\n    };\n    /**\n     * By default, prints all the Grid pages and hides the pager.\n     * > You can customize print options using the\n     * [`printMode`](grid/#printmode-string/).\n     *\n     * @returns {void}\n     */\n    Print.prototype.print = function () {\n        this.renderPrintGrid();\n    };\n    Print.prototype.onEmpty = function () {\n        if (this.isPrintGrid()) {\n            this.contentReady();\n        }\n    };\n    Print.prototype.actionBegin = function () {\n        if (this.isPrintGrid()) {\n            this.isAsyncPrint = true;\n        }\n    };\n    Print.prototype.renderPrintGrid = function () {\n        var gObj = this.parent;\n        var element = createElement('div', {\n            id: this.parent.element.id + '_print', className: gObj.element.className + ' e-print-grid'\n        });\n        element.classList.remove('e-gridhover');\n        document.body.appendChild(element);\n        var printGrid = new Grid(getPrintGridModel(gObj, gObj.hierarchyPrintMode));\n        for (var i = 0; i < printGrid.columns.length; i++) {\n            printGrid.columns[i] = extend({}, printGrid.columns[i]);\n            if (gObj.isFrozenGrid() && !gObj.getFrozenColumns()) {\n                printGrid.columns[i].freeze = undefined;\n            }\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.parent.isAngular) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            printGrid.viewContainerRef = this.parent.viewContainerRef;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        printGrid.load = function () { };\n        printGrid.query = gObj.getQuery().clone();\n        window.printGridObj = printGrid;\n        printGrid.isPrinting = true;\n        var modules = printGrid.getInjectedModules();\n        var injectedModues = gObj.getInjectedModules();\n        if (!modules || modules.length !== injectedModues.length) {\n            printGrid.setInjectedModules(injectedModues);\n        }\n        gObj.notify(events.printGridInit, { element: element, printgrid: printGrid });\n        this.parent.log('exporting_begin', this.getModuleName());\n        printGrid.registeredTemplate = this.parent.registeredTemplate;\n        printGrid.isVue = this.parent.isVue;\n        printGrid.appendTo(element);\n        printGrid.trigger = gObj.trigger;\n    };\n    Print.prototype.contentReady = function () {\n        if (this.isPrintGrid()) {\n            var gObj = this.parent;\n            if (this.isAsyncPrint) {\n                this.printGrid();\n                return;\n            }\n            var args = {\n                requestType: 'print',\n                element: gObj.element,\n                selectedRows: gObj.getContentTable().querySelectorAll('tr[aria-selected=\"true\"]'),\n                cancel: false,\n                hierarchyPrintMode: gObj.hierarchyPrintMode\n            };\n            if (!this.isAsyncPrint) {\n                gObj.trigger(events.beforePrint, args);\n            }\n            if (args.cancel) {\n                detach(gObj.element);\n                return;\n            }\n            if (!this.isAsyncPrint) {\n                this.printGrid();\n            }\n        }\n    };\n    Print.prototype.printGrid = function () {\n        var gObj = this.parent;\n        // Height adjustment on print grid\n        if (gObj.height !== 'auto') { // if scroller enabled\n            var cssProps = this.scrollModule.getCssProperties();\n            var contentDiv = gObj.element.querySelector('.' + literals.content);\n            var headerDiv = gObj.element.querySelector('.' + literals.gridHeader);\n            contentDiv.style.height = 'auto';\n            contentDiv.style.overflowY = 'auto';\n            headerDiv.style[cssProps.padding] = '';\n            headerDiv.firstElementChild.style[cssProps.border] = '';\n        }\n        // Grid alignment adjustment on grouping\n        if (gObj.allowGrouping) {\n            if (!gObj.groupSettings.columns.length) {\n                gObj.element.querySelector('.e-groupdroparea').style.display = 'none';\n            }\n            else {\n                this.removeColGroup(gObj);\n            }\n        }\n        // hide horizontal scroll\n        for (var _i = 0, _a = [].slice.call(gObj.element.getElementsByClassName(literals.content)); _i < _a.length; _i++) {\n            var element = _a[_i];\n            element.style.overflowX = 'hidden';\n        }\n        // Hide the waiting popup\n        var waitingPop = [].slice.call(gObj.element.getElementsByClassName('e-spin-show'));\n        for (var _b = 0, _c = [].slice.call(waitingPop); _b < _c.length; _b++) {\n            var element = _c[_b];\n            classList(element, ['e-spin-hide'], ['e-spin-show']);\n        }\n        this.printGridElement(gObj);\n        gObj.isPrinting = false;\n        delete window.printGridObj;\n        var args = {\n            element: gObj.element\n        };\n        gObj.trigger(events.printComplete, args);\n        gObj.destroy();\n        this.parent.log('exporting_complete', this.getModuleName());\n    };\n    Print.prototype.printGridElement = function (gObj) {\n        classList(gObj.element, ['e-print-grid-layout'], ['e-print-grid']);\n        if (gObj.isPrinting) {\n            detach(gObj.element);\n        }\n        this.printWind = window.open('', 'print', 'height=' + window.outerHeight + ',width=' + window.outerWidth + ',tabbar=no');\n        this.printWind.moveTo(0, 0);\n        this.printWind.resizeTo(screen.availWidth, screen.availHeight);\n        this.printWind = printWindow(gObj.element, this.printWind);\n    };\n    Print.prototype.removeColGroup = function (gObj) {\n        var depth = gObj.groupSettings.columns.length;\n        var element = gObj.element;\n        var id = '#' + gObj.element.id;\n        if (!depth) {\n            return;\n        }\n        var groupCaption = selectAll(id + \"captioncell.e-groupcaption\", element);\n        var colSpan = groupCaption[depth - 1].getAttribute('colspan');\n        for (var i = 0; i < groupCaption.length; i++) {\n            groupCaption[i].setAttribute('colspan', colSpan);\n        }\n        var colGroups = selectAll(\"colgroup\" + id + \"colgroup\", element);\n        var contentColGroups = selectAll('.e-content colgroup', element);\n        this.hideColGroup(colGroups, depth);\n        this.hideColGroup(contentColGroups, depth);\n    };\n    Print.prototype.hideColGroup = function (colGroups, depth) {\n        for (var i = 0; i < colGroups.length; i++) {\n            for (var j = 0; j < depth; j++) {\n                colGroups[i].children[j].style.display = 'none';\n            }\n        }\n    };\n    /**\n     * To destroy the print\n     *\n     * @returns {boolean} returns the isPrintGrid or not\n     * @hidden\n     */\n    Print.prototype.isPrintGrid = function () {\n        return this.parent.element.id.indexOf('_print') > 0 && this.parent.isPrinting;\n    };\n    /**\n     * To destroy the print\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Print.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.contentReady, this.contentReady.bind(this));\n        this.parent.removeEventListener(events.actionBegin, this.actionBeginFunction);\n        this.parent.off(events.onEmpty, this.onEmpty.bind(this));\n        this.parent.off(events.hierarchyPrint, this.hierarchyPrint);\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Print.prototype.getModuleName = function () {\n        return 'print';\n    };\n    Print.printGridProp = getCloneProperties().concat([events.beforePrint, events.printComplete, events.load]);\n    return Print;\n}());\nexport { Print };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Internationalization, setCulture } from '@syncfusion/ej2-base';\n/**\n * ValueFormatter class to globalize the value.\n *\n * @hidden\n */\nvar ValueFormatter = /** @class */ (function () {\n    function ValueFormatter(cultureName) {\n        this.intl = new Internationalization();\n        if (!isNullOrUndefined(cultureName)) {\n            this.intl.culture = cultureName;\n        }\n    }\n    ValueFormatter.prototype.getFormatFunction = function (format) {\n        if (format.type) {\n            return this.intl.getDateFormat(format);\n        }\n        else {\n            return this.intl.getNumberFormat(format);\n        }\n    };\n    ValueFormatter.prototype.getParserFunction = function (format) {\n        if (format.type) {\n            return this.intl.getDateParser(format);\n        }\n        else {\n            return this.intl.getNumberParser(format);\n        }\n    };\n    ValueFormatter.prototype.fromView = function (value, format, type) {\n        if ((type === 'date' || type === 'datetime' || type === 'number') && (!isNullOrUndefined(format))) {\n            return format(value);\n        }\n        else {\n            return value;\n        }\n    };\n    ValueFormatter.prototype.toView = function (value, format) {\n        var result = value;\n        if (!isNullOrUndefined(format) && !isNullOrUndefined(value)) {\n            result = format(value);\n        }\n        return result;\n    };\n    ValueFormatter.prototype.setCulture = function (cultureName) {\n        if (!isNullOrUndefined(cultureName)) {\n            setCulture(cultureName);\n        }\n    };\n    return ValueFormatter;\n}());\nexport { ValueFormatter };\n","var instances = 'ej2_instances';\nvar uid = 0;\nvar isBlazorPlatform = false;\n/**\n * Function to check whether the platform is blazor or not.\n *\n * @returns {void} result\n * @private\n */\nexport function disableBlazorMode() {\n    isBlazorPlatform = false;\n}\n/**\n * Create Instance from constructor function with desired parameters.\n *\n * @param {Function} classFunction - Class function to which need to create instance\n * @param {any[]} params - Parameters need to passed while creating instance\n * @returns {any} ?\n * @private\n */\n// eslint-disable-next-line\nexport function createInstance(classFunction, params) {\n    var arrayParam = params;\n    arrayParam.unshift(undefined);\n    return new (Function.prototype.bind.apply(classFunction, arrayParam));\n}\n/**\n * To run a callback function immediately after the browser has completed other operations.\n *\n * @param {Function} handler - callback function to be triggered.\n * @returns {Function} ?\n * @private\n */\nexport function setImmediate(handler) {\n    var unbind;\n    // eslint-disable-next-line\n    var num = new Uint16Array(5);\n    var intCrypto = window.msCrypto || window.crypto;\n    intCrypto.getRandomValues(num);\n    var secret = 'ej2' + combineArray(num);\n    // eslint-disable-next-line\n    var messageHandler = function (event) {\n        if (event.source === window && typeof event.data === 'string' && event.data.length <= 32 && event.data === secret) {\n            handler();\n            unbind();\n        }\n    };\n    window.addEventListener('message', messageHandler, false);\n    window.postMessage(secret, '*');\n    return unbind = function () {\n        window.removeEventListener('message', messageHandler);\n        handler = messageHandler = secret = undefined;\n    };\n}\n/**\n * To get nameSpace value from the desired object.\n *\n * @param {string} nameSpace - String value to the get the inner object\n * @param {any} obj - Object to get the inner object value.\n * @returns {any} ?\n * @private\n */\n// eslint-disable-next-line\nexport function getValue(nameSpace, obj) {\n    // eslint-disable-next-line\n    var value = obj;\n    var splits = nameSpace.replace(/\\[/g, '.').replace(/\\]/g, '').split('.');\n    for (var i = 0; i < splits.length && !isUndefined(value); i++) {\n        value = value[splits[i]];\n    }\n    return value;\n}\n/**\n * To set value for the nameSpace in desired object.\n *\n * @param {string} nameSpace - String value to the get the inner object\n * @param {any} value - Value that you need to set.\n * @param {any} obj - Object to get the inner object value.\n * @returns {any} ?\n * @private\n */\n// eslint-disable-next-line\nexport function setValue(nameSpace, value, obj) {\n    var keys = nameSpace.replace(/\\[/g, '.').replace(/\\]/g, '').split('.');\n    // eslint-disable-next-line\n    var start = obj || {};\n    // eslint-disable-next-line\n    var fromObj = start;\n    var i;\n    var length = keys.length;\n    var key;\n    for (i = 0; i < length; i++) {\n        key = keys[i];\n        if (i + 1 === length) {\n            fromObj[key] = value === undefined ? {} : value;\n        }\n        else if (isNullOrUndefined(fromObj[key])) {\n            fromObj[key] = {};\n        }\n        fromObj = fromObj[key];\n    }\n    return start;\n}\n/**\n * Delete an item from Object\n *\n * @param {any} obj - Object in which we need to delete an item.\n * @param {string} key - String value to the get the inner object\n * @returns {void} ?\n * @private\n */\n// eslint-disable-next-line\nexport function deleteObject(obj, key) {\n    delete obj[key];\n}\n/**\n *@private\n */\nexport var containerObject = window;\n/**\n * Check weather the given argument is only object.\n *\n * @param {any} obj - Object which is need to check.\n * @returns {boolean} ?\n * @private\n */\n// eslint-disable-next-line\nexport function isObject(obj) {\n    var objCon = {};\n    return (!isNullOrUndefined(obj) && obj.constructor === objCon.constructor);\n}\n/**\n * To get enum value by giving the string.\n *\n * @param {any} enumObject - Enum object.\n * @param {string} enumValue - Enum value to be searched\n * @returns {any} ?\n * @private\n */\n// eslint-disable-next-line\nexport function getEnumValue(enumObject, enumValue) {\n    // eslint-disable-next-line\n    return enumObject[enumValue];\n}\n/**\n * Merge the source object into destination object.\n *\n * @param {any} source - source object which is going to merge with destination object\n * @param {any} destination - object need to be merged\n * @returns {void} ?\n * @private\n */\nexport function merge(source, destination) {\n    if (!isNullOrUndefined(destination)) {\n        var temrObj = source;\n        var tempProp = destination;\n        var keys = Object.keys(destination);\n        var deepmerge = 'deepMerge';\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            if (!isNullOrUndefined(temrObj[deepmerge]) && (temrObj[deepmerge].indexOf(key) !== -1) &&\n                (isObject(tempProp[key]) || Array.isArray(tempProp[key]))) {\n                extend(temrObj[key], temrObj[key], tempProp[key], true);\n            }\n            else {\n                temrObj[key] = tempProp[key];\n            }\n        }\n    }\n}\n/**\n * Extend the two object with newer one.\n *\n * @param {any} copied - Resultant object after merged\n * @param {Object} first - First object need to merge\n * @param {Object} second - Second object need to merge\n * @param {boolean} deep ?\n * @returns {Object} ?\n * @private\n */\nexport function extend(copied, first, second, deep) {\n    var result = copied && typeof copied === 'object' ? copied : {};\n    var length = arguments.length;\n    if (deep) {\n        length = length - 1;\n    }\n    var _loop_1 = function (i) {\n        // eslint-disable-next-line\n        if (!arguments_1[i]) {\n            return \"continue\";\n        }\n        // eslint-disable-next-line\n        var obj1 = arguments_1[i];\n        Object.keys(obj1).forEach(function (key) {\n            var src = result[key];\n            var copy = obj1[key];\n            var clone;\n            var isArrayChanged = Array.isArray(copy) && Array.isArray(src) && (copy.length !== src.length);\n            // eslint-disable-next-line\n            var blazorEventExtend = isBlazor() ? (!(src instanceof Event) && !isArrayChanged) : true;\n            if (deep && blazorEventExtend && (isObject(copy) || Array.isArray(copy))) {\n                if (isObject(copy)) {\n                    clone = src ? src : {};\n                    // eslint-disable-next-line\n                    if (Array.isArray(clone) && clone.hasOwnProperty('isComplexArray')) {\n                        extend(clone, {}, copy, deep);\n                    }\n                    else {\n                        result[key] = extend(clone, {}, copy, deep);\n                    }\n                }\n                else {\n                    /* istanbul ignore next */\n                    clone = isBlazor() ? src && Object.keys(copy).length : src ? src : [];\n                    result[key] = extend([], clone, copy, deep);\n                }\n            }\n            else {\n                result[key] = copy;\n            }\n        });\n    };\n    var arguments_1 = arguments;\n    for (var i = 1; i < length; i++) {\n        _loop_1(i);\n    }\n    return result;\n}\n/**\n * To check whether the object is null or undefined.\n *\n * @param {Object} value - To check the object is null or undefined\n * @returns {boolean} ?\n * @private\n */\nexport function isNullOrUndefined(value) {\n    return value === undefined || value === null;\n}\n/**\n * To check whether the object is undefined.\n *\n * @param {Object} value - To check the object is undefined\n * @returns {boolean} ?\n * @private\n */\nexport function isUndefined(value) {\n    return ('undefined' === typeof value);\n}\n/**\n * To return the generated unique name\n *\n * @param {string} definedName - To concatenate the unique id to provided name\n * @returns {string} ?\n * @private\n */\nexport function getUniqueID(definedName) {\n    return definedName + '_' + uid++;\n}\n/**\n * It limits the rate at which a function can fire. The function will fire only once every provided second instead of as quickly.\n *\n * @param {Function} eventFunction - Specifies the function to run when the event occurs\n * @param {number} delay - A number that specifies the milliseconds for function delay call option\n * @returns {Function} ?\n * @private\n */\nexport function debounce(eventFunction, delay) {\n    // eslint-disable-next-line\n    var out;\n    return function () {\n        var _this = this;\n        // eslint-disable-next-line\n        var args = arguments;\n        var later = function () {\n            out = null;\n            return eventFunction.apply(_this, args);\n        };\n        clearTimeout(out);\n        out = setTimeout(later, delay);\n    };\n}\n/**\n * To convert the object to string for query url\n *\n * @param  {Object} data ?\n * @returns {string} ?\n * @private\n */\n// eslint-disable-next-line\nexport function queryParams(data) {\n    var array = [];\n    var keys = Object.keys(data);\n    for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n        var key = keys_2[_i];\n        array.push(encodeURIComponent(key) + '=' + encodeURIComponent('' + data[key]));\n    }\n    return array.join('&');\n}\n/**\n * To check whether the given array contains object.\n *\n * @param {any} value - Specifies the T type array to be checked.\n * @returns {boolean} ?\n * @private\n */\nexport function isObjectArray(value) {\n    var parser = Object.prototype.toString;\n    if (parser.call(value) === '[object Array]') {\n        if (parser.call(value[0]) === '[object Object]') {\n            return true;\n        }\n    }\n    return false;\n}\n/**\n * To check whether the  child element is descendant to parent element or parent and child are same element.\n *\n * @param {Element} child - Specifies the child element to compare with parent.\n * @param {Element} parent - Specifies the parent element.\n * @returns {boolean} ?\n * @private\n */\nexport function compareElementParent(child, parent) {\n    var node = child;\n    if (node === parent) {\n        return true;\n    }\n    else if (node === document || !node) {\n        return false;\n    }\n    else {\n        return compareElementParent(node.parentNode, parent);\n    }\n}\n/**\n * To throw custom error message.\n *\n * @param {string} message - Specifies the error message to be thrown.\n * @returns {void} ?\n * @private\n */\nexport function throwError(message) {\n    try {\n        throw new Error(message);\n    }\n    catch (e) {\n        // eslint-disable-next-line\n        throw e.message + '\\n' + e.stack;\n    }\n}\n/**\n * This function is used to print given element\n *\n * @param {Element} element - Specifies the print content element.\n * @param {Window} printWindow - Specifies the print window.\n * @returns {Window} ?\n * @private\n */\nexport function print(element, printWindow) {\n    var div = document.createElement('div');\n    var links = [].slice.call(document.getElementsByTagName('head')[0].querySelectorAll('base, link, style'));\n    var blinks = [].slice.call(document.getElementsByTagName('body')[0].querySelectorAll('link, style'));\n    if (blinks.length) {\n        for (var l = 0, len = blinks.length; l < len; l++) {\n            links.push(blinks[l]);\n        }\n    }\n    var reference = '';\n    if (isNullOrUndefined(printWindow)) {\n        printWindow = window.open('', 'print', 'height=452,width=1024,tabbar=no');\n    }\n    div.appendChild(element.cloneNode(true));\n    for (var i = 0, len = links.length; i < len; i++) {\n        reference += links[i].outerHTML;\n    }\n    printWindow.document.write('<!DOCTYPE html> <html><head>' + reference + '</head><body>' + div.innerHTML +\n        '<script> (function() { window.ready = true; })(); </script>' + '</body></html>');\n    printWindow.document.close();\n    printWindow.focus();\n    // eslint-disable-next-line\n    var interval = setInterval(function () {\n        if (printWindow.ready) {\n            printWindow.print();\n            printWindow.close();\n            clearInterval(interval);\n        }\n    }, 500);\n    return printWindow;\n}\n/**\n * Function to normalize the units applied to the element.\n *\n * @param {number|string} value ?\n * @returns {string} result\n * @private\n */\nexport function formatUnit(value) {\n    var result = value + '';\n    if (result.match(/auto|cm|mm|in|px|pt|pc|%|em|ex|ch|rem|vw|vh|vmin|vmax/)) {\n        return result;\n    }\n    return result + 'px';\n}\n/**\n * Function to check whether the platform is blazor or not.\n *\n * @returns {void} result\n * @private\n */\nexport function enableBlazorMode() {\n    isBlazorPlatform = true;\n}\n/**\n * Function to check whether the platform is blazor or not.\n *\n * @returns {boolean} result\n * @private\n */\nexport function isBlazor() {\n    return isBlazorPlatform;\n}\n/**\n * Function to convert xPath to DOM element in blazor platform\n *\n * @returns {HTMLElement} result\n * @param {HTMLElement | object} element ?\n * @private\n */\nexport function getElement(element) {\n    var xPath = 'xPath';\n    if (!(element instanceof Node) && isBlazor() && !isNullOrUndefined(element[xPath])) {\n        return document.evaluate(element[xPath], document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;\n    }\n    return element;\n}\n/**\n * Function to fetch the Instances of a HTML element for the given component.\n *\n * @param {string | HTMLElement} element ?\n * @param {any} component ?\n * @returns {Object} ?\n * @private\n */\n// eslint-disable-next-line\nexport function getInstance(element, component) {\n    // eslint-disable-next-line\n    var elem = (typeof (element) === 'string') ? document.querySelector(element) : element;\n    if (elem[instances]) {\n        for (var _i = 0, _a = elem[instances]; _i < _a.length; _i++) {\n            var inst = _a[_i];\n            if (inst instanceof component) {\n                return inst;\n            }\n        }\n    }\n    return null;\n}\n/**\n * Function to add instances for the given element.\n *\n * @param {string | HTMLElement} element ?\n * @param {Object} instance ?\n * @returns {void} ?\n * @private\n */\nexport function addInstance(element, instance) {\n    // eslint-disable-next-line\n    var elem = (typeof (element) === 'string') ? document.querySelector(element) : element;\n    if (elem[instances]) {\n        elem[instances].push(instance);\n    }\n    else {\n        elem[instances] = [instance];\n    }\n}\n/**\n * Function to generate the unique id.\n *\n * @returns {any} ?\n * @private\n */\n// eslint-disable-next-line\nexport function uniqueID() {\n    if ((typeof window) === 'undefined') {\n        return;\n    }\n    // eslint-disable-next-line\n    var num = new Uint16Array(5);\n    var intCrypto = window.msCrypto || window.crypto;\n    return intCrypto.getRandomValues(num);\n}\n/**\n *\n * @param {Int16Array} num ?\n * @returns {string} ?\n */\nfunction combineArray(num) {\n    var ret = '';\n    for (var i = 0; i < 5; i++) {\n        ret += (i ? ',' : '') + num[i];\n    }\n    return ret;\n}\n","/**\n * Parser\n */\nvar defaultNumberingSystem = {\n    'latn': {\n        '_digits': '0123456789',\n        '_type': 'numeric'\n    }\n};\nimport { isUndefined, getValue, isBlazor } from '../util';\nvar defaultNumberSymbols = {\n    'decimal': '.',\n    'group': ',',\n    'percentSign': '%',\n    'plusSign': '+',\n    'minusSign': '-',\n    'infinity': '',\n    'nan': 'NaN',\n    'exponential': 'E'\n};\nvar latnNumberSystem = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];\n/**\n * Interface for parser base\n *\n * @private\n */\nvar ParserBase = /** @class */ (function () {\n    function ParserBase() {\n    }\n    /**\n     * Returns the cldr object for the culture specifies\n     *\n     * @param {Object} obj - Specifies the object from which culture object to be acquired.\n     * @param {string} cName - Specifies the culture name.\n     * @returns {Object} ?\n     */\n    ParserBase.getMainObject = function (obj, cName) {\n        var value = isBlazor() ? cName : 'main.' + cName;\n        return getValue(value, obj);\n    };\n    /**\n     * Returns the numbering system object from given cldr data.\n     *\n     * @param {Object} obj - Specifies the object from which number system is acquired.\n     * @returns {Object} ?\n     */\n    ParserBase.getNumberingSystem = function (obj) {\n        return getValue('supplemental.numberingSystems', obj) || this.numberingSystems;\n    };\n    /**\n     * Returns the reverse of given object keys or keys specified.\n     *\n     * @param {Object} prop - Specifies the object to be reversed.\n     * @param {number[]} keys - Optional parameter specifies the custom keyList for reversal.\n     * @returns {Object} ?\n     */\n    ParserBase.reverseObject = function (prop, keys) {\n        var propKeys = keys || Object.keys(prop);\n        var res = {};\n        for (var _i = 0, propKeys_1 = propKeys; _i < propKeys_1.length; _i++) {\n            var key = propKeys_1[_i];\n            // eslint-disable-next-line\n            if (!res.hasOwnProperty(prop[key])) {\n                // eslint-disable-next-line\n                res[prop[key]] = key;\n            }\n        }\n        return res;\n    };\n    /**\n     * Returns the symbol regex by skipping the escape sequence.\n     *\n     * @param {string[]} props - Specifies the array values to be skipped.\n     * @returns {RegExp} ?\n     */\n    ParserBase.getSymbolRegex = function (props) {\n        var regexStr = props.map(function (str) {\n            return str.replace(/([.*+?^=!:${}()|[\\]/\\\\])/g, '\\\\$1');\n        }).join('|');\n        return new RegExp(regexStr, 'g');\n    };\n    /**\n     *\n     * @param {Object} prop ?\n     * @returns {Object} ?\n     */\n    ParserBase.getSymbolMatch = function (prop) {\n        var matchKeys = Object.keys(defaultNumberSymbols);\n        var ret = {};\n        for (var _i = 0, matchKeys_1 = matchKeys; _i < matchKeys_1.length; _i++) {\n            var key = matchKeys_1[_i];\n            // eslint-disable-next-line\n            ret[prop[key]] = defaultNumberSymbols[key];\n        }\n        return ret;\n    };\n    /**\n     * Returns regex string for provided value\n     *\n     * @param {string} val ?\n     * @returns {string} ?\n     */\n    ParserBase.constructRegex = function (val) {\n        var len = val.length;\n        var ret = '';\n        for (var i = 0; i < len; i++) {\n            if (i !== len - 1) {\n                ret += val[i] + '|';\n            }\n            else {\n                ret += val[i];\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns the replaced value of matching regex and obj mapper.\n     *\n     * @param {string} value - Specifies the  values to be replaced.\n     * @param {RegExp} regex - Specifies the  regex to search.\n     * @param {Object} obj - Specifies the  object matcher to be replace value parts.\n     * @returns {string} ?\n     */\n    ParserBase.convertValueParts = function (value, regex, obj) {\n        return value.replace(regex, function (str) {\n            // eslint-disable-next-line\n            return obj[str];\n        });\n    };\n    /**\n     * Returns default numbering system object for formatting from cldr data\n     *\n     * @param {Object} obj ?\n     * @returns {NumericObject} ?\n     */\n    ParserBase.getDefaultNumberingSystem = function (obj) {\n        var ret = {};\n        ret.obj = getValue('numbers', obj);\n        ret.nSystem = getValue('defaultNumberingSystem', ret.obj);\n        return ret;\n    };\n    /**\n     * Returns the replaced value of matching regex and obj mapper.\n     *\n     * @param {Object} curObj ?\n     * @param {Object} numberSystem ?\n     * @param {boolean} needSymbols ?\n     * @param {boolean} blazorMode ?\n     * @returns {Object} ?\n     */\n    ParserBase.getCurrentNumericOptions = function (curObj, numberSystem, needSymbols, blazorMode) {\n        var ret = {};\n        var cur = this.getDefaultNumberingSystem(curObj);\n        if (!isUndefined(cur.nSystem) || blazorMode) {\n            var digits = blazorMode ? getValue('obj.mapperDigits', cur) : getValue(cur.nSystem + '._digits', numberSystem);\n            if (!isUndefined(digits)) {\n                ret.numericPair = this.reverseObject(digits, latnNumberSystem);\n                ret.numberParseRegex = new RegExp(this.constructRegex(digits), 'g');\n                ret.numericRegex = '[' + digits[0] + '-' + digits[9] + ']';\n                if (needSymbols) {\n                    ret.numericRegex = digits[0] + '-' + digits[9];\n                    ret.symbolNumberSystem = getValue(blazorMode ? 'numberSymbols' : 'symbols-numberSystem-' + cur.nSystem, cur.obj);\n                    ret.symbolMatch = this.getSymbolMatch(ret.symbolNumberSystem);\n                    ret.numberSystem = cur.nSystem;\n                }\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns number mapper object for the provided cldr data\n     *\n     * @param {Object} curObj ?\n     * @param {Object} numberSystem ?\n     * @param {boolean} isNumber ?\n     * @returns {NumberMapper} ?\n     */\n    // eslint-disable-next-line\n    ParserBase.getNumberMapper = function (curObj, numberSystem, isNumber) {\n        var ret = { mapper: {} };\n        var cur = this.getDefaultNumberingSystem(curObj);\n        if (!isUndefined(cur.nSystem)) {\n            ret.numberSystem = cur.nSystem;\n            ret.numberSymbols = getValue('symbols-numberSystem-' + cur.nSystem, cur.obj);\n            ret.timeSeparator = getValue('timeSeparator', ret.numberSymbols);\n            var digits = getValue(cur.nSystem + '._digits', numberSystem);\n            if (!isUndefined(digits)) {\n                for (var _i = 0, latnNumberSystem_1 = latnNumberSystem; _i < latnNumberSystem_1.length; _i++) {\n                    var i = latnNumberSystem_1[_i];\n                    // eslint-disable-next-line\n                    ret.mapper[i] = digits[i];\n                }\n            }\n        }\n        return ret;\n    };\n    ParserBase.nPair = 'numericPair';\n    ParserBase.nRegex = 'numericRegex';\n    ParserBase.numberingSystems = defaultNumberingSystem;\n    return ParserBase;\n}());\nexport { ParserBase };\n/**\n * @private\n */\nvar blazorCurrencyData = {\n    'DJF': 'Fdj',\n    'ERN': 'Nfk',\n    'ETB': 'Br',\n    'NAD': '$',\n    'ZAR': 'R',\n    'XAF': 'FCFA',\n    'GHS': 'GH',\n    'XDR': 'XDR',\n    'AED': '..',\n    'BHD': '..',\n    'DZD': '..',\n    'EGP': '..',\n    'ILS': '',\n    'IQD': '..',\n    'JOD': '..',\n    'KMF': 'CF',\n    'KWD': '..',\n    'LBP': '..',\n    'LYD': '..',\n    'MAD': '..',\n    'MRU': '..',\n    'OMR': '..',\n    'QAR': '..',\n    'SAR': '..',\n    'SDG': '..',\n    'SOS': 'S',\n    'SSP': '',\n    'SYP': '..',\n    'TND': '..',\n    'YER': '..',\n    'CLP': '$',\n    'INR': '',\n    'TZS': 'TSh',\n    'EUR': '',\n    'AZN': '',\n    'RUB': '',\n    'BYN': 'Br',\n    'ZMW': 'K',\n    'BGN': '.',\n    'NGN': '',\n    'XOF': 'CFA',\n    'BDT': '',\n    'CNY': '',\n    'BAM': '',\n    'UGX': 'USh',\n    'USD': '$',\n    'CZK': 'K',\n    'GBP': '',\n    'DKK': 'kr.',\n    'KES': 'Ksh',\n    'CHF': 'CHF',\n    'MVR': '.',\n    'BTN': 'Nu.',\n    'XCD': 'EC$',\n    'AUD': '$',\n    'BBD': '$',\n    'BIF': 'FBu',\n    'BMD': '$',\n    'BSD': '$',\n    'BWP': 'P',\n    'BZD': '$',\n    'CAD': '$',\n    'NZD': '$',\n    'FJD': '$',\n    'FKP': '',\n    'GIP': '',\n    'GMD': 'D',\n    'GYD': '$',\n    'HKD': '$',\n    'IDR': 'Rp',\n    'JMD': '$',\n    'KYD': '$',\n    'LRD': '$',\n    'MGA': 'Ar',\n    'MOP': 'MOP$',\n    'MUR': 'Rs',\n    'MWK': 'MK',\n    'MYR': 'RM',\n    'PGK': 'K',\n    'PHP': '',\n    'PKR': 'Rs',\n    'RWF': 'RF',\n    'SBD': '$',\n    'SCR': 'SR',\n    'SEK': 'kr',\n    'SGD': '$',\n    'SHP': '',\n    'SLL': 'Le',\n    'ANG': 'NAf.',\n    'SZL': 'E',\n    'TOP': 'T$',\n    'TTD': '$',\n    'VUV': 'VT',\n    'WST': 'WS$',\n    'ARS': '$',\n    'BOB': 'Bs',\n    'BRL': 'R$',\n    'COP': '$',\n    'CRC': '',\n    'CUP': '$',\n    'DOP': '$',\n    'GTQ': 'Q',\n    'HNL': 'L',\n    'MXN': '$',\n    'NIO': 'C$',\n    'PAB': 'B/.',\n    'PEN': 'S/',\n    'PYG': '',\n    'UYU': '$',\n    'VES': 'Bs.S',\n    'IRR': '',\n    'GNF': 'FG',\n    'CDF': 'FC',\n    'HTG': 'G',\n    'XPF': 'FCFP',\n    'HRK': 'kn',\n    'HUF': 'Ft',\n    'AMD': '',\n    'ISK': 'kr',\n    'JPY': '',\n    'GEL': '',\n    'CVE': '',\n    'KZT': '',\n    'KHR': '',\n    'KPW': '',\n    'KRW': '',\n    'KGS': '',\n    'AOA': 'Kz',\n    'LAK': '',\n    'MZN': 'MTn',\n    'MKD': '',\n    'MNT': '',\n    'BND': '$',\n    'MMK': 'K',\n    'NOK': 'kr',\n    'NPR': '',\n    'AWG': 'Afl.',\n    'SRD': '$',\n    'PLN': 'z',\n    'AFN': '',\n    'STN': 'Db',\n    'MDL': 'L',\n    'RON': 'lei',\n    'UAH': '',\n    'LKR': '.',\n    'ALL': 'Lek',\n    'RSD': '.',\n    'TJS': '',\n    'THB': '',\n    'TMT': 'm.',\n    'TRY': '',\n    'UZS': '',\n    'VND': '',\n    'TWD': 'NT$'\n};\n/**\n *\n * @param {string} currencyCode ?\n * @returns {string} ?\n */\nexport function getBlazorCurrencySymbol(currencyCode) {\n    return getValue(currencyCode || '', blazorCurrencyData);\n}\n","/***\n * Hijri parser\n */\n// eslint-disable-next-line\nexport var HijriParser;\n(function (HijriParser) {\n    var dateCorrection = [28607, 28636, 28665, 28695, 28724, 28754, 28783, 28813, 28843, 28872, 28901, 28931, 28960, 28990,\n        29019, 29049, 29078, 29108, 29137, 29167, 29196, 29226, 29255, 29285, 29315, 29345, 29375, 29404, 29434, 29463, 29492, 29522,\n        29551, 29580, 29610, 29640, 29669, 29699, 29729, 29759, 29788, 29818, 29847, 29876, 29906, 29935, 29964, 29994, 30023, 30053,\n        30082, 30112, 30141, 30171, 30200, 30230, 30259, 30289, 30318, 30348, 30378, 30408, 30437, 30467, 30496, 30526, 30555, 30585,\n        30614, 30644, 30673, 30703, 30732, 30762, 30791, 30821, 30850, 30880, 30909, 30939, 30968, 30998, 31027, 31057, 31086, 31116,\n        31145, 31175, 31204, 31234, 31263, 31293, 31322, 31352, 31381, 31411, 31441, 31471, 31500, 31530, 31559, 31589, 31618, 31648,\n        31676, 31706, 31736, 31766, 31795, 31825, 31854, 31884, 31913, 31943, 31972, 32002, 32031, 32061, 32090, 32120, 32150, 32180,\n        32209, 32239, 32268, 32298, 32327, 32357, 32386, 32416, 32445, 32475, 32504, 32534, 32563, 32593, 32622, 32652, 32681, 32711,\n        32740, 32770, 32799, 32829, 32858, 32888, 32917, 32947, 32976, 33006, 33035, 33065, 33094, 33124, 33153, 33183, 33213, 33243,\n        33272, 33302, 33331, 33361, 33390, 33420, 33450, 33479, 33509, 33539, 33568, 33598, 33627, 33657, 33686, 33716, 33745, 33775,\n        33804, 33834, 33863, 33893, 33922, 33952, 33981, 34011, 34040, 34069, 34099, 34128, 34158, 34187, 34217, 34247, 34277, 34306,\n        34336, 34365, 34395, 34424, 34454, 34483, 34512, 34542, 34571, 34601, 34631, 34660, 34690, 34719, 34749, 34778, 34808, 34837,\n        34867, 34896, 34926, 34955, 34985, 35015, 35044, 35074, 35103, 35133, 35162, 35192, 35222, 35251, 35280, 35310, 35340, 35370,\n        35399, 35429, 35458, 35488, 35517, 35547, 35576, 35605, 35635, 35665, 35694, 35723, 35753, 35782, 35811, 35841, 35871, 35901,\n        35930, 35960, 35989, 36019, 36048, 36078, 36107, 36136, 36166, 36195, 36225, 36254, 36284, 36314, 36343, 36373, 36403, 36433,\n        36462, 36492, 36521, 36551, 36580, 36610, 36639, 36669, 36698, 36728, 36757, 36786, 36816, 36845, 36875, 36904, 36934, 36963,\n        36993, 37022, 37052, 37081, 37111, 37141, 37170, 37200, 37229, 37259, 37288, 37318, 37347, 37377, 37406, 37436, 37465, 37495,\n        37524, 37554, 37584, 37613, 37643, 37672, 37701, 37731, 37760, 37790, 37819, 37849, 37878, 37908, 37938, 37967, 37997, 38027,\n        38056, 38085, 38115, 38144, 38174, 38203, 38233, 38262, 38292, 38322, 38351, 38381, 38410, 38440, 38469, 38499, 38528, 38558,\n        38587, 38617, 38646, 38676, 38705, 38735, 38764, 38794, 38823, 38853, 38882, 38912, 38941, 38971, 39001, 39030, 39059, 39089,\n        39118, 39148, 39178, 39208, 39237, 39267, 39297, 39326, 39355, 39385, 39414, 39444, 39473, 39503, 39532, 39562, 39592, 39621,\n        39650, 39680, 39709, 39739, 39768, 39798, 39827, 39857, 39886, 39916, 39946, 39975, 40005, 40035, 40064, 40094, 40123, 40153,\n        40182, 40212, 40241, 40271, 40300, 40330, 40359, 40389, 40418, 40448, 40477, 40507, 40536, 40566, 40595, 40625, 40655, 40685,\n        40714, 40744, 40773, 40803, 40832, 40862, 40892, 40921, 40951, 40980, 41009, 41039, 41068, 41098, 41127, 41157, 41186, 41216,\n        41245, 41275, 41304, 41334, 41364, 41393, 41422, 41452, 41481, 41511, 41540, 41570, 41599, 41629, 41658, 41688, 41718, 41748,\n        41777, 41807, 41836, 41865, 41894, 41924, 41953, 41983, 42012, 42042, 42072, 42102, 42131, 42161, 42190, 42220, 42249, 42279,\n        42308, 42337, 42367, 42397, 42426, 42456, 42485, 42515, 42545, 42574, 42604, 42633, 42662, 42692, 42721, 42751, 42780, 42810,\n        42839, 42869, 42899, 42929, 42958, 42988, 43017, 43046, 43076, 43105, 43135, 43164, 43194, 43223, 43253, 43283, 43312, 43342,\n        43371, 43401, 43430, 43460, 43489, 43519, 43548, 43578, 43607, 43637, 43666, 43696, 43726, 43755, 43785, 43814, 43844, 43873,\n        43903, 43932, 43962, 43991, 44021, 44050, 44080, 44109, 44139, 44169, 44198, 44228, 44258, 44287, 44317, 44346, 44375, 44405,\n        44434, 44464, 44493, 44523, 44553, 44582, 44612, 44641, 44671, 44700, 44730, 44759, 44788, 44818, 44847, 44877, 44906, 44936,\n        44966, 44996, 45025, 45055, 45084, 45114, 45143, 45172, 45202, 45231, 45261, 45290, 45320, 45350, 45380, 45409, 45439, 45468,\n        45498, 45527, 45556, 45586, 45615, 45644, 45674, 45704, 45733, 45763, 45793, 45823, 45852, 45882, 45911, 45940, 45970, 45999,\n        46028, 46058, 46088, 46117, 46147, 46177, 46206, 46236, 46265, 46295, 46324, 46354, 46383, 46413, 46442, 46472, 46501, 46531,\n        46560, 46590, 46620, 46649, 46679, 46708, 46738, 46767, 46797, 46826, 46856, 46885, 46915, 46944, 46974, 47003, 47033, 47063,\n        47092, 47122, 47151, 47181, 47210, 47240, 47269, 47298, 47328, 47357, 47387, 47417, 47446, 47476, 47506, 47535, 47565, 47594,\n        47624, 47653, 47682, 47712, 47741, 47771, 47800, 47830, 47860, 47890, 47919, 47949, 47978, 48008, 48037, 48066, 48096, 48125,\n        48155, 48184, 48214, 48244, 48273, 48303, 48333, 48362, 48392, 48421, 48450, 48480, 48509, 48538, 48568, 48598, 48627, 48657,\n        48687, 48717, 48746, 48776, 48805, 48834, 48864, 48893, 48922, 48952, 48982, 49011, 49041, 49071, 49100, 49130, 49160, 49189,\n        49218, 49248, 49277, 49306, 49336, 49365, 49395, 49425, 49455, 49484, 49514, 49543, 49573, 49602, 49632, 49661, 49690, 49720,\n        49749, 49779, 49809, 49838, 49868, 49898, 49927, 49957, 49986, 50016, 50045, 50075, 50104, 50133, 50163, 50192, 50222, 50252,\n        50281, 50311, 50340, 50370, 50400, 50429, 50459, 50488, 50518, 50547, 50576, 50606, 50635, 50665, 50694, 50724, 50754, 50784,\n        50813, 50843, 50872, 50902, 50931, 50960, 50990, 51019, 51049, 51078, 51108, 51138, 51167, 51197, 51227, 51256, 51286, 51315,\n        51345, 51374, 51403, 51433, 51462, 51492, 51522, 51552, 51582, 51611, 51641, 51670, 51699, 51729, 51758, 51787, 51816, 51846,\n        51876, 51906, 51936, 51965, 51995, 52025, 52054, 52083, 52113, 52142, 52171, 52200, 52230, 52260, 52290, 52319, 52349, 52379,\n        52408, 52438, 52467, 52497, 52526, 52555, 52585, 52614, 52644, 52673, 52703, 52733, 52762, 52792, 52822, 52851, 52881, 52910,\n        52939, 52969, 52998, 53028, 53057, 53087, 53116, 53146, 53176, 53205, 53235, 53264, 53294, 53324, 53353, 53383, 53412, 53441,\n        53471, 53500, 53530, 53559, 53589, 53619, 53648, 53678, 53708, 53737, 53767, 53796, 53825, 53855, 53884, 53913, 53943, 53973,\n        54003, 54032, 54062, 54092, 54121, 54151, 54180, 54209, 54239, 54268, 54297, 54327, 54357, 54387, 54416, 54446, 54476, 54505,\n        54535, 54564, 54593, 54623, 54652, 54681, 54711, 54741, 54770, 54800, 54830, 54859, 54889, 54919, 54948, 54977, 55007, 55036,\n        55066, 55095, 55125, 55154, 55184, 55213, 55243, 55273, 55302, 55332, 55361, 55391, 55420, 55450, 55479, 55508, 55538, 55567,\n        55597, 55627, 55657, 55686, 55716, 55745, 55775, 55804, 55834, 55863, 55892, 55922, 55951, 55981, 56011, 56040, 56070, 56100,\n        56129, 56159, 56188, 56218, 56247, 56276, 56306, 56335, 56365, 56394, 56424, 56454, 56483, 56513, 56543, 56572, 56601, 56631,\n        56660, 56690, 56719, 56749, 56778, 56808, 56837, 56867, 56897, 56926, 56956, 56985, 57015, 57044, 57074, 57103, 57133, 57162,\n        57192, 57221, 57251, 57280, 57310, 57340, 57369, 57399, 57429, 57458, 57487, 57517, 57546, 57576, 57605, 57634, 57664, 57694,\n        57723, 57753, 57783, 57813, 57842, 57871, 57901, 57930, 57959, 57989, 58018, 58048, 58077, 58107, 58137, 58167, 58196, 58226,\n        58255, 58285, 58314, 58343, 58373, 58402, 58432, 58461, 58491, 58521, 58551, 58580, 58610, 58639, 58669, 58698, 58727, 58757,\n        58786, 58816, 58845, 58875, 58905, 58934, 58964, 58994, 59023, 59053, 59082, 59111, 59141, 59170, 59200, 59229, 59259, 59288,\n        59318, 59348, 59377, 59407, 59436, 59466, 59495, 59525, 59554, 59584, 59613, 59643, 59672, 59702, 59731, 59761, 59791, 59820,\n        59850, 59879, 59909, 59939, 59968, 59997, 60027, 60056, 60086, 60115, 60145, 60174, 60204, 60234, 60264, 60293, 60323, 60352,\n        60381, 60411, 60440, 60469, 60499, 60528, 60558, 60588, 60618, 60648, 60677, 60707, 60736, 60765, 60795, 60824, 60853, 60883,\n        60912, 60942, 60972, 61002, 61031, 61061, 61090, 61120, 61149, 61179, 61208, 61237, 61267, 61296, 61326, 61356, 61385, 61415,\n        61445, 61474, 61504, 61533, 61563, 61592, 61621, 61651, 61680, 61710, 61739, 61769, 61799, 61828, 61858, 61888, 61917, 61947,\n        61976, 62006, 62035, 62064, 62094, 62123, 62153, 62182, 62212, 62242, 62271, 62301, 62331, 62360, 62390, 62419, 62448, 62478,\n        62507, 62537, 62566, 62596, 62625, 62655, 62685, 62715, 62744, 62774, 62803, 62832, 62862, 62891, 62921, 62950, 62980, 63009,\n        63039, 63069, 63099, 63128, 63157, 63187, 63216, 63246, 63275, 63305, 63334, 63363, 63393, 63423, 63453, 63482, 63512, 63541,\n        63571, 63600, 63630, 63659, 63689, 63718, 63747, 63777, 63807, 63836, 63866, 63895, 63925, 63955, 63984, 64014, 64043, 64073,\n        64102, 64131, 64161, 64190, 64220, 64249, 64279, 64309, 64339, 64368, 64398, 64427, 64457, 64486, 64515, 64545, 64574, 64603,\n        64633, 64663, 64692, 64722, 64752, 64782, 64811, 64841, 64870, 64899, 64929, 64958, 64987, 65017, 65047, 65076, 65106, 65136,\n        65166, 65195, 65225, 65254, 65283, 65313, 65342, 65371, 65401, 65431, 65460, 65490, 65520, 65549, 65579, 65608, 65638, 65667,\n        65697, 65726, 65755, 65785, 65815, 65844, 65874, 65903, 65933, 65963, 65992, 66022, 66051, 66081, 66110, 66140, 66169, 66199,\n        66228, 66258, 66287, 66317, 66346, 66376, 66405, 66435, 66465, 66494, 66524, 66553, 66583, 66612, 66641, 66671, 66700, 66730,\n        66760, 66789, 66819, 66849, 66878, 66908, 66937, 66967, 66996, 67025, 67055, 67084, 67114, 67143, 67173, 67203, 67233, 67262,\n        67292, 67321, 67351, 67380, 67409, 67439, 67468, 67497, 67527, 67557, 67587, 67617, 67646, 67676, 67705, 67735, 67764, 67793,\n        67823, 67852, 67882, 67911, 67941, 67971, 68000, 68030, 68060, 68089, 68119, 68148, 68177, 68207, 68236, 68266, 68295, 68325,\n        68354, 68384, 68414, 68443, 68473, 68502, 68532, 68561, 68591, 68620, 68650, 68679, 68708, 68738, 68768, 68797, 68827, 68857,\n        68886, 68916, 68946, 68975, 69004, 69034, 69063, 69092, 69122, 69152, 69181, 69211, 69240, 69270, 69300, 69330, 69359, 69388,\n        69418, 69447, 69476, 69506, 69535, 69565, 69595, 69624, 69654, 69684, 69713, 69743, 69772, 69802, 69831, 69861, 69890, 69919,\n        69949, 69978, 70008, 70038, 70067, 70097, 70126, 70156, 70186, 70215, 70245, 70274, 70303, 70333, 70362, 70392, 70421, 70451,\n        70481, 70510, 70540, 70570, 70599, 70629, 70658, 70687, 70717, 70746, 70776, 70805, 70835, 70864, 70894, 70924, 70954, 70983,\n        71013, 71042, 71071, 71101, 71130, 71159, 71189, 71218, 71248, 71278, 71308, 71337, 71367, 71397, 71426, 71455, 71485, 71514,\n        71543, 71573, 71602, 71632, 71662, 71691, 71721, 71751, 71781, 71810, 71839, 71869, 71898, 71927, 71957, 71986, 72016, 72046,\n        72075, 72105, 72135, 72164, 72194, 72223, 72253, 72282, 72311, 72341, 72370, 72400, 72429, 72459, 72489, 72518, 72548, 72577,\n        72607, 72637, 72666, 72695, 72725, 72754, 72784, 72813, 72843, 72872, 72902, 72931, 72961, 72991, 73020, 73050, 73080, 73109,\n        73139, 73168, 73197, 73227, 73256, 73286, 73315, 73345, 73375, 73404, 73434, 73464, 73493, 73523, 73552, 73581, 73611, 73640,\n        73669, 73699, 73729, 73758, 73788, 73818, 73848, 73877, 73907, 73936, 73965, 73995, 74024, 74053, 74083, 74113, 74142, 74172,\n        74202, 74231, 74261, 74291, 74320, 74349, 74379, 74408, 74437, 74467, 74497, 74526, 74556, 74586, 74615, 74645, 74675, 74704,\n        74733, 74763, 74792, 74822, 74851, 74881, 74910, 74940, 74969, 74999, 75029, 75058, 75088, 75117, 75147, 75176, 75206, 75235,\n        75264, 75294, 75323, 75353, 75383, 75412, 75442, 75472, 75501, 75531, 75560, 75590, 75619, 75648, 75678, 75707, 75737, 75766,\n        75796, 75826, 75856, 75885, 75915, 75944, 75974, 76003, 76032, 76062, 76091, 76121, 76150, 76180, 76210, 76239, 76269, 76299,\n        76328, 76358, 76387, 76416, 76446, 76475, 76505, 76534, 76564, 76593, 76623, 76653, 76682, 76712, 76741, 76771, 76801, 76830,\n        76859, 76889, 76918, 76948, 76977, 77007, 77036, 77066, 77096, 77125, 77155, 77185, 77214, 77243, 77273, 77302, 77332, 77361,\n        77390, 77420, 77450, 77479, 77509, 77539, 77569, 77598, 77627, 77657, 77686, 77715, 77745, 77774, 77804, 77833, 77863, 77893,\n        77923, 77952, 77982, 78011, 78041, 78070, 78099, 78129, 78158, 78188, 78217, 78247, 78277, 78307, 78336, 78366, 78395, 78425,\n        78454, 78483, 78513, 78542, 78572, 78601, 78631, 78661, 78690, 78720, 78750, 78779, 78808, 78838, 78867, 78897, 78926, 78956,\n        78985, 79015, 79044, 79074, 79104, 79133, 79163, 79192, 79222, 79251, 79281, 79310, 79340, 79369, 79399, 79428, 79458, 79487,\n        79517, 79546, 79576, 79606, 79635, 79665, 79695, 79724, 79753, 79783, 79812, 79841, 79871, 79900, 79930, 79960, 79990\n    ];\n    /**\n     *\n     * @param {Date} gDate ?\n     * @returns {Object} ?\n     */\n    function getHijriDate(gDate) {\n        var day = gDate.getDate();\n        var month = gDate.getMonth();\n        var year = gDate.getFullYear();\n        var tMonth = month + 1;\n        var tYear = year;\n        if (tMonth < 3) {\n            tYear -= 1;\n            tMonth += 12;\n        }\n        var yPrefix = Math.floor(tYear / 100.);\n        var julilanOffset = yPrefix - Math.floor(yPrefix / 4.) - 2;\n        var julianNumber = Math.floor(365.25 * (tYear + 4716)) + Math.floor(30.6001 * (tMonth + 1)) + day - julilanOffset - 1524;\n        yPrefix = Math.floor((julianNumber - 1867216.25) / 36524.25);\n        julilanOffset = yPrefix - Math.floor(yPrefix / 4.) + 1;\n        var b = julianNumber + julilanOffset + 1524;\n        var c = Math.floor((b - 122.1) / 365.25);\n        var d = Math.floor(365.25 * c);\n        var tempMonth = Math.floor((b - d) / 30.6001);\n        day = (b - d) - Math.floor(30.6001 * tempMonth);\n        month = Math.floor((b - d) / 20.6001);\n        if (month > 13) {\n            c += 1;\n            month -= 12;\n        }\n        month -= 1;\n        year = c - 4716;\n        var modifiedJulianDate = julianNumber - 2400000;\n        // date calculation for year after 2077\n        var iyear = 10631. / 30.;\n        var z = julianNumber - 1948084;\n        var cyc = Math.floor(z / 10631.);\n        z = z - 10631 * cyc;\n        var j = Math.floor((z - 0.1335) / iyear);\n        var iy = 30 * cyc + j;\n        z = z - Math.floor(j * iyear + 0.1335);\n        var im = Math.floor((z + 28.5001) / 29.5);\n        /* istanbul ignore next */\n        if (im === 13) {\n            im = 12;\n        }\n        var tempDay = z - Math.floor(29.5001 * im - 29);\n        var i = 0;\n        for (; i < dateCorrection.length; i++) {\n            if (dateCorrection[i] > modifiedJulianDate) {\n                break;\n            }\n        }\n        var iln = i + 16260;\n        var ii = Math.floor((iln - 1) / 12);\n        var hYear = ii + 1;\n        var hmonth = iln - 12 * ii;\n        var hDate = modifiedJulianDate - dateCorrection[i - 1] + 1;\n        if ((hDate + '').length > 2) {\n            hDate = tempDay;\n            hmonth = im;\n            hYear = iy;\n        }\n        return { year: hYear, month: hmonth, date: hDate };\n    }\n    HijriParser.getHijriDate = getHijriDate;\n    /**\n     *\n     * @param {number} year ?\n     * @param {number} month ?\n     * @param {number} day ?\n     * @returns {Date} ?\n     */\n    function toGregorian(year, month, day) {\n        var iy = year;\n        var im = month;\n        var id = day;\n        var ii = iy - 1;\n        var iln = (ii * 12) + 1 + (im - 1);\n        var i = iln - 16260;\n        var mcjdn = id + dateCorrection[i - 1] - 1;\n        var julianDate = mcjdn + 2400000;\n        var z = Math.floor(julianDate + 0.5);\n        var a = Math.floor((z - 1867216.25) / 36524.25);\n        a = z + 1 + a - Math.floor(a / 4);\n        var b = a + 1524;\n        var c = Math.floor((b - 122.1) / 365.25);\n        var d = Math.floor(365.25 * c);\n        var e = Math.floor((b - d) / 30.6001);\n        var gDay = b - d - Math.floor(e * 30.6001);\n        var gMonth = e - (e > 13.5 ? 13 : 1);\n        var gYear = c - (gMonth > 2.5 ? 4716 : 4715);\n        /* istanbul ignore next */\n        if (gYear <= 0) {\n            gMonth--;\n        } // No year zero\n        return new Date(gYear + '/' + (gMonth) + '/' + gDay);\n    }\n    HijriParser.toGregorian = toGregorian;\n})(HijriParser || (HijriParser = {}));\n","import { ParserBase as parser } from './parser-base';\nimport { IntlBase as base } from './intl-base';\nimport { isUndefined, throwError, getValue, isBlazor } from '../util';\nimport { HijriParser } from '../hijri-parser';\nimport { isNullOrUndefined, extend } from '../util';\nvar abbreviateRegexGlobal = /\\/MMMMM|MMMM|MMM|a|LLLL|LLL|EEEEE|EEEE|E|K|cccc|ccc|WW|W|G+|z+/gi;\nvar standalone = 'stand-alone';\nvar weekdayKey = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\nexport var basicPatterns = ['short', 'medium', 'long', 'full'];\nvar timeSetter = {\n    m: 'getMinutes',\n    h: 'getHours',\n    H: 'getHours',\n    s: 'getSeconds',\n    d: 'getDate',\n    f: 'getMilliseconds'\n};\nexport var datePartMatcher = {\n    'M': 'month',\n    'd': 'day',\n    'E': 'weekday',\n    'c': 'weekday',\n    'y': 'year',\n    'm': 'minute',\n    'h': 'hour',\n    'H': 'hour',\n    's': 'second',\n    'L': 'month',\n    'a': 'designator',\n    'z': 'timeZone',\n    'Z': 'timeZone',\n    'G': 'era',\n    'f': 'milliseconds'\n};\nvar timeSeparator = 'timeSeparator';\n/* tslint:disable no-any */\n/**\n * Date Format is a framework provides support for date formatting.\n *\n * @private\n */\nvar DateFormat = /** @class */ (function () {\n    function DateFormat() {\n    }\n    /**\n     * Returns the formatter function for given skeleton.\n     *\n     * @param {string} culture -  Specifies the culture name to be which formatting.\n     * @param {DateFormatOptions} option - Specific the format in which date  will format.\n     * @param {Object} cldr - Specifies the global cldr data collection.\n     * @returns {Function} ?\n     */\n    DateFormat.dateFormat = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture, option.calendar);\n        var numObject = getValue('parserObject.numbers', dependable);\n        var dateObject = dependable.dateObject;\n        var formatOptions = { isIslamic: base.islamicRegex.test(option.calendar) };\n        if (isBlazor() && option.isServerRendered) {\n            option = base.compareBlazorDateFormats(option, culture);\n        }\n        var resPattern = option.format ||\n            base.getResultantPattern(option.skeleton, dependable.dateObject, option.type, false, isBlazor() ? culture : '');\n        formatOptions.dateSeperator = isBlazor() ? getValue('dateSeperator', dateObject) : base.getDateSeparator(dependable.dateObject);\n        if (isUndefined(resPattern)) {\n            throwError('Format options or type given must be invalid');\n        }\n        else {\n            resPattern = base.ConvertDateToWeekFormat(resPattern);\n            if (isBlazor()) {\n                resPattern = resPattern.replace(/tt/, 'a');\n            }\n            formatOptions.pattern = resPattern;\n            formatOptions.numMapper = isBlazor() ?\n                extend({}, numObject) : parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr));\n            var patternMatch = resPattern.match(abbreviateRegexGlobal) || [];\n            for (var _i = 0, patternMatch_1 = patternMatch; _i < patternMatch_1.length; _i++) {\n                var str = patternMatch_1[_i];\n                var len = str.length;\n                var char = str[0];\n                if (char === 'K') {\n                    char = 'h';\n                }\n                switch (char) {\n                    case 'E':\n                    case 'c':\n                        if (isBlazor()) {\n                            // eslint-disable-next-line\n                            formatOptions.weekday = getValue('days.' + base.monthIndex[len], dateObject);\n                        }\n                        else {\n                            // eslint-disable-next-line\n                            formatOptions.weekday = dependable.dateObject[base.days][standalone][base.monthIndex[len]];\n                        }\n                        break;\n                    case 'M':\n                    case 'L':\n                        if (isBlazor()) {\n                            // eslint-disable-next-line\n                            formatOptions.month = getValue('months.' + base.monthIndex[len], dateObject);\n                        }\n                        else {\n                            // eslint-disable-next-line\n                            formatOptions.month = dependable.dateObject[base.month][standalone][base.monthIndex[len]];\n                        }\n                        break;\n                    case 'a':\n                        formatOptions.designator = isBlazor() ?\n                            getValue('dayPeriods', dateObject) : getValue('dayPeriods.format.wide', dateObject);\n                        break;\n                    case 'G':\n                        // eslint-disable-next-line\n                        var eText = (len <= 3) ? 'eraAbbr' : (len === 4) ? 'eraNames' : 'eraNarrow';\n                        formatOptions.era = isBlazor() ? getValue('eras', dateObject) : getValue('eras.' + eText, dependable.dateObject);\n                        break;\n                    case 'z':\n                        formatOptions.timeZone = getValue('dates.timeZoneNames', dependable.parserObject);\n                        break;\n                }\n            }\n        }\n        return function (value) {\n            if (isNaN(value.getDate())) {\n                return null;\n            }\n            return _this.intDateFormatter(value, formatOptions);\n        };\n    };\n    /**\n     * Returns formatted date string based on options passed.\n     *\n     * @param {Date} value ?\n     * @param {FormatOptions} options ?\n     * @returns {string} ?\n     */\n    DateFormat.intDateFormatter = function (value, options) {\n        var pattern = options.pattern;\n        var ret = '';\n        var matches = pattern.match(base.dateParseRegex);\n        var dObject = this.getCurrentDateValue(value, options.isIslamic);\n        for (var _i = 0, matches_1 = matches; _i < matches_1.length; _i++) {\n            var match = matches_1[_i];\n            var length_1 = match.length;\n            var char = match[0];\n            if (char === 'K') {\n                char = 'h';\n            }\n            var curval = void 0;\n            var curvalstr = '';\n            var isNumber = void 0;\n            var processNumber = void 0;\n            var curstr = '';\n            switch (char) {\n                case 'M':\n                case 'L':\n                    curval = dObject.month;\n                    if (length_1 > 2) {\n                        // eslint-disable-next-line\n                        ret += options.month[curval];\n                    }\n                    else {\n                        isNumber = true;\n                    }\n                    break;\n                case 'E':\n                case 'c':\n                    // eslint-disable-next-line\n                    ret += options.weekday[weekdayKey[value.getDay()]];\n                    break;\n                case 'H':\n                case 'h':\n                case 'm':\n                case 's':\n                case 'd':\n                case 'f':\n                    isNumber = true;\n                    if (char === 'd') {\n                        curval = dObject.date;\n                    }\n                    else if (char === 'f') {\n                        isNumber = false;\n                        processNumber = true;\n                        // eslint-disable-next-line\n                        curvalstr = value[timeSetter[char]]().toString();\n                        curvalstr = curvalstr.substring(0, length_1);\n                        var curlength = curvalstr.length;\n                        if (length_1 !== curlength) {\n                            if (length_1 > 3) {\n                                continue;\n                            }\n                            for (var i = 0; i < length_1 - curlength; i++) {\n                                curvalstr = '0' + curvalstr.toString();\n                            }\n                        }\n                        curstr += curvalstr;\n                    }\n                    else {\n                        // eslint-disable-next-line\n                        curval = value[timeSetter[char]]();\n                    }\n                    if (char === 'h') {\n                        curval = curval % 12 || 12;\n                    }\n                    break;\n                case 'y':\n                    processNumber = true;\n                    curstr += dObject.year;\n                    if (length_1 === 2) {\n                        curstr = curstr.substr(curstr.length - 2);\n                    }\n                    break;\n                case 'a':\n                    // eslint-disable-next-line\n                    var desig = value.getHours() < 12 ? 'am' : 'pm';\n                    // eslint-disable-next-line\n                    ret += options.designator[desig];\n                    break;\n                case 'G':\n                    // eslint-disable-next-line\n                    var dec = value.getFullYear() < 0 ? 0 : 1;\n                    // eslint-disable-next-line\n                    var retu = options.era[dec];\n                    if (isNullOrUndefined(retu)) {\n                        // eslint-disable-next-line\n                        retu = options.era[dec ? 0 : 1];\n                    }\n                    ret += retu || '';\n                    break;\n                case '\\'':\n                    ret += (match === '\\'\\'') ? '\\'' : match.replace(/'/g, '');\n                    break;\n                case 'z':\n                    // eslint-disable-next-line\n                    var timezone = value.getTimezoneOffset();\n                    // eslint-disable-next-line\n                    var pattern_1 = (length_1 < 4) ? '+H;-H' : options.timeZone.hourFormat;\n                    pattern_1 = pattern_1.replace(/:/g, options.numMapper.timeSeparator);\n                    if (timezone === 0) {\n                        ret += options.timeZone.gmtZeroFormat;\n                    }\n                    else {\n                        processNumber = true;\n                        curstr = this.getTimeZoneValue(timezone, pattern_1);\n                    }\n                    curstr = options.timeZone.gmtFormat.replace(/\\{0\\}/, curstr);\n                    break;\n                case ':':\n                    // eslint-disable-next-line\n                    ret += options.numMapper.numberSymbols[timeSeparator];\n                    break;\n                case '/':\n                    ret += options.dateSeperator;\n                    break;\n                case 'W':\n                    isNumber = true;\n                    curval = base.getWeekOfYear(value);\n                    break;\n                default:\n                    ret += match;\n            }\n            if (isNumber) {\n                processNumber = true;\n                curstr = this.checkTwodigitNumber(curval, length_1);\n            }\n            if (processNumber) {\n                ret += parser.convertValueParts(curstr, base.latnParseRegex, options.numMapper.mapper);\n            }\n        }\n        return ret;\n    };\n    DateFormat.getCurrentDateValue = function (value, isIslamic) {\n        if (isIslamic) {\n            return HijriParser.getHijriDate(value);\n        }\n        return { year: value.getFullYear(), month: value.getMonth() + 1, date: value.getDate() };\n    };\n    /**\n     * Returns two digit numbers for given value and length\n     *\n     * @param {number} val ?\n     * @param {number} len ?\n     * @returns {string} ?\n     */\n    DateFormat.checkTwodigitNumber = function (val, len) {\n        var ret = val + '';\n        if (len === 2 && ret.length !== 2) {\n            return '0' + ret;\n        }\n        return ret;\n    };\n    /**\n     * Returns the value of the Time Zone.\n     *\n     * @param {number} tVal ?\n     * @param {string} pattern ?\n     * @returns {string} ?\n     * @private\n     */\n    DateFormat.getTimeZoneValue = function (tVal, pattern) {\n        var _this = this;\n        var splt = pattern.split(';');\n        var curPattern = splt[tVal > 0 ? 1 : 0];\n        var no = Math.abs(tVal);\n        return curPattern = curPattern.replace(/HH?|mm/g, function (str) {\n            var len = str.length;\n            var ishour = str.indexOf('H') !== -1;\n            return _this.checkTwodigitNumber(Math.floor(ishour ? (no / 60) : (no % 60)), len);\n        });\n    };\n    return DateFormat;\n}());\nexport { DateFormat };\n","import { isUndefined, throwError, isNullOrUndefined, extend, isBlazor, getValue } from '../util';\nimport { defaultCurrencyCode } from '../internationalization';\nimport { IntlBase as base } from './intl-base';\nimport { ParserBase as parser } from './parser-base';\nvar errorText = {\n    'ms': 'minimumSignificantDigits',\n    'ls': 'maximumSignificantDigits',\n    'mf': 'minimumFractionDigits',\n    'lf': 'maximumFractionDigits',\n};\nvar integerError = 'minimumIntegerDigits';\nvar percentSign = 'percentSign';\nvar minusSign = 'minusSign';\nvar spaceRegex = /\\s/;\nvar mapper = ['infinity', 'nan', 'group', 'decimal', 'exponential'];\nvar infinity = 'infinity';\nvar nan = 'nan';\n/**\n * Module for number formatting.\n *\n * @private\n */\nvar NumberFormat = /** @class */ (function () {\n    function NumberFormat() {\n    }\n    /**\n     * Returns the formatter function for given skeleton.\n     *\n     * @param {string} culture -  Specifies the culture name to be which formatting.\n     * @param {NumberFormatOptions} option - Specific the format in which number  will format.\n     * @param {Object} cldr - Specifies the global cldr data collection.\n     * @returns {Function} ?\n     */\n    NumberFormat.numberFormatter = function (culture, option, cldr) {\n        var _this = this;\n        var fOptions = extend({}, option);\n        var cOptions = {};\n        var dOptions = {};\n        var symbolPattern;\n        var dependable = base.getDependables(cldr, culture, '', true);\n        var numObject = dependable.numericObject;\n        dOptions.numberMapper = isBlazor() ? extend({}, numObject) :\n            parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr), true);\n        dOptions.currencySymbol = isBlazor() ? getValue('currencySymbol', numObject) : base.getCurrencySymbol(dependable.numericObject, fOptions.currency || defaultCurrencyCode, option.altSymbol);\n        /* eslint-disable  @typescript-eslint/no-explicit-any */\n        dOptions.percentSymbol = isBlazor() ? getValue('numberSymbols.percentSign', numObject) :\n            dOptions.numberMapper.numberSymbols[percentSign];\n        dOptions.minusSymbol = isBlazor() ? getValue('numberSymbols.minusSign', numObject) :\n            dOptions.numberMapper.numberSymbols[minusSign];\n        var symbols = dOptions.numberMapper.numberSymbols;\n        if ((option.format) && !(base.formatRegex.test(option.format))) {\n            cOptions = base.customFormat(option.format, dOptions, dependable.numericObject);\n        }\n        else {\n            extend(fOptions, base.getProperNumericSkeleton(option.format || 'N'));\n            fOptions.isCurrency = fOptions.type === 'currency';\n            fOptions.isPercent = fOptions.type === 'percent';\n            if (!isBlazor()) {\n                symbolPattern = base.getSymbolPattern(fOptions.type, dOptions.numberMapper.numberSystem, dependable.numericObject, fOptions.isAccount);\n            }\n            fOptions.groupOne = this.checkValueRange(fOptions.maximumSignificantDigits, fOptions.minimumSignificantDigits, true);\n            this.checkValueRange(fOptions.maximumFractionDigits, fOptions.minimumFractionDigits, false, true);\n            if (!isUndefined(fOptions.fractionDigits)) {\n                fOptions.minimumFractionDigits = fOptions.maximumFractionDigits = fOptions.fractionDigits;\n            }\n            if (isUndefined(fOptions.useGrouping)) {\n                fOptions.useGrouping = true;\n            }\n            if (fOptions.isCurrency && !isBlazor()) {\n                symbolPattern = symbolPattern.replace(/\\u00A4/g, base.defaultCurrency);\n            }\n            if (!isBlazor()) {\n                var split = symbolPattern.split(';');\n                cOptions.nData = base.getFormatData(split[1] || '-' + split[0], true, dOptions.currencySymbol);\n                cOptions.pData = base.getFormatData(split[0], false, dOptions.currencySymbol);\n                if (fOptions.useGrouping) {\n                    fOptions.groupSeparator = symbols[mapper[2]];\n                    fOptions.groupData = this.getGroupingDetails(split[0]);\n                }\n            }\n            else {\n                cOptions.nData = extend({}, {}, getValue(fOptions.type + 'nData', numObject));\n                cOptions.pData = extend({}, {}, getValue(fOptions.type + 'pData', numObject));\n                if (fOptions.type === 'currency' && option.currency) {\n                    base.replaceBlazorCurrency([cOptions.pData, cOptions.nData], dOptions.currencySymbol, option.currency);\n                }\n            }\n            var minFrac = isUndefined(fOptions.minimumFractionDigits);\n            if (minFrac) {\n                fOptions.minimumFractionDigits = cOptions.nData.minimumFraction;\n            }\n            if (isUndefined(fOptions.maximumFractionDigits)) {\n                var mval = cOptions.nData.maximumFraction;\n                fOptions.maximumFractionDigits = isUndefined(mval) && fOptions.isPercent ? 0 : mval;\n            }\n            var mfrac = fOptions.minimumFractionDigits;\n            var lfrac = fOptions.maximumFractionDigits;\n            if (!isUndefined(mfrac) && !isUndefined(lfrac)) {\n                if (mfrac > lfrac) {\n                    fOptions.maximumFractionDigits = mfrac;\n                }\n            }\n        }\n        extend(cOptions.nData, fOptions);\n        extend(cOptions.pData, fOptions);\n        return function (value) {\n            if (isNaN(value)) {\n                return symbols[mapper[1]];\n            }\n            else if (!isFinite(value)) {\n                return symbols[mapper[0]];\n            }\n            return _this.intNumberFormatter(value, cOptions, dOptions);\n        };\n    };\n    /**\n     * Returns grouping details for the pattern provided\n     *\n     * @param {string} pattern ?\n     * @returns {GroupDetails} ?\n     */\n    NumberFormat.getGroupingDetails = function (pattern) {\n        var ret = {};\n        var match = pattern.match(base.negativeDataRegex);\n        if (match && match[4]) {\n            var pattern_1 = match[4];\n            var p = pattern_1.lastIndexOf(',');\n            if (p !== -1) {\n                var temp = pattern_1.split('.')[0];\n                ret.primary = (temp.length - p) - 1;\n                var s = pattern_1.lastIndexOf(',', p - 1);\n                if (s !== -1) {\n                    ret.secondary = p - 1 - s;\n                }\n            }\n        }\n        return ret;\n    };\n    /**\n     * Returns if the provided integer range is valid.\n     *\n     * @param {number} val1 ?\n     * @param {number} val2 ?\n     * @param {boolean} checkbothExist ?\n     * @param {boolean} isFraction ?\n     * @returns {boolean} ?\n     */\n    NumberFormat.checkValueRange = function (val1, val2, checkbothExist, isFraction) {\n        var decide = isFraction ? 'f' : 's';\n        var dint = 0;\n        var str1 = errorText['l' + decide];\n        // eslint-disable-next-line\n        var str2 = errorText['m' + decide];\n        if (!isUndefined(val1)) {\n            this.checkRange(val1, str1, isFraction);\n            dint++;\n        }\n        if (!isUndefined(val2)) {\n            this.checkRange(val2, str2, isFraction);\n            dint++;\n        }\n        if (dint === 2) {\n            if (val1 < val2) {\n                throwError(str2 + 'specified must be less than the' + str1);\n            }\n            else {\n                return true;\n            }\n        }\n        else if (checkbothExist && dint === 1) {\n            throwError('Both' + str2 + 'and' + str2 + 'must be present');\n        }\n        return false;\n    };\n    /**\n     * Check if the provided fraction range is valid\n     *\n     * @param {number} val ?\n     * @param {string} text ?\n     * @param {boolean} isFraction ?\n     * @returns {void} ?\n     */\n    NumberFormat.checkRange = function (val, text, isFraction) {\n        var range = isFraction ? [0, 20] : [1, 21];\n        if (val < range[0] || val > range[1]) {\n            throwError(text + 'value must be within the range' + range[0] + 'to' + range[1]);\n        }\n    };\n    /**\n     * Returns formatted numeric string for provided formatting options\n     *\n     * @param {number} value ?\n     * @param {base.GenericFormatOptions} fOptions ?\n     * @param {CommonOptions} dOptions ?\n     * @returns {string} ?\n     */\n    NumberFormat.intNumberFormatter = function (value, fOptions, dOptions) {\n        var curData;\n        if (isUndefined(fOptions.nData.type)) {\n            return undefined;\n        }\n        else {\n            if (value < 0) {\n                value = value * -1;\n                curData = fOptions.nData;\n            }\n            else if (value === 0) {\n                curData = fOptions.zeroData || fOptions.pData;\n            }\n            else {\n                curData = fOptions.pData;\n            }\n            var fValue = '';\n            if (curData.isPercent) {\n                value = value * 100;\n            }\n            if (curData.groupOne) {\n                fValue = this.processSignificantDigits(value, curData.minimumSignificantDigits, curData.maximumSignificantDigits);\n            }\n            else {\n                fValue = this.processFraction(value, curData.minimumFractionDigits, curData.maximumFractionDigits);\n                if (curData.minimumIntegerDigits) {\n                    fValue = this.processMinimumIntegers(fValue, curData.minimumIntegerDigits);\n                }\n            }\n            if (curData.type === 'scientific') {\n                fValue = value.toExponential(curData.maximumFractionDigits);\n                fValue = fValue.replace('e', dOptions.numberMapper.numberSymbols[mapper[4]]);\n            }\n            fValue = fValue.replace('.', dOptions.numberMapper.numberSymbols[mapper[3]]);\n            if (curData.useGrouping) {\n                /* eslint-disable  @typescript-eslint/no-explicit-any */\n                fValue = this.groupNumbers(fValue, curData.groupData.primary, curData.groupSeparator || ',', dOptions.numberMapper.numberSymbols[mapper[3]] || '.', curData.groupData.secondary);\n            }\n            fValue = parser.convertValueParts(fValue, base.latnParseRegex, dOptions.numberMapper.mapper);\n            if (curData.nlead === 'N/A') {\n                return curData.nlead;\n            }\n            else {\n                return curData.nlead + fValue + curData.nend;\n            }\n        }\n    };\n    /**\n     * Returns significant digits processed numeric string\n     *\n     * @param {number} value ?\n     * @param {number} min ?\n     * @param {number} max ?\n     * @returns {string} ?\n     */\n    NumberFormat.processSignificantDigits = function (value, min, max) {\n        var temp = value + '';\n        var tn;\n        var length = temp.length;\n        if (length < min) {\n            return value.toPrecision(min);\n        }\n        else {\n            temp = value.toPrecision(max);\n            tn = +temp;\n            return tn + '';\n        }\n    };\n    /**\n     * Returns grouped numeric string\n     *\n     * @param {string} val ?\n     * @param {number} level1 ?\n     * @param {string} sep ?\n     * @param {string} decimalSymbol ?\n     * @param {number} level2 ?\n     * @returns {string} ?\n     */\n    NumberFormat.groupNumbers = function (val, level1, sep, decimalSymbol, level2) {\n        var flag = !isNullOrUndefined(level2) && level2 !== 0;\n        var split = val.split(decimalSymbol);\n        var prefix = split[0];\n        var length = prefix.length;\n        var str = '';\n        while (length > level1) {\n            str = prefix.slice(length - level1, length) + (str.length ?\n                (sep + str) : '');\n            length -= level1;\n            if (flag) {\n                level1 = level2;\n                flag = false;\n            }\n        }\n        split[0] = prefix.slice(0, length) + (str.length ? sep : '') + str;\n        return split.join(decimalSymbol);\n    };\n    /**\n     * Returns fraction processed numeric string\n     *\n     * @param {number} value ?\n     * @param {number} min ?\n     * @param {number} max ?\n     * @returns {string} ?\n     */\n    NumberFormat.processFraction = function (value, min, max) {\n        var temp = (value + '').split('.')[1];\n        var length = temp ? temp.length : 0;\n        if (min && length < min) {\n            var ret = '';\n            if (length === 0) {\n                ret = value.toFixed(min);\n            }\n            else {\n                ret += value;\n                for (var j = 0; j < min - length; j++) {\n                    ret += '0';\n                }\n                return ret;\n            }\n            return value.toFixed(min);\n        }\n        else if (!isNullOrUndefined(max) && (length > max || max === 0)) {\n            return value.toFixed(max);\n        }\n        return value + '';\n    };\n    /**\n     * Returns integer processed numeric string\n     *\n     * @param {string} value ?\n     * @param {number} min ?\n     * @returns {string} ?\n     */\n    NumberFormat.processMinimumIntegers = function (value, min) {\n        var temp = value.split('.');\n        var lead = temp[0];\n        var len = lead.length;\n        if (len < min) {\n            for (var i = 0; i < min - len; i++) {\n                lead = '0' + lead;\n            }\n            temp[0] = lead;\n        }\n        return temp.join('.');\n    };\n    return NumberFormat;\n}());\nexport { NumberFormat };\n","import { IntlBase as base } from './intl-base';\nimport { ParserBase as parser } from './parser-base';\nimport { isUndefined, throwError, getValue, isNullOrUndefined, isBlazor } from '../util';\nimport { datePartMatcher } from './date-formatter';\nimport { HijriParser } from '../hijri-parser';\nvar standalone = 'stand-alone';\nvar latnRegex = /^[0-9]*$/;\nvar timeSetter = {\n    minute: 'setMinutes',\n    hour: 'setHours',\n    second: 'setSeconds',\n    day: 'setDate',\n    month: 'setMonth',\n    milliseconds: 'setMilliseconds'\n};\nvar month = 'months';\n/* tslint:disable no-any */\n/**\n * Date Parser.\n *\n * @private\n */\nvar DateParser = /** @class */ (function () {\n    function DateParser() {\n    }\n    /**\n     * Returns the parser function for given skeleton.\n     *\n     * @param {string} culture -  Specifies the culture name to be which formatting.\n     * @param {DateFormatOptions} option - Specific the format in which string date  will be parsed.\n     * @param {Object} cldr - Specifies the global cldr data collection.\n     * @returns {Function} ?\n     */\n    DateParser.dateParser = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture, option.calendar);\n        var numOptions = parser.getCurrentNumericOptions(dependable.parserObject, parser.getNumberingSystem(cldr), false, isBlazor());\n        var parseOptions = {};\n        if (isBlazor() && option.isServerRendered) {\n            option = base.compareBlazorDateFormats(option, culture);\n        }\n        var resPattern = option.format ||\n            base.getResultantPattern(option.skeleton, dependable.dateObject, option.type, false, isBlazor() ? culture : '');\n        var regexString = '';\n        var hourOnly;\n        if (isUndefined(resPattern)) {\n            throwError('Format options or type given must be invalid');\n        }\n        else {\n            resPattern = base.ConvertDateToWeekFormat(resPattern);\n            parseOptions = { isIslamic: base.islamicRegex.test(option.calendar), pattern: resPattern, evalposition: {}, culture: culture };\n            var patternMatch = resPattern.match(base.dateParseRegex) || [];\n            var length_1 = patternMatch.length;\n            var gmtCorrection = 0;\n            var zCorrectTemp = 0;\n            var isgmtTraversed = false;\n            var nRegx = numOptions.numericRegex;\n            // eslint-disable-next-line\n            var numMapper = isBlazor() ? dependable.parserObject.numbers :\n                parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr));\n            for (var i = 0; i < length_1; i++) {\n                var str = patternMatch[i];\n                var len = str.length;\n                var char = (str[0] === 'K') ? 'h' : str[0];\n                var isNumber = void 0;\n                var canUpdate = void 0;\n                // eslint-disable-next-line\n                var charKey = datePartMatcher[char];\n                var optional = (len === 2) ? '' : '?';\n                if (isgmtTraversed) {\n                    gmtCorrection = zCorrectTemp;\n                    isgmtTraversed = false;\n                }\n                switch (char) {\n                    case 'E':\n                    case 'c':\n                        // eslint-disable-next-line\n                        var weekData = void 0;\n                        if (isBlazor()) {\n                            // eslint-disable-next-line\n                            weekData = getValue('days.' + base.monthIndex[len], dependable.dateObject);\n                        }\n                        else {\n                            // eslint-disable-next-line\n                            weekData = dependable.dateObject[base.days][standalone][base.monthIndex[len]];\n                        }\n                        // eslint-disable-next-line\n                        var weekObject = parser.reverseObject(weekData);\n                        // tslint:enable\n                        regexString += '(' + Object.keys(weekObject).join('|') + ')';\n                        break;\n                    case 'M':\n                    case 'L':\n                    case 'd':\n                    case 'm':\n                    case 's':\n                    case 'h':\n                    case 'H':\n                    case 'f':\n                        canUpdate = true;\n                        if ((char === 'M' || char === 'L') && len > 2) {\n                            var monthData = void 0;\n                            if (isBlazor()) {\n                                // eslint-disable-next-line\n                                monthData = getValue('months.' + base.monthIndex[len], dependable.dateObject);\n                            }\n                            else {\n                                // eslint-disable-next-line\n                                monthData = dependable.dateObject[month][standalone][base.monthIndex[len]];\n                            }\n                            // eslint-disable-next-line\n                            parseOptions[charKey] = parser.reverseObject(monthData);\n                            // eslint-disable-next-line\n                            regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + ')';\n                        }\n                        else if (char === 'f') {\n                            if (len > 3) {\n                                continue;\n                            }\n                            isNumber = true;\n                            regexString += '(' + nRegx + nRegx + '?' + nRegx + '?' + ')';\n                        }\n                        else {\n                            isNumber = true;\n                            regexString += '(' + nRegx + nRegx + optional + ')';\n                        }\n                        if (char === 'h') {\n                            parseOptions.hour12 = true;\n                        }\n                        break;\n                    case 'W':\n                        // eslint-disable-next-line\n                        var opt = len === 1 ? '?' : '';\n                        regexString += '(' + nRegx + opt + nRegx + ')';\n                        break;\n                    case 'y':\n                        canUpdate = isNumber = true;\n                        if (len === 2) {\n                            regexString += '(' + nRegx + nRegx + ')';\n                        }\n                        else {\n                            regexString += '(' + nRegx + '{' + len + ',})';\n                        }\n                        break;\n                    case 'a':\n                        canUpdate = true;\n                        // eslint-disable-next-line\n                        var periodValur = isBlazor() ?\n                            getValue('dayPeriods', dependable.dateObject) :\n                            getValue('dayPeriods.format.wide', dependable.dateObject);\n                        // eslint-disable-next-line\n                        parseOptions[charKey] = parser.reverseObject(periodValur);\n                        // eslint-disable-next-line\n                        regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + ')';\n                        break;\n                    case 'G':\n                        canUpdate = true;\n                        // eslint-disable-next-line\n                        var eText = (len <= 3) ? 'eraAbbr' : (len === 4) ? 'eraNames' : 'eraNarrow';\n                        // eslint-disable-next-line\n                        parseOptions[charKey] = parser.reverseObject(isBlazor() ?\n                            getValue('eras', dependable.dateObject) : getValue('eras.' + eText, dependable.dateObject));\n                        // eslint-disable-next-line\n                        regexString += '(' + Object.keys(parseOptions[charKey]).join('|') + '?)';\n                        break;\n                    case 'z':\n                        // eslint-disable-next-line\n                        var tval = new Date().getTimezoneOffset();\n                        canUpdate = (tval !== 0);\n                        // eslint-disable-next-line\n                        parseOptions[charKey] = getValue('dates.timeZoneNames', dependable.parserObject);\n                        // eslint-disable-next-line\n                        var tzone = parseOptions[charKey];\n                        hourOnly = (len < 4);\n                        // eslint-disable-next-line\n                        var hpattern = hourOnly ? '+H;-H' : tzone.hourFormat;\n                        hpattern = hpattern.replace(/:/g, numMapper.timeSeparator);\n                        regexString += '(' + this.parseTimeZoneRegx(hpattern, tzone, nRegx) + ')?';\n                        isgmtTraversed = true;\n                        zCorrectTemp = hourOnly ? 6 : 12;\n                        break;\n                    case '\\'':\n                        // eslint-disable-next-line\n                        var iString = str.replace(/'/g, '');\n                        regexString += '(' + iString + ')?';\n                        break;\n                    default:\n                        regexString += '([\\\\D])';\n                        break;\n                }\n                if (canUpdate) {\n                    parseOptions.evalposition[charKey] = { isNumber: isNumber, pos: i + 1 + gmtCorrection, hourOnly: hourOnly };\n                }\n                if (i === length_1 - 1 && !isNullOrUndefined(regexString)) {\n                    parseOptions.parserRegex = new RegExp('^' + regexString + '$', 'i');\n                }\n            }\n        }\n        return function (value) {\n            var parsedDateParts = _this.internalDateParse(value, parseOptions, numOptions);\n            if (isNullOrUndefined(parsedDateParts) || !Object.keys(parsedDateParts).length) {\n                return null;\n            }\n            if (parseOptions.isIslamic) {\n                var dobj = {};\n                var tYear = parsedDateParts.year;\n                var tDate = parsedDateParts.day;\n                var tMonth = parsedDateParts.month;\n                var ystrig = tYear ? (tYear + '') : '';\n                var is2DigitYear = (ystrig.length === 2);\n                if (!tYear || !tMonth || !tDate || is2DigitYear) {\n                    dobj = HijriParser.getHijriDate(new Date());\n                }\n                if (is2DigitYear) {\n                    tYear = parseInt((dobj.year + '').slice(0, 2) + ystrig, 10);\n                }\n                // tslint:disable-next-line\n                var dateObject = HijriParser.toGregorian(tYear || dobj.year, tMonth || dobj.month, tDate || dobj.date);\n                parsedDateParts.year = dateObject.getFullYear();\n                parsedDateParts.month = dateObject.getMonth() + 1;\n                parsedDateParts.day = dateObject.getDate();\n            }\n            return _this.getDateObject(parsedDateParts);\n        };\n    };\n    /* tslint:disable */\n    /**\n     * Returns date object for provided date options\n     *\n     * @param {DateParts} options ?\n     * @param {Date} value ?\n     * @returns {Date} ?\n     */\n    DateParser.getDateObject = function (options, value) {\n        var res = value || new Date();\n        res.setMilliseconds(0);\n        var tKeys = ['hour', 'minute', 'second', 'milliseconds', 'month', 'day'];\n        var y = options.year;\n        var desig = options.designator;\n        var tzone = options.timeZone;\n        if (!isUndefined(y)) {\n            var len = (y + '').length;\n            if (len <= 2) {\n                var century = Math.floor(res.getFullYear() / 100) * 100;\n                y += century;\n            }\n            res.setFullYear(y);\n        }\n        for (var _i = 0, tKeys_1 = tKeys; _i < tKeys_1.length; _i++) {\n            var key = tKeys_1[_i];\n            // eslint-disable-next-line\n            var tValue = options[key];\n            if (isUndefined(tValue) && key === 'day') {\n                res.setDate(1);\n            }\n            if (!isUndefined(tValue)) {\n                if (key === 'month') {\n                    tValue -= 1;\n                    if (tValue < 0 || tValue > 11) {\n                        return new Date('invalid');\n                    }\n                    var pDate = res.getDate();\n                    res.setDate(1);\n                    // eslint-disable-next-line\n                    res[timeSetter[key]](tValue);\n                    var lDate = new Date(res.getFullYear(), tValue + 1, 0).getDate();\n                    res.setDate(pDate < lDate ? pDate : lDate);\n                }\n                else {\n                    if (key === 'day') {\n                        var lastDay = new Date(res.getFullYear(), res.getMonth() + 1, 0).getDate();\n                        if ((tValue < 1 || tValue > lastDay)) {\n                            return null;\n                        }\n                    }\n                    // eslint-disable-next-line\n                    res[timeSetter[key]](tValue);\n                }\n            }\n        }\n        if (!isUndefined(desig)) {\n            var hour = res.getHours();\n            if (desig === 'pm') {\n                res.setHours(hour + (hour === 12 ? 0 : 12));\n            }\n            else if (hour === 12) {\n                res.setHours(0);\n            }\n        }\n        if (!isUndefined(tzone)) {\n            var tzValue = tzone - res.getTimezoneOffset();\n            if (tzValue !== 0) {\n                res.setMinutes(res.getMinutes() + tzValue);\n            }\n        }\n        return res;\n    };\n    /**\n     * Returns date parsing options for provided value along with parse and numeric options\n     *\n     * @param {string} value ?\n     * @param {ParseOptions} parseOptions ?\n     * @param {NumericOptions} num ?\n     * @returns {DateParts} ?\n     */\n    DateParser.internalDateParse = function (value, parseOptions, num) {\n        var matches = value.match(parseOptions.parserRegex);\n        var retOptions = { 'hour': 0, 'minute': 0, 'second': 0 };\n        if (isNullOrUndefined(matches)) {\n            return null;\n        }\n        else {\n            var props = Object.keys(parseOptions.evalposition);\n            for (var _i = 0, props_1 = props; _i < props_1.length; _i++) {\n                var prop = props_1[_i];\n                var curObject = parseOptions.evalposition[prop];\n                var matchString = matches[curObject.pos];\n                if (curObject.isNumber) {\n                    // eslint-disable-next-line\n                    retOptions[prop] = this.internalNumberParser(matchString, num);\n                }\n                else {\n                    if (prop === 'timeZone' && !isUndefined(matchString)) {\n                        var pos = curObject.pos;\n                        var val = void 0;\n                        var tmatch = matches[pos + 1];\n                        var flag = !isUndefined(tmatch);\n                        if (curObject.hourOnly) {\n                            val = this.getZoneValue(flag, tmatch, matches[pos + 4], num) * 60;\n                        }\n                        else {\n                            val = this.getZoneValue(flag, tmatch, matches[pos + 7], num) * 60;\n                            val += this.getZoneValue(flag, matches[pos + 4], matches[pos + 10], num);\n                        }\n                        if (!isNullOrUndefined(val)) {\n                            retOptions[prop] = val;\n                        }\n                    }\n                    else {\n                        // eslint-disable-next-line\n                        matchString = ((prop === 'month') && (!parseOptions.isIslamic) && (parseOptions.culture === 'en' || parseOptions.culture === 'en-GB' || parseOptions.culture === 'en-US'))\n                            ? matchString[0].toUpperCase() + matchString.substring(1).toLowerCase() : matchString;\n                        // eslint-disable-next-line\n                        retOptions[prop] = parseOptions[prop][matchString];\n                    }\n                }\n            }\n            if (parseOptions.hour12) {\n                retOptions.hour12 = true;\n            }\n        }\n        return retOptions;\n    };\n    /**\n     * Returns parsed number for provided Numeric string and Numeric Options\n     *\n     * @param {string} value ?\n     * @param {NumericOptions} option ?\n     * @returns {number} ?\n     */\n    DateParser.internalNumberParser = function (value, option) {\n        value = parser.convertValueParts(value, option.numberParseRegex, option.numericPair);\n        if (latnRegex.test(value)) {\n            return +value;\n        }\n        return null;\n    };\n    /**\n     * Returns parsed time zone RegExp for provided hour format and time zone\n     *\n     * @param {string} hourFormat ?\n     * @param {base.TimeZoneOptions} tZone ?\n     * @param {string} nRegex ?\n     * @returns {string} ?\n     */\n    DateParser.parseTimeZoneRegx = function (hourFormat, tZone, nRegex) {\n        var pattern = tZone.gmtFormat;\n        var ret;\n        var cRegex = '(' + nRegex + ')' + '(' + nRegex + ')';\n        var splitStr;\n        ret = hourFormat.replace('+', '\\\\+');\n        if (hourFormat.indexOf('HH') !== -1) {\n            ret = ret.replace(/HH|mm/g, '(' + cRegex + ')');\n        }\n        else {\n            ret = ret.replace(/H|m/g, '(' + cRegex + '?)');\n        }\n        // eslint-disable-next-line\n        splitStr = (ret.split(';').map(function (str) {\n            return pattern.replace('{0}', str);\n        }));\n        ret = splitStr.join('|') + '|' + tZone.gmtZeroFormat;\n        return ret;\n    };\n    /**\n     * Returns zone based value.\n     *\n     * @param {boolean} flag ?\n     * @param {string} val1 ?\n     * @param {string} val2 ?\n     * @param {NumericOptions} num ?\n     * @returns {number} ?\n     */\n    DateParser.getZoneValue = function (flag, val1, val2, num) {\n        var ival = flag ? val1 : val2;\n        if (!ival) {\n            return 0;\n        }\n        var value = this.internalNumberParser(ival, num);\n        if (flag) {\n            return -value;\n        }\n        return value;\n    };\n    return DateParser;\n}());\nexport { DateParser };\n","import { extend, isNullOrUndefined, isBlazor, getValue } from '../util';\nimport { ParserBase as parser } from './parser-base';\nimport { IntlBase as base } from './intl-base';\nvar parseRegex = /^([^0-9]*)(([0-9,]*[0-9]+)(\\.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$/;\nvar groupRegex = /,/g;\nvar keys = ['minusSign', 'infinity'];\n/**\n * Module for Number Parser.\n *\n * @private\n */\nvar NumberParser = /** @class */ (function () {\n    function NumberParser() {\n    }\n    /**\n     * Returns the parser function for given skeleton.\n     *\n     * @param {string} culture -  Specifies the culture name to be which formatting.\n     * @param {NumberFormatOptions} option - Specific the format in which number  will parsed.\n     * @param {Object} cldr - Specifies the global cldr data collection.\n     * @returns {Function} ?\n     */\n    NumberParser.numberParser = function (culture, option, cldr) {\n        var _this = this;\n        var dependable = base.getDependables(cldr, culture, '', true);\n        var parseOptions = { custom: true };\n        var numOptions;\n        if ((base.formatRegex.test(option.format)) || !(option.format)) {\n            extend(parseOptions, base.getProperNumericSkeleton(option.format || 'N'));\n            parseOptions.custom = false;\n            if (!parseOptions.fractionDigits) {\n                if (option.maximumFractionDigits) {\n                    parseOptions.maximumFractionDigits = option.maximumFractionDigits;\n                }\n            }\n        }\n        else {\n            extend(parseOptions, base.customFormat(option.format, null, null));\n        }\n        var numbers = getValue('numbers', dependable.parserObject);\n        // eslint-disable-next-line\n        numOptions = parser.getCurrentNumericOptions(dependable.parserObject, parser.getNumberingSystem(cldr), true, isBlazor());\n        parseOptions.symbolRegex = parser.getSymbolRegex(Object.keys(numOptions.symbolMatch));\n        // eslint-disable-next-line\n        parseOptions.infinity = numOptions.symbolNumberSystem[keys[1]];\n        var symbolpattern;\n        if (!isBlazor()) {\n            symbolpattern = base.getSymbolPattern(parseOptions.type, numOptions.numberSystem, dependable.numericObject, parseOptions.isAccount);\n            if (symbolpattern) {\n                symbolpattern = symbolpattern.replace(/\\u00A4/g, base.defaultCurrency);\n                var split = symbolpattern.split(';');\n                parseOptions.nData = base.getFormatData(split[1] || '-' + split[0], true, '');\n                parseOptions.pData = base.getFormatData(split[0], true, '');\n            }\n        }\n        else {\n            parseOptions.nData = extend({}, {}, getValue(parseOptions.type + 'nData', numbers));\n            parseOptions.pData = extend({}, {}, getValue(parseOptions.type + 'pData', numbers));\n            if (parseOptions.type === 'currency' && option.currency) {\n                base.replaceBlazorCurrency([parseOptions.pData, parseOptions.nData], getValue('currencySymbol', numbers), option.currency);\n            }\n        }\n        return function (value) {\n            return _this.getParsedNumber(value, parseOptions, numOptions);\n        };\n    };\n    /**\n     * Returns parsed number for the provided formatting options\n     *\n     * @param {string} value ?\n     * @param {NumericParts} options ?\n     * @param {NumericOptions} numOptions ?\n     * @returns {number} ?\n     */\n    NumberParser.getParsedNumber = function (value, options, numOptions) {\n        var isNegative;\n        var isPercent;\n        var tempValue;\n        var lead;\n        var end;\n        var ret;\n        if (value.indexOf(options.infinity) !== -1) {\n            return Infinity;\n        }\n        else {\n            value = parser.convertValueParts(value, options.symbolRegex, numOptions.symbolMatch);\n            value = parser.convertValueParts(value, numOptions.numberParseRegex, numOptions.numericPair);\n            value = value.indexOf('-') !== -1 ? value.replace('-.', '-0.') : value;\n            if (value.indexOf('.') === 0) {\n                value = '0' + value;\n            }\n            var matches = value.match(parseRegex);\n            if (isNullOrUndefined(matches)) {\n                return NaN;\n            }\n            lead = matches[1];\n            tempValue = matches[2];\n            var exponent = matches[5];\n            end = matches[6];\n            isNegative = options.custom ? ((lead === options.nData.nlead) && (end === options.nData.nend)) :\n                ((lead.indexOf(options.nData.nlead) !== -1) && (end.indexOf(options.nData.nend) !== -1));\n            isPercent = isNegative ?\n                options.nData.isPercent :\n                options.pData.isPercent;\n            tempValue = tempValue.replace(groupRegex, '');\n            if (exponent) {\n                tempValue += exponent;\n            }\n            ret = +tempValue;\n            if (options.type === 'percent' || isPercent) {\n                ret = ret / 100;\n            }\n            if (options.custom || options.fractionDigits) {\n                ret = parseFloat(ret.toFixed(options.custom ?\n                    (isNegative ? options.nData.maximumFractionDigits : options.pData.maximumFractionDigits) : options.fractionDigits));\n            }\n            if (options.maximumFractionDigits) {\n                ret = this.convertMaxFracDigits(tempValue, options, ret, isNegative);\n            }\n            if (isNegative) {\n                ret *= -1;\n            }\n            return ret;\n        }\n    };\n    NumberParser.convertMaxFracDigits = function (value, options, ret, isNegative) {\n        var decimalSplitValue = value.split('.');\n        if (decimalSplitValue[1] && decimalSplitValue[1].length > options.maximumFractionDigits) {\n            ret = +(ret.toFixed(options.custom ?\n                (isNegative ? options.nData.maximumFractionDigits : options.pData.maximumFractionDigits) : options.maximumFractionDigits));\n        }\n        return ret;\n    };\n    return NumberParser;\n}());\nexport { NumberParser };\n","import { isNullOrUndefined, getValue, extend, isBlazor } from './util';\nvar Observer = /** @class */ (function () {\n    function Observer(context) {\n        this.ranArray = [];\n        this.boundedEvents = {};\n        if (isNullOrUndefined(context)) {\n            return;\n        }\n        this.context = context;\n    }\n    /**\n     * To attach handler for given property in current context.\n     *\n     * @param {string} property - specifies the name of the event.\n     * @param {Function} handler - Specifies the handler function to be called while event notified.\n     * @param {Object} context - Specifies the context binded to the handler.\n     * @param {string} id - specifies the random generated id.\n     * @returns {void}\n     */\n    Observer.prototype.on = function (property, handler, context, id) {\n        if (isNullOrUndefined(handler)) {\n            return;\n        }\n        var cntxt = context || this.context;\n        if (this.notExist(property)) {\n            this.boundedEvents[property] = [{ handler: handler, context: cntxt }];\n            return;\n        }\n        if (!isNullOrUndefined(id)) {\n            if (this.ranArray.indexOf(id) === -1) {\n                this.ranArray.push(id);\n                this.boundedEvents[property].push({ handler: handler, context: cntxt, id: id });\n            }\n        }\n        else if (!this.isHandlerPresent(this.boundedEvents[property], handler)) {\n            this.boundedEvents[property].push({ handler: handler, context: cntxt });\n        }\n    };\n    /**\n     * To remove handlers from a event attached using on() function.\n     *\n     * @param {string} property - specifies the name of the event.\n     * @param {Function} handler - Optional argument specifies the handler function to be called while event notified.\n     * @param {string} id - specifies the random generated id.\n     * @returns {void} ?\n     */\n    Observer.prototype.off = function (property, handler, id) {\n        if (this.notExist(property)) {\n            return;\n        }\n        var curObject = getValue(property, this.boundedEvents);\n        if (handler) {\n            for (var i = 0; i < curObject.length; i++) {\n                if (id) {\n                    if (curObject[i].id === id) {\n                        curObject.splice(i, 1);\n                        var indexLocation = this.ranArray.indexOf(id);\n                        if (indexLocation !== -1) {\n                            this.ranArray.splice(indexLocation, 1);\n                        }\n                        break;\n                    }\n                }\n                else if (handler === curObject[i].handler) {\n                    curObject.splice(i, 1);\n                    break;\n                }\n            }\n        }\n        else {\n            delete this.boundedEvents[property];\n        }\n    };\n    /**\n     * To notify the handlers in the specified event.\n     *\n     * @param {string} property - Specifies the event to be notify.\n     * @param {Object} argument - Additional parameters to pass while calling the handler.\n     * @param {Function} successHandler - this function will invoke after event successfully triggered\n     * @param {Function} errorHandler - this function will invoke after event if it was failure to call.\n     * @returns {void} ?\n     */\n    Observer.prototype.notify = function (property, argument, successHandler, errorHandler) {\n        if (this.notExist(property)) {\n            if (successHandler) {\n                successHandler.call(this, argument);\n            }\n            return;\n        }\n        if (argument) {\n            argument.name = property;\n        }\n        var blazor = 'Blazor';\n        var curObject = getValue(property, this.boundedEvents).slice(0);\n        if (window[blazor]) {\n            return this.blazorCallback(curObject, argument, successHandler, errorHandler, 0);\n        }\n        else {\n            for (var _i = 0, curObject_1 = curObject; _i < curObject_1.length; _i++) {\n                var cur = curObject_1[_i];\n                cur.handler.call(cur.context, argument);\n            }\n            if (successHandler) {\n                successHandler.call(this, argument);\n            }\n        }\n    };\n    Observer.prototype.blazorCallback = function (objs, argument, successHandler, errorHandler, index) {\n        var _this = this;\n        var isTrigger = index === objs.length - 1;\n        if (index < objs.length) {\n            var obj_1 = objs[index];\n            var promise = obj_1.handler.call(obj_1.context, argument);\n            if (promise && typeof promise.then === 'function') {\n                if (!successHandler) {\n                    return promise;\n                }\n                promise.then(function (data) {\n                    data = typeof data === 'string' && _this.isJson(data) ? JSON.parse(data, _this.dateReviver) : data;\n                    extend(argument, argument, data, true);\n                    if (successHandler && isTrigger) {\n                        successHandler.call(obj_1.context, argument);\n                    }\n                    else {\n                        return _this.blazorCallback(objs, argument, successHandler, errorHandler, index + 1);\n                    }\n                }).catch(function (data) {\n                    if (errorHandler) {\n                        errorHandler.call(obj_1.context, typeof data === 'string' &&\n                            _this.isJson(data) ? JSON.parse(data, _this.dateReviver) : data);\n                    }\n                });\n            }\n            else if (successHandler && isTrigger) {\n                successHandler.call(obj_1.context, argument);\n            }\n            else {\n                return this.blazorCallback(objs, argument, successHandler, errorHandler, index + 1);\n            }\n        }\n    };\n    // eslint-disable-next-line\n    Observer.prototype.dateReviver = function (key, value) {\n        var dPattern = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}/;\n        if (isBlazor && typeof value === 'string' && value.match(dPattern) !== null) {\n            return (new Date(value));\n        }\n        return (value);\n    };\n    Observer.prototype.isJson = function (value) {\n        try {\n            JSON.parse(value);\n        }\n        catch (e) {\n            return false;\n        }\n        return true;\n    };\n    /**\n     * To destroy handlers in the event\n     *\n     * @returns {void} ?\n     */\n    Observer.prototype.destroy = function () {\n        this.boundedEvents = this.context = undefined;\n    };\n    /**\n     * Returns if the property exists.\n     *\n     * @param {string} prop ?\n     * @returns {boolean} ?\n     */\n    Observer.prototype.notExist = function (prop) {\n        // eslint-disable-next-line\n        return this.boundedEvents.hasOwnProperty(prop) === false || this.boundedEvents[prop].length <= 0;\n    };\n    /**\n     * Returns if the handler is present.\n     *\n     * @param {BoundOptions[]} boundedEvents ?\n     * @param {Function} handler ?\n     * @returns {boolean} ?\n     */\n    Observer.prototype.isHandlerPresent = function (boundedEvents, handler) {\n        for (var _i = 0, boundedEvents_1 = boundedEvents; _i < boundedEvents_1.length; _i++) {\n            var cur = boundedEvents_1[_i];\n            if (cur.handler === handler) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return Observer;\n}());\nexport { Observer };\n","import { DateFormat } from './intl/date-formatter';\nimport { NumberFormat } from './intl/number-formatter';\nimport { DateParser } from './intl/date-parser';\nimport { NumberParser } from './intl/number-parser';\nimport { IntlBase } from './intl/intl-base';\nimport { extend, getValue, isBlazor } from './util';\nimport { Observer } from './observer';\n/**\n * Specifies the observer used for external change detection.\n */\nexport var onIntlChange = new Observer();\n/**\n * Specifies the default rtl status for EJ2 components.\n */\nexport var rightToLeft = false;\n/**\n * Specifies the CLDR data loaded for internationalization functionalities.\n *\n * @private\n */\nexport var cldrData = {};\n/**\n * Specifies the default culture value to be considered.\n *\n * @private\n */\nexport var defaultCulture = 'en-US';\n/**\n * Specifies default currency code to be considered\n *\n * @private\n */\nexport var defaultCurrencyCode = 'USD';\nvar mapper = ['numericObject', 'dateObject'];\n/**\n * Internationalization class provides support to parse and format the number and date object to the desired format.\n * ```typescript\n * // To set the culture globally\n * setCulture('en-GB');\n *\n * // To set currency code globally\n * setCurrencyCode('EUR');\n *\n * //Load cldr data\n * loadCldr(gregorainData);\n * loadCldr(timeZoneData);\n * loadCldr(numbersData);\n * loadCldr(numberSystemData);\n *\n * // To use formatter in component side\n * let Intl:Internationalization = new Internationalization();\n *\n * // Date formatting\n * let dateFormatter: Function = Intl.getDateFormat({skeleton:'long',type:'dateTime'});\n * dateFormatter(new Date('11/2/2016'));\n * dateFormatter(new Date('25/2/2030'));\n * Intl.formatDate(new Date(),{skeleton:'E'});\n *\n * //Number formatting\n * let numberFormatter: Function = Intl.getNumberFormat({skeleton:'C5'})\n * numberFormatter(24563334);\n * Intl.formatNumber(123123,{skeleton:'p2'});\n *\n * // Date parser\n * let dateParser: Function = Intl.getDateParser({skeleton:'short',type:'time'});\n * dateParser('10:30 PM');\n * Intl.parseDate('10',{skeleton:'H'});\n * ```\n */\nvar Internationalization = /** @class */ (function () {\n    function Internationalization(cultureName) {\n        if (cultureName) {\n            this.culture = cultureName;\n        }\n    }\n    /**\n     * Returns the format function for given options.\n     *\n     * @param {DateFormatOptions} options - Specifies the format options in which the format function will return.\n     * @returns {Function} ?\n     */\n    Internationalization.prototype.getDateFormat = function (options) {\n        return DateFormat.dateFormat(this.getCulture(), options || { type: 'date', skeleton: 'short' }, cldrData);\n    };\n    /**\n     * Returns the format function for given options.\n     *\n     * @param {NumberFormatOptions} options - Specifies the format options in which the format function will return.\n     * @returns {Function} ?\n     */\n    Internationalization.prototype.getNumberFormat = function (options) {\n        if (options && !options.currency) {\n            options.currency = defaultCurrencyCode;\n        }\n        if (isBlazor() && options && !options.format) {\n            options.minimumFractionDigits = 0;\n        }\n        return NumberFormat.numberFormatter(this.getCulture(), options || {}, cldrData);\n    };\n    /**\n     * Returns the parser function for given options.\n     *\n     * @param {DateFormatOptions} options - Specifies the format options in which the parser function will return.\n     * @returns {Function} ?\n     */\n    Internationalization.prototype.getDateParser = function (options) {\n        return DateParser.dateParser(this.getCulture(), options || { skeleton: 'short', type: 'date' }, cldrData);\n    };\n    /**\n     * Returns the parser function for given options.\n     *\n     * @param {NumberFormatOptions} options - Specifies the format options in which the parser function will return.\n     * @returns {Function} ?\n     */\n    Internationalization.prototype.getNumberParser = function (options) {\n        if (isBlazor() && options && !options.format) {\n            options.minimumFractionDigits = 0;\n        }\n        return NumberParser.numberParser(this.getCulture(), options || { format: 'N' }, cldrData);\n    };\n    /**\n     * Returns the formatted string based on format options.\n     *\n     * @param {number} value - Specifies the number to format.\n     * @param {NumberFormatOptions} option - Specifies the format options in which the number will be formatted.\n     * @returns {string} ?\n     */\n    Internationalization.prototype.formatNumber = function (value, option) {\n        return this.getNumberFormat(option)(value);\n    };\n    /**\n     * Returns the formatted date string based on format options.\n     *\n     * @param {Date} value - Specifies the number to format.\n     * @param {DateFormatOptions} option - Specifies the format options in which the number will be formatted.\n     * @returns {string} ?\n     */\n    Internationalization.prototype.formatDate = function (value, option) {\n        return this.getDateFormat(option)(value);\n    };\n    /**\n     * Returns the date object for given date string and options.\n     *\n     * @param {string} value - Specifies the string to parse.\n     * @param {DateFormatOptions} option - Specifies the parse options in which the date string will be parsed.\n     * @returns {Date} ?\n     */\n    Internationalization.prototype.parseDate = function (value, option) {\n        return this.getDateParser(option)(value);\n    };\n    /**\n     * Returns the number object from the given string value and options.\n     *\n     * @param {string} value - Specifies the string to parse.\n     * @param {NumberFormatOptions} option - Specifies the parse options in which the  string number  will be parsed.\n     * @returns {number} ?\n     */\n    Internationalization.prototype.parseNumber = function (value, option) {\n        return this.getNumberParser(option)(value);\n    };\n    /**\n     * Returns Native Date Time Pattern\n     *\n     * @param {DateFormatOptions} option - Specifies the parse options for resultant date time pattern.\n     * @param {boolean} isExcelFormat - Specifies format value to be converted to excel pattern.\n     * @returns {string} ?\n     * @private\n     */\n    Internationalization.prototype.getDatePattern = function (option, isExcelFormat) {\n        return IntlBase.getActualDateTimeFormat(this.getCulture(), option, cldrData, isExcelFormat);\n    };\n    /**\n     * Returns Native Number Pattern\n     *\n     * @param {NumberFormatOptions} option - Specifies the parse options for resultant number pattern.\n     * @param {boolean} isExcel ?\n     * @returns {string} ?\n     * @private\n     */\n    Internationalization.prototype.getNumberPattern = function (option, isExcel) {\n        return IntlBase.getActualNumberFormat(this.getCulture(), option, cldrData, isExcel);\n    };\n    /**\n     * Returns the First Day of the Week\n     *\n     * @returns {number} ?\n     */\n    Internationalization.prototype.getFirstDayOfWeek = function () {\n        return IntlBase.getWeekData(this.getCulture(), cldrData);\n    };\n    /**\n     * Returns the culture\n     *\n     * @returns {string} ?\n     */\n    Internationalization.prototype.getCulture = function () {\n        return this.culture || defaultCulture;\n    };\n    return Internationalization;\n}());\nexport { Internationalization };\n/**\n * Set the default culture to all EJ2 components\n *\n * @param {string} cultureName - Specifies the culture name to be set as default culture.\n * @returns {void} ?\n */\nexport function setCulture(cultureName) {\n    defaultCulture = cultureName;\n    onIntlChange.notify('notifyExternalChange', { 'locale': defaultCulture });\n}\n/**\n * Set the default currency code to all EJ2 components\n *\n * @param {string} currencyCode Specifies the culture name to be set as default culture.\n * @returns {void} ?\n */\nexport function setCurrencyCode(currencyCode) {\n    defaultCurrencyCode = currencyCode;\n    onIntlChange.notify('notifyExternalChange', { 'currencyCode': defaultCurrencyCode });\n}\n/**\n * Load the CLDR data into context\n *\n * @param {Object[]} data Specifies the CLDR data's to be used for formatting and parser.\n * @returns {void} ?\n */\nexport function loadCldr() {\n    var data = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        data[_i] = arguments[_i];\n    }\n    for (var _a = 0, data_1 = data; _a < data_1.length; _a++) {\n        var obj = data_1[_a];\n        extend(cldrData, obj, {}, true);\n    }\n}\n/**\n * To enable or disable RTL functionality for all components globally.\n *\n * @param {boolean} status - Optional argument Specifies the status value to enable or disable rtl option.\n * @returns {void} ?\n */\nexport function enableRtl(status) {\n    if (status === void 0) { status = true; }\n    rightToLeft = status;\n    onIntlChange.notify('notifyExternalChange', { enableRtl: rightToLeft });\n}\n/**\n * To get the numeric CLDR object for given culture\n *\n * @param {string} locale - Specifies the locale for which numericObject to be returned.\n * @param {string} type ?\n * @returns {Object} ?\n * @ignore\n * @private\n */\nexport function getNumericObject(locale, type) {\n    // eslint-disable-next-line\n    var numObject = IntlBase.getDependables(cldrData, locale, '', true)[mapper[0]];\n    // eslint-disable-next-line\n    var dateObject = IntlBase.getDependables(cldrData, locale, '')[mapper[1]];\n    var numSystem = getValue('defaultNumberingSystem', numObject);\n    var symbPattern = isBlazor() ? getValue('numberSymbols', numObject) : getValue('symbols-numberSystem-' + numSystem, numObject);\n    var pattern = IntlBase.getSymbolPattern(type || 'decimal', numSystem, numObject, false);\n    return extend(symbPattern, IntlBase.getFormatData(pattern, true, '', true), { 'dateSeparator': IntlBase.getDateSeparator(dateObject) });\n}\n/**\n * To get the numeric CLDR  number base object for given culture\n *\n * @param {string} locale - Specifies the locale for which numericObject to be returned.\n * @param {string} currency - Specifies the currency for which numericObject to be returned.\n * @returns {string} ?\n * @ignore\n * @private\n */\nexport function getNumberDependable(locale, currency) {\n    // eslint-disable-next-line\n    var numObject = IntlBase.getDependables(cldrData, locale, '', true);\n    // eslint-disable-next-line\n    return IntlBase.getCurrencySymbol(numObject.numericObject, currency);\n}\n/**\n * To get the default date CLDR object.\n *\n * @param {string} mode ?\n * @returns {Object} ?\n * @ignore\n * @private\n */\nexport function getDefaultDateObject(mode) {\n    // eslint-disable-next-line\n    return IntlBase.getDependables(cldrData, '', mode, false)[mapper[1]];\n}\n","import { defaultCurrencyCode } from '../internationalization';\nimport { getValue, isNullOrUndefined, extend, isBlazor } from '../util';\nimport { ParserBase as parser, getBlazorCurrencySymbol } from './parser-base';\nimport { DateFormat } from './date-formatter';\nimport { NumberFormat } from './number-formatter';\nimport { isUndefined } from '../util';\nexport var blazorCultureFormats = {\n    'en-US': {\n        'd': 'M/d/y',\n        'D': 'EEEE, MMMM d, y',\n        'f': 'EEEE, MMMM d, y h:mm a',\n        'F': 'EEEE, MMMM d, y h:mm:s a',\n        'g': 'M/d/y h:mm a',\n        'G': 'M/d/yyyy h:mm:ss tt',\n        'm': 'MMMM d',\n        'M': 'MMMM d',\n        'r': 'ddd, dd MMM yyyy HH\\':\\'mm\\':\\'ss \\'GMT\\'',\n        'R': 'ddd, dd MMM yyyy HH\\':\\'mm\\':\\'ss \\'GMT\\'',\n        's': 'yyyy\\'-\\'MM\\'-\\'dd\\'T\\'HH\\':\\'mm\\':\\'ss',\n        't': 'h:mm tt',\n        'T': 'h:m:s tt',\n        'u': 'yyyy\\'-\\'MM\\'-\\'dd HH\\':\\'mm\\':\\'ss\\'Z\\'',\n        'U': 'dddd, MMMM d, yyyy h:mm:ss tt',\n        'y': 'MMMM yyyy',\n        'Y': 'MMMM yyyy'\n    }\n};\n/**\n * Date base common constants and function for date parser and formatter.\n */\n// eslint-disable-next-line\nexport var IntlBase;\n(function (IntlBase) {\n    // tslint:disable-next-line:max-line-length\n    IntlBase.negativeDataRegex = /^(('[^']+'|''|[^*#@0,.E])*)(\\*.)?((([#,]*[0,]*0+)(\\.0*[0-9]*#*)?)|([#,]*@+#*))(E\\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/;\n    IntlBase.customRegex = /^(('[^']+'|''|[^*#@0,.])*)(\\*.)?((([0#,]*[0,]*[0#]*[0#\\ ]*)(\\.[0#]*)?)|([#,]*@+#*))(E\\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/;\n    IntlBase.latnParseRegex = /0|1|2|3|4|5|6|7|8|9/g;\n    var fractionRegex = /[0-9]/g;\n    IntlBase.defaultCurrency = '$';\n    var mapper = ['infinity', 'nan', 'group', 'decimal'];\n    var patternRegex = /G|M|L|H|c|'| a|yy|y|EEEE|E/g;\n    var patternMatch = {\n        'G': '',\n        'M': 'm',\n        'L': 'm',\n        'H': 'h',\n        'c': 'd',\n        '\\'': '\"',\n        ' a': ' AM/PM',\n        'yy': 'yy',\n        'y': 'yyyy',\n        'EEEE': 'dddd',\n        'E': 'ddd'\n    };\n    IntlBase.dateConverterMapper = /dddd|ddd/ig;\n    var defaultFirstDay = 'sun';\n    IntlBase.islamicRegex = /^islamic/;\n    var firstDayMapper = {\n        'sun': 0,\n        'mon': 1,\n        'tue': 2,\n        'wed': 3,\n        'thu': 4,\n        'fri': 5,\n        'sat': 6\n    };\n    IntlBase.formatRegex = /(^[ncpae]{1})([0-1]?[0-9]|20)?$/i;\n    IntlBase.currencyFormatRegex = /(^[ca]{1})([0-1]?[0-9]|20)?$/i;\n    IntlBase.curWithoutNumberRegex = /(c|a)$/ig;\n    var typeMapper = {\n        '$': 'isCurrency',\n        '%': 'isPercent',\n        '-': 'isNegative',\n        0: 'nlead',\n        1: 'nend'\n    };\n    IntlBase.dateParseRegex = /([a-z])\\1*|'([^']|'')+'|''|./gi;\n    IntlBase.basicPatterns = ['short', 'medium', 'long', 'full'];\n    /* tslint:disable:quotemark */\n    IntlBase.defaultObject = {\n        'dates': {\n            'calendars': {\n                'gregorian': {\n                    'months': {\n                        'stand-alone': {\n                            'abbreviated': {\n                                '1': 'Jan',\n                                '2': 'Feb',\n                                '3': 'Mar',\n                                '4': 'Apr',\n                                '5': 'May',\n                                '6': 'Jun',\n                                '7': 'Jul',\n                                '8': 'Aug',\n                                '9': 'Sep',\n                                '10': 'Oct',\n                                '11': 'Nov',\n                                '12': 'Dec'\n                            },\n                            'narrow': {\n                                '1': 'J',\n                                '2': 'F',\n                                '3': 'M',\n                                '4': 'A',\n                                '5': 'M',\n                                '6': 'J',\n                                '7': 'J',\n                                '8': 'A',\n                                '9': 'S',\n                                '10': 'O',\n                                '11': 'N',\n                                '12': 'D'\n                            },\n                            'wide': {\n                                '1': 'January',\n                                '2': 'February',\n                                '3': 'March',\n                                '4': 'April',\n                                '5': 'May',\n                                '6': 'June',\n                                '7': 'July',\n                                '8': 'August',\n                                '9': 'September',\n                                '10': 'October',\n                                '11': 'November',\n                                '12': 'December'\n                            }\n                        }\n                    },\n                    'days': {\n                        'stand-alone': {\n                            'abbreviated': {\n                                'sun': 'Sun',\n                                'mon': 'Mon',\n                                'tue': 'Tue',\n                                'wed': 'Wed',\n                                'thu': 'Thu',\n                                'fri': 'Fri',\n                                'sat': 'Sat'\n                            },\n                            'narrow': {\n                                'sun': 'S',\n                                'mon': 'M',\n                                'tue': 'T',\n                                'wed': 'W',\n                                'thu': 'T',\n                                'fri': 'F',\n                                'sat': 'S'\n                            },\n                            'short': {\n                                'sun': 'Su',\n                                'mon': 'Mo',\n                                'tue': 'Tu',\n                                'wed': 'We',\n                                'thu': 'Th',\n                                'fri': 'Fr',\n                                'sat': 'Sa'\n                            },\n                            'wide': {\n                                'sun': 'Sunday',\n                                'mon': 'Monday',\n                                'tue': 'Tuesday',\n                                'wed': 'Wednesday',\n                                'thu': 'Thursday',\n                                'fri': 'Friday',\n                                'sat': 'Saturday'\n                            }\n                        }\n                    },\n                    'dayPeriods': {\n                        'format': {\n                            'wide': {\n                                'am': 'AM',\n                                'pm': 'PM'\n                            }\n                        }\n                    },\n                    'eras': {\n                        'eraNames': {\n                            '0': 'Before Christ',\n                            '0-alt-variant': 'Before Common Era',\n                            '1': 'Anno Domini',\n                            '1-alt-variant': 'Common Era'\n                        },\n                        'eraAbbr': {\n                            '0': 'BC',\n                            '0-alt-variant': 'BCE',\n                            '1': 'AD',\n                            '1-alt-variant': 'CE'\n                        },\n                        'eraNarrow': {\n                            '0': 'B',\n                            '0-alt-variant': 'BCE',\n                            '1': 'A',\n                            '1-alt-variant': 'CE'\n                        }\n                    },\n                    'dateFormats': {\n                        'full': 'EEEE, MMMM d, y',\n                        'long': 'MMMM d, y',\n                        'medium': 'MMM d, y',\n                        'short': 'M/d/yy'\n                    },\n                    'timeFormats': {\n                        'full': 'h:mm:ss a zzzz',\n                        'long': 'h:mm:ss a z',\n                        'medium': 'h:mm:ss a',\n                        'short': 'h:mm a'\n                    },\n                    'dateTimeFormats': {\n                        'full': '{1} \\'at\\' {0}',\n                        'long': '{1} \\'at\\' {0}',\n                        'medium': '{1}, {0}',\n                        'short': '{1}, {0}',\n                        'availableFormats': {\n                            'd': 'd',\n                            'E': 'ccc',\n                            'Ed': 'd E',\n                            'Ehm': 'E h:mm a',\n                            'EHm': 'E HH:mm',\n                            'Ehms': 'E h:mm:ss a',\n                            'EHms': 'E HH:mm:ss',\n                            'Gy': 'y G',\n                            'GyMMM': 'MMM y G',\n                            'GyMMMd': 'MMM d, y G',\n                            'GyMMMEd': 'E, MMM d, y G',\n                            'h': 'h a',\n                            'H': 'HH',\n                            'hm': 'h:mm a',\n                            'Hm': 'HH:mm',\n                            'hms': 'h:mm:ss a',\n                            'Hms': 'HH:mm:ss',\n                            'hmsv': 'h:mm:ss a v',\n                            'Hmsv': 'HH:mm:ss v',\n                            'hmv': 'h:mm a v',\n                            'Hmv': 'HH:mm v',\n                            'M': 'L',\n                            'Md': 'M/d',\n                            'MEd': 'E, M/d',\n                            'MMM': 'LLL',\n                            'MMMd': 'MMM d',\n                            'MMMEd': 'E, MMM d',\n                            'MMMMd': 'MMMM d',\n                            'ms': 'mm:ss',\n                            'y': 'y',\n                            'yM': 'M/y',\n                            'yMd': 'M/d/y',\n                            'yMEd': 'E, M/d/y',\n                            'yMMM': 'MMM y',\n                            'yMMMd': 'MMM d, y',\n                            'yMMMEd': 'E, MMM d, y',\n                            'yMMMM': 'MMMM y'\n                        }\n                    }\n                },\n                'islamic': {\n                    'months': {\n                        'stand-alone': {\n                            'abbreviated': {\n                                '1': 'Muh.',\n                                '2': 'Saf.',\n                                '3': 'Rab. I',\n                                '4': 'Rab. II',\n                                '5': 'Jum. I',\n                                '6': 'Jum. II',\n                                '7': 'Raj.',\n                                '8': 'Sha.',\n                                '9': 'Ram.',\n                                '10': 'Shaw.',\n                                '11': 'Dhul-Q.',\n                                '12': 'Dhul-H.'\n                            },\n                            'narrow': {\n                                '1': '1',\n                                '2': '2',\n                                '3': '3',\n                                '4': '4',\n                                '5': '5',\n                                '6': '6',\n                                '7': '7',\n                                '8': '8',\n                                '9': '9',\n                                '10': '10',\n                                '11': '11',\n                                '12': '12'\n                            },\n                            'wide': {\n                                '1': 'Muharram',\n                                '2': 'Safar',\n                                '3': 'Rabi I',\n                                '4': 'Rabi II',\n                                '5': 'Jumada I',\n                                '6': 'Jumada II',\n                                '7': 'Rajab',\n                                '8': 'Shaban',\n                                '9': 'Ramadan',\n                                '10': 'Shawwal',\n                                '11': 'Dhul-Qidah',\n                                '12': 'Dhul-Hijjah'\n                            }\n                        }\n                    },\n                    'days': {\n                        'stand-alone': {\n                            'abbreviated': {\n                                'sun': 'Sun',\n                                'mon': 'Mon',\n                                'tue': 'Tue',\n                                'wed': 'Wed',\n                                'thu': 'Thu',\n                                'fri': 'Fri',\n                                'sat': 'Sat'\n                            },\n                            'narrow': {\n                                'sun': 'S',\n                                'mon': 'M',\n                                'tue': 'T',\n                                'wed': 'W',\n                                'thu': 'T',\n                                'fri': 'F',\n                                'sat': 'S'\n                            },\n                            'short': {\n                                'sun': 'Su',\n                                'mon': 'Mo',\n                                'tue': 'Tu',\n                                'wed': 'We',\n                                'thu': 'Th',\n                                'fri': 'Fr',\n                                'sat': 'Sa'\n                            },\n                            'wide': {\n                                'sun': 'Sunday',\n                                'mon': 'Monday',\n                                'tue': 'Tuesday',\n                                'wed': 'Wednesday',\n                                'thu': 'Thursday',\n                                'fri': 'Friday',\n                                'sat': 'Saturday'\n                            }\n                        }\n                    },\n                    'dayPeriods': {\n                        'format': {\n                            'wide': {\n                                'am': 'AM',\n                                'pm': 'PM'\n                            }\n                        }\n                    },\n                    'eras': {\n                        'eraNames': {\n                            '0': 'AH'\n                        },\n                        'eraAbbr': {\n                            '0': 'AH'\n                        },\n                        'eraNarrow': {\n                            '0': 'AH'\n                        }\n                    },\n                    'dateFormats': {\n                        'full': 'EEEE, MMMM d, y G',\n                        'long': 'MMMM d, y G',\n                        'medium': 'MMM d, y G',\n                        'short': 'M/d/y GGGGG'\n                    },\n                    'timeFormats': {\n                        'full': 'h:mm:ss a zzzz',\n                        'long': 'h:mm:ss a z',\n                        'medium': 'h:mm:ss a',\n                        'short': 'h:mm a'\n                    },\n                    'dateTimeFormats': {\n                        'full': '{1} \\'at\\' {0}',\n                        'long': '{1} \\'at\\' {0}',\n                        'medium': '{1}, {0}',\n                        'short': '{1}, {0}',\n                        'availableFormats': {\n                            'd': 'd',\n                            'E': 'ccc',\n                            'Ed': 'd E',\n                            'Ehm': 'E h:mm a',\n                            'EHm': 'E HH:mm',\n                            'Ehms': 'E h:mm:ss a',\n                            'EHms': 'E HH:mm:ss',\n                            'Gy': 'y G',\n                            'GyMMM': 'MMM y G',\n                            'GyMMMd': 'MMM d, y G',\n                            'GyMMMEd': 'E, MMM d, y G',\n                            'h': 'h a',\n                            'H': 'HH',\n                            'hm': 'h:mm a',\n                            'Hm': 'HH:mm',\n                            'hms': 'h:mm:ss a',\n                            'Hms': 'HH:mm:ss',\n                            'M': 'L',\n                            'Md': 'M/d',\n                            'MEd': 'E, M/d',\n                            'MMM': 'LLL',\n                            'MMMd': 'MMM d',\n                            'MMMEd': 'E, MMM d',\n                            'MMMMd': 'MMMM d',\n                            'ms': 'mm:ss',\n                            'y': 'y G',\n                            'yyyy': 'y G',\n                            'yyyyM': 'M/y GGGGG',\n                            'yyyyMd': 'M/d/y GGGGG',\n                            'yyyyMEd': 'E, M/d/y GGGGG',\n                            'yyyyMMM': 'MMM y G',\n                            'yyyyMMMd': 'MMM d, y G',\n                            'yyyyMMMEd': 'E, MMM d, y G',\n                            'yyyyMMMM': 'MMMM y G',\n                            'yyyyQQQ': 'QQQ y G',\n                            'yyyyQQQQ': 'QQQQ y G'\n                        }\n                    }\n                }\n            },\n            'timeZoneNames': {\n                'hourFormat': '+HH:mm;-HH:mm',\n                'gmtFormat': 'GMT{0}',\n                'gmtZeroFormat': 'GMT'\n            }\n        },\n        'numbers': {\n            'currencies': {\n                'USD': {\n                    'displayName': 'US Dollar',\n                    'symbol': '$',\n                    'symbol-alt-narrow': '$'\n                },\n                'EUR': {\n                    'displayName': 'Euro',\n                    'symbol': '',\n                    'symbol-alt-narrow': ''\n                },\n                'GBP': {\n                    'displayName': 'British Pound',\n                    'symbol-alt-narrow': ''\n                }\n            },\n            'defaultNumberingSystem': 'latn',\n            'minimumGroupingDigits': '1',\n            'symbols-numberSystem-latn': {\n                'decimal': '.',\n                'group': ',',\n                'list': ';',\n                'percentSign': '%',\n                'plusSign': '+',\n                'minusSign': '-',\n                'exponential': 'E',\n                'superscriptingExponent': '',\n                'perMille': '',\n                'infinity': '',\n                'nan': 'NaN',\n                'timeSeparator': ':'\n            },\n            'decimalFormats-numberSystem-latn': {\n                'standard': '#,##0.###'\n            },\n            'percentFormats-numberSystem-latn': {\n                'standard': '#,##0%'\n            },\n            'currencyFormats-numberSystem-latn': {\n                'standard': '#,##0.00',\n                'accounting': '#,##0.00;(#,##0.00)'\n            },\n            'scientificFormats-numberSystem-latn': {\n                'standard': '#E0'\n            }\n        }\n    };\n    IntlBase.blazorDefaultObject = {\n        'numbers': {\n            'mapper': {\n                '0': '0',\n                '1': '1',\n                '2': '2',\n                '3': '3',\n                '4': '4',\n                '5': '5',\n                '6': '6',\n                '7': '7',\n                '8': '8',\n                '9': '9'\n            },\n            'mapperDigits': '0123456789',\n            'numberSymbols': {\n                'decimal': '.',\n                'group': ',',\n                'plusSign': '+',\n                'minusSign': '-',\n                'percentSign': '%',\n                'nan': 'NaN',\n                'timeSeparator': ':',\n                'infinity': ''\n            },\n            'timeSeparator': ':',\n            'currencySymbol': '$',\n            'currencypData': {\n                'nlead': '$',\n                'nend': '',\n                'groupSeparator': ',',\n                'groupData': {\n                    'primary': 3\n                },\n                'maximumFraction': 2,\n                'minimumFraction': 2\n            },\n            'percentpData': {\n                'nlead': '',\n                'nend': '%',\n                'groupSeparator': ',',\n                'groupData': {\n                    'primary': 3\n                },\n                'maximumFraction': 2,\n                'minimumFraction': 2\n            },\n            'percentnData': {\n                'nlead': '-',\n                'nend': '%',\n                'groupSeparator': ',',\n                'groupData': {\n                    'primary': 3\n                },\n                'maximumFraction': 2,\n                'minimumFraction': 2\n            },\n            'currencynData': {\n                'nlead': '($',\n                'nend': ')',\n                'groupSeparator': ',',\n                'groupData': {\n                    'primary': 3\n                },\n                'maximumFraction': 2,\n                'minimumFraction': 2\n            },\n            'decimalnData': {\n                'nlead': '-',\n                'nend': '',\n                'groupData': {\n                    'primary': 3\n                },\n                'maximumFraction': 2,\n                'minimumFraction': 2\n            },\n            'decimalpData': {\n                'nlead': '',\n                'nend': '',\n                'groupData': {\n                    'primary': 3\n                },\n                'maximumFraction': 2,\n                'minimumFraction': 2\n            }\n        },\n        'dates': {\n            'dayPeriods': {\n                'am': 'AM',\n                'pm': 'PM'\n            },\n            'dateSeperator': '/',\n            'days': {\n                'abbreviated': {\n                    'sun': 'Sun',\n                    'mon': 'Mon',\n                    'tue': 'Tue',\n                    'wed': 'Wed',\n                    'thu': 'Thu',\n                    'fri': 'Fri',\n                    'sat': 'Sat'\n                },\n                'short': {\n                    'sun': 'Su',\n                    'mon': 'Mo',\n                    'tue': 'Tu',\n                    'wed': 'We',\n                    'thu': 'Th',\n                    'fri': 'Fr',\n                    'sat': 'Sa'\n                },\n                'wide': {\n                    'sun': 'Sunday',\n                    'mon': 'Monday',\n                    'tue': 'Tuesday',\n                    'wed': 'Wednesday',\n                    'thu': 'Thursday',\n                    'fri': 'Friday',\n                    'sat': 'Saturday'\n                }\n            },\n            'months': {\n                'abbreviated': {\n                    '1': 'Jan',\n                    '2': 'Feb',\n                    '3': 'Mar',\n                    '4': 'Apr',\n                    '5': 'May',\n                    '6': 'Jun',\n                    '7': 'Jul',\n                    '8': 'Aug',\n                    '9': 'Sep',\n                    '10': 'Oct',\n                    '11': 'Nov',\n                    '12': 'Dec'\n                },\n                'wide': {\n                    '1': 'January',\n                    '2': 'February',\n                    '3': 'March',\n                    '4': 'April',\n                    '5': 'May',\n                    '6': 'June',\n                    '7': 'July',\n                    '8': 'August',\n                    '9': 'September',\n                    '10': 'October',\n                    '11': 'November',\n                    '12': 'December'\n                }\n            },\n            'eras': {\n                '1': 'AD'\n            }\n        }\n    };\n    /* tslint:enable:quotemark */\n    IntlBase.monthIndex = {\n        3: 'abbreviated',\n        4: 'wide',\n        5: 'narrow',\n        1: 'abbreviated'\n    };\n    /**\n     *\n     */\n    IntlBase.month = 'months';\n    IntlBase.days = 'days';\n    /**\n     * Default numerber Object\n     */\n    IntlBase.patternMatcher = {\n        C: 'currency',\n        P: 'percent',\n        N: 'decimal',\n        A: 'currency',\n        E: 'scientific'\n    };\n    /**\n     * Returns the resultant pattern based on the skeleton, dateObject and the type provided\n     *\n     * @private\n     * @param {string} skeleton ?\n     * @param {Object} dateObject ?\n     * @param {string} type ?\n     * @param {boolean} isIslamic ?\n     * @param {string} blazorCulture ?\n     * @returns {string} ?\n     */\n    function getResultantPattern(skeleton, dateObject, type, isIslamic, blazorCulture) {\n        var resPattern;\n        var iType = type || 'date';\n        if (blazorCulture) {\n            resPattern = compareBlazorDateFormats({ skeleton: skeleton }, blazorCulture).format ||\n                compareBlazorDateFormats({ skeleton: 'd' }, 'en-US').format;\n        }\n        else {\n            if (IntlBase.basicPatterns.indexOf(skeleton) !== -1) {\n                resPattern = getValue(iType + 'Formats.' + skeleton, dateObject);\n                if (iType === 'dateTime') {\n                    var dPattern = getValue('dateFormats.' + skeleton, dateObject);\n                    var tPattern = getValue('timeFormats.' + skeleton, dateObject);\n                    resPattern = resPattern.replace('{1}', dPattern).replace('{0}', tPattern);\n                }\n            }\n            else {\n                resPattern = getValue('dateTimeFormats.availableFormats.' + skeleton, dateObject);\n            }\n            if (isUndefined(resPattern) && skeleton === 'yMd') {\n                resPattern = 'M/d/y';\n            }\n        }\n        return resPattern;\n    }\n    IntlBase.getResultantPattern = getResultantPattern;\n    /**\n     * Returns the dependable object for provided cldr data and culture\n     *\n     * @private\n     * @param {Object} cldr ?\n     * @param {string} culture ?\n     * @param {string} mode ?\n     * @param {boolean} isNumber ?\n     * @returns {any} ?\n     */\n    function getDependables(cldr, culture, mode, isNumber) {\n        var ret = {};\n        var calendartype = mode || 'gregorian';\n        ret.parserObject = parser.getMainObject(cldr, culture) || (isBlazor() ? IntlBase.blazorDefaultObject : IntlBase.defaultObject);\n        if (isNumber) {\n            ret.numericObject = getValue('numbers', ret.parserObject);\n        }\n        else {\n            var dateString = isBlazor() ? 'dates' : ('dates.calendars.' + calendartype);\n            ret.dateObject = getValue(dateString, ret.parserObject);\n        }\n        return ret;\n    }\n    IntlBase.getDependables = getDependables;\n    /**\n     * Returns the symbol pattern for provided parameters\n     *\n     * @private\n     * @param {string} type ?\n     * @param {string} numSystem ?\n     * @param {Object} obj ?\n     * @param {boolean} isAccount ?\n     * @returns {string} ?\n     */\n    function getSymbolPattern(type, numSystem, obj, isAccount) {\n        return getValue(type + 'Formats-numberSystem-' +\n            numSystem + (isAccount ? '.accounting' : '.standard'), obj) || (isAccount ? getValue(type + 'Formats-numberSystem-' +\n            numSystem + '.standard', obj) : '');\n    }\n    IntlBase.getSymbolPattern = getSymbolPattern;\n    /**\n     *\n     * @param {string} format ?\n     * @returns {string} ?\n     */\n    function ConvertDateToWeekFormat(format) {\n        var convertMapper = format.match(IntlBase.dateConverterMapper);\n        if (convertMapper && isBlazor()) {\n            var tempString = convertMapper[0].length === 3 ? 'EEE' : 'EEEE';\n            return format.replace(IntlBase.dateConverterMapper, tempString);\n        }\n        return format;\n    }\n    IntlBase.ConvertDateToWeekFormat = ConvertDateToWeekFormat;\n    /**\n     *\n     * @param {DateFormatOptions} formatOptions ?\n     * @param {string} culture ?\n     * @returns {DateFormatOptions} ?\n     */\n    function compareBlazorDateFormats(formatOptions, culture) {\n        var format = formatOptions.format || formatOptions.skeleton;\n        var curFormatMapper = getValue((culture || 'en-US') + '.' + format, blazorCultureFormats);\n        if (!curFormatMapper) {\n            curFormatMapper = getValue('en-US.' + format, blazorCultureFormats);\n        }\n        if (curFormatMapper) {\n            curFormatMapper = ConvertDateToWeekFormat(curFormatMapper);\n            formatOptions.format = curFormatMapper.replace(/tt/, 'a');\n        }\n        return formatOptions;\n    }\n    IntlBase.compareBlazorDateFormats = compareBlazorDateFormats;\n    /**\n     * Returns proper numeric skeleton\n     *\n     * @private\n     * @param {string} skeleton ?\n     * @returns {any} ?\n     */\n    function getProperNumericSkeleton(skeleton) {\n        var matches = skeleton.match(IntlBase.formatRegex);\n        var ret = {};\n        var pattern = matches[1].toUpperCase();\n        ret.isAccount = (pattern === 'A');\n        // eslint-disable-next-line\n        ret.type = IntlBase.patternMatcher[pattern];\n        if (skeleton.length > 1) {\n            ret.fractionDigits = parseInt(matches[2], 10);\n        }\n        return ret;\n    }\n    IntlBase.getProperNumericSkeleton = getProperNumericSkeleton;\n    /**\n     * Returns format data for number formatting like minimum fraction, maximum fraction, etc..,\n     *\n     * @private\n     * @param {string} pattern ?\n     * @param {boolean} needFraction ?\n     * @param {string} cSymbol ?\n     * @param {boolean} fractionOnly ?\n     * @returns {any} ?\n     */\n    function getFormatData(pattern, needFraction, cSymbol, fractionOnly) {\n        var nData = fractionOnly ? {} : { nlead: '', nend: '' };\n        var match = pattern.match(IntlBase.customRegex);\n        if (match) {\n            if (!fractionOnly) {\n                nData.nlead = changeCurrencySymbol(match[1], cSymbol);\n                nData.nend = changeCurrencySymbol(match[10], cSymbol);\n                nData.groupPattern = match[4];\n            }\n            var fraction = match[7];\n            if (fraction && needFraction) {\n                var fmatch = fraction.match(fractionRegex);\n                if (!isNullOrUndefined(fmatch)) {\n                    nData.minimumFraction = fmatch.length;\n                }\n                else {\n                    nData.minimumFraction = 0;\n                }\n                nData.maximumFraction = fraction.length - 1;\n            }\n        }\n        return nData;\n    }\n    IntlBase.getFormatData = getFormatData;\n    /**\n     * Changes currency symbol\n     *\n     * @private\n     * @param {string} val ?\n     * @param {string} sym ?\n     * @returns {string} ?\n     */\n    function changeCurrencySymbol(val, sym) {\n        if (val) {\n            return val.replace(IntlBase.defaultCurrency, sym);\n        }\n        return '';\n    }\n    IntlBase.changeCurrencySymbol = changeCurrencySymbol;\n    /**\n     * Returns currency symbol based on currency code ?\n     *\n     * @private\n     * @param {Object} numericObject ?\n     * @param {string} currencyCode ?\n     * @param {string} altSymbol ?\n     * @returns {string} ?\n     */\n    function getCurrencySymbol(numericObject, currencyCode, altSymbol) {\n        var symbol = altSymbol ? ('.' + altSymbol) : '.symbol';\n        var getCurrency = getValue('currencies.' + currencyCode + symbol, numericObject) ||\n            getValue('currencies.' + currencyCode + '.symbol-alt-narrow', numericObject) || '$';\n        return getCurrency;\n    }\n    IntlBase.getCurrencySymbol = getCurrencySymbol;\n    /**\n     * Returns formatting options for custom number format\n     *\n     * @private\n     * @param {string} format ?\n     * @param {CommonOptions} dOptions ?\n     * @param {any} obj ?\n     * @returns {any} ?\n     */\n    function customFormat(format, dOptions, obj) {\n        var options = {};\n        var formatSplit = format.split(';');\n        var data = ['pData', 'nData', 'zeroData'];\n        for (var i = 0; i < formatSplit.length; i++) {\n            // eslint-disable-next-line\n            options[data[i]] = customNumberFormat(formatSplit[i], dOptions, obj);\n        }\n        if (isNullOrUndefined(options.nData)) {\n            options.nData = extend({}, options.pData);\n            options.nData.nlead = isNullOrUndefined(dOptions) ? '-' + options.nData.nlead : dOptions.minusSymbol + options.nData.nlead;\n        }\n        return options;\n    }\n    IntlBase.customFormat = customFormat;\n    /**\n     * Returns custom formatting options\n     *\n     * @private\n     * @param {string} format ?\n     * @param {CommonOptions} dOptions ?\n     * @param {Object} numObject ?\n     * @returns {any} ?\n     */\n    function customNumberFormat(format, dOptions, numObject) {\n        var cOptions = { type: 'decimal', minimumFractionDigits: 0, maximumFractionDigits: 0 };\n        var pattern = format.match(IntlBase.customRegex);\n        if (isNullOrUndefined(pattern) || (pattern[5] === '' && format !== 'N/A')) {\n            cOptions.type = undefined;\n            return cOptions;\n        }\n        cOptions.nlead = pattern[1];\n        cOptions.nend = pattern[10];\n        var integerPart = pattern[6];\n        var spaceCapture = integerPart.match(/\\ $/g) ? true : false;\n        var spaceGrouping = integerPart.replace(/\\ $/g, '').indexOf(' ') !== -1;\n        cOptions.useGrouping = integerPart.indexOf(',') !== -1 || spaceGrouping;\n        integerPart = integerPart.replace(/,/g, '');\n        var fractionPart = pattern[7];\n        if (integerPart.indexOf('0') !== -1) {\n            cOptions.minimumIntegerDigits = integerPart.length - integerPart.indexOf('0');\n        }\n        if (!isNullOrUndefined(fractionPart)) {\n            cOptions.minimumFractionDigits = fractionPart.lastIndexOf('0');\n            cOptions.maximumFractionDigits = fractionPart.lastIndexOf('#');\n            if (cOptions.minimumFractionDigits === -1) {\n                cOptions.minimumFractionDigits = 0;\n            }\n            if (cOptions.maximumFractionDigits === -1 || cOptions.maximumFractionDigits < cOptions.minimumFractionDigits) {\n                cOptions.maximumFractionDigits = cOptions.minimumFractionDigits;\n            }\n        }\n        if (!isNullOrUndefined(dOptions)) {\n            extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '$', dOptions.currencySymbol));\n            if (!cOptions.isCurrency) {\n                extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '%', dOptions.percentSymbol));\n            }\n        }\n        else {\n            extend(cOptions, isCurrencyPercent([cOptions.nlead, cOptions.nend], '%', '%'));\n        }\n        if (!isNullOrUndefined(numObject)) {\n            var symbolPattern = getSymbolPattern(cOptions.type, dOptions.numberMapper.numberSystem, numObject, false);\n            if (cOptions.useGrouping) {\n                // eslint-disable-next-line\n                cOptions.groupSeparator = spaceGrouping ? ' ' : dOptions.numberMapper.numberSymbols[mapper[2]];\n                cOptions.groupData = NumberFormat.getGroupingDetails(symbolPattern.split(';')[0]);\n            }\n            cOptions.nlead = cOptions.nlead.replace(/'/g, '');\n            cOptions.nend = spaceCapture ? ' ' + cOptions.nend.replace(/'/g, '') : cOptions.nend.replace(/'/g, '');\n        }\n        return cOptions;\n    }\n    IntlBase.customNumberFormat = customNumberFormat;\n    /**\n     * Returns formatting options for currency or percent type\n     *\n     * @private\n     * @param {string[]} parts ?\n     * @param {string} actual ?\n     * @param {string} symbol ?\n     * @returns {any} ?\n     */\n    function isCurrencyPercent(parts, actual, symbol) {\n        var options = { nlead: parts[0], nend: parts[1] };\n        for (var i = 0; i < 2; i++) {\n            var part = parts[i];\n            var loc = part.indexOf(actual);\n            if ((loc !== -1) && ((loc < part.indexOf('\\'')) || (loc > part.lastIndexOf('\\'')))) {\n                // eslint-disable-next-line\n                options[typeMapper[i]] = part.substr(0, loc) + symbol + part.substr(loc + 1);\n                // eslint-disable-next-line\n                options[typeMapper[actual]] = true;\n                options.type = options.isCurrency ? 'currency' : 'percent';\n                break;\n            }\n        }\n        return options;\n    }\n    IntlBase.isCurrencyPercent = isCurrencyPercent;\n    /**\n     * Returns culture based date separator\n     *\n     * @private\n     * @param {Object} dateObj ?\n     * @returns {string} ?\n     */\n    function getDateSeparator(dateObj) {\n        var value = (getValue('dateFormats.short', dateObj) || '').match(/[dM]([^dM])[dM]/i);\n        return value ? value[1] : '/';\n    }\n    IntlBase.getDateSeparator = getDateSeparator;\n    /**\n     * Returns Native Date Time pattern\n     *\n     * @private\n     * @param {string} culture ?\n     * @param {DateFormatOptions} options ?\n     * @param {Object} cldr ?\n     * @param {boolean} isExcelFormat ?\n     * @returns {string} ?\n     */\n    function getActualDateTimeFormat(culture, options, cldr, isExcelFormat) {\n        var dependable = getDependables(cldr, culture, options.calendar);\n        if (isBlazor()) {\n            options = compareBlazorDateFormats(options, culture);\n        }\n        var actualPattern = options.format || getResultantPattern(options.skeleton, dependable.dateObject, options.type);\n        if (isExcelFormat) {\n            actualPattern = actualPattern.replace(patternRegex, function (pattern) {\n                // eslint-disable-next-line\n                return patternMatch[pattern];\n            });\n            if (actualPattern.indexOf('z') !== -1) {\n                var tLength = actualPattern.match(/z/g).length;\n                var timeZonePattern = void 0;\n                var options_1 = { 'timeZone': {} };\n                options_1.numMapper = parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr));\n                options_1.timeZone = getValue('dates.timeZoneNames', dependable.parserObject);\n                var value = new Date();\n                var timezone = value.getTimezoneOffset();\n                var pattern = (tLength < 4) ? '+H;-H' : options_1.timeZone.hourFormat;\n                pattern = pattern.replace(/:/g, options_1.numMapper.timeSeparator);\n                if (timezone === 0) {\n                    timeZonePattern = options_1.timeZone.gmtZeroFormat;\n                }\n                else {\n                    timeZonePattern = DateFormat.getTimeZoneValue(timezone, pattern);\n                    timeZonePattern = options_1.timeZone.gmtFormat.replace(/\\{0\\}/, timeZonePattern);\n                }\n                actualPattern = actualPattern.replace(/[z]+/, '\"' + timeZonePattern + '\"');\n            }\n            actualPattern = actualPattern.replace(/ $/, '');\n        }\n        return actualPattern;\n    }\n    IntlBase.getActualDateTimeFormat = getActualDateTimeFormat;\n    /**\n     *\n     * @param {string} actual ?\n     * @param {any} option ?\n     * @returns {any} ?\n     */\n    // eslint-disable-next-line\n    function processSymbol(actual, option) {\n        if (actual.indexOf(',') !== -1) {\n            // eslint-disable-next-line\n            var split = actual.split(',');\n            actual = (split[0] + getValue('numberMapper.numberSymbols.group', option) +\n                split[1].replace('.', getValue('numberMapper.numberSymbols.decimal', option)));\n        }\n        else {\n            actual = actual.replace('.', getValue('numberMapper.numberSymbols.decimal', option));\n        }\n        return actual;\n    }\n    /**\n     * Returns Native Number pattern\n     *\n     * @private\n     * @param {string} culture ?\n     * @param {NumberFormatOptions} options ?\n     * @param {Object} cldr ?\n     * @param {boolean} isExcel ?\n     * @returns {string} ?\n     */\n    function getActualNumberFormat(culture, options, cldr, isExcel) {\n        var dependable = getDependables(cldr, culture, '', true);\n        var parseOptions = { custom: true };\n        var numrericObject = dependable.numericObject;\n        var minFrac;\n        var curObj = {};\n        var curMatch = (options.format || '').match(IntlBase.currencyFormatRegex);\n        var type = IntlBase.formatRegex.test(options.format) ? getProperNumericSkeleton(options.format || 'N') : {};\n        var dOptions = {};\n        if (curMatch) {\n            dOptions.numberMapper = isBlazor() ?\n                extend({}, dependable.numericObject) :\n                parser.getNumberMapper(dependable.parserObject, parser.getNumberingSystem(cldr), true);\n            var curCode = isBlazor() ? getValue('currencySymbol', dependable.numericObject) :\n                getCurrencySymbol(dependable.numericObject, options.currency || defaultCurrencyCode, options.altSymbol);\n            var symbolPattern = getSymbolPattern('currency', dOptions.numberMapper.numberSystem, dependable.numericObject, (/a/i).test(options.format));\n            symbolPattern = symbolPattern.replace(/\\u00A4/g, curCode);\n            var split = symbolPattern.split(';');\n            curObj.hasNegativePattern = isBlazor() ? true : (split.length > 1);\n            curObj.nData = isBlazor() ? getValue(type.type + 'nData', numrericObject) :\n                getFormatData(split[1] || '-' + split[0], true, curCode);\n            curObj.pData = isBlazor() ? getValue(type.type + 'pData', numrericObject) :\n                getFormatData(split[0], false, curCode);\n            if (!curMatch[2] && !options.minimumFractionDigits && !options.maximumFractionDigits) {\n                minFrac = getFormatData(symbolPattern.split(';')[0], true, '', true).minimumFraction;\n            }\n        }\n        var actualPattern;\n        if ((IntlBase.formatRegex.test(options.format)) || !(options.format)) {\n            extend(parseOptions, getProperNumericSkeleton(options.format || 'N'));\n            parseOptions.custom = false;\n            actualPattern = '###0';\n            if (parseOptions.fractionDigits || options.minimumFractionDigits || options.maximumFractionDigits || minFrac) {\n                var defaultMinimum = 0;\n                if (parseOptions.fractionDigits) {\n                    options.minimumFractionDigits = options.maximumFractionDigits = parseOptions.fractionDigits;\n                }\n                actualPattern = fractionDigitsPattern(actualPattern, minFrac || parseOptions.fractionDigits ||\n                    options.minimumFractionDigits || defaultMinimum, options.maximumFractionDigits || defaultMinimum);\n            }\n            if (options.minimumIntegerDigits) {\n                actualPattern = minimumIntegerPattern(actualPattern, options.minimumIntegerDigits);\n            }\n            if (options.useGrouping) {\n                actualPattern = groupingPattern(actualPattern);\n            }\n            if (parseOptions.type === 'currency' || (parseOptions.type && isBlazor())) {\n                if (isBlazor() && parseOptions.type !== 'currency') {\n                    curObj.pData = getValue(parseOptions.type + 'pData', numrericObject);\n                    curObj.nData = getValue(parseOptions.type + 'nData', numrericObject);\n                }\n                var cPattern = actualPattern;\n                actualPattern = curObj.pData.nlead + cPattern + curObj.pData.nend;\n                if (curObj.hasNegativePattern || isBlazor()) {\n                    actualPattern += ';' + curObj.nData.nlead + cPattern + curObj.nData.nend;\n                }\n            }\n            if (parseOptions.type === 'percent' && !isBlazor()) {\n                actualPattern += ' %';\n            }\n        }\n        else {\n            actualPattern = options.format.replace(/'/g, '\"');\n        }\n        if (Object.keys(dOptions).length > 0) {\n            actualPattern = !isExcel ? processSymbol(actualPattern, dOptions) : actualPattern;\n        }\n        return actualPattern;\n    }\n    IntlBase.getActualNumberFormat = getActualNumberFormat;\n    /**\n     *\n     * @param {string} pattern ?\n     * @param {number} minDigits ?\n     * @param {number} maxDigits ?\n     * @returns {string} ?\n     */\n    function fractionDigitsPattern(pattern, minDigits, maxDigits) {\n        pattern += '.';\n        for (var a = 0; a < minDigits; a++) {\n            pattern += '0';\n        }\n        if (minDigits < maxDigits) {\n            var diff = maxDigits - minDigits;\n            for (var b = 0; b < diff; b++) {\n                pattern += '#';\n            }\n        }\n        return pattern;\n    }\n    IntlBase.fractionDigitsPattern = fractionDigitsPattern;\n    /**\n     *\n     * @param {string} pattern ?\n     * @param {number} digits ?\n     * @returns {string} ?\n     */\n    function minimumIntegerPattern(pattern, digits) {\n        var temp = pattern.split('.');\n        var integer = '';\n        for (var x = 0; x < digits; x++) {\n            integer += '0';\n        }\n        return temp[1] ? (integer + '.' + temp[1]) : integer;\n    }\n    IntlBase.minimumIntegerPattern = minimumIntegerPattern;\n    /**\n     *\n     * @param {string} pattern ?\n     * @returns {string} ?\n     */\n    function groupingPattern(pattern) {\n        var temp = pattern.split('.');\n        var integer = temp[0];\n        var no = 3 - integer.length % 3;\n        var hash = (no && no === 1) ? '#' : (no === 2 ? '##' : '');\n        integer = hash + integer;\n        pattern = '';\n        for (var x = integer.length - 1; x > 0; x = x - 3) {\n            pattern = ',' + integer[x - 2] + integer[x - 1] + integer[x] + pattern;\n        }\n        pattern = pattern.slice(1);\n        return temp[1] ? (pattern + '.' + temp[1]) : pattern;\n    }\n    IntlBase.groupingPattern = groupingPattern;\n    /**\n     *\n     * @param {string} culture ?\n     * @param {Object} cldr ?\n     * @returns {number} ?\n     */\n    function getWeekData(culture, cldr) {\n        var firstDay = defaultFirstDay;\n        var mapper = getValue('supplemental.weekData.firstDay', cldr);\n        var iCulture = culture;\n        if ((/en-/).test(iCulture)) {\n            iCulture = iCulture.slice(3);\n        }\n        iCulture = iCulture.slice(0, 2).toUpperCase() + iCulture.substr(2);\n        if (mapper) {\n            firstDay = mapper[iCulture] || mapper[iCulture.slice(0, 2)] || defaultFirstDay;\n        }\n        return firstDayMapper[firstDay];\n    }\n    IntlBase.getWeekData = getWeekData;\n    /**\n     * @private\n     * @param {any} pData ?\n     * @param {string} aCurrency ?\n     * @param {string} rCurrency ?\n     * @returns {void} ?\n     */\n    function replaceBlazorCurrency(pData, aCurrency, rCurrency) {\n        var iCurrency = getBlazorCurrencySymbol(rCurrency);\n        if (aCurrency !== iCurrency) {\n            for (var _i = 0, pData_1 = pData; _i < pData_1.length; _i++) {\n                var data = pData_1[_i];\n                data.nend = data.nend.replace(aCurrency, iCurrency);\n                data.nlead = data.nlead.replace(aCurrency, iCurrency);\n            }\n        }\n    }\n    IntlBase.replaceBlazorCurrency = replaceBlazorCurrency;\n    /**\n     * @private\n     * @param {Date} date ?\n     * @returns {number} ?\n     */\n    function getWeekOfYear(date) {\n        var newYear = new Date(date.getFullYear(), 0, 1);\n        var day = newYear.getDay();\n        var weeknum;\n        day = (day >= 0 ? day : day + 7);\n        var daynum = Math.floor((date.getTime() - newYear.getTime() -\n            (date.getTimezoneOffset() - newYear.getTimezoneOffset()) * 60000) / 86400000) + 1;\n        if (day < 4) {\n            weeknum = Math.floor((daynum + day - 1) / 7) + 1;\n            if (weeknum > 52) {\n                var nYear = new Date(date.getFullYear() + 1, 0, 1);\n                var nday = nYear.getDay();\n                nday = nday >= 0 ? nday : nday + 7;\n                weeknum = nday < 4 ? 1 : 53;\n            }\n        }\n        else {\n            weeknum = Math.floor((daynum + day - 1) / 7);\n        }\n        return weeknum;\n    }\n    IntlBase.getWeekOfYear = getWeekOfYear;\n})(IntlBase || (IntlBase = {}));\n","import { isNullOrUndefined, merge } from './util';\nvar headerRegex = /^(.*?):[ \\t]*([^\\r\\n]*)$/gm;\nvar defaultType = 'GET';\n/**\n * Ajax class provides ability to make asynchronous HTTP request to the server\n * ```typescript\n *   var ajax = new Ajax(\"index.html\", \"GET\", true);\n *   ajax.send().then(\n *               function (value) {\n *                   console.log(value);\n *               },\n *               function (reason) {\n *                   console.log(reason);\n *               });\n * ```\n */\nvar Ajax = /** @class */ (function () {\n    /**\n     * Constructor for Ajax class\n     *\n     * @param  {string|Object} options ?\n     * @param  {string} type ?\n     * @param  {boolean} async ?\n     * @returns defaultType any\n     */\n    function Ajax(options, type, async, contentType) {\n        /**\n         * A boolean value indicating whether the request should be sent asynchronous or not.\n         *\n         * @default true\n         */\n        this.mode = true;\n        /**\n         * A boolean value indicating whether to ignore the promise reject.\n         *\n         * @private\n         * @default true\n         */\n        this.emitError = true;\n        this.options = {};\n        if (typeof options === 'string') {\n            this.url = options;\n            this.type = type ? type.toUpperCase() : defaultType;\n            this.mode = !isNullOrUndefined(async) ? async : true;\n        }\n        else if (typeof options === 'object') {\n            this.options = options;\n            merge(this, this.options);\n        }\n        this.type = this.type ? this.type.toUpperCase() : defaultType;\n        this.contentType = (this.contentType !== undefined) ? this.contentType : contentType;\n    }\n    /**\n     *\n     * Send the request to server.\n     *\n     * @param {any} data - To send the user data\n     * @return {Promise} ?\n     */\n    Ajax.prototype.send = function (data) {\n        var _this = this;\n        this.data = isNullOrUndefined(data) ? this.data : data;\n        var eventArgs = {\n            cancel: false,\n            httpRequest: null\n        };\n        var promise = new Promise(function (resolve, reject) {\n            _this.httpRequest = new XMLHttpRequest();\n            _this.httpRequest.onreadystatechange = function () { _this.stateChange(resolve, reject); };\n            if (!isNullOrUndefined(_this.onLoad)) {\n                _this.httpRequest.onload = _this.onLoad;\n            }\n            if (!isNullOrUndefined(_this.onProgress)) {\n                _this.httpRequest.onprogress = _this.onProgress;\n            }\n            /* istanbul ignore next */\n            if (!isNullOrUndefined(_this.onAbort)) {\n                _this.httpRequest.onabort = _this.onAbort;\n            }\n            /* istanbul ignore next */\n            if (!isNullOrUndefined(_this.onError)) {\n                _this.httpRequest.onerror = _this.onError;\n            }\n            //** Upload Events **/\n            /* istanbul ignore next */\n            if (!isNullOrUndefined(_this.onUploadProgress)) {\n                _this.httpRequest.upload.onprogress = _this.onUploadProgress;\n            }\n            _this.httpRequest.open(_this.type, _this.url, _this.mode);\n            // Set default headers\n            if (!isNullOrUndefined(_this.data) && _this.contentType !== null) {\n                _this.httpRequest.setRequestHeader('Content-Type', _this.contentType || 'application/json; charset=utf-8');\n            }\n            if (_this.beforeSend) {\n                eventArgs.httpRequest = _this.httpRequest;\n                _this.beforeSend(eventArgs);\n            }\n            if (!eventArgs.cancel) {\n                _this.httpRequest.send(!isNullOrUndefined(_this.data) ? _this.data : null);\n            }\n        });\n        return promise;\n    };\n    Ajax.prototype.successHandler = function (data) {\n        if (this.onSuccess) {\n            this.onSuccess(data, this);\n        }\n        return data;\n    };\n    Ajax.prototype.failureHandler = function (reason) {\n        if (this.onFailure) {\n            this.onFailure(this.httpRequest);\n        }\n        return reason;\n    };\n    Ajax.prototype.stateChange = function (resolve, reject) {\n        var data = this.httpRequest.responseText;\n        if (this.dataType && this.dataType.toLowerCase() === 'json') {\n            if (data === '') {\n                data = undefined;\n            }\n            else {\n                try {\n                    data = JSON.parse(data);\n                }\n                catch (error) {\n                    // no exception handle\n                }\n            }\n        }\n        if (this.httpRequest.readyState === 4) {\n            //success range should be 200 to 299\n            if ((this.httpRequest.status >= 200 && this.httpRequest.status <= 299) || this.httpRequest.status === 304) {\n                resolve(this.successHandler(data));\n            }\n            else {\n                if (this.emitError) {\n                    reject(new Error(this.failureHandler(this.httpRequest.statusText)));\n                }\n                else {\n                    resolve();\n                }\n            }\n        }\n    };\n    /**\n     * To get the response header from XMLHttpRequest\n     *\n     * @param  {string} key Key to search in the response header\n     * @returns {string} ?\n     */\n    Ajax.prototype.getResponseHeader = function (key) {\n        var responseHeaders;\n        var header;\n        // eslint-disable-next-line\n        responseHeaders = {};\n        var headers = headerRegex.exec(this.httpRequest.getAllResponseHeaders());\n        while (headers) {\n            responseHeaders[headers[1].toLowerCase()] = headers[2];\n            headers = headerRegex.exec(this.httpRequest.getAllResponseHeaders());\n        }\n        // eslint-disable-next-line\n        header = responseHeaders[key.toLowerCase()];\n        return isNullOrUndefined(header) ? null : header;\n    };\n    return Ajax;\n}());\nexport { Ajax };\n","import { isUndefined } from './util';\nvar REGX_MOBILE = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i;\nvar REGX_IE = /msie|trident/i;\nvar REGX_IE11 = /Trident\\/7\\./;\nvar REGX_IOS = /(ipad|iphone|ipod touch)/i;\nvar REGX_IOS7 = /(ipad|iphone|ipod touch);.*os 7_\\d|(ipad|iphone|ipod touch);.*os 8_\\d/i;\nvar REGX_ANDROID = /android/i;\nvar REGX_WINDOWS = /trident|windows phone|edge/i;\nvar REGX_VERSION = /(version)[ /]([\\w.]+)/i;\nvar REGX_BROWSER = {\n    OPERA: /(opera|opr)(?:.*version|)[ /]([\\w.]+)/i,\n    EDGE: /(edge)(?:.*version|)[ /]([\\w.]+)/i,\n    CHROME: /(chrome|crios)[ /]([\\w.]+)/i,\n    PANTHOMEJS: /(phantomjs)[ /]([\\w.]+)/i,\n    SAFARI: /(safari)[ /]([\\w.]+)/i,\n    WEBKIT: /(webkit)[ /]([\\w.]+)/i,\n    MSIE: /(msie|trident) ([\\w.]+)/i,\n    MOZILLA: /(mozilla)(?:.*? rv:([\\w.]+)|)/i\n};\n/* istanbul ignore else  */\nif (typeof window !== 'undefined') {\n    window.browserDetails = window.browserDetails || {};\n}\n/**\n * Get configuration details for Browser\n *\n * @private\n */\nvar Browser = /** @class */ (function () {\n    function Browser() {\n    }\n    Browser.extractBrowserDetail = function () {\n        var browserInfo = { culture: {} };\n        var keys = Object.keys(REGX_BROWSER);\n        var clientInfo = [];\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            clientInfo = Browser.userAgent.match(REGX_BROWSER[key]);\n            if (clientInfo) {\n                browserInfo.name = (clientInfo[1].toLowerCase() === 'opr' ? 'opera' : clientInfo[1].toLowerCase());\n                browserInfo.name = (clientInfo[1].toLowerCase() === 'crios' ? 'chrome' : browserInfo.name);\n                browserInfo.version = clientInfo[2];\n                browserInfo.culture.name = browserInfo.culture.language = navigator.language;\n                // eslint-disable-next-line\n                if (!!Browser.userAgent.match(REGX_IE11)) {\n                    browserInfo.name = 'msie';\n                    break;\n                }\n                var version = Browser.userAgent.match(REGX_VERSION);\n                if (browserInfo.name === 'safari' && version) {\n                    browserInfo.version = version[2];\n                }\n                break;\n            }\n        }\n        return browserInfo;\n    };\n    /**\n     * To get events from the browser\n     *\n     * @param {string} event - type of event triggered.\n     * @returns {boolean}\n     */\n    Browser.getEvent = function (event) {\n        // eslint-disable-next-line\n        var events = {\n            start: {\n                isPointer: 'pointerdown', isTouch: 'touchstart', isDevice: 'mousedown'\n            },\n            move: {\n                isPointer: 'pointermove', isTouch: 'touchmove', isDevice: 'mousemove'\n            },\n            end: {\n                isPointer: 'pointerup', isTouch: 'touchend', isDevice: 'mouseup'\n            },\n            cancel: {\n                isPointer: 'pointercancel', isTouch: 'touchcancel', isDevice: 'mouseleave'\n            }\n        };\n        return (Browser.isPointer ? events[event].isPointer :\n            (Browser.isTouch ? events[event].isTouch + (!Browser.isDevice ? ' ' + events[event].isDevice : '')\n                : events[event].isDevice));\n    };\n    /**\n     * To get the Touch start event from browser\n     *\n     * @returns {string}\n     */\n    Browser.getTouchStartEvent = function () {\n        return Browser.getEvent('start');\n    };\n    /**\n     * To get the Touch end event from browser\n     *\n     * @returns {string}\n     */\n    Browser.getTouchEndEvent = function () {\n        return Browser.getEvent('end');\n    };\n    /**\n     * To get the Touch move event from browser\n     *\n     * @returns {string}\n     */\n    Browser.getTouchMoveEvent = function () {\n        return Browser.getEvent('move');\n    };\n    /**\n     * To cancel the touch event from browser\n     *\n     * @returns {string}\n     */\n    Browser.getTouchCancelEvent = function () {\n        return Browser.getEvent('cancel');\n    };\n    /**\n     * To get the value based on provided key and regX\n     *\n     * @param {string} key ?\n     * @param {RegExp} regX ?\n     * @returns {Object} ?\n     */\n    Browser.getValue = function (key, regX) {\n        var browserDetails = window.browserDetails;\n        if ('undefined' === typeof browserDetails[key]) {\n            return browserDetails[key] = regX.test(Browser.userAgent);\n        }\n        if (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1 && Browser.isTouch === true) {\n            browserDetails['isIos'] = true;\n            browserDetails['isDevice'] = true;\n            browserDetails['isTouch'] = true;\n            browserDetails['isPointer'] = true;\n        }\n        return browserDetails[key];\n    };\n    Object.defineProperty(Browser, \"userAgent\", {\n        get: function () {\n            return Browser.uA;\n        },\n        //Properties\n        /**\n         * Property specifies the userAgent of the browser. Default userAgent value is based on the browser.\n         * Also we can set our own userAgent.\n         *\n         * @param {string} uA ?\n         */\n        set: function (uA) {\n            Browser.uA = uA;\n            window.browserDetails = {};\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"info\", {\n        //Read Only Properties\n        /**\n         * Property is to get the browser information like Name, Version and Language\n         *\n         * @returns {BrowserInfo} ?\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.info)) {\n                return window.browserDetails.info = Browser.extractBrowserDetail();\n            }\n            return window.browserDetails.info;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIE\", {\n        /**\n         * Property is to get whether the userAgent is based IE.\n         *\n         * @returns {boolean} ?\n         */\n        get: function () {\n            return Browser.getValue('isIE', REGX_IE);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isTouch\", {\n        /**\n         * Property is to get whether the browser has touch support.\n         *\n         * @returns {boolean} ?\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isTouch)) {\n                return (window.browserDetails.isTouch =\n                    ('ontouchstart' in window.navigator) ||\n                        (window &&\n                            window.navigator &&\n                            (window.navigator.maxTouchPoints > 0)) || ('ontouchstart' in window));\n            }\n            return window.browserDetails.isTouch;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isPointer\", {\n        /**\n         * Property is to get whether the browser has Pointer support.\n         *\n         * @returns {boolean} ?\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isPointer)) {\n                return window.browserDetails.isPointer = ('pointerEnabled' in window.navigator);\n            }\n            return window.browserDetails.isPointer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isMSPointer\", {\n        /**\n         * Property is to get whether the browser has MSPointer support.\n         *\n         * @returns {boolean} ?\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isMSPointer)) {\n                return window.browserDetails.isMSPointer = ('msPointerEnabled' in window.navigator);\n            }\n            return window.browserDetails.isMSPointer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isDevice\", {\n        /**\n         * Property is to get whether the userAgent is device based.\n         *\n         * @returns {boolean} ?\n         */\n        get: function () {\n            return Browser.getValue('isDevice', REGX_MOBILE);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIos\", {\n        /**\n         * Property is to get whether the userAgent is IOS.\n         *\n         * @returns {boolean} ?\n         */\n        get: function () {\n            return Browser.getValue('isIos', REGX_IOS);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isIos7\", {\n        /**\n         * Property is to get whether the userAgent is Ios7.\n         *\n         * @returns {boolean} ?\n         */\n        get: function () {\n            return Browser.getValue('isIos7', REGX_IOS7);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isAndroid\", {\n        /**\n         * Property is to get whether the userAgent is Android.\n         *\n         * @returns {boolean} ?\n         */\n        get: function () {\n            return Browser.getValue('isAndroid', REGX_ANDROID);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isWebView\", {\n        /**\n         * Property is to identify whether application ran in web view.\n         *\n         * @returns {boolean} ?\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.isWebView)) {\n                window.browserDetails.isWebView = !(isUndefined(window.cordova) && isUndefined(window.PhoneGap)\n                    && isUndefined(window.phonegap) && window.forge !== 'object');\n                return window.browserDetails.isWebView;\n            }\n            return window.browserDetails.isWebView;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"isWindows\", {\n        /**\n         * Property is to get whether the userAgent is Windows.\n         *\n         * @returns {boolean} ?\n         */\n        get: function () {\n            return Browser.getValue('isWindows', REGX_WINDOWS);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchStartEvent\", {\n        /**\n         * Property is to get the touch start event. It returns event name based on browser.\n         *\n         * @returns {string} ?\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchStartEvent)) {\n                return window.browserDetails.touchStartEvent = Browser.getTouchStartEvent();\n            }\n            return window.browserDetails.touchStartEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchMoveEvent\", {\n        /**\n         * Property is to get the touch move event. It returns event name based on browser.\n         *\n         * @returns {string} ?\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchMoveEvent)) {\n                return window.browserDetails.touchMoveEvent = Browser.getTouchMoveEvent();\n            }\n            return window.browserDetails.touchMoveEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchEndEvent\", {\n        /**\n         * Property is to get the touch end event. It returns event name based on browser.\n         *\n         * @returns {string} ?\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchEndEvent)) {\n                return window.browserDetails.touchEndEvent = Browser.getTouchEndEvent();\n            }\n            return window.browserDetails.touchEndEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Browser, \"touchCancelEvent\", {\n        /**\n         * Property is to cancel the touch end event.\n         *\n         * @returns {string} ?\n         */\n        get: function () {\n            if (isUndefined(window.browserDetails.touchCancelEvent)) {\n                return window.browserDetails.touchCancelEvent = Browser.getTouchCancelEvent();\n            }\n            return window.browserDetails.touchCancelEvent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /* istanbul ignore next */\n    Browser.uA = typeof navigator !== 'undefined' ? navigator.userAgent : '';\n    return Browser;\n}());\nexport { Browser };\n","import { debounce, extend } from './util';\nimport { Browser } from './browser';\n/**\n * EventHandler class provides option to add, remove, clear and trigger events to a HTML DOM element\n * ```html\n * <div id=\"Eventdiv\">  </div>\n * <script>\n *   let node: HTMLElement = document.querySelector(\"#Eventdiv\");\n *   EventHandler.addEventListener(node, \"click\", function(){\n *       // click handler function code\n *   });\n *   EventHandler.addEventListener(node, \"onmouseover\", function(){\n *       // mouseover handler function code\n *   });\n *   EventHandler.removeEventListener(node, \"click\", function(){\n *       // click handler function code\n *   });\n *   eventObj.clearEvents();\n * </script>\n * ```\n */\nvar EventHandler = /** @class */ (function () {\n    function EventHandler() {\n    }\n    // to get the event data based on element\n    EventHandler.addOrGetEventData = function (element) {\n        if ('__eventList' in element) {\n            return element.__eventList.events;\n        }\n        else {\n            element.__eventList = {};\n            return element.__eventList.events = [];\n        }\n    };\n    /**\n     * Add an event to the specified DOM element.\n     *\n     * @param {any} element - Target HTML DOM element\n     * @param {string} eventName - A string that specifies the name of the event\n     * @param {Function} listener - Specifies the function to run when the event occurs\n     * @param {Object} bindTo - A object that binds 'this' variable in the event handler\n     * @param {number} intDebounce - Specifies at what interval given event listener should be triggered.\n     * @returns {Function} ?\n     */\n    EventHandler.add = function (element, eventName, listener, bindTo, intDebounce) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        var debounceListener;\n        if (intDebounce) {\n            debounceListener = debounce(listener, intDebounce);\n        }\n        else {\n            debounceListener = listener;\n        }\n        if (bindTo) {\n            debounceListener = debounceListener.bind(bindTo);\n        }\n        var event = eventName.split(' ');\n        for (var i = 0; i < event.length; i++) {\n            eventData.push({\n                name: event[i],\n                listener: listener,\n                debounce: debounceListener\n            });\n            if (Browser.isIE) {\n                element.addEventListener(event[i], debounceListener);\n            }\n            else {\n                element.addEventListener(event[i], debounceListener, { passive: false });\n            }\n        }\n        return debounceListener;\n    };\n    /**\n     * Remove an event listener that has been attached before.\n     *\n     * @param {any} element - Specifies the target html element to remove the event\n     * @param {string} eventName - A string that specifies the name of the event to remove\n     * @param {Function} listener - Specifies the function to remove\n     * @returns {void} ?\n     */\n    EventHandler.remove = function (element, eventName, listener) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        var event = eventName.split(' ');\n        var _loop_1 = function (j) {\n            var index = -1;\n            var debounceListener;\n            if (eventData && eventData.length !== 0) {\n                eventData.some(function (x, i) {\n                    return x.name === event[j] && x.listener === listener ?\n                        (index = i, debounceListener = x.debounce, true) : false;\n                });\n            }\n            if (index !== -1) {\n                eventData.splice(index, 1);\n            }\n            if (debounceListener) {\n                element.removeEventListener(event[j], debounceListener);\n            }\n        };\n        for (var j = 0; j < event.length; j++) {\n            _loop_1(j);\n        }\n    };\n    /**\n     * Clear all the event listeners that has been previously attached to the element.\n     *\n     * @param {any} element - Specifies the target html element to clear the events\n     * @returns {void} ?\n     */\n    EventHandler.clearEvents = function (element) {\n        var eventData;\n        var copyData;\n        // eslint-disable-next-line\n        eventData = EventHandler.addOrGetEventData(element);\n        // eslint-disable-next-line\n        copyData = extend([], copyData, eventData);\n        for (var i = 0; i < copyData.length; i++) {\n            element.removeEventListener(copyData[i].name, copyData[i].debounce);\n            eventData.shift();\n        }\n    };\n    /**\n     * Trigger particular event of the element.\n     *\n     * @param {any} element - Specifies the target html element to trigger the events\n     * @param {string} eventName - Specifies the event to trigger for the specified element.\n     * Can be a custom event, or any of the standard events.\n     * @param {any} eventProp - Additional parameters to pass on to the event properties\n     * @returns {void} ?\n     */\n    EventHandler.trigger = function (element, eventName, eventProp) {\n        var eventData = EventHandler.addOrGetEventData(element);\n        for (var _i = 0, eventData_1 = eventData; _i < eventData_1.length; _i++) {\n            var event_1 = eventData_1[_i];\n            if (event_1.name === eventName) {\n                event_1.debounce.call(this, eventProp);\n            }\n        }\n    };\n    return EventHandler;\n}());\nexport { EventHandler };\n","/**\n * Functions related to dom operations.\n */\nimport { EventHandler } from './event-handler';\nimport { isNullOrUndefined, getValue, setValue, isObject, extend } from './util';\nvar SVG_REG = /^svg|^path|^g/;\n/**\n * Function to create Html element.\n *\n * @param {string} tagName - Name of the tag, id and class names.\n * @param {ElementProperties} properties - Object to set properties in the element.\n * @param {ElementProperties} properties.id - To set the id to the created element.\n * @param {ElementProperties} properties.className - To add classes to the element.\n * @param {ElementProperties} properties.innerHTML - To set the innerHTML to element.\n * @param {ElementProperties} properties.styles - To set the some custom styles to element.\n * @param {ElementProperties} properties.attrs - To set the attributes to element.\n * @returns {any} ?\n * @private\n */\nexport function createElement(tagName, properties) {\n    var element = (SVG_REG.test(tagName) ? document.createElementNS('http://www.w3.org/2000/svg', tagName) : document.createElement(tagName));\n    if (typeof (properties) === 'undefined') {\n        return element;\n    }\n    element.innerHTML = (properties.innerHTML ? properties.innerHTML : '');\n    if (properties.className !== undefined) {\n        element.className = properties.className;\n    }\n    if (properties.id !== undefined) {\n        element.id = properties.id;\n    }\n    if (properties.styles !== undefined) {\n        element.setAttribute('style', properties.styles);\n    }\n    if (properties.attrs !== undefined) {\n        attributes(element, properties.attrs);\n    }\n    return element;\n}\n/**\n * The function used to add the classes to array of elements\n *\n * @param  {Element[]|NodeList} elements - An array of elements that need to add a list of classes\n * @param  {string|string[]} classes - String or array of string that need to add an individual element as a class\n * @returns {any} .\n * @private\n */\nexport function addClass(elements, classes) {\n    var classList = getClassList(classes);\n    for (var _i = 0, _a = elements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        for (var _b = 0, classList_1 = classList; _b < classList_1.length; _b++) {\n            var className = classList_1[_b];\n            if (isObject(ele)) {\n                var curClass = getValue('attributes.className', ele);\n                if (isNullOrUndefined(curClass)) {\n                    setValue('attributes.className', className, ele);\n                }\n                else if (!new RegExp('\\\\b' + className + '\\\\b', 'i').test(curClass)) {\n                    setValue('attributes.className', curClass + ' ' + className, ele);\n                }\n            }\n            else {\n                if (!ele.classList.contains(className)) {\n                    ele.classList.add(className);\n                }\n            }\n        }\n    }\n    return elements;\n}\n/**\n * The function used to add the classes to array of elements\n *\n * @param  {Element[]|NodeList} elements - An array of elements that need to remove a list of classes\n * @param  {string|string[]} classes - String or array of string that need to add an individual element as a class\n * @returns {any} .\n * @private\n */\nexport function removeClass(elements, classes) {\n    var classList = getClassList(classes);\n    for (var _i = 0, _a = elements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        var flag = isObject(ele);\n        var canRemove = flag ? getValue('attributes.className', ele) : ele.className !== '';\n        if (canRemove) {\n            for (var _b = 0, classList_2 = classList; _b < classList_2.length; _b++) {\n                var className = classList_2[_b];\n                if (flag) {\n                    var classes_1 = getValue('attributes.className', ele);\n                    var classArr = classes_1.split(' ');\n                    var index = classArr.indexOf(className);\n                    if (index !== -1) {\n                        classArr.splice(index, 1);\n                    }\n                    setValue('attributes.className', classArr.join(' '), ele);\n                }\n                else {\n                    ele.classList.remove(className);\n                }\n            }\n        }\n    }\n    return elements;\n}\n/**\n * The function used to get classlist.\n *\n * @param  {string | string[]} classes - An element the need to check visibility\n * @returns {string[]} ?\n * @private\n */\nfunction getClassList(classes) {\n    var classList = [];\n    if (typeof classes === 'string') {\n        classList.push(classes);\n    }\n    else {\n        classList = classes;\n    }\n    return classList;\n}\n/**\n * The function used to check element is visible or not.\n *\n * @param  {Element|Node} element - An element the need to check visibility\n * @returns {boolean} ?\n * @private\n */\nexport function isVisible(element) {\n    var ele = element;\n    return (ele.style.visibility === '' && ele.offsetWidth > 0);\n}\n/**\n * The function used to insert an array of elements into a first of the element.\n *\n * @param  {Element[]|NodeList} fromElements - An array of elements that need to prepend.\n * @param  {Element} toElement - An element that is going to prepend.\n * @param {boolean} isEval - ?\n * @returns {Element[] | NodeList} ?\n * @private\n */\nexport function prepend(fromElements, toElement, isEval) {\n    var docFrag = document.createDocumentFragment();\n    for (var _i = 0, _a = fromElements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        docFrag.appendChild(ele);\n    }\n    toElement.insertBefore(docFrag, toElement.firstElementChild);\n    if (isEval) {\n        executeScript(toElement);\n    }\n    return fromElements;\n}\n/**\n * The function used to insert an array of elements into last of the element.\n *\n * @param  {Element[]|NodeList} fromElements - An array of elements that need to append.\n * @param  {Element} toElement - An element that is going to prepend.\n * @param {boolean} isEval - ?\n * @returns {Element[] | NodeList} ?\n * @private\n */\nexport function append(fromElements, toElement, isEval) {\n    var docFrag = document.createDocumentFragment();\n    for (var _i = 0, _a = fromElements; _i < _a.length; _i++) {\n        var ele = _a[_i];\n        docFrag.appendChild(ele);\n    }\n    toElement.appendChild(docFrag);\n    if (isEval) {\n        executeScript(toElement);\n    }\n    return fromElements;\n}\n/**\n * The function is used to evaluate script from Ajax request\n *\n * @param {Element} ele - An element is going to evaluate the script\n * @returns {void} ?\n */\nfunction executeScript(ele) {\n    var eleArray = ele.querySelectorAll('script');\n    eleArray.forEach(function (element) {\n        var script = document.createElement('script');\n        script.text = element.innerHTML;\n        document.head.appendChild(script);\n        detach(script);\n    });\n}\n/**\n * The function used to remove the element from parentnode\n *\n * @param  {Element|Node|HTMLElement} element - An element that is going to detach from the Dom\n * @returns {any} ?\n * @private\n */\n// eslint-disable-next-line\nexport function detach(element) {\n    var parentNode = element.parentNode;\n    if (parentNode) {\n        return parentNode.removeChild(element);\n    }\n}\n/**\n * The function used to remove the element from Dom also clear the bounded events\n *\n * @param  {Element|Node|HTMLElement} element - An element remove from the Dom\n * @returns {void} ?\n * @private\n */\nexport function remove(element) {\n    var parentNode = element.parentNode;\n    EventHandler.clearEvents(element);\n    parentNode.removeChild(element);\n}\n/**\n * The function helps to set multiple attributes to an element\n *\n * @param  {Element|Node} element - An element that need to set attributes.\n * @param  {string} attributes - JSON Object that is going to as attributes.\n * @returns {Element} ?\n * @private\n */\n// eslint-disable-next-line\nexport function attributes(element, attributes) {\n    var keys = Object.keys(attributes);\n    var ele = element;\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var key = keys_1[_i];\n        if (isObject(ele)) {\n            var iKey = key;\n            if (key === 'tabindex') {\n                iKey = 'tabIndex';\n            }\n            ele.attributes[iKey] = attributes[key];\n        }\n        else {\n            ele.setAttribute(key, attributes[key]);\n        }\n    }\n    return ele;\n}\n/**\n * The function selects the element from giving context.\n *\n * @param  {string} selector - Selector string need fetch element\n * @param  {Document|Element} context - It is an optional type, That specifies a Dom context.\n * @param {boolean} needsVDOM ?\n * @returns {any} ?\n * @private\n */\n// eslint-disable-next-line\nexport function select(selector, context, needsVDOM) {\n    if (context === void 0) { context = document; }\n    selector = querySelectId(selector);\n    return context.querySelector(selector);\n}\n/**\n * The function selects an array of element from the given context.\n *\n * @param  {string} selector - Selector string need fetch element\n * @param  {Document|Element} context - It is an optional type, That specifies a Dom context.\n * @param {boolean} needsVDOM ?\n * @returns {HTMLElement[]} ?\n * @private\n */\n// eslint-disable-next-line\nexport function selectAll(selector, context, needsVDOM) {\n    if (context === void 0) { context = document; }\n    selector = querySelectId(selector);\n    var nodeList = context.querySelectorAll(selector);\n    return nodeList;\n}\n/**\n * The function selects an id of element from the given context.\n *\n * @param  {string} selector - Selector string need fetch element\n * @returns {string} ?\n * @private\n */\nfunction querySelectId(selector) {\n    var charRegex = /(!|\"|\\$|%|&|'|\\(|\\)|\\*|\\/|:|;|<|=|\\?|@|\\]|\\^|`|{|}|\\||\\+|~)/g;\n    if (selector.match(/#[0-9]/g) || selector.match(charRegex)) {\n        var idList = selector.split(',');\n        for (var i = 0; i < idList.length; i++) {\n            var list = idList[i].split(' ');\n            for (var j = 0; j < list.length; j++) {\n                if (list[j].indexOf('#') > -1) {\n                    if (!list[j].match(/\\[.*\\]/)) {\n                        var splitId = list[j].split('#');\n                        if (splitId[1].match(/^\\d/) || splitId[1].match(charRegex)) {\n                            var setId = list[j].split('.');\n                            setId[0] = setId[0].replace(/#/, '[id=\\'') + '\\']';\n                            list[j] = setId.join('.');\n                        }\n                    }\n                }\n            }\n            idList[i] = list.join(' ');\n        }\n        return idList.join(',');\n    }\n    return selector;\n}\n/**\n * Returns single closest parent element based on class selector.\n *\n * @param  {Element} element - An element that need to find the closest element.\n * @param  {string} selector - A classSelector of closest element.\n * @returns {Element} ?\n * @private\n */\nexport function closest(element, selector) {\n    var el = element;\n    if (typeof el.closest === 'function') {\n        return el.closest(selector);\n    }\n    while (el && el.nodeType === 1) {\n        if (matches(el, selector)) {\n            return el;\n        }\n        el = el.parentNode;\n    }\n    return null;\n}\n/**\n * Returns all sibling elements of the given element.\n *\n * @param  {Element|Node} element - An element that need to get siblings.\n * @returns {Element[]} ?\n * @private\n */\nexport function siblings(element) {\n    var siblings = [];\n    var childNodes = Array.prototype.slice.call(element.parentNode.childNodes);\n    for (var _i = 0, childNodes_1 = childNodes; _i < childNodes_1.length; _i++) {\n        var curNode = childNodes_1[_i];\n        if (curNode.nodeType === Node.ELEMENT_NODE && element !== curNode) {\n            siblings.push(curNode);\n        }\n    }\n    return siblings;\n}\n/**\n * set the value if not exist. Otherwise set the existing value\n *\n * @param  {HTMLElement} element - An element to which we need to set value.\n * @param  {string} property - Property need to get or set.\n * @param  {string} value - value need to set.\n * @returns {string} ?\n * @private\n */\nexport function getAttributeOrDefault(element, property, value) {\n    var attrVal;\n    var isObj = isObject(element);\n    if (isObj) {\n        attrVal = getValue('attributes.' + property, element);\n    }\n    else {\n        attrVal = element.getAttribute(property);\n    }\n    if (isNullOrUndefined(attrVal) && value) {\n        if (!isObj) {\n            element.setAttribute(property, value.toString());\n        }\n        else {\n            element.attributes[property] = value;\n        }\n        attrVal = value;\n    }\n    return attrVal;\n}\n/**\n * Set the style attributes to Html element.\n *\n * @param {HTMLElement} element - Element which we want to set attributes\n * @param {any} attrs - Set the given attributes to element\n * @returns {void} ?\n * @private\n */\nexport function setStyleAttribute(element, attrs) {\n    if (attrs !== undefined) {\n        Object.keys(attrs).forEach(function (key) {\n            // eslint-disable-next-line\n            element.style[key] = attrs[key];\n        });\n    }\n}\n/**\n * Method for add and remove classes to a dom element.\n *\n * @param {Element} element - Element for add and remove classes\n * @param {string[]} addClasses - List of classes need to be add to the element\n * @param {string[]} removeClasses - List of classes need to be remove from the element\n * @returns {void} ?\n * @private\n */\nexport function classList(element, addClasses, removeClasses) {\n    addClass([element], addClasses);\n    removeClass([element], removeClasses);\n}\n/**\n * Method to check whether the element matches the given selector.\n *\n * @param {Element} element - Element to compare with the selector.\n * @param {string} selector - String selector which element will satisfy.\n * @returns {void} ?\n * @private\n */\nexport function matches(element, selector) {\n    // eslint-disable-next-line\n    var matches = element.matches || element.msMatchesSelector || element.webkitMatchesSelector;\n    if (matches) {\n        return matches.call(element, selector);\n    }\n    else {\n        return [].indexOf.call(document.querySelectorAll(selector), element) !== -1;\n    }\n}\n/**\n * Method to get the html text from DOM.\n *\n * @param {HTMLElement} ele - Element to compare with the selector.\n * @param {string} innerHTML - String selector which element will satisfy.\n * @returns {void} ?\n * @private\n */\nexport function includeInnerHTML(ele, innerHTML) {\n    ele.innerHTML = innerHTML;\n}\n/**\n * Method to get the containsclass.\n *\n * @param {HTMLElement} ele - Element to compare with the selector.\n * @param {string} className - String selector which element will satisfy.\n * @returns {any} ?\n * @private\n */\n// eslint-disable-next-line\nexport function containsClass(ele, className) {\n    if (isObject(ele)) {\n        // eslint-disable-next-line\n        return new RegExp('\\\\b' + className + '\\\\b', 'i').test(ele.attributes.className);\n    }\n    else {\n        return ele.classList.contains(className);\n    }\n}\n/**\n * Method to check whether the element matches the given selector.\n *\n * @param {Object} element - Element to compare with the selector.\n * @param {boolean} deep ?\n * @returns {any} ?\n * @private\n */\n// eslint-disable-next-line\nexport function cloneNode(element, deep) {\n    if (isObject(element)) {\n        if (deep) {\n            return extend({}, {}, element, true);\n        }\n    }\n    else {\n        return element.cloneNode(deep);\n    }\n}\n","import { isUndefined, isNullOrUndefined, merge, setImmediate, setValue, isBlazor, getValue, extend } from './util';\nimport { addClass, removeClass } from './dom';\nimport { Observer } from './observer';\nvar isColEName = new RegExp(']');\n/* tslint:enable:no-any */\n/**\n * Base library module is common module for Framework modules like touch,keyboard and etc.,\n *\n * @private\n */\nvar Base = /** @class */ (function () {\n    /**\n     * Base constructor accept options and element\n     *\n     * @param {Object} options ?\n     * @param {string} element ?\n     */\n    function Base(options, element) {\n        this.isRendered = false;\n        this.isComplexArraySetter = false;\n        this.isServerRendered = false;\n        this.allowServerDataBinding = true;\n        this.isProtectedOnChange = true;\n        this.properties = {};\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.bulkChanges = {};\n        this.refreshing = false;\n        this.ignoreCollectionWatch = false;\n        // eslint-disable-next-line\n        this.finalUpdate = function () { };\n        this.childChangedProperties = {};\n        this.modelObserver = new Observer(this);\n        if (!isUndefined(element)) {\n            if ('string' === typeof (element)) {\n                this.element = document.querySelector(element);\n            }\n            else {\n                this.element = element;\n            }\n            if (!isNullOrUndefined(this.element)) {\n                this.isProtectedOnChange = false;\n                this.addInstance();\n            }\n        }\n        if (!isUndefined(options)) {\n            this.setProperties(options, true);\n        }\n        this.isDestroyed = false;\n    }\n    /** Property base section */\n    /**\n     * Function used to set bunch of property at a time.\n     *\n     * @private\n     * @param  {Object} prop - JSON object which holds components properties.\n     * @param  {boolean} muteOnChange ? - Specifies to true when we set properties.\n     * @returns {void} ?\n     */\n    Base.prototype.setProperties = function (prop, muteOnChange) {\n        var prevDetection = this.isProtectedOnChange;\n        this.isProtectedOnChange = !!muteOnChange;\n        merge(this, prop);\n        if (muteOnChange !== true) {\n            merge(this.changedProperties, prop);\n            this.dataBind();\n        }\n        else if (isBlazor() && this.isRendered) {\n            this.serverDataBind(prop);\n        }\n        this.finalUpdate();\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.isProtectedOnChange = prevDetection;\n    };\n    /**\n     * Calls for child element data bind\n     *\n     * @param {Object} obj ?\n     * @param {Object} parent ?\n     * @returns {void} ?\n     */\n    // tslint:disable-next-line:no-any\n    Base.callChildDataBind = function (obj, parent) {\n        var keys = Object.keys(obj);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            if (parent[key] instanceof Array) {\n                for (var _a = 0, _b = parent[key]; _a < _b.length; _a++) {\n                    var obj_1 = _b[_a];\n                    if (obj_1.dataBind !== undefined) {\n                        obj_1.dataBind();\n                    }\n                }\n            }\n            else {\n                parent[key].dataBind();\n            }\n        }\n    };\n    Base.prototype.clearChanges = function () {\n        this.finalUpdate();\n        this.changedProperties = {};\n        this.oldProperties = {};\n        this.childChangedProperties = {};\n    };\n    /**\n     * Bind property changes immediately to components\n     *\n     * @returns {void} ?\n     */\n    Base.prototype.dataBind = function () {\n        Base.callChildDataBind(this.childChangedProperties, this);\n        if (Object.getOwnPropertyNames(this.changedProperties).length) {\n            var prevDetection = this.isProtectedOnChange;\n            var newChanges = this.changedProperties;\n            var oldChanges = this.oldProperties;\n            this.clearChanges();\n            this.isProtectedOnChange = true;\n            this.onPropertyChanged(newChanges, oldChanges);\n            this.isProtectedOnChange = prevDetection;\n        }\n    };\n    /* tslint:disable:no-any */\n    Base.prototype.serverDataBind = function (newChanges) {\n        if (!isBlazor()) {\n            return;\n        }\n        newChanges = newChanges ? newChanges : {};\n        extend(this.bulkChanges, {}, newChanges, true);\n        var sfBlazor = 'sfBlazor';\n        if (this.allowServerDataBinding && window[sfBlazor].updateModel) {\n            window[sfBlazor].updateModel(this);\n            this.bulkChanges = {};\n        }\n    };\n    /* tslint:enable:no-any */\n    Base.prototype.saveChanges = function (key, newValue, oldValue) {\n        if (isBlazor()) {\n            // tslint:disable-next-line:no-any\n            var newChanges = {};\n            newChanges[key] = newValue;\n            this.serverDataBind(newChanges);\n        }\n        if (this.isProtectedOnChange) {\n            return;\n        }\n        this.oldProperties[key] = oldValue;\n        this.changedProperties[key] = newValue;\n        this.finalUpdate();\n        this.finalUpdate = setImmediate(this.dataBind.bind(this));\n    };\n    /** Event Base Section */\n    /**\n     * Adds the handler to the given event listener.\n     *\n     * @param {string} eventName - A String that specifies the name of the event\n     * @param {Function} handler - Specifies the call to run when the event occurs.\n     * @returns {void} ?\n     */\n    Base.prototype.addEventListener = function (eventName, handler) {\n        this.modelObserver.on(eventName, handler);\n    };\n    /**\n     * Removes the handler from the given event listener.\n     *\n     * @param {string} eventName - A String that specifies the name of the event to remove\n     * @param {Function} handler - Specifies the function to remove\n     * @returns {void} ?\n     */\n    Base.prototype.removeEventListener = function (eventName, handler) {\n        this.modelObserver.off(eventName, handler);\n    };\n    /**\n     * Triggers the handlers in the specified event.\n     *\n     * @private\n     * @param {string} eventName - Specifies the event to trigger for the specified component properties.\n     * Can be a custom event, or any of the standard events.\n     * @param {Event} eventProp - Additional parameters to pass on to the event properties\n     * @param {Function} successHandler - this function will invoke after event successfully triggered\n     * @param {Function} errorHandler - this function will invoke after event if it failured to call.\n     * @returns {void} ?\n     */\n    Base.prototype.trigger = function (eventName, eventProp, successHandler, errorHandler) {\n        var _this = this;\n        if (this.isDestroyed !== true) {\n            var prevDetection = this.isProtectedOnChange;\n            this.isProtectedOnChange = false;\n            var data = this.modelObserver.notify(eventName, eventProp, successHandler, errorHandler);\n            if (isColEName.test(eventName)) {\n                var handler = getValue(eventName, this);\n                if (handler) {\n                    var blazor = 'Blazor';\n                    if (window[blazor]) {\n                        var promise = handler.call(this, eventProp);\n                        if (promise && typeof promise.then === 'function') {\n                            if (!successHandler) {\n                                data = promise;\n                            }\n                            else {\n                                promise.then(function (data) {\n                                    if (successHandler) {\n                                        data = typeof data === 'string' && _this.modelObserver.isJson(data) ?\n                                            JSON.parse(data) : data;\n                                        successHandler.call(_this, data);\n                                    }\n                                }).catch(function (data) {\n                                    if (errorHandler) {\n                                        data = typeof data === 'string' && _this.modelObserver.isJson(data) ? JSON.parse(data) : data;\n                                        errorHandler.call(_this, data);\n                                    }\n                                });\n                            }\n                        }\n                        else if (successHandler) {\n                            successHandler.call(this, eventProp);\n                        }\n                    }\n                    else {\n                        handler.call(this, eventProp);\n                        if (successHandler) {\n                            successHandler.call(this, eventProp);\n                        }\n                    }\n                }\n                else if (successHandler) {\n                    successHandler.call(this, eventProp);\n                }\n            }\n            this.isProtectedOnChange = prevDetection;\n            return data;\n        }\n    };\n    /**\n     * To maintain instance in base class\n     *\n     * @returns {void} ?\n     */\n    Base.prototype.addInstance = function () {\n        // Add module class to the root element\n        var moduleClass = 'e-' + this.getModuleName().toLowerCase();\n        addClass([this.element], ['e-lib', moduleClass]);\n        if (!isNullOrUndefined(this.element.ej2_instances)) {\n            this.element.ej2_instances.push(this);\n        }\n        else {\n            setValue('ej2_instances', [this], this.element);\n        }\n    };\n    /**\n     * To remove the instance from the element\n     *\n     * @returns {void} ?\n     */\n    Base.prototype.destroy = function () {\n        var _this = this;\n        // eslint-disable-next-line\n        this.element.ej2_instances =\n            this.element.ej2_instances.filter(function (i) { return i !== _this; });\n        removeClass([this.element], ['e-' + this.getModuleName()]);\n        if (this.element.ej2_instances.length === 0) {\n            // Remove module class from the root element\n            removeClass([this.element], ['e-lib']);\n        }\n        this.clearChanges();\n        this.modelObserver.destroy();\n        this.isDestroyed = true;\n    };\n    return Base;\n}());\nexport { Base };\n/**\n * Global function to get the component instance from the rendered element.\n *\n * @param {HTMLElement} elem Specifies the HTMLElement or element id string.\n * @param {string} comp Specifies the component module name or Component.\n * @returns {any} ?\n */\n// tslint:disable-next-line:no-any\nexport function getComponent(elem, comp) {\n    var instance;\n    var i;\n    var ele = typeof elem === 'string' ? document.getElementById(elem) : elem;\n    for (i = 0; i < ele.ej2_instances.length; i++) {\n        instance = ele.ej2_instances[i];\n        if (typeof comp === 'string') {\n            var compName = instance.getModuleName();\n            if (comp === compName) {\n                return instance;\n            }\n        }\n        else {\n            // tslint:disable-next-line:no-any\n            if (instance instanceof comp) {\n                return instance;\n            }\n        }\n    }\n    return undefined;\n}\n/**\n * Function to remove the child instances.\n *\n * @param {HTMLElement} element ?\n * @return {void}\n * @private\n */\n// tslint:disable-next-line:no-any\nexport function removeChildInstance(element) {\n    // tslint:disable-next-line:no-any\n    var childEle = [].slice.call(element.getElementsByClassName('e-control'));\n    for (var i = 0; i < childEle.length; i++) {\n        var compName = childEle[i].classList[1].split('e-')[1];\n        // tslint:disable-next-line:no-any\n        var compInstance = getComponent(childEle[i], compName);\n        if (!isUndefined(compInstance)) {\n            compInstance.destroy();\n        }\n    }\n}\n","import { createInstance, isUndefined, merge, extend, getValue } from './util';\n/**\n * Returns the Class Object\n *\n * @param {ClassObject} instance - instance of ClassObject\n * @param {string} curKey - key of the current instance\n * @param {Object} defaultValue - default Value\n * @param {Object[]} type ?\n * @returns {ClassObject} ?\n */\n// eslint-disable-next-line\nfunction getObject(instance, curKey, defaultValue, type) {\n    // eslint-disable-next-line\n    if (!instance.properties.hasOwnProperty(curKey) || !(instance.properties[curKey] instanceof type)) {\n        instance.properties[curKey] = createInstance(type, [instance, curKey, defaultValue]);\n    }\n    return instance.properties[curKey];\n}\n/**\n * Returns object array\n *\n * @param {ClassObject} instance ?\n * @param {string} curKey ?\n * @param {Object[]} defaultValue ?\n * @param {Object} type ?\n * @param {boolean} isSetter ?\n * @param {boolean} isFactory ?\n * @returns {Object[]} ?\n */\n// eslint-disable-next-line\nfunction getObjectArray(instance, curKey, defaultValue, type, isSetter, isFactory) {\n    var result = [];\n    var len = defaultValue ? defaultValue.length : 0;\n    for (var i = 0; i < len; i++) {\n        var curType = type;\n        if (isFactory) {\n            curType = type(defaultValue[i], instance);\n        }\n        if (isSetter) {\n            var inst = createInstance(curType, [instance, curKey, {}, true]);\n            inst.setProperties(defaultValue[i], true);\n            result.push(inst);\n        }\n        else {\n            result.push(createInstance(curType, [instance, curKey, defaultValue[i], false]));\n        }\n    }\n    return result;\n}\n/**\n * Returns the properties of the object\n *\n * @param {Object} defaultValue ?\n * @param {string} curKey ?\n * @returns {void} ?\n */\nfunction propertyGetter(defaultValue, curKey) {\n    return function () {\n        // eslint-disable-next-line\n        if (!this.properties.hasOwnProperty(curKey)) {\n            this.properties[curKey] = defaultValue;\n        }\n        return this.properties[curKey];\n    };\n}\n/**\n * Set the properties for the object\n *\n * @param {Object} defaultValue ?\n * @param {string} curKey ?\n * @returns {void} ?\n */\nfunction propertySetter(defaultValue, curKey) {\n    return function (newValue) {\n        if (this.properties[curKey] !== newValue) {\n            // eslint-disable-next-line\n            var oldVal = this.properties.hasOwnProperty(curKey) ? this.properties[curKey] : defaultValue;\n            this.saveChanges(curKey, newValue, oldVal);\n            this.properties[curKey] = newValue;\n        }\n    };\n}\n/**\n * Returns complex objects\n *\n * @param {Object} defaultValue ?\n * @param {string} curKey ?\n * @param {Object[]} type ?\n * @returns {void} ?\n */\n// eslint-disable-next-line\nfunction complexGetter(defaultValue, curKey, type) {\n    return function () {\n        return getObject(this, curKey, defaultValue, type);\n    };\n}\n/**\n * Sets complex objects\n *\n * @param {Object} defaultValue ?\n * @param {string} curKey ?\n * @param {Object[]} type ?\n * @returns {void} ?\n */\nfunction complexSetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        getObject(this, curKey, defaultValue, type).setProperties(newValue);\n    };\n}\n/**\n *\n * @param {Object} defaultValue ?\n * @param {string} curKey ?\n * @param {FunctionConstructor} type ?\n * @returns {void} ?\n */\n// eslint-disable-next-line\nfunction complexFactoryGetter(defaultValue, curKey, type) {\n    return function () {\n        var curType = type({});\n        // eslint-disable-next-line\n        if (this.properties.hasOwnProperty(curKey)) {\n            return this.properties[curKey];\n        }\n        else {\n            return getObject(this, curKey, defaultValue, curType);\n        }\n    };\n}\n/**\n *\n * @param {Object} defaultValue ?\n * @param {string} curKey ?\n * @param {Object[]} type ?\n * @returns {void} ?\n */\nfunction complexFactorySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        var curType = type(newValue, this);\n        getObject(this, curKey, defaultValue, curType).setProperties(newValue);\n    };\n}\n/**\n *\n * @param {Object[]} defaultValue ?\n * @param {string} curKey ?\n * @param {Object[]} type ?\n * @returns {void} ?\n */\nfunction complexArrayGetter(defaultValue, curKey, type) {\n    return function () {\n        var _this = this;\n        // eslint-disable-next-line\n        if (!this.properties.hasOwnProperty(curKey)) {\n            var defCollection = getObjectArray(this, curKey, defaultValue, type, false);\n            this.properties[curKey] = defCollection;\n        }\n        var ignore = ((this.controlParent !== undefined && this.controlParent.ignoreCollectionWatch)\n            || this.ignoreCollectionWatch);\n        // eslint-disable-next-line\n        if (!this.properties[curKey].hasOwnProperty('push') && !ignore) {\n            ['push', 'pop'].forEach(function (extendFunc) {\n                var descriptor = {\n                    value: complexArrayDefinedCallback(extendFunc, curKey, type, _this.properties[curKey]).bind(_this),\n                    configurable: true\n                };\n                Object.defineProperty(_this.properties[curKey], extendFunc, descriptor);\n            });\n        }\n        // eslint-disable-next-line\n        if (!this.properties[curKey].hasOwnProperty('isComplexArray')) {\n            Object.defineProperty(this.properties[curKey], 'isComplexArray', { value: true });\n        }\n        return this.properties[curKey];\n    };\n}\n/**\n *\n * @param {Object[]} defaultValue ?\n * @param {string} curKey ?\n * @param {Object[]} type ?\n * @returns {void} ?\n */\nfunction complexArraySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        this.isComplexArraySetter = true;\n        var oldValueCollection = getObjectArray(this, curKey, defaultValue, type, false);\n        var newValCollection = getObjectArray(this, curKey, newValue, type, true);\n        this.isComplexArraySetter = false;\n        this.saveChanges(curKey, newValCollection, oldValueCollection);\n        this.properties[curKey] = newValCollection;\n    };\n}\n/**\n *\n * @param {Object[]} defaultValue ?\n * @param {string} curKey ?\n * @param {Object[]} type ?\n * @returns {void} ?\n */\nfunction complexArrayFactorySetter(defaultValue, curKey, type) {\n    return function (newValue) {\n        // eslint-disable-next-line\n        var oldValueCollection = this.properties.hasOwnProperty(curKey) ? this.properties[curKey] : defaultValue;\n        var newValCollection = getObjectArray(this, curKey, newValue, type, true, true);\n        this.saveChanges(curKey, newValCollection, oldValueCollection);\n        this.properties[curKey] = newValCollection;\n    };\n}\n/**\n *\n * @param {Object[]} defaultValue ?\n * @param {string} curKey ?\n * @param {FunctionConstructor} type ?\n * @returns {void} ?\n */\nfunction complexArrayFactoryGetter(defaultValue, curKey, type) {\n    return function () {\n        var curType = type({});\n        // eslint-disable-next-line\n        if (!this.properties.hasOwnProperty(curKey)) {\n            var defCollection = getObjectArray(this, curKey, defaultValue, curType, false);\n            this.properties[curKey] = defCollection;\n        }\n        return this.properties[curKey];\n    };\n}\n/**\n *\n * @param {string} dFunc ?\n * @param {string} curKey ?\n * @param {Object} type ?\n * @param {Object} prop ?\n * @returns {Object} ?\n */\nfunction complexArrayDefinedCallback(dFunc, curKey, type, prop) {\n    /* tslint:disable no-function-expression */\n    return function () {\n        var newValue = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newValue[_i] = arguments[_i];\n        }\n        var keyString = this.propName ? this.getParentKey() + '.' + curKey + '-' : curKey + '-';\n        switch (dFunc) {\n            case 'push':\n                for (var i = 0; i < newValue.length; i++) {\n                    Array.prototype[dFunc].apply(prop, [newValue[i]]);\n                    var model_1 = getArrayModel(keyString + (prop.length - 1), newValue[i], !this.controlParent, dFunc);\n                    this.serverDataBind(model_1, newValue[i], false, dFunc);\n                }\n                break;\n            case 'pop':\n                Array.prototype[dFunc].apply(prop);\n                // eslint-disable-next-line\n                var model = getArrayModel(keyString + prop.length, null, !this.controlParent, dFunc);\n                this.serverDataBind(model, { ejsAction: 'pop' }, false, dFunc);\n                break;\n        }\n        return prop;\n    };\n}\n/**\n *\n * @param {string} keyString ?\n * @param {Object} value ?\n * @param {boolean} isControlParent ?\n * @param {string} arrayFunction ?\n * @returns {Object} ?\n */\nfunction getArrayModel(keyString, value, isControlParent, arrayFunction) {\n    var modelObject = keyString;\n    if (isControlParent) {\n        modelObject = {};\n        modelObject[keyString] = value;\n        if (value && typeof value === 'object') {\n            var action = 'ejsAction';\n            modelObject[keyString][action] = arrayFunction;\n        }\n    }\n    return modelObject;\n}\n// eslint-disable-next-line\n/**\n * Method used to create property. General syntax below.\n *\n * @param {Object} defaultValue - Specifies the default value of property.\n * @returns {PropertyDecorator} ?\n * ```\n * @Property('TypeScript')\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Property(defaultValue) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: propertySetter(defaultValue, key),\n            get: propertyGetter(defaultValue, key),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'prop', defaultValue);\n    };\n}\n/**\n * Method used to create complex property. General syntax below.\n *\n * @param  {any} defaultValue - Specifies the default value of property.\n * @param  {Function} type - Specifies the class type of complex object.\n * @returns {PropertyDecorator} ?\n * ```\n * @Complex<Type>({},Type)\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Complex(defaultValue, type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexSetter(defaultValue, key, type),\n            get: complexGetter(defaultValue, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'complexProp', defaultValue, type);\n    };\n}\n/**\n * Method used to create complex Factory property. General syntax below.\n *\n * @param  {Function} type - Specifies the class factory type of complex object.\n * @returns {PropertyDecorator} ?\n * ```\n * @ComplexFactory(defaultType, factoryFunction)\n * propertyName: Type1 | Type2;\n * ```\n * @private\n */\nexport function ComplexFactory(type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexFactorySetter({}, key, type),\n            get: complexFactoryGetter({}, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'complexProp', {}, type);\n    };\n}\n/**\n * Method used to create complex array property. General syntax below.\n *\n * @param  {any} defaultValue - Specifies the default value of property.\n * @param  {Function} type - Specifies the class type of complex object.\n * @returns {PropertyDecorator} ?\n * ```\n * @Collection([], Type);\n * propertyName: Type;\n * ```\n * @private\n */\nexport function Collection(defaultValue, type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexArraySetter(defaultValue, key, type),\n            get: complexArrayGetter(defaultValue, key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'colProp', defaultValue, type);\n    };\n}\n/**\n * Method used to create complex factory array property. General syntax below.\n *\n * @param  {Function} type - Specifies the class type of complex object.\n * @returns {PropertyCollectionInfo} ?\n * ```\n * @Collection([], Type);\n * propertyName: Type;\n * ```\n * @private\n */\nexport function CollectionFactory(type) {\n    return function (target, key) {\n        var propertyDescriptor = {\n            set: complexArrayFactorySetter([], key, type),\n            get: complexArrayFactoryGetter([], key, type),\n            enumerable: true,\n            configurable: true\n        };\n        //new property creation\n        Object.defineProperty(target, key, propertyDescriptor);\n        addPropertyCollection(target, key, 'colProp', {}, type);\n    };\n}\n/**\n * Method used to create event property. General syntax below.\n *\n * @returns {PropertyDecorator} ?\n * ```\n * @Event(()=>{return true;})\n * ```\n * @private\n */\nexport function Event() {\n    return function (target, key) {\n        var eventDescriptor = {\n            set: function (newValue) {\n                var oldValue = this.properties[key];\n                if (oldValue !== newValue) {\n                    var finalContext = getParentContext(this, key);\n                    if (isUndefined(oldValue) === false) {\n                        finalContext.context.removeEventListener(finalContext.prefix, oldValue);\n                    }\n                    finalContext.context.addEventListener(finalContext.prefix, newValue);\n                    this.properties[key] = newValue;\n                }\n            },\n            get: propertyGetter(undefined, key),\n            enumerable: true,\n            configurable: true\n        };\n        Object.defineProperty(target, key, eventDescriptor);\n        addPropertyCollection(target, key, 'event');\n    };\n}\n/**\n * NotifyPropertyChanges is triggers the call back when the property has been changed.\n *\n * @param {Function} classConstructor ?\n * @returns {void} ?\n * ```\n *  @NotifyPropertyChanges\n * class DemoClass implements INotifyPropertyChanged {\n *\n *     @Property()\n *     property1: string;\n *\n *     dataBind: () => void;\n *\n *     constructor() { }\n *\n *     onPropertyChanged(newProp: any, oldProp: any) {\n *         // Called when property changed\n *     }\n * }\n * ```\n * @private\n */\n// eslint-disable-next-line\nexport function NotifyPropertyChanges(classConstructor) {\n    /** Need to code */\n}\n/**\n * Method  used to create the builderObject for the target component.\n *\n * @param {BuildInfo} target ?\n * @param {string} key ?\n * @param {string} propertyType ?\n * @param {Object} defaultValue ?\n * @param {Function} type ?\n * @returns {void} ?\n * @private\n */\nfunction addPropertyCollection(target, key, propertyType, defaultValue, type) {\n    if (isUndefined(target.propList)) {\n        target.propList = {\n            props: [],\n            complexProps: [],\n            colProps: [],\n            events: [],\n            propNames: [],\n            complexPropNames: [],\n            colPropNames: [],\n            eventNames: []\n        };\n    }\n    // eslint-disable-next-line\n    target.propList[propertyType + 's'].push({\n        propertyName: key,\n        defaultValue: defaultValue,\n        type: type\n    });\n    // eslint-disable-next-line\n    target.propList[propertyType + 'Names'].push(key);\n}\n/**\n * Returns an object containing the builder properties\n *\n * @param {Function} component ?\n * @returns {Object} ?\n * @private\n */\nfunction getBuilderProperties(component) {\n    if (isUndefined(component.prototype.builderObject)) {\n        component.prototype.builderObject = {\n            properties: {}, propCollections: [], add: function () {\n                this.isPropertyArray = true;\n                this.propCollections.push(extend({}, this.properties, {}));\n            }\n        };\n        var rex = /complex/;\n        for (var _i = 0, _a = Object.keys(component.prototype.propList); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var _loop_1 = function (prop) {\n                if (rex.test(key)) {\n                    component.prototype.builderObject[prop.propertyName] = function (value) {\n                        var childType = {};\n                        merge(childType, getBuilderProperties(prop.type));\n                        value(childType);\n                        var tempValue;\n                        if (!childType.isPropertyArray) {\n                            tempValue = extend({}, childType.properties, {});\n                        }\n                        else {\n                            tempValue = childType.propCollections;\n                        }\n                        this.properties[prop.propertyName] = tempValue;\n                        childType.properties = {};\n                        childType.propCollections = [];\n                        childType.isPropertyArray = false;\n                        return this;\n                    };\n                }\n                else {\n                    component.prototype.builderObject[prop.propertyName] = function (value) {\n                        this.properties[prop.propertyName] = value;\n                        return this;\n                    };\n                }\n            };\n            for (var _b = 0, _c = component.prototype.propList[key]; _b < _c.length; _b++) {\n                var prop = _c[_b];\n                _loop_1(prop);\n            }\n        }\n    }\n    return component.prototype.builderObject;\n}\n/**\n * Method used to create builder for the components\n *\n * @param {any} component -specifies the target component for which builder to be created.\n * @returns {Object} ?\n * @private\n */\nexport function CreateBuilder(component) {\n    var builderFunction = function (element) {\n        this.element = element;\n        return this;\n    };\n    var instanceFunction = function (element) {\n        // eslint-disable-next-line\n        if (!builderFunction.prototype.hasOwnProperty('create')) {\n            builderFunction.prototype = getBuilderProperties(component);\n            builderFunction.prototype.create = function () {\n                var temp = extend({}, {}, this.properties);\n                this.properties = {};\n                return new component(temp, this.element);\n            };\n        }\n        return new builderFunction(element);\n    };\n    return instanceFunction;\n}\n/**\n * Returns parent options for the object\n *\n * @param {Object} context ?\n * @param {string} prefix ?\n * @returns {ParentOption} ?\n * @private\n */\nfunction getParentContext(context, prefix) {\n    // eslint-disable-next-line\n    if (context.hasOwnProperty('parentObj') === false) {\n        return { context: context, prefix: prefix };\n    }\n    else {\n        var curText = getValue('propName', context);\n        if (curText) {\n            prefix = curText + '-' + prefix;\n        }\n        return getParentContext(getValue('parentObj', context), prefix);\n    }\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { createElement, selectAll, closest } from './dom';\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { EventHandler } from './event-handler';\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\n/**\n * The Animation framework provide options to animate the html DOM elements\n * ```typescript\n *   let animeObject = new Animation({\n *      name: 'SlideLeftIn',\n *      duration: 1000\n *   });\n *   animeObject.animate('#anime1');\n *   animeObject.animate('#anime2', { duration: 500 });\n * ```\n */\nvar Animation = /** @class */ (function (_super) {\n    __extends(Animation, _super);\n    function Animation(options) {\n        var _this = _super.call(this, options, undefined) || this;\n        /**\n         * @private\n         */\n        _this.easing = {\n            ease: 'cubic-bezier(0.250, 0.100, 0.250, 1.000)',\n            linear: 'cubic-bezier(0.250, 0.250, 0.750, 0.750)',\n            easeIn: 'cubic-bezier(0.420, 0.000, 1.000, 1.000)',\n            easeOut: 'cubic-bezier(0.000, 0.000, 0.580, 1.000)',\n            easeInOut: 'cubic-bezier(0.420, 0.000, 0.580, 1.000)',\n            elasticInOut: 'cubic-bezier(0.5,-0.58,0.38,1.81)',\n            elasticIn: 'cubic-bezier(0.17,0.67,0.59,1.81)',\n            elasticOut: 'cubic-bezier(0.7,-0.75,0.99,1.01)'\n        };\n        return _this;\n    }\n    Animation_1 = Animation;\n    /**\n     * Applies animation to the current element.\n     *\n     * @param {string | HTMLElement} element - Element which needs to be animated.\n     * @param {AnimationModel} options - Overriding default animation settings.\n     * @returns {void} ?\n     */\n    Animation.prototype.animate = function (element, options) {\n        options = !options ? {} : options;\n        var model = this.getModel(options);\n        if (typeof element === 'string') {\n            var elements = Array.prototype.slice.call(selectAll(element, document));\n            for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n                var element_1 = elements_1[_i];\n                model.element = element_1;\n                Animation_1.delayAnimation(model);\n            }\n        }\n        else {\n            model.element = element;\n            Animation_1.delayAnimation(model);\n        }\n    };\n    /**\n     * Stop the animation effect on animated element.\n     *\n     * @param {HTMLElement} element - Element which needs to be stop the animation.\n     * @param {AnimationOptions} model - Handling the animation model at stop function.\n     * @return {void}\n     */\n    Animation.stop = function (element, model) {\n        element.style.animation = '';\n        element.removeAttribute('e-animate');\n        var animationId = element.getAttribute('e-animation-id');\n        if (animationId) {\n            var frameId = parseInt(animationId, 10);\n            cancelAnimationFrame(frameId);\n            element.removeAttribute('e-animation-id');\n        }\n        if (model && model.end) {\n            model.end.call(this, model);\n        }\n    };\n    /**\n     * Set delay to animation element\n     *\n     * @param {AnimationModel} model ?\n     * @returns {void}\n     */\n    Animation.delayAnimation = function (model) {\n        if (model.delay) {\n            setTimeout(function () { Animation_1.applyAnimation(model); }, model.delay);\n        }\n        else {\n            Animation_1.applyAnimation(model);\n        }\n    };\n    /**\n     * Triggers animation\n     *\n     * @param {AnimationModel} model ?\n     * @returns {void}\n     */\n    Animation.applyAnimation = function (model) {\n        var _this = this;\n        model.timeStamp = 0;\n        var step = 0;\n        var timerId = 0;\n        var prevTimeStamp = 0;\n        var duration = model.duration;\n        model.element.setAttribute('e-animate', 'true');\n        var startAnimation = function (timeStamp) {\n            try {\n                if (timeStamp) {\n                    // let step: number = model.timeStamp = timeStamp - startTime;\n                    /** phantomjs workaround for timestamp fix */\n                    prevTimeStamp = prevTimeStamp === 0 ? timeStamp : prevTimeStamp;\n                    model.timeStamp = (timeStamp + model.timeStamp) - prevTimeStamp;\n                    prevTimeStamp = timeStamp;\n                    /** phantomjs workaround end */\n                    // trigger animation begin event\n                    if (!step && model.begin) {\n                        model.begin.call(_this, model);\n                    }\n                    step = step + 1;\n                    var avg = model.timeStamp / step;\n                    if (model.timeStamp < duration && model.timeStamp + avg < duration && model.element.getAttribute('e-animate')) {\n                        // apply animation effect to the current element\n                        model.element.style.animation = model.name + ' ' + model.duration + 'ms ' + model.timingFunction;\n                        if (model.progress) {\n                            model.progress.call(_this, model);\n                        }\n                        // repeat requestAnimationFrame\n                        requestAnimationFrame(startAnimation);\n                    }\n                    else {\n                        // clear requestAnimationFrame\n                        cancelAnimationFrame(timerId);\n                        model.element.removeAttribute('e-animation-id');\n                        model.element.removeAttribute('e-animate');\n                        model.element.style.animation = '';\n                        if (model.end) {\n                            model.end.call(_this, model);\n                        }\n                    }\n                }\n                else {\n                    //startTime = performance.now();\n                    // set initial requestAnimationFrame\n                    timerId = requestAnimationFrame(startAnimation);\n                    model.element.setAttribute('e-animation-id', timerId.toString());\n                }\n            }\n            catch (e) {\n                cancelAnimationFrame(timerId);\n                model.element.removeAttribute('e-animation-id');\n                if (model.fail) {\n                    model.fail.call(_this, e);\n                }\n            }\n        };\n        startAnimation();\n    };\n    /**\n     * Returns Animation Model\n     *\n     * @param {AnimationModel} options ?\n     * @returns {AnimationModel} ?\n     */\n    Animation.prototype.getModel = function (options) {\n        return {\n            name: options.name || this.name,\n            delay: options.delay || this.delay,\n            duration: (options.duration !== undefined ? options.duration : this.duration),\n            begin: options.begin || this.begin,\n            end: options.end || this.end,\n            fail: options.fail || this.fail,\n            progress: options.progress || this.progress,\n            timingFunction: this.easing[options.timingFunction] ? this.easing[options.timingFunction] :\n                (options.timingFunction || this.easing[this.timingFunction])\n        };\n    };\n    /**\n     * @private\n     * @param {AnimationModel} newProp ?\n     * @param {AnimationModel} oldProp ?\n     * @returns {void} ?\n     */\n    // eslint-disable-next-line\n    Animation.prototype.onPropertyChanged = function (newProp, oldProp) {\n        // no code needed\n    };\n    /**\n     * Returns module name as animation\n     *\n     * @private\n     * @returns {void} ?\n     */\n    Animation.prototype.getModuleName = function () {\n        return 'animation';\n    };\n    /**\n     *\n     * @private\n     * @returns {void} ?\n     */\n    Animation.prototype.destroy = function () {\n        //Override base destroy;\n    };\n    var Animation_1;\n    __decorate([\n        Property('FadeIn')\n    ], Animation.prototype, \"name\", void 0);\n    __decorate([\n        Property(400)\n    ], Animation.prototype, \"duration\", void 0);\n    __decorate([\n        Property('ease')\n    ], Animation.prototype, \"timingFunction\", void 0);\n    __decorate([\n        Property(0)\n    ], Animation.prototype, \"delay\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"progress\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"begin\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"end\", void 0);\n    __decorate([\n        Event()\n    ], Animation.prototype, \"fail\", void 0);\n    Animation = Animation_1 = __decorate([\n        NotifyPropertyChanges\n    ], Animation);\n    return Animation;\n}(Base));\nexport { Animation };\n/**\n * Ripple provides material theme's wave effect when an element is clicked\n * ```html\n * <div id='ripple'></div>\n * <script>\n *   rippleEffect(document.getElementById('ripple'));\n * </script>\n * ```\n *\n * @private\n * @param {HTMLElement} element - Target element\n * @param {RippleOptions} rippleOptions - Ripple options .\n * @param {Function} done .\n * @returns {void} .\n */\nexport function rippleEffect(element, rippleOptions, done) {\n    var rippleModel = getRippleModel(rippleOptions);\n    if (rippleModel.rippleFlag === false || (rippleModel.rippleFlag === undefined && !isRippleEnabled)) {\n        return (function () { });\n    }\n    element.setAttribute('data-ripple', 'true');\n    EventHandler.add(element, 'mousedown', rippleHandler, { parent: element, rippleOptions: rippleModel });\n    EventHandler.add(element, 'mouseup', rippleUpHandler, { parent: element, rippleOptions: rippleModel, done: done });\n    EventHandler.add(element, 'mouseleave', rippleLeaveHandler, { parent: element, rippleOptions: rippleModel });\n    if (Browser.isPointer) {\n        EventHandler.add(element, 'transitionend', rippleLeaveHandler, { parent: element, rippleOptions: rippleModel });\n    }\n    return (function () {\n        element.removeAttribute('data-ripple');\n        EventHandler.remove(element, 'mousedown', rippleHandler);\n        EventHandler.remove(element, 'mouseup', rippleUpHandler);\n        EventHandler.remove(element, 'mouseleave', rippleLeaveHandler);\n        EventHandler.remove(element, 'transitionend', rippleLeaveHandler);\n    });\n}\n/**\n * Handler for ripple model\n *\n * @param {RippleOptions} rippleOptions ?\n * @returns {RippleOptions} ?\n */\nfunction getRippleModel(rippleOptions) {\n    var rippleModel = {\n        selector: rippleOptions && rippleOptions.selector ? rippleOptions.selector : null,\n        ignore: rippleOptions && rippleOptions.ignore ? rippleOptions.ignore : null,\n        rippleFlag: rippleOptions && rippleOptions.rippleFlag,\n        isCenterRipple: rippleOptions && rippleOptions.isCenterRipple,\n        duration: rippleOptions && rippleOptions.duration ? rippleOptions.duration : 350\n    };\n    return rippleModel;\n}\n/**\n * Handler for ripple event\n *\n * @param {MouseEvent} e ?\n * @returns {void} ?\n * @private\n */\nfunction rippleHandler(e) {\n    var target = (e.target);\n    var selector = this.rippleOptions.selector;\n    var element = selector ? closest(target, selector) : target;\n    if (!element || (this.rippleOptions && closest(target, this.rippleOptions.ignore))) {\n        return;\n    }\n    var offset = element.getBoundingClientRect();\n    var offsetX = e.pageX - document.body.scrollLeft;\n    var offsetY = e.pageY - ((!document.body.scrollTop && document.documentElement) ?\n        document.documentElement.scrollTop : document.body.scrollTop);\n    var pageX = Math.max(Math.abs(offsetX - offset.left), Math.abs(offsetX - offset.right));\n    var pageY = Math.max(Math.abs(offsetY - offset.top), Math.abs(offsetY - offset.bottom));\n    var radius = Math.sqrt(pageX * pageX + pageY * pageY);\n    var diameter = radius * 2 + 'px';\n    var x = offsetX - offset.left - radius;\n    var y = offsetY - offset.top - radius;\n    if (this.rippleOptions && this.rippleOptions.isCenterRipple) {\n        x = 0;\n        y = 0;\n        diameter = '100%';\n    }\n    element.classList.add('e-ripple');\n    var duration = this.rippleOptions.duration.toString();\n    var styles = 'width: ' + diameter + ';height: ' + diameter + ';left: ' + x + 'px;top: ' + y + 'px;' +\n        'transition-duration: ' + duration + 'ms;';\n    var rippleElement = createElement('div', { className: 'e-ripple-element', styles: styles });\n    element.appendChild(rippleElement);\n    window.getComputedStyle(rippleElement).getPropertyValue('opacity');\n    rippleElement.style.transform = 'scale(1)';\n    if (element !== this.parent) {\n        EventHandler.add(element, 'mouseleave', rippleLeaveHandler, { parent: this.parent, rippleOptions: this.rippleOptions });\n    }\n}\n/**\n * Handler for ripple element mouse up event\n *\n * @param {MouseEvent} e ?\n * @returns {void} ?\n * @private\n */\nfunction rippleUpHandler(e) {\n    removeRipple(e, this);\n}\n/**\n * Handler for ripple element mouse move event\n *\n * @param {MouseEvent} e ?\n * @returns {void} ?\n * @private\n */\nfunction rippleLeaveHandler(e) {\n    removeRipple(e, this);\n}\n/**\n * Handler for removing ripple element\n *\n * @param {MouseEvent} e ?\n * @param {RippleArgs} eventArgs ?\n * @returns {void} ?\n * @private\n */\nfunction removeRipple(e, eventArgs) {\n    var duration = eventArgs.rippleOptions.duration;\n    var target = (e.target);\n    var selector = eventArgs.rippleOptions.selector;\n    var element = selector ? closest(target, selector) : target;\n    if (!element || (element && element.className.indexOf('e-ripple') === -1)) {\n        return;\n    }\n    var rippleElements = selectAll('.e-ripple-element', element);\n    var rippleElement = rippleElements[rippleElements.length - 1];\n    if (rippleElement) {\n        rippleElement.style.opacity = '0.5';\n    }\n    if (eventArgs.parent !== element) {\n        EventHandler.remove(element, 'mouseleave', rippleLeaveHandler);\n    }\n    /* tslint:disable:align */\n    setTimeout(function () {\n        if (rippleElement && rippleElement.parentNode) {\n            rippleElement.parentNode.removeChild(rippleElement);\n        }\n        if (!element.getElementsByClassName('e-ripple-element').length) {\n            element.classList.remove('e-ripple');\n        }\n        if (eventArgs.done) {\n            eventArgs.done(e);\n        }\n    }, duration);\n}\nexport var isRippleEnabled = false;\n/**\n * Animation Module provides support to enable ripple effect functionality to Essential JS 2 components.\n *\n * @param {boolean} isRipple Specifies the boolean value to enable or disable ripple effect.\n * @returns {boolean} ?\n */\nexport function enableRipple(isRipple) {\n    isRippleEnabled = isRipple;\n    return isRippleEnabled;\n}\n","/**\n * Module loading operations\n */\nimport { createInstance, setValue, getValue, deleteObject } from './util';\nvar MODULE_SUFFIX = 'Module';\nvar ModuleLoader = /** @class */ (function () {\n    function ModuleLoader(parent) {\n        this.loadedModules = [];\n        this.parent = parent;\n    }\n    /**\n     * Inject required modules in component library\n     *\n     * @returns {void} ?\n     * @param {ModuleDeclaration[]} requiredModules - Array of modules to be required\n     * @param {Function[]} moduleList - Array of modules to be injected from sample side\n     */\n    ModuleLoader.prototype.inject = function (requiredModules, moduleList) {\n        var reqLength = requiredModules.length;\n        if (reqLength === 0) {\n            this.clean();\n            return;\n        }\n        if (this.loadedModules.length) {\n            this.clearUnusedModule(requiredModules);\n        }\n        for (var i = 0; i < reqLength; i++) {\n            var modl = requiredModules[i];\n            for (var _i = 0, moduleList_1 = moduleList; _i < moduleList_1.length; _i++) {\n                var module = moduleList_1[_i];\n                var modName = modl.member;\n                if (module.prototype.getModuleName() === modl.member && !this.isModuleLoaded(modName)) {\n                    var moduleObject = createInstance(module, modl.args);\n                    var memberName = this.getMemberName(modName);\n                    if (modl.isProperty) {\n                        setValue(memberName, module, this.parent);\n                    }\n                    else {\n                        setValue(memberName, moduleObject, this.parent);\n                    }\n                    var loadedModule = modl;\n                    loadedModule.member = memberName;\n                    this.loadedModules.push(loadedModule);\n                }\n            }\n        }\n    };\n    /**\n     * To remove the created object while destroying the control\n     *\n     * @returns {void}\n     */\n    ModuleLoader.prototype.clean = function () {\n        for (var _i = 0, _a = this.loadedModules; _i < _a.length; _i++) {\n            var modules = _a[_i];\n            if (!modules.isProperty) {\n                getValue(modules.member, this.parent).destroy();\n            }\n        }\n        this.loadedModules = [];\n    };\n    /**\n     * Removes all unused modules\n     *\n     * @param {ModuleDeclaration[]} moduleList ?\n     * @returns {void} ?\n     */\n    ModuleLoader.prototype.clearUnusedModule = function (moduleList) {\n        var _this = this;\n        var usedModules = moduleList.map(function (arg) { return _this.getMemberName(arg.member); });\n        var removableModule = this.loadedModules.filter(function (module) {\n            return usedModules.indexOf(module.member) === -1;\n        });\n        for (var _i = 0, removableModule_1 = removableModule; _i < removableModule_1.length; _i++) {\n            var mod = removableModule_1[_i];\n            if (!mod.isProperty) {\n                getValue(mod.member, this.parent).destroy();\n            }\n            this.loadedModules.splice(this.loadedModules.indexOf(mod), 1);\n            deleteObject(this.parent, mod.member);\n        }\n    };\n    /**\n     * To get the name of the member.\n     *\n     * @param {string} name ?\n     * @returns {string} ?\n     */\n    ModuleLoader.prototype.getMemberName = function (name) {\n        return name[0].toLowerCase() + name.substring(1) + MODULE_SUFFIX;\n    };\n    /**\n     * Returns boolean based on whether the module specified is loaded or not\n     *\n     * @param {string} modName ?\n     * @returns {boolean} ?\n     */\n    ModuleLoader.prototype.isModuleLoaded = function (modName) {\n        for (var _i = 0, _a = this.loadedModules; _i < _a.length; _i++) {\n            var mod = _a[_i];\n            if (mod.member === this.getMemberName(modName)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return ModuleLoader;\n}());\nexport { ModuleLoader };\n","import { getValue, setValue, merge, isBlazor } from './util';\nimport { Base } from './base';\n/**\n * To detect the changes for inner properties.\n *\n * @private\n */\nvar ChildProperty = /** @class */ (function () {\n    function ChildProperty(parent, propName, defaultValue, isArray) {\n        this.isComplexArraySetter = false;\n        this.properties = {};\n        this.changedProperties = {};\n        this.childChangedProperties = {};\n        this.oldProperties = {};\n        // eslint-disable-next-line\n        this.finalUpdate = function () { };\n        this.callChildDataBind = getValue('callChildDataBind', Base);\n        this.parentObj = parent;\n        this.controlParent = this.parentObj.controlParent || this.parentObj;\n        this.propName = propName;\n        this.isParentArray = isArray;\n        this.setProperties(defaultValue, true);\n    }\n    /**\n     * Updates the property changes\n     *\n     * @param {boolean} val ?\n     * @param {string} propName ?\n     * @returns {void} ?\n     */\n    ChildProperty.prototype.updateChange = function (val, propName) {\n        if (val === true) {\n            this.parentObj.childChangedProperties[propName] = val;\n        }\n        else {\n            delete this.parentObj.childChangedProperties[propName];\n        }\n        if (this.parentObj.updateChange) {\n            this.parentObj.updateChange(val, this.parentObj.propName);\n        }\n    };\n    /**\n     * Updates time out duration\n     *\n     * @returns {void} ?\n     */\n    ChildProperty.prototype.updateTimeOut = function () {\n        if (this.parentObj.updateTimeOut) {\n            this.parentObj.finalUpdate();\n            this.parentObj.updateTimeOut();\n        }\n        else {\n            var changeTime_1 = setTimeout(this.parentObj.dataBind.bind(this.parentObj));\n            var clearUpdate = function () {\n                clearTimeout(changeTime_1);\n            };\n            this.finalUpdate = clearUpdate;\n        }\n    };\n    /**\n     * Clears changed properties\n     *\n     * @returns {void} ?\n     */\n    ChildProperty.prototype.clearChanges = function () {\n        this.finalUpdate();\n        this.updateChange(false, this.propName);\n        this.oldProperties = {};\n        this.changedProperties = {};\n    };\n    /**\n     * Set property changes\n     *\n     * @param {Object} prop ?\n     * @param {boolean} muteOnChange ?\n     * @returns {void} ?\n     */\n    ChildProperty.prototype.setProperties = function (prop, muteOnChange) {\n        if (muteOnChange === true) {\n            merge(this, prop);\n            this.updateChange(false, this.propName);\n            this.clearChanges();\n        }\n        else {\n            merge(this, prop);\n        }\n    };\n    /**\n     * Binds data\n     *\n     * @returns {void} ?\n     */\n    ChildProperty.prototype.dataBind = function () {\n        this.callChildDataBind(this.childChangedProperties, this);\n        if (this.isParentArray) {\n            var curIndex = this.parentObj[this.propName].indexOf(this);\n            if (Object.keys(this.changedProperties).length) {\n                setValue(this.propName + '.' + curIndex, this.changedProperties, this.parentObj.changedProperties);\n                setValue(this.propName + '.' + curIndex, this.oldProperties, this.parentObj.oldProperties);\n            }\n        }\n        else {\n            this.parentObj.changedProperties[this.propName] = this.changedProperties;\n            this.parentObj.oldProperties[this.propName] = this.oldProperties;\n        }\n        this.clearChanges();\n    };\n    /**\n     * Saves changes to newer values\n     *\n     * @param {string} key ?\n     * @param {Object} newValue ?\n     * @param {Object} oldValue ?\n     * @param {boolean} restrictServerDataBind ?\n     * @returns {void} ?\n     */\n    ChildProperty.prototype.saveChanges = function (key, newValue, oldValue, restrictServerDataBind) {\n        if (this.controlParent.isProtectedOnChange) {\n            return;\n        }\n        if (!restrictServerDataBind) {\n            this.serverDataBind(key, newValue, true);\n        }\n        this.oldProperties[key] = oldValue;\n        this.changedProperties[key] = newValue;\n        this.updateChange(true, this.propName);\n        this.finalUpdate();\n        this.updateTimeOut();\n    };\n    ChildProperty.prototype.serverDataBind = function (key, value, isSaveChanges, action) {\n        if (isBlazor() && !this.parentObj.isComplexArraySetter) {\n            var parent_1;\n            var newChanges = {};\n            var parentKey = isSaveChanges ? this.getParentKey(true) + '.' + key : key;\n            /* istanbul ignore else  */\n            if (parentKey.indexOf('.') !== -1) {\n                var complexKeys = parentKey.split('.');\n                parent_1 = newChanges;\n                for (var i = 0; i < complexKeys.length; i++) {\n                    var isFinal = i === complexKeys.length - 1;\n                    parent_1[complexKeys[i]] = isFinal ? value : {};\n                    parent_1 = isFinal ? parent_1 : parent_1[complexKeys[i]];\n                }\n            }\n            else {\n                newChanges[parentKey] = {};\n                parent_1 = newChanges[parentKey];\n                newChanges[parentKey][key] = value;\n            }\n            /* istanbul ignore next */\n            if (this.isParentArray) {\n                var actionProperty = 'ejsAction';\n                parent_1[actionProperty] = action ? action : 'none';\n            }\n            this.controlParent.serverDataBind(newChanges);\n        }\n    };\n    ChildProperty.prototype.getParentKey = function (isSaveChanges) {\n        // eslint-disable-next-line\n        var index = '';\n        var propName = this.propName;\n        /* istanbul ignore next */\n        if (this.isParentArray) {\n            index = this.parentObj[this.propName].indexOf(this);\n            var valueLength = this.parentObj[this.propName].length;\n            valueLength = isSaveChanges ? valueLength : (valueLength > 0 ? valueLength - 1 : 0);\n            index = index !== -1 ? '-' + index : '-' + valueLength;\n            propName = propName + index;\n        }\n        if (this.controlParent !== this.parentObj) {\n            propName = this.parentObj.getParentKey() + '.' + this.propName + index;\n        }\n        return propName;\n    };\n    return ChildProperty;\n}());\nexport { ChildProperty };\n","import { createElement } from './dom';\nimport { getValue, containerObject, setValue, isNullOrUndefined } from './util';\nvar bypassKey = [115, 121, 110, 99, 102, 117, 115, 105,\n    111, 110, 46, 105, 115, 76, 105, 99, 86, 97, 108,\n    105, 100, 97, 116, 101, 100];\n/**\n * License validation module\n * @private\n */\nvar LicenseValidator = /** @class */ (function () {\n    function LicenseValidator(key) {\n        this.isValidated = false;\n        this.version = '20.1';\n        this.platform = /JavaScript|ASPNET|ASPNETCORE|ASPNETMVC|FileFormats/i;\n        this.errors = {\n            noLicense: 'This application was built using a trial version of Syncfusion Essential Studio.' +\n                ' Please include a valid license to permanently remove this license validation message.' +\n                ' You can also obtain a free 30 day evaluation license to temporarily remove this message ' +\n                'during the evaluation period. Please refer to this <a style=\"color:yellow;text-decoration:none;\"' +\n                'href=\"https://help.syncfusion.com/common/essential-studio/licensing\">help topic</a> for more information.',\n            trailExpired: 'Your Syncfusion trial license has expired. Please refer to this ' +\n                '<a style=\"color:yellow;text-decoration:none;\"' +\n                'href=\"https://help.syncfusion.com/common/essential-studio/licensing/licensing-errors#trial-expired\">help topic</a> for more information.',\n            versionMismatched: 'The included Syncfusion license (v##LicenseVersion) is invalid for version ' +\n                '##Requireversion. Please refer to this <a style=\"color:yellow;text-decoration:none;\" ' +\n                'href=\"https://help.syncfusion.com/es/licensing/version-mismatch/\">help topic</a> for more information.',\n            platformMismatched: 'The included Syncfusion license is invalid (Platform mismatch). Please refer' +\n                ' to this <a style=\"color:yellow;text-decoration:none;\" ' +\n                'href=\"https://help.syncfusion.com/common/essential-studio/licensing/licensing-errors#platform-mismatch\">help topic</a> for more information.',\n            invalidKey: 'The included Syncfusion license is invalid. Please refer to this ' +\n                '<a style=\"color:yellow;text-decoration:none;\" ' +\n                'href=\"https://help.syncfusion.com/common/essential-studio/licensing/licensing-errors#invalid-key\">help topic</a> for more information.'\n        };\n        /**\n         * To manage licensing operation.\n         */\n        this.manager = (function () {\n            var licKey = null;\n            function set(key) { licKey = key; }\n            function get() { return licKey; }\n            return {\n                setKey: set,\n                getKey: get\n            };\n        })();\n        this.manager.setKey(key);\n    }\n    /**\n     * To validate the provided license key.\n     */\n    LicenseValidator.prototype.validate = function () {\n        if (!this.isValidated && (containerObject && !getValue(convertToChar(bypassKey), containerObject) && !getValue('Blazor', containerObject))) {\n            var validateMsg = void 0;\n            if (this.manager && this.manager.getKey()) {\n                var result = this.getInfoFromKey();\n                if (result && result.length) {\n                    for (var _i = 0, result_1 = result; _i < result_1.length; _i++) {\n                        var res = result_1[_i];\n                        if (!this.platform.test(res.platform) || res.invalidPlatform) {\n                            validateMsg = this.errors.platformMismatched;\n                        }\n                        else if (res.version.indexOf(this.version) === -1) {\n                            validateMsg = this.errors.versionMismatched;\n                            validateMsg = validateMsg.replace('##LicenseVersion', res.version);\n                            validateMsg = validateMsg.replace('##Requireversion', this.version + '.x');\n                        }\n                        else if (res.expiryDate) {\n                            var expDate = new Date(res.expiryDate);\n                            var currDate = new Date();\n                            if (expDate !== currDate && expDate < currDate) {\n                                validateMsg = this.errors.trailExpired;\n                            }\n                            else {\n                                break;\n                            }\n                        }\n                    }\n                }\n                else {\n                    validateMsg = this.errors.invalidKey;\n                }\n            }\n            else {\n                validateMsg = this.errors.noLicense;\n            }\n            if (validateMsg && !isNullOrUndefined(document)) {\n                var errorDiv = createElement('div', {\n                    innerHTML: validateMsg +\n                        '<span style=\"position:absolute;right: 10px;top:27%;cursor:pointer;\"' +\n                        'onClick=this.parentElement.remove();>' +\n                        '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\">' +\n                        '<line x1=\"5\" y1=\"5\" x2=\"15\" y2=\"15\" stroke=\"yellow\" stroke-width=\"2.5\" ' +\n                        'stroke-miterlimit=\"10\" stroke-linecap=\"round\"></line><line x1=\"15\" y1=\"5\" ' +\n                        'x2=\"5\" y2=\"15\" stroke=\"yellow\" stroke-width=\"2.5\" stroke-linecap=\"round\" ' +\n                        'stroke-miterlimit=\"10\"></line></svg></span>',\n                    styles: 'position:fixed;top:0;left:0;right:0;font-family:\"Segoe UI\";font-size:16px;' +\n                        'background:repeating-linear-gradient(45deg,#d70f0f,#d70f0f 10px,#e12121 10px,#e12121 17px);' +\n                        'color:#ffffff;z-index:999999999;text-align:center;padding:10px 50px 10px 25px;'\n                });\n                errorDiv.setAttribute('id', 'js-licensing');\n                document.body.appendChild(errorDiv);\n            }\n            this.isValidated = true;\n            setValue(convertToChar(bypassKey), this.isValidated, containerObject);\n        }\n    };\n    LicenseValidator.prototype.getDecryptedData = function (key) {\n        try {\n            return atob(key);\n        }\n        catch (error) {\n            return '';\n        }\n    };\n    /**\n     * Get license information from key.\n     */\n    LicenseValidator.prototype.getInfoFromKey = function () {\n        try {\n            var licKey = this.manager.getKey();\n            var licKeySplit = licKey.split(';');\n            var pkey = [5439488, 7929856, 5111808, 6488064, 4587520, 7667712, 5439488,\n                6881280, 5177344, 7208960, 4194304, 4456448, 6619136, 7733248, 5242880, 7077888,\n                6356992, 7602176, 4587520, 7274496, 7471104, 7143424];\n            var decryptedStr = [];\n            var resultArray = [];\n            var invalidPlatform = false;\n            for (var _i = 0, licKeySplit_1 = licKeySplit; _i < licKeySplit_1.length; _i++) {\n                var lKey = licKeySplit_1[_i];\n                var decodeStr = this.getDecryptedData(lKey);\n                if (!decodeStr) {\n                    continue;\n                }\n                var k = 0;\n                var buffr = '';\n                for (var i = 0; i < decodeStr.length; i++, k++) {\n                    if (k === pkey.length) {\n                        k = 0;\n                    }\n                    var c = decodeStr.charCodeAt(i);\n                    buffr += String.fromCharCode(c ^ (pkey[k] >> 16));\n                }\n                if (this.platform.test(buffr)) {\n                    decryptedStr = buffr.split(';');\n                    invalidPlatform = false;\n                    // checked the length to verify the key in proper strucutre\n                    if (decryptedStr.length > 3) {\n                        resultArray.push({ platform: decryptedStr[0],\n                            version: decryptedStr[1],\n                            expiryDate: decryptedStr[2] });\n                    }\n                }\n                else if (buffr && buffr.split(';').length > 3) {\n                    invalidPlatform = true;\n                }\n            }\n            if (invalidPlatform && !resultArray.length) {\n                return [{ invalidPlatform: invalidPlatform }];\n            }\n            else {\n                return resultArray.length ? resultArray : null;\n            }\n        }\n        catch (error) {\n            return null;\n        }\n    };\n    return LicenseValidator;\n}());\nvar licenseValidator = new LicenseValidator();\nfunction convertToChar(cArr) {\n    var ret = '';\n    for (var _i = 0, cArr_1 = cArr; _i < cArr_1.length; _i++) {\n        var arr = cArr_1[_i];\n        ret += String.fromCharCode(arr);\n    }\n    return ret;\n}\n/**\n * To set license key.\n * @param {string} key - license key\n */\nexport function registerLicense(key) {\n    licenseValidator = new LicenseValidator(key);\n}\nexport var validateLicense = function (key) {\n    if (key) {\n        registerLicense(key);\n    }\n    licenseValidator.validate();\n};\nexport var getVersion = function () {\n    return licenseValidator.version;\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { isUndefined, getValue, isNullOrUndefined, setValue, uniqueID, isBlazor } from './util';\nimport { ModuleLoader } from './module-loader';\nimport { Base } from './base';\nimport { Observer } from './observer';\nimport { ChildProperty } from './child-property';\nimport { Property, NotifyPropertyChanges } from './notify-property-change';\nimport { onIntlChange, rightToLeft, defaultCulture } from './internationalization';\nimport { createElement, addClass, removeClass, select } from './dom';\nimport { validateLicense } from './validate-lic';\nvar componentCount = 0;\nvar lastPageID;\nvar lastHistoryLen = 0;\nexport var versionBasedStatePersistence = false;\n/**\n * To enable or disable version based statePersistence functionality for all components globally.\n *\n * @param {boolean} status - Optional argument Specifies the status value to enable or disable versionBasedStatePersistence option.\n * @returns {void}\n */\nexport function enableVersionBasedPersistence(status) {\n    versionBasedStatePersistence = status;\n}\n/**\n * Base class for all Essential JavaScript components\n */\nvar Component = /** @class */ (function (_super) {\n    __extends(Component, _super);\n    /**\n     * Initialize the constructor for component base\n     *\n     * @param {Object} options ?\n     * @param {string} selector ?\n     */\n    function Component(options, selector) {\n        var _this = _super.call(this, options, selector) || this;\n        _this.randomId = uniqueID();\n        /**\n         * string template option for Blazor template rendering\n         *\n         * @private\n         */\n        _this.isStringTemplate = false;\n        _this.needsID = false;\n        _this.isReactHybrid = false;\n        if (isNullOrUndefined(_this.enableRtl)) {\n            _this.setProperties({ 'enableRtl': rightToLeft }, true);\n        }\n        if (isNullOrUndefined(_this.locale)) {\n            _this.setProperties({ 'locale': defaultCulture }, true);\n        }\n        _this.moduleLoader = new ModuleLoader(_this);\n        _this.localObserver = new Observer(_this);\n        // tslint:disable-next-line:no-function-constructor-with-string-args\n        onIntlChange.on('notifyExternalChange', _this.detectFunction, _this, _this.randomId);\n        validateLicense();\n        if (!isUndefined(selector)) {\n            _this.appendTo();\n        }\n        return _this;\n    }\n    Component.prototype.requiredModules = function () {\n        return [];\n    };\n    /**\n     * Destroys the sub modules while destroying the widget\n     *\n     * @returns {void} ?\n     */\n    Component.prototype.destroy = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        if (this.enablePersistence) {\n            this.setPersistData();\n        }\n        this.localObserver.destroy();\n        if (this.refreshing) {\n            return;\n        }\n        removeClass([this.element], ['e-control']);\n        this.trigger('destroyed', { cancel: false });\n        _super.prototype.destroy.call(this);\n        this.moduleLoader.clean();\n        onIntlChange.off('notifyExternalChange', this.detectFunction, this.randomId);\n    };\n    /**\n     * Applies all the pending property changes and render the component again.\n     *\n     * @returns {void} ?\n     */\n    Component.prototype.refresh = function () {\n        this.refreshing = true;\n        this.moduleLoader.clean();\n        this.destroy();\n        this.clearChanges();\n        this.localObserver = new Observer(this);\n        this.preRender();\n        this.injectModules();\n        this.render();\n        this.refreshing = false;\n    };\n    Component.prototype.accessMount = function () {\n        if (this.mount && !this.isReactHybrid) {\n            this.mount();\n        }\n    };\n    /**\n     * Returns the route element of the component\n     *\n     * @returns {HTMLElement} ?\n     */\n    Component.prototype.getRootElement = function () {\n        if (this.isReactHybrid) {\n            // eslint-disable-next-line\n            return this.actualElement;\n        }\n        else {\n            return this.element;\n        }\n    };\n    /**\n     * Returns the persistence data for component\n     *\n     * @returns {any} ?\n     */\n    // eslint-disable-next-line\n    Component.prototype.getLocalData = function () {\n        var eleId = this.getModuleName() + this.element.id;\n        if (versionBasedStatePersistence) {\n            return window.localStorage.getItem(eleId + this.ej2StatePersistenceVersion);\n        }\n        else {\n            return window.localStorage.getItem(eleId);\n        }\n    };\n    /**\n     * Appends the control within the given HTML element\n     *\n     * @param {string | HTMLElement} selector - Target element where control needs to be appended\n     * @returns {void} ?\n     */\n    Component.prototype.appendTo = function (selector) {\n        if (!isNullOrUndefined(selector) && typeof (selector) === 'string') {\n            this.element = select(selector, document);\n        }\n        else if (!isNullOrUndefined(selector)) {\n            this.element = selector;\n        }\n        if (!isNullOrUndefined(this.element)) {\n            var moduleClass = 'e-' + this.getModuleName().toLowerCase();\n            addClass([this.element], ['e-control', moduleClass]);\n            this.isProtectedOnChange = false;\n            if (this.needsID && !this.element.id) {\n                this.element.id = this.getUniqueID(this.getModuleName());\n            }\n            if (this.enablePersistence) {\n                this.mergePersistData();\n                window.addEventListener('unload', this.setPersistData.bind(this));\n            }\n            var inst = getValue('ej2_instances', this.element);\n            if (!inst || inst.indexOf(this) === -1) {\n                _super.prototype.addInstance.call(this);\n            }\n            this.preRender();\n            this.injectModules();\n            this.render();\n            if (!this.mount) {\n                this.trigger('created');\n            }\n            else {\n                this.accessMount();\n            }\n        }\n    };\n    /**\n     * It is used to process the post rendering functionalities to a component.\n     *\n     * @param {Node} wrapperElement ?\n     * @returns {void} ?\n     */\n    Component.prototype.renderComplete = function (wrapperElement) {\n        if (isBlazor()) {\n            var sfBlazor = 'sfBlazor';\n            // eslint-disable-next-line\n            window[sfBlazor].renderComplete(this.element, wrapperElement);\n        }\n        this.isRendered = true;\n    };\n    /**\n     * When invoked, applies the pending property changes immediately to the component.\n     *\n     * @returns {void} ?\n     */\n    Component.prototype.dataBind = function () {\n        this.injectModules();\n        _super.prototype.dataBind.call(this);\n    };\n    /**\n     * Attach one or more  event handler to the current component context.\n     * It is used for internal handling event internally within the component only.\n     *\n     * @param {BoundOptions[]| string} event - It is  optional type either to  Set the collection of event list or the eventName.\n     * @param {Function} handler - optional parameter Specifies the handler to run when the event occurs\n     * @param {Object} context - optional parameter Specifies the context to be bind in the handler.\n     * @returns {void} ?\n     * @private\n     */\n    Component.prototype.on = function (event, handler, context) {\n        if (typeof event === 'string') {\n            this.localObserver.on(event, handler, context);\n        }\n        else {\n            for (var _i = 0, event_1 = event; _i < event_1.length; _i++) {\n                var arg = event_1[_i];\n                this.localObserver.on(arg.event, arg.handler, arg.context);\n            }\n        }\n    };\n    /**\n     * To remove one or more event handler that has been attached with the on() method.\n     *\n     * @param {BoundOptions[]| string} event - It is  optional type either to  Set the collection of event list or the eventName.\n     * @param {Function} handler - optional parameter Specifies the function to run when the event occurs\n     * @returns {void} ?\n     * @private\n     */\n    Component.prototype.off = function (event, handler) {\n        if (typeof event === 'string') {\n            this.localObserver.off(event, handler);\n        }\n        else {\n            for (var _i = 0, event_2 = event; _i < event_2.length; _i++) {\n                var arg = event_2[_i];\n                this.localObserver.off(arg.event, arg.handler);\n            }\n        }\n    };\n    /**\n     * To notify the handlers in the specified event.\n     *\n     * @param {string} property - Specifies the event to be notify.\n     * @param {Object} argument - Additional parameters to pass while calling the handler.\n     * @returns {void} ?\n     * @private\n     */\n    Component.prototype.notify = function (property, argument) {\n        if (this.isDestroyed !== true) {\n            this.localObserver.notify(property, argument);\n        }\n    };\n    /**\n     * Get injected modules\n     *\n     * @returns {Function} ?\n     * @private\n     */\n    Component.prototype.getInjectedModules = function () {\n        return this.injectedModules;\n    };\n    /**\n     * Dynamically injects the required modules to the component.\n     *\n     * @param {Function} moduleList ?\n     * @returns {void} ?\n     */\n    Component.Inject = function () {\n        var moduleList = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            moduleList[_i] = arguments[_i];\n        }\n        if (!this.prototype.injectedModules) {\n            this.prototype.injectedModules = [];\n        }\n        for (var i = 0; i < moduleList.length; i++) {\n            if (this.prototype.injectedModules.indexOf(moduleList[i]) === -1) {\n                this.prototype.injectedModules.push(moduleList[i]);\n            }\n        }\n    };\n    /**\n     * This is a instance method to create an element.\n     *\n     * @param {string} tagName ?\n     * @param {ElementProperties} prop ?\n     * @param {boolean} isVDOM ?\n     * @returns {any} ?\n     * @private\n     */\n    // eslint-disable-next-line\n    Component.prototype.createElement = function (tagName, prop, isVDOM) {\n        return createElement(tagName, prop);\n    };\n    /**\n     *\n     * @param {Function} handler - handler to be triggered after state Updated.\n     * @param {any} argument - Arguments to be passed to caller.\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Component.prototype.triggerStateChange = function (handler, argument) {\n        if (this.isReactHybrid) {\n            // eslint-disable-next-line\n            this.setState();\n            this.currentContext = { calls: handler, args: argument };\n        }\n    };\n    // tslint: enable: no-any\n    Component.prototype.injectModules = function () {\n        if (this.injectedModules && this.injectedModules.length) {\n            this.moduleLoader.inject(this.requiredModules(), this.injectedModules);\n        }\n    };\n    Component.prototype.detectFunction = function (args) {\n        var prop = Object.keys(args);\n        if (prop.length) {\n            this[prop[0]] = args[prop[0]];\n        }\n    };\n    Component.prototype.mergePersistData = function () {\n        var data;\n        if (versionBasedStatePersistence) {\n            data = window.localStorage.getItem(this.getModuleName() + this.element.id + this.ej2StatePersistenceVersion);\n        }\n        else {\n            data = window.localStorage.getItem(this.getModuleName() + this.element.id);\n        }\n        if (!(isNullOrUndefined(data) || (data === ''))) {\n            this.setProperties(JSON.parse(data), true);\n        }\n    };\n    Component.prototype.setPersistData = function () {\n        if (!this.isDestroyed) {\n            if (versionBasedStatePersistence) {\n                window.localStorage.setItem(this.getModuleName() +\n                    this.element.id + this.ej2StatePersistenceVersion, this.getPersistData());\n            }\n            else {\n                window.localStorage.setItem(this.getModuleName() + this.element.id, this.getPersistData());\n            }\n        }\n    };\n    //tslint:disable-next-line\n    Component.prototype.renderReactTemplates = function () {\n        //No Code\n    };\n    // eslint-disable-next-line\n    Component.prototype.clearTemplate = function (templateName, index) {\n        //No Code\n    };\n    Component.prototype.getUniqueID = function (definedName) {\n        if (this.isHistoryChanged()) {\n            componentCount = 0;\n        }\n        lastPageID = this.pageID(location.href);\n        lastHistoryLen = history.length;\n        return definedName + '_' + lastPageID + '_' + componentCount++;\n    };\n    Component.prototype.pageID = function (url) {\n        var hash = 0;\n        if (url.length === 0) {\n            return hash;\n        }\n        for (var i = 0; i < url.length; i++) {\n            var char = url.charCodeAt(i);\n            hash = ((hash << 5) - hash) + char;\n            hash = hash & hash; // Convert to 32bit integer\n        }\n        return Math.abs(hash);\n    };\n    Component.prototype.isHistoryChanged = function () {\n        return lastPageID !== this.pageID(location.href) || lastHistoryLen !== history.length;\n    };\n    Component.prototype.addOnPersist = function (options) {\n        var _this = this;\n        var persistObj = {};\n        for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\n            var key = options_1[_i];\n            var objValue = void 0;\n            // eslint-disable-next-line\n            objValue = getValue(key, this);\n            if (!isUndefined(objValue)) {\n                setValue(key, this.getActualProperties(objValue), persistObj);\n            }\n        }\n        return JSON.stringify(persistObj, function (key, value) {\n            return _this.getActualProperties(value);\n        });\n    };\n    Component.prototype.getActualProperties = function (obj) {\n        if (obj instanceof ChildProperty) {\n            return getValue('properties', obj);\n        }\n        else {\n            return obj;\n        }\n    };\n    Component.prototype.ignoreOnPersist = function (options) {\n        return JSON.stringify(this.iterateJsonProperties(this.properties, options));\n    };\n    Component.prototype.iterateJsonProperties = function (obj, ignoreList) {\n        var newObj = {};\n        var _loop_1 = function (key) {\n            if (ignoreList.indexOf(key) === -1) {\n                // eslint-disable-next-line\n                var value = obj[key];\n                if (typeof value === 'object' && !(value instanceof Array)) {\n                    var newList = ignoreList.filter(function (str) {\n                        return new RegExp(key + '.').test(str);\n                    }).map(function (str) {\n                        return str.replace(key + '.', '');\n                    });\n                    newObj[key] = this_1.iterateJsonProperties(this_1.getActualProperties(value), newList);\n                }\n                else {\n                    newObj[key] = value;\n                }\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n            var key = _a[_i];\n            _loop_1(key);\n        }\n        return newObj;\n    };\n    __decorate([\n        Property(false)\n    ], Component.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property()\n    ], Component.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property()\n    ], Component.prototype, \"locale\", void 0);\n    Component = __decorate([\n        NotifyPropertyChanges\n    ], Component);\n    return Component;\n}(Base));\nexport { Component };\n//Function handling for page navigation detection\n/* istanbul ignore next */\n(function () {\n    if (typeof window !== 'undefined') {\n        window.addEventListener('popstate', \n        /* istanbul ignore next */\n        function () {\n            componentCount = 0;\n        });\n    }\n})();\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { isVisible } from './dom';\nimport { Property, Complex, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { EventHandler } from './event-handler';\nimport { ChildProperty } from './child-property';\nimport { select, closest, setStyleAttribute, addClass, createElement } from './dom';\nimport { extend, isUndefined, isNullOrUndefined, compareElementParent, isBlazor } from './util';\nvar defaultPosition = { left: 0, top: 0, bottom: 0, right: 0 };\nvar positionProp = ['offsetLeft', 'offsetTop'];\nvar axisMapper = ['x', 'y'];\nvar axisValueMapper = ['left', 'top'];\nvar isDraggedObject = { isDragged: false };\n/**\n * Specifies the position coordinates\n */\nvar Position = /** @class */ (function (_super) {\n    __extends(Position, _super);\n    function Position() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], Position.prototype, \"left\", void 0);\n    __decorate([\n        Property(0)\n    ], Position.prototype, \"top\", void 0);\n    return Position;\n}(ChildProperty));\nexport { Position };\n/**\n * Draggable Module provides support to enable draggable functionality in Dom Elements.\n * ```html\n * <div id='drag'>Draggable</div>\n * <script>\n * var ele = document.getElementById('drag');\n * var drag:Draggable = new Draggable(ele,{\n *     clone:false,\n *     drag: function(e) {\n *      //drag handler code.\n *      },\n *     handle:'.class'\n * });\n * </script>\n * ```\n */\nvar Draggable = /** @class */ (function (_super) {\n    __extends(Draggable, _super);\n    function Draggable(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.dragLimit = Draggable_1.getDefaultPosition();\n        _this.borderWidth = Draggable_1.getDefaultPosition();\n        _this.padding = Draggable_1.getDefaultPosition();\n        _this.diffX = 0;\n        _this.prevLeft = 0;\n        _this.prevTop = 0;\n        _this.dragProcessStarted = false;\n        /* tslint:disable no-any */\n        _this.eleTop = 0;\n        _this.tapHoldTimer = 0;\n        _this.externalInitialize = false;\n        _this.diffY = 0;\n        _this.parentScrollX = 0;\n        _this.parentScrollY = 0;\n        _this.droppables = {};\n        _this.bind();\n        return _this;\n    }\n    Draggable_1 = Draggable;\n    Draggable.prototype.bind = function () {\n        this.toggleEvents();\n        if (Browser.isIE) {\n            addClass([this.element], 'e-block-touch');\n        }\n        this.droppables[this.scope] = {};\n    };\n    Draggable.getDefaultPosition = function () {\n        return extend({}, defaultPosition);\n    };\n    Draggable.prototype.toggleEvents = function (isUnWire) {\n        var ele;\n        if (!isUndefined(this.handle)) {\n            ele = select(this.handle, this.element);\n        }\n        var handler = (this.enableTapHold && Browser.isDevice && Browser.isTouch) ? this.mobileInitialize : this.initialize;\n        if (isUnWire) {\n            EventHandler.remove(ele || this.element, Browser.touchStartEvent, handler);\n        }\n        else {\n            EventHandler.add(ele || this.element, Browser.touchStartEvent, handler, this);\n        }\n    };\n    /* istanbul ignore next */\n    Draggable.prototype.mobileInitialize = function (evt) {\n        var _this = this;\n        var target = evt.currentTarget;\n        this.tapHoldTimer = setTimeout(function () {\n            _this.externalInitialize = true;\n            _this.removeTapholdTimer();\n            _this.initialize(evt, target);\n        }, this.tapHoldThreshold);\n        EventHandler.add(document, Browser.touchMoveEvent, this.removeTapholdTimer, this);\n        EventHandler.add(document, Browser.touchEndEvent, this.removeTapholdTimer, this);\n    };\n    /* istanbul ignore next */\n    Draggable.prototype.removeTapholdTimer = function () {\n        clearTimeout(this.tapHoldTimer);\n        EventHandler.remove(document, Browser.touchMoveEvent, this.removeTapholdTimer);\n        EventHandler.remove(document, Browser.touchEndEvent, this.removeTapholdTimer);\n    };\n    /* istanbul ignore next */\n    Draggable.prototype.getScrollableParent = function (element, axis) {\n        var scroll = { 'vertical': 'scrollHeight', 'horizontal': 'scrollWidth' };\n        var client = { 'vertical': 'clientHeight', 'horizontal': 'clientWidth' };\n        if (isNullOrUndefined(element)) {\n            return null;\n        }\n        if (element[scroll[axis]] > element[client[axis]]) {\n            if (axis === 'vertical' ? element.scrollTop > 0 : element.scrollLeft > 0) {\n                if (axis === 'vertical') {\n                    this.parentScrollY = this.parentScrollY +\n                        (this.parentScrollY === 0 ? element.scrollTop : element.scrollTop - this.parentScrollY);\n                    this.tempScrollHeight = element.scrollHeight;\n                }\n                else {\n                    this.parentScrollX = this.parentScrollX +\n                        (this.parentScrollX === 0 ? element.scrollLeft : element.scrollLeft - this.parentScrollX);\n                    this.tempScrollWidth = element.scrollWidth;\n                }\n                if (!isNullOrUndefined(element)) {\n                    return this.getScrollableParent(element.parentNode, axis);\n                }\n                else {\n                    return element;\n                }\n            }\n            else {\n                return this.getScrollableParent(element.parentNode, axis);\n            }\n        }\n        else {\n            return this.getScrollableParent(element.parentNode, axis);\n        }\n    };\n    Draggable.prototype.getScrollableValues = function () {\n        this.parentScrollX = 0;\n        this.parentScrollY = 0;\n        var isModalDialog = this.element.classList.contains('e-dialog') && this.element.classList.contains('e-dlg-modal');\n        var verticalScrollParent = this.getScrollableParent(this.element.parentNode, 'vertical');\n        var horizontalScrollParent = this.getScrollableParent(this.element.parentNode, 'horizontal');\n    };\n    Draggable.prototype.initialize = function (evt, curTarget) {\n        this.currentStateTarget = evt.target;\n        if (this.isDragStarted()) {\n            return;\n        }\n        else {\n            this.isDragStarted(true);\n            this.externalInitialize = false;\n        }\n        this.target = (evt.currentTarget || curTarget);\n        this.dragProcessStarted = false;\n        if (this.abort) {\n            /* tslint:disable no-any */\n            var abortSelectors = this.abort;\n            if (typeof abortSelectors === 'string') {\n                abortSelectors = [abortSelectors];\n            }\n            for (var i = 0; i < abortSelectors.length; i++) {\n                if (!isNullOrUndefined(closest(evt.target, abortSelectors[i]))) {\n                    /* istanbul ignore next */\n                    if (this.isDragStarted()) {\n                        this.isDragStarted(true);\n                    }\n                    return;\n                }\n            }\n        }\n        if (this.preventDefault && !isUndefined(evt.changedTouches) && evt.type !== 'touchstart') {\n            evt.preventDefault();\n        }\n        this.element.setAttribute('aria-grabbed', 'true');\n        var intCoord = this.getCoordinates(evt);\n        this.initialPosition = { x: intCoord.pageX, y: intCoord.pageY };\n        if (!this.clone) {\n            var pos = this.element.getBoundingClientRect();\n            this.getScrollableValues();\n            if (evt.clientX === evt.pageX) {\n                this.parentScrollX = 0;\n            }\n            if (evt.clientY === evt.pageY) {\n                this.parentScrollY = 0;\n            }\n            this.relativeXPosition = intCoord.pageX - (pos.left + this.parentScrollX);\n            this.relativeYPosition = intCoord.pageY - (pos.top + this.parentScrollY);\n        }\n        if (this.externalInitialize) {\n            this.intDragStart(evt);\n        }\n        else {\n            EventHandler.add(document, Browser.touchMoveEvent, this.intDragStart, this);\n            EventHandler.add(document, Browser.touchEndEvent, this.intDestroy, this);\n        }\n        this.toggleEvents(true);\n        if (evt.type !== 'touchstart' && this.isPreventSelect) {\n            document.body.classList.add('e-prevent-select');\n        }\n        this.externalInitialize = false;\n        EventHandler.trigger(document.documentElement, Browser.touchStartEvent, evt);\n    };\n    Draggable.prototype.intDragStart = function (evt) {\n        this.removeTapholdTimer();\n        var isChangeTouch = !isUndefined(evt.changedTouches);\n        if (isChangeTouch && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        if (isChangeTouch) {\n            evt.preventDefault();\n        }\n        var intCordinate = this.getCoordinates(evt);\n        var pos;\n        var styleProp = getComputedStyle(this.element);\n        this.margin = {\n            left: parseInt(styleProp.marginLeft, 10),\n            top: parseInt(styleProp.marginTop, 10),\n            right: parseInt(styleProp.marginRight, 10),\n            bottom: parseInt(styleProp.marginBottom, 10),\n        };\n        var element = this.element;\n        if (this.clone && this.dragTarget) {\n            var intClosest = closest(evt.target, this.dragTarget);\n            if (!isNullOrUndefined(intClosest)) {\n                element = intClosest;\n            }\n        }\n        /* istanbul ignore next */\n        if (this.isReplaceDragEle) {\n            element = this.currentStateCheck(evt.target, element);\n        }\n        this.offset = this.calculateParentPosition(element);\n        this.position = this.getMousePosition(evt, this.isDragScroll);\n        var x = this.initialPosition.x - intCordinate.pageX;\n        var y = this.initialPosition.y - intCordinate.pageY;\n        var distance = Math.sqrt((x * x) + (y * y));\n        if ((distance >= this.distance || this.externalInitialize)) {\n            var ele = this.getHelperElement(evt);\n            if (!ele || isNullOrUndefined(ele)) {\n                return;\n            }\n            var dragTargetElement = this.helperElement = ele;\n            this.parentClientRect = this.calculateParentPosition(dragTargetElement.offsetParent);\n            if (this.dragStart) {\n                var curTarget = this.getProperTargetElement(evt);\n                var args = {\n                    event: evt,\n                    element: element,\n                    target: curTarget,\n                    bindEvents: isBlazor() ? this.bindDragEvents.bind(this) : null,\n                    dragElement: dragTargetElement\n                };\n                this.trigger('dragStart', args);\n            }\n            if (this.dragArea) {\n                this.setDragArea();\n            }\n            else {\n                this.dragLimit = { left: 0, right: 0, bottom: 0, top: 0 };\n                this.borderWidth = { top: 0, left: 0 };\n            }\n            pos = { left: this.position.left - this.parentClientRect.left, top: this.position.top - this.parentClientRect.top };\n            if (this.clone && !this.enableTailMode) {\n                this.diffX = this.position.left - this.offset.left;\n                this.diffY = this.position.top - this.offset.top;\n            }\n            this.getScrollableValues();\n            // when drag element has margin-top\n            var styles = getComputedStyle(element);\n            var marginTop = parseFloat(styles.marginTop);\n            /* istanbul ignore next */\n            if (this.clone && marginTop !== 0) {\n                pos.top += marginTop;\n            }\n            this.eleTop = !isNaN(parseFloat(styles.top)) ? parseFloat(styles.top) - this.offset.top : 0;\n            /* istanbul ignore next */\n            // if (this.eleTop > 0) {\n            //     pos.top += this.eleTop;\n            // }\n            if (this.enableScrollHandler && !this.clone) {\n                pos.top -= this.parentScrollY;\n                pos.left -= this.parentScrollX;\n            }\n            var posValue = this.getProcessedPositionValue({\n                top: (pos.top - this.diffY) + 'px',\n                left: (pos.left - this.diffX) + 'px'\n            });\n            this.dragElePosition = { top: pos.top, left: pos.left };\n            setStyleAttribute(dragTargetElement, this.getDragPosition({ position: 'absolute', left: posValue.left, top: posValue.top }));\n            EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart);\n            EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy);\n            if (!isBlazor()) {\n                this.bindDragEvents(dragTargetElement);\n            }\n        }\n    };\n    Draggable.prototype.bindDragEvents = function (dragTargetElement) {\n        if (isVisible(dragTargetElement)) {\n            EventHandler.add(document, Browser.touchMoveEvent, this.intDrag, this);\n            EventHandler.add(document, Browser.touchEndEvent, this.intDragStop, this);\n            this.setGlobalDroppables(false, this.element, dragTargetElement);\n        }\n        else {\n            this.toggleEvents();\n            document.body.classList.remove('e-prevent-select');\n        }\n    };\n    Draggable.prototype.elementInViewport = function (el) {\n        this.top = el.offsetTop;\n        this.left = el.offsetLeft;\n        this.width = el.offsetWidth;\n        this.height = el.offsetHeight;\n        while (el.offsetParent) {\n            el = el.offsetParent;\n            this.top += el.offsetTop;\n            this.left += el.offsetLeft;\n        }\n        return (this.top >= window.pageYOffset &&\n            this.left >= window.pageXOffset &&\n            (this.top + this.height) <= (window.pageYOffset + window.innerHeight) &&\n            (this.left + this.width) <= (window.pageXOffset + window.innerWidth));\n    };\n    Draggable.prototype.getProcessedPositionValue = function (value) {\n        if (this.queryPositionInfo) {\n            return this.queryPositionInfo(value);\n        }\n        return value;\n    };\n    Draggable.prototype.calculateParentPosition = function (ele) {\n        if (isNullOrUndefined(ele)) {\n            return { left: 0, top: 0 };\n        }\n        var rect = ele.getBoundingClientRect();\n        var style = getComputedStyle(ele);\n        return {\n            left: (rect.left + window.pageXOffset) - parseInt(style.marginLeft, 10),\n            top: (rect.top + window.pageYOffset) - parseInt(style.marginTop, 10)\n        };\n    };\n    // tslint:disable-next-line:max-func-body-length\n    Draggable.prototype.intDrag = function (evt) {\n        if (!isUndefined(evt.changedTouches) && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        if (this.clone && evt.changedTouches && Browser.isDevice && Browser.isTouch) {\n            evt.preventDefault();\n        }\n        var left;\n        var top;\n        this.position = this.getMousePosition(evt, this.isDragScroll);\n        var docHeight = this.getDocumentWidthHeight('Height');\n        if (docHeight < this.position.top) {\n            this.position.top = docHeight;\n        }\n        var docWidth = this.getDocumentWidthHeight('Width');\n        if (docWidth < this.position.left) {\n            this.position.left = docWidth;\n        }\n        if (this.drag) {\n            var curTarget = this.getProperTargetElement(evt);\n            this.trigger('drag', { event: evt, element: this.element, target: curTarget });\n        }\n        var eleObj = this.checkTargetElement(evt);\n        if (eleObj.target && eleObj.instance) {\n            /* tslint:disable no-any */\n            var flag = true;\n            if (this.hoverObject) {\n                if (this.hoverObject.instance !== eleObj.instance) {\n                    this.triggerOutFunction(evt, eleObj);\n                }\n                else {\n                    flag = false;\n                }\n            }\n            if (flag) {\n                eleObj.instance.dragData[this.scope] = this.droppables[this.scope];\n                eleObj.instance.intOver(evt, eleObj.target);\n                this.hoverObject = eleObj;\n            }\n        }\n        else if (this.hoverObject) {\n            this.triggerOutFunction(evt, eleObj);\n        }\n        var helperElement = this.droppables[this.scope].helper;\n        this.parentClientRect = this.calculateParentPosition(this.helperElement.offsetParent);\n        var tLeft = this.parentClientRect.left;\n        var tTop = this.parentClientRect.top;\n        var intCoord = this.getCoordinates(evt);\n        var pagex = intCoord.pageX;\n        var pagey = intCoord.pageY;\n        var dLeft = this.position.left - this.diffX;\n        var dTop = this.position.top - this.diffY;\n        var styles = getComputedStyle(helperElement);\n        if (this.dragArea) {\n            if (this.pageX !== pagex || this.skipDistanceCheck) {\n                var helperWidth = helperElement.offsetWidth + (parseFloat(styles.marginLeft)\n                    + parseFloat(styles.marginRight));\n                if (this.dragLimit.left > dLeft && dLeft > 0) {\n                    left = this.dragLimit.left;\n                }\n                else if (this.dragLimit.right + window.pageXOffset < dLeft + helperWidth && dLeft > 0) {\n                    left = dLeft - (dLeft - this.dragLimit.right) + window.pageXOffset - helperWidth;\n                }\n                else {\n                    left = dLeft < 0 ? this.dragLimit.left : dLeft;\n                }\n            }\n            if (this.pageY !== pagey || this.skipDistanceCheck) {\n                var helperHeight = helperElement.offsetHeight + (parseFloat(styles.marginTop)\n                    + parseFloat(styles.marginBottom));\n                if (this.dragLimit.top > dTop && dTop > 0) {\n                    top = this.dragLimit.top;\n                }\n                else if (this.dragLimit.bottom + window.pageYOffset < dTop + helperHeight && dTop > 0) {\n                    top = dTop - (dTop - this.dragLimit.bottom) + window.pageYOffset - helperHeight;\n                }\n                else {\n                    top = dTop < 0 ? this.dragLimit.top : dTop;\n                }\n            }\n        }\n        else {\n            left = dLeft;\n            top = dTop;\n        }\n        var iTop = tTop + this.borderWidth.top;\n        var iLeft = tLeft + this.borderWidth.left;\n        if (this.dragProcessStarted) {\n            if (isNullOrUndefined(top)) {\n                top = this.prevTop;\n            }\n            if (isNullOrUndefined(left)) {\n                left = this.prevLeft;\n            }\n        }\n        var draEleTop;\n        var draEleLeft;\n        if (this.dragArea) {\n            this.dragLimit.top = this.clone ? this.dragLimit.top : 0;\n            draEleTop = (top - iTop) < 0 ? this.dragLimit.top : (top - iTop);\n            draEleLeft = (left - iLeft) < 0 ? this.dragElePosition.left : (left - iLeft);\n        }\n        else {\n            draEleTop = top - iTop;\n            draEleLeft = left - iLeft;\n        }\n        var marginTop = parseFloat(getComputedStyle(this.element).marginTop);\n        // when drag-element has margin-top\n        /* istanbul ignore next */\n        if (marginTop > 0) {\n            if (this.clone) {\n                draEleTop += marginTop;\n                if (dTop < 0) {\n                    if ((marginTop + dTop) >= 0) {\n                        draEleTop = marginTop + dTop;\n                    }\n                    else {\n                        draEleTop -= marginTop;\n                    }\n                }\n                draEleTop = (this.dragLimit.bottom < draEleTop) ? this.dragLimit.bottom : draEleTop;\n            }\n            if ((top - iTop) < 0) {\n                if (dTop + marginTop + (helperElement.offsetHeight - iTop) >= 0) {\n                    var tempDraEleTop = this.dragLimit.top + dTop - iTop;\n                    if ((tempDraEleTop + marginTop + iTop) < 0) {\n                        draEleTop -= marginTop + iTop;\n                    }\n                    else {\n                        draEleTop = tempDraEleTop;\n                    }\n                }\n                else {\n                    draEleTop -= marginTop + iTop;\n                }\n            }\n        }\n        /* istanbul ignore next */\n        // if(this.eleTop > 0) {\n        //      draEleTop += this.eleTop;\n        // }\n        if (this.enableScrollHandler && !this.clone) {\n            draEleTop -= this.parentScrollY;\n            draEleLeft -= this.parentScrollX;\n        }\n        var dragValue = this.getProcessedPositionValue({ top: draEleTop + 'px', left: draEleLeft + 'px' });\n        setStyleAttribute(helperElement, this.getDragPosition(dragValue));\n        if (!this.elementInViewport(helperElement) && this.enableAutoScroll) {\n            this.helperElement.scrollIntoView();\n        }\n        this.dragProcessStarted = true;\n        this.prevLeft = left;\n        this.prevTop = top;\n        this.position.left = left;\n        this.position.top = top;\n        this.pageX = pagex;\n        this.pageY = pagey;\n    };\n    Draggable.prototype.triggerOutFunction = function (evt, eleObj) {\n        this.hoverObject.instance.intOut(evt, eleObj.target);\n        this.hoverObject.instance.dragData[this.scope] = null;\n        this.hoverObject = null;\n    };\n    Draggable.prototype.getDragPosition = function (dragValue) {\n        var temp = extend({}, dragValue);\n        if (this.axis) {\n            if (this.axis === 'x') {\n                delete temp.top;\n            }\n            else if (this.axis === 'y') {\n                delete temp.left;\n            }\n        }\n        return temp;\n    };\n    Draggable.prototype.getDocumentWidthHeight = function (str) {\n        var docBody = document.body;\n        var docEle = document.documentElement;\n        var returnValue = Math.max(docBody['scroll' + str], docEle['scroll' + str], docBody['offset' + str], docEle['offset' + str], docEle['client' + str]);\n        return returnValue;\n    };\n    Draggable.prototype.intDragStop = function (evt) {\n        this.dragProcessStarted = false;\n        if (!isUndefined(evt.changedTouches) && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        var type = ['touchend', 'pointerup', 'mouseup'];\n        if (type.indexOf(evt.type) !== -1) {\n            if (this.dragStop) {\n                var curTarget = this.getProperTargetElement(evt);\n                this.trigger('dragStop', { event: evt, element: this.element, target: curTarget, helper: this.helperElement });\n            }\n            this.intDestroy(evt);\n        }\n        else {\n            this.element.setAttribute('aria-grabbed', 'false');\n        }\n        var eleObj = this.checkTargetElement(evt);\n        if (eleObj.target && eleObj.instance) {\n            eleObj.instance.dragStopCalled = true;\n            eleObj.instance.dragData[this.scope] = this.droppables[this.scope];\n            eleObj.instance.intDrop(evt, eleObj.target);\n        }\n        this.setGlobalDroppables(true);\n        document.body.classList.remove('e-prevent-select');\n    };\n    /**\n     * @private\n     */\n    Draggable.prototype.intDestroy = function (evt) {\n        this.dragProcessStarted = false;\n        this.toggleEvents();\n        document.body.classList.remove('e-prevent-select');\n        this.element.setAttribute('aria-grabbed', 'false');\n        EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart);\n        EventHandler.remove(document, Browser.touchEndEvent, this.intDragStop);\n        EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy);\n        EventHandler.remove(document, Browser.touchMoveEvent, this.intDrag);\n        if (this.isDragStarted()) {\n            this.isDragStarted(true);\n        }\n    };\n    // triggers when property changed\n    Draggable.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Draggable.prototype.getModuleName = function () {\n        return 'draggable';\n    };\n    Draggable.prototype.isDragStarted = function (change) {\n        if (change) {\n            isDraggedObject.isDragged = !isDraggedObject.isDragged;\n        }\n        return isDraggedObject.isDragged;\n    };\n    Draggable.prototype.setDragArea = function () {\n        var eleWidthBound;\n        var eleHeightBound;\n        var top = 0;\n        var left = 0;\n        var ele;\n        var type = typeof this.dragArea;\n        if (type === 'string') {\n            ele = select(this.dragArea);\n        }\n        else {\n            ele = this.dragArea;\n        }\n        if (ele) {\n            var elementArea = ele.getBoundingClientRect();\n            eleWidthBound = ele.scrollWidth ? ele.scrollWidth : elementArea.right - elementArea.left;\n            eleHeightBound = ele.scrollHeight ? ele.scrollHeight : elementArea.bottom - elementArea.top;\n            var keys = ['Top', 'Left', 'Bottom', 'Right'];\n            var styles = getComputedStyle(ele);\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                var tborder = styles['border' + key + 'Width'];\n                var tpadding = styles['padding' + key];\n                var lowerKey = key.toLowerCase();\n                this.borderWidth[lowerKey] = isNaN(parseFloat(tborder)) ? 0 : parseFloat(tborder);\n                this.padding[lowerKey] = isNaN(parseFloat(tpadding)) ? 0 : parseFloat(tpadding);\n            }\n            top = elementArea.top;\n            left = elementArea.left;\n            this.dragLimit.left = left + this.borderWidth.left + this.padding.left;\n            this.dragLimit.top = ele.offsetTop + this.borderWidth.top + this.padding.top;\n            this.dragLimit.right = left + eleWidthBound - (this.borderWidth.right + this.padding.right);\n            this.dragLimit.bottom = top + eleHeightBound - (this.borderWidth.bottom + this.padding.bottom);\n        }\n    };\n    Draggable.prototype.getProperTargetElement = function (evt) {\n        var intCoord = this.getCoordinates(evt);\n        var ele;\n        var prevStyle = this.helperElement.style.pointerEvents || '';\n        if (compareElementParent(evt.target, this.helperElement) || evt.type.indexOf('touch') !== -1) {\n            this.helperElement.style.pointerEvents = 'none';\n            ele = document.elementFromPoint(intCoord.clientX, intCoord.clientY);\n            this.helperElement.style.pointerEvents = prevStyle;\n        }\n        else {\n            ele = evt.target;\n        }\n        return ele;\n    };\n    /* istanbul ignore next */\n    Draggable.prototype.currentStateCheck = function (ele, oldEle) {\n        var elem;\n        if (!isNullOrUndefined(this.currentStateTarget) && this.currentStateTarget !== ele) {\n            elem = this.currentStateTarget;\n        }\n        else {\n            elem = !isNullOrUndefined(oldEle) ? oldEle : ele;\n        }\n        return elem;\n    };\n    Draggable.prototype.getMousePosition = function (evt, isdragscroll) {\n        /* tslint:disable no-any */\n        var dragEle = evt.srcElement !== undefined ? evt.srcElement : evt.target;\n        var intCoord = this.getCoordinates(evt);\n        var pageX;\n        var pageY;\n        var isOffsetParent = isNullOrUndefined(dragEle.offsetParent);\n        /* istanbul ignore next */\n        if (isdragscroll) {\n            pageX = this.clone ? intCoord.pageX :\n                (intCoord.pageX + (isOffsetParent ? 0 : dragEle.offsetParent.scrollLeft)) - this.relativeXPosition;\n            pageY = this.clone ? intCoord.pageY :\n                (intCoord.pageY + (isOffsetParent ? 0 : dragEle.offsetParent.scrollTop)) - this.relativeYPosition;\n        }\n        else {\n            pageX = this.clone ? intCoord.pageX : (intCoord.pageX + window.pageXOffset) - this.relativeXPosition;\n            pageY = this.clone ? intCoord.pageY : (intCoord.pageY + window.pageYOffset) - this.relativeYPosition;\n        }\n        return {\n            left: pageX - (this.margin.left + this.cursorAt.left),\n            top: pageY - (this.margin.top + this.cursorAt.top)\n        };\n    };\n    Draggable.prototype.getCoordinates = function (evt) {\n        if (evt.type.indexOf('touch') > -1) {\n            return evt.changedTouches[0];\n        }\n        return evt;\n    };\n    Draggable.prototype.getHelperElement = function (evt) {\n        var element;\n        if (this.clone) {\n            if (this.helper) {\n                element = this.helper({ sender: evt, element: this.target });\n            }\n            else {\n                element = createElement('div', { className: 'e-drag-helper e-block-touch', innerHTML: 'Draggable' });\n                document.body.appendChild(element);\n            }\n        }\n        else {\n            element = this.element;\n        }\n        return element;\n    };\n    Draggable.prototype.setGlobalDroppables = function (reset, drag, helper) {\n        this.droppables[this.scope] = reset ? null : {\n            draggable: drag,\n            helper: helper,\n            draggedElement: this.element\n        };\n    };\n    Draggable.prototype.checkTargetElement = function (evt) {\n        var target = this.getProperTargetElement(evt);\n        var dropIns = this.getDropInstance(target);\n        if (!dropIns && target && !isNullOrUndefined(target.parentNode)) {\n            var parent_1 = closest(target.parentNode, '.e-droppable') || target.parentElement;\n            if (parent_1) {\n                dropIns = this.getDropInstance(parent_1);\n            }\n        }\n        return { target: target, instance: dropIns };\n    };\n    Draggable.prototype.getDropInstance = function (ele) {\n        var name = 'getModuleName';\n        var drop;\n        var eleInst = ele && ele.ej2_instances;\n        if (eleInst) {\n            for (var _i = 0, eleInst_1 = eleInst; _i < eleInst_1.length; _i++) {\n                var inst = eleInst_1[_i];\n                if (inst[name]() === 'droppable') {\n                    drop = inst;\n                    break;\n                }\n            }\n        }\n        return drop;\n    };\n    Draggable.prototype.destroy = function () {\n        this.toggleEvents(true);\n        _super.prototype.destroy.call(this);\n    };\n    var Draggable_1;\n    __decorate([\n        Complex({}, Position)\n    ], Draggable.prototype, \"cursorAt\", void 0);\n    __decorate([\n        Property(true)\n    ], Draggable.prototype, \"clone\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"dragArea\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"isDragScroll\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"isReplaceDragEle\", void 0);\n    __decorate([\n        Property(true)\n    ], Draggable.prototype, \"isPreventSelect\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"dragStop\", void 0);\n    __decorate([\n        Property(1)\n    ], Draggable.prototype, \"distance\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"handle\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"abort\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"helper\", void 0);\n    __decorate([\n        Property('default')\n    ], Draggable.prototype, \"scope\", void 0);\n    __decorate([\n        Property('')\n    ], Draggable.prototype, \"dragTarget\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"axis\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"queryPositionInfo\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"enableTailMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"skipDistanceCheck\", void 0);\n    __decorate([\n        Property(true)\n    ], Draggable.prototype, \"preventDefault\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"enableAutoScroll\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"enableTapHold\", void 0);\n    __decorate([\n        Property(750)\n    ], Draggable.prototype, \"tapHoldThreshold\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"enableScrollHandler\", void 0);\n    Draggable = Draggable_1 = __decorate([\n        NotifyPropertyChanges\n    ], Draggable);\n    return Draggable;\n}(Base));\nexport { Draggable };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { isVisible, matches } from './dom';\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { EventHandler } from './event-handler';\nimport { compareElementParent } from './util';\n/**\n * Droppable Module provides support to enable droppable functionality in Dom Elements.\n * ```html\n * <div id='drop'>Droppable</div>\n * <script>\n * let ele:HTMLElement = document.getElementById('drop');\n * var drag:Droppable = new Droppable(ele,{\n *     accept:'.drop',\n *     drop: function(e) {\n *      //drop handler code.\n *     }\n * });\n * </script>\n * ```\n */\nvar Droppable = /** @class */ (function (_super) {\n    __extends(Droppable, _super);\n    function Droppable(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.mouseOver = false;\n        _this.dragData = {};\n        _this.dragStopCalled = false;\n        _this.bind();\n        return _this;\n    }\n    Droppable.prototype.bind = function () {\n        this.wireEvents();\n    };\n    Droppable.prototype.wireEvents = function () {\n        EventHandler.add(this.element, Browser.touchEndEvent, this.intDrop, this);\n    };\n    // triggers when property changed\n    // eslint-disable-next-line\n    Droppable.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Droppable.prototype.getModuleName = function () {\n        return 'droppable';\n    };\n    Droppable.prototype.intOver = function (event, element) {\n        if (!this.mouseOver) {\n            var drag = this.dragData[this.scope];\n            this.trigger('over', { event: event, target: element, dragData: drag });\n            this.mouseOver = true;\n        }\n    };\n    Droppable.prototype.intOut = function (event, element) {\n        if (this.mouseOver) {\n            this.trigger('out', { evt: event, target: element });\n            this.mouseOver = false;\n        }\n    };\n    Droppable.prototype.intDrop = function (evt, element) {\n        if (!this.dragStopCalled) {\n            return;\n        }\n        else {\n            this.dragStopCalled = false;\n        }\n        var accept = true;\n        var drag = this.dragData[this.scope];\n        var isDrag = drag ? (drag.helper && isVisible(drag.helper)) : false;\n        var area;\n        if (isDrag) {\n            area = this.isDropArea(evt, drag.helper, element);\n            if (this.accept) {\n                accept = matches(drag.helper, this.accept);\n            }\n        }\n        if (isDrag && this.drop && area.canDrop && accept) {\n            this.trigger('drop', { event: evt, target: area.target, droppedElement: drag.helper, dragData: drag });\n        }\n        this.mouseOver = false;\n    };\n    Droppable.prototype.isDropArea = function (evt, helper, element) {\n        var area = { canDrop: true, target: element || evt.target };\n        var isTouch = evt.type === 'touchend';\n        if (isTouch || area.target === helper) {\n            helper.style.display = 'none';\n            var coord = isTouch ? (evt.changedTouches[0]) : evt;\n            var ele = document.elementFromPoint(coord.clientX, coord.clientY);\n            area.canDrop = false;\n            area.canDrop = compareElementParent(ele, this.element);\n            if (area.canDrop) {\n                area.target = ele;\n            }\n            helper.style.display = '';\n        }\n        return area;\n    };\n    Droppable.prototype.destroy = function () {\n        EventHandler.remove(this.element, Browser.touchEndEvent, this.intDrop);\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Property()\n    ], Droppable.prototype, \"accept\", void 0);\n    __decorate([\n        Property('default')\n    ], Droppable.prototype, \"scope\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"drop\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"over\", void 0);\n    __decorate([\n        Event()\n    ], Droppable.prototype, \"out\", void 0);\n    Droppable = __decorate([\n        NotifyPropertyChanges\n    ], Droppable);\n    return Droppable;\n}(Base));\nexport { Droppable };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { Base } from './base';\nvar keyCode = {\n    'backspace': 8,\n    'tab': 9,\n    'enter': 13,\n    'shift': 16,\n    'control': 17,\n    'alt': 18,\n    'pause': 19,\n    'capslock': 20,\n    'space': 32,\n    'escape': 27,\n    'pageup': 33,\n    'pagedown': 34,\n    'end': 35,\n    'home': 36,\n    'leftarrow': 37,\n    'uparrow': 38,\n    'rightarrow': 39,\n    'downarrow': 40,\n    'insert': 45,\n    'delete': 46,\n    'f1': 112,\n    'f2': 113,\n    'f3': 114,\n    'f4': 115,\n    'f5': 116,\n    'f6': 117,\n    'f7': 118,\n    'f8': 119,\n    'f9': 120,\n    'f10': 121,\n    'f11': 122,\n    'f12': 123,\n    'semicolon': 186,\n    'plus': 187,\n    'comma': 188,\n    'minus': 189,\n    'dot': 190,\n    'forwardslash': 191,\n    'graveaccent': 192,\n    'openbracket': 219,\n    'backslash': 220,\n    'closebracket': 221,\n    'singlequote': 222\n};\n/**\n * KeyboardEvents class enables you to bind key action desired key combinations for ex., Ctrl+A, Delete, Alt+Space etc.\n * ```html\n * <div id='testEle'>  </div>;\n * <script>\n *   let node: HTMLElement = document.querySelector('#testEle');\n *   let kbInstance = new KeyboardEvents({\n *       element: node,\n *       keyConfigs:{ selectAll : 'ctrl+a' },\n *       keyAction: function (e:KeyboardEvent, action:string) {\n *           // handler function code\n *       }\n *   });\n * </script>\n * ```\n */\nvar KeyboardEvents = /** @class */ (function (_super) {\n    __extends(KeyboardEvents, _super);\n    /**\n     * Initializes the KeyboardEvents\n     *\n     * @param {HTMLElement} element ?\n     * @param {KeyboardEventsModel} options ?\n     */\n    function KeyboardEvents(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * To handle a key press event returns null\n         *\n         * @param {KeyboardEventArgs} e ?\n         * @returns {void} ?\n         */\n        _this.keyPressHandler = function (e) {\n            var isAltKey = e.altKey;\n            var isCtrlKey = e.ctrlKey;\n            var isShiftKey = e.shiftKey;\n            var curkeyCode = e.which;\n            var keys = Object.keys(_this.keyConfigs);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                var configCollection = _this.keyConfigs[key].split(',');\n                for (var _a = 0, configCollection_1 = configCollection; _a < configCollection_1.length; _a++) {\n                    var rconfig = configCollection_1[_a];\n                    var rKeyObj = KeyboardEvents_1.getKeyConfigData(rconfig.trim());\n                    if (isAltKey === rKeyObj.altKey && isCtrlKey === rKeyObj.ctrlKey &&\n                        isShiftKey === rKeyObj.shiftKey && curkeyCode === rKeyObj.keyCode) {\n                        e.action = key;\n                        if (_this.keyAction) {\n                            _this.keyAction(e);\n                        }\n                    }\n                }\n            }\n        };\n        _this.bind();\n        return _this;\n    }\n    KeyboardEvents_1 = KeyboardEvents;\n    /**\n     * Unwire bound events and destroy the instance.\n     *\n     * @returns {void} ?\n     */\n    KeyboardEvents.prototype.destroy = function () {\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Function can be used to specify certain action if a property is changed\n     *\n     * @param {KeyboardEventsModel} newProp ?\n     * @param {KeyboardEventsModel} oldProp ?\n     * @returns {void} ?\n     * @private\n     */\n    // eslint-disable-next-line\n    KeyboardEvents.prototype.onPropertyChanged = function (newProp, oldProp) {\n        // No code are needed\n    };\n    KeyboardEvents.prototype.bind = function () {\n        this.wireEvents();\n    };\n    /**\n     * To get the module name, returns 'keyboard'.\n     *\n     * @returns {string} ?\n     * @private\n     */\n    KeyboardEvents.prototype.getModuleName = function () {\n        return 'keyboard';\n    };\n    /**\n     * Wiring event handlers to events\n     *\n     * @returns {void} ?\n     * @private\n     */\n    KeyboardEvents.prototype.wireEvents = function () {\n        this.element.addEventListener(this.eventName, this.keyPressHandler);\n    };\n    /**\n     * Unwiring event handlers to events\n     *\n     * @returns {void} ?\n     * @private\n     */\n    KeyboardEvents.prototype.unwireEvents = function () {\n        this.element.removeEventListener(this.eventName, this.keyPressHandler);\n    };\n    /**\n     * To get the key configuration data\n     *\n     * @param {string} config - configuration data\n     * @returns {KeyData} ?\n     */\n    KeyboardEvents.getKeyConfigData = function (config) {\n        if (config in this.configCache) {\n            return this.configCache[config];\n        }\n        var keys = config.toLowerCase().split('+');\n        var keyData = {\n            altKey: (keys.indexOf('alt') !== -1 ? true : false),\n            ctrlKey: (keys.indexOf('ctrl') !== -1 ? true : false),\n            shiftKey: (keys.indexOf('shift') !== -1 ? true : false),\n            keyCode: null\n        };\n        if (keys[keys.length - 1].length > 1 && !!Number(keys[keys.length - 1])) {\n            keyData.keyCode = Number(keys[keys.length - 1]);\n        }\n        else {\n            keyData.keyCode = KeyboardEvents_1.getKeyCode(keys[keys.length - 1]);\n        }\n        KeyboardEvents_1.configCache[config] = keyData;\n        return keyData;\n    };\n    // Return the keycode value as string\n    KeyboardEvents.getKeyCode = function (keyVal) {\n        return keyCode[keyVal] || keyVal.toUpperCase().charCodeAt(0);\n    };\n    var KeyboardEvents_1;\n    KeyboardEvents.configCache = {};\n    __decorate([\n        Property({})\n    ], KeyboardEvents.prototype, \"keyConfigs\", void 0);\n    __decorate([\n        Property('keyup')\n    ], KeyboardEvents.prototype, \"eventName\", void 0);\n    __decorate([\n        Event()\n    ], KeyboardEvents.prototype, \"keyAction\", void 0);\n    KeyboardEvents = KeyboardEvents_1 = __decorate([\n        NotifyPropertyChanges\n    ], KeyboardEvents);\n    return KeyboardEvents;\n}(Base));\nexport { KeyboardEvents };\n","import { extend, isNullOrUndefined } from './util';\nimport { defaultCulture } from './internationalization';\n/**\n * L10n modules provides localized text for different culture.\n * ```typescript\n * import {setCulture} from '@syncfusion/ts-base-library';\n * //load global locale object common for all components.\n * L10n.load({\n *    'fr-BE': {\n *       'button': {\n *            'check': 'vrifi'\n *        }\n *    }\n * });\n * //set globale default locale culture.\n * setCulture('fr-BE');\n * let instance: L10n = new L10n('button', {\n *    check: 'checked'\n * });\n * //Get locale text for current property.\n * instance.getConstant('check');\n * //Change locale culture in a component.\n * instance.setLocale('en-US');\n * ```\n */\nvar L10n = /** @class */ (function () {\n    /**\n     * Constructor\n     *\n     * @param {string} controlName ?\n     * @param {Object} localeStrings ?\n     * @param {string} locale ?\n     */\n    function L10n(controlName, localeStrings, locale) {\n        this.controlName = controlName;\n        this.localeStrings = localeStrings;\n        this.setLocale(locale || defaultCulture);\n    }\n    /**\n     * Sets the locale text\n     *\n     * @param {string} locale ?\n     * @returns {void} ?\n     */\n    L10n.prototype.setLocale = function (locale) {\n        var intLocale = this.intGetControlConstant(L10n.locale, locale);\n        this.currentLocale = intLocale || this.localeStrings;\n    };\n    /**\n     * Sets the global locale for all components.\n     *\n     * @param {Object} localeObject - specifies the localeObject to be set as global locale.\n     * @returns {void} ?\n     */\n    L10n.load = function (localeObject) {\n        this.locale = extend(this.locale, localeObject, {}, true);\n    };\n    /**\n     * Returns current locale text for the property based on the culture name and control name.\n     *\n     * @param {string} prop - specifies the property for which localize text to be returned.\n     * @returns {string} ?\n     */\n    L10n.prototype.getConstant = function (prop) {\n        // Removed conditional operator because this method does not return correct value when passing 0 as value in localization\n        if (!isNullOrUndefined(this.currentLocale[prop])) {\n            return this.currentLocale[prop];\n        }\n        else {\n            return this.localeStrings[prop] || '';\n        }\n    };\n    /**\n     * Returns the control constant object for current object and the locale specified.\n     *\n     * @param {Object} curObject ?\n     * @param {string} locale ?\n     * @returns {Object} ?\n     */\n    L10n.prototype.intGetControlConstant = function (curObject, locale) {\n        if ((curObject)[locale]) {\n            return (curObject)[locale][this.controlName];\n        }\n        return null;\n    };\n    L10n.locale = {};\n    return L10n;\n}());\nexport { L10n };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { extend } from './util';\nimport { Property, Complex, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { Browser } from './browser';\nimport { Base } from './base';\nimport { ChildProperty } from './child-property';\nimport { EventHandler } from './event-handler';\n/**\n * SwipeSettings is a framework module that provides support to handle swipe event like swipe up, swipe right, etc..,\n */\nvar SwipeSettings = /** @class */ (function (_super) {\n    __extends(SwipeSettings, _super);\n    function SwipeSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(50)\n    ], SwipeSettings.prototype, \"swipeThresholdDistance\", void 0);\n    return SwipeSettings;\n}(ChildProperty));\nexport { SwipeSettings };\nvar swipeRegex = /(Up|Down)/;\n/**\n * Touch class provides support to handle the touch event like tap, double tap, tap hold, etc..,\n * ```typescript\n *    let node: HTMLElement;\n * let touchObj: Touch = new Touch({\n *    element: node,\n *    tap: function (e) {\n *        // tap handler function code\n *    }\n *    tapHold: function (e) {\n *        // tap hold handler function code\n *    }\n *    scroll: function (e) {\n *        // scroll handler function code\n *    }\n *    swipe: function (e) {\n *        // swipe handler function code\n *    }\n * });\n * ```\n */\nvar Touch = /** @class */ (function (_super) {\n    __extends(Touch, _super);\n    /* End-Properties */\n    function Touch(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.touchAction = true;\n        _this.tapCount = 0;\n        /**\n         *\n         * @param {MouseEventArgs | TouchEventArgs} evt ?\n         * @returns {void} ?\n         */\n        _this.startEvent = function (evt) {\n            if (_this.touchAction === true) {\n                var point = _this.updateChangeTouches(evt);\n                if (evt.changedTouches !== undefined) {\n                    _this.touchAction = false;\n                }\n                _this.isTouchMoved = false;\n                _this.movedDirection = '';\n                _this.startPoint = _this.lastMovedPoint = { clientX: point.clientX, clientY: point.clientY };\n                _this.startEventData = point;\n                _this.hScrollLocked = _this.vScrollLocked = false;\n                _this.tStampStart = Date.now();\n                _this.timeOutTapHold = setTimeout(function () { _this.tapHoldEvent(evt); }, _this.tapHoldThreshold);\n                EventHandler.add(_this.element, Browser.touchMoveEvent, _this.moveEvent, _this);\n                EventHandler.add(_this.element, Browser.touchEndEvent, _this.endEvent, _this);\n                EventHandler.add(_this.element, Browser.touchCancelEvent, _this.cancelEvent, _this);\n            }\n        };\n        /**\n         *\n         * @param {MouseEventArgs | TouchEventArgs} evt ?\n         * @returns {void} ?\n         */\n        _this.moveEvent = function (evt) {\n            var point = _this.updateChangeTouches(evt);\n            _this.movedPoint = point;\n            _this.isTouchMoved = !(point.clientX === _this.startPoint.clientX && point.clientY === _this.startPoint.clientY);\n            var eScrollArgs = {};\n            if (_this.isTouchMoved) {\n                clearTimeout(_this.timeOutTapHold);\n                _this.calcScrollPoints(evt);\n                var scrollArg = {\n                    startEvents: _this.startEventData,\n                    originalEvent: evt, startX: _this.startPoint.clientX,\n                    startY: _this.startPoint.clientY, distanceX: _this.distanceX,\n                    distanceY: _this.distanceY, scrollDirection: _this.scrollDirection,\n                    velocity: _this.getVelocity(point)\n                };\n                eScrollArgs = extend(eScrollArgs, {}, scrollArg);\n                _this.trigger('scroll', eScrollArgs);\n                _this.lastMovedPoint = { clientX: point.clientX, clientY: point.clientY };\n            }\n        };\n        /**\n         *\n         * @param {MouseEventArgs | TouchEventArgs} evt ?\n         * @returns {void} ?\n         */\n        _this.cancelEvent = function (evt) {\n            clearTimeout(_this.timeOutTapHold);\n            clearTimeout(_this.timeOutTap);\n            _this.tapCount = 0;\n            _this.swipeFn(evt);\n            EventHandler.remove(_this.element, Browser.touchCancelEvent, _this.cancelEvent);\n        };\n        /**\n         *\n         * @param {MouseEventArgs | TouchEventArgs} evt ?\n         * @returns {void} ?\n         */\n        _this.endEvent = function (evt) {\n            _this.swipeFn(evt);\n            if (!_this.isTouchMoved) {\n                if (typeof _this.tap === 'function') {\n                    _this.trigger('tap', { originalEvent: evt, tapCount: ++_this.tapCount });\n                    _this.timeOutTap = setTimeout(function () {\n                        _this.tapCount = 0;\n                    }, _this.tapThreshold);\n                }\n            }\n            _this.modeclear();\n        };\n        /**\n         *\n         * @param {MouseEventArgs | TouchEventArgs} evt ?\n         * @returns {void} ?\n         */\n        _this.swipeFn = function (evt) {\n            clearTimeout(_this.timeOutTapHold);\n            clearTimeout(_this.timeOutTap);\n            var point = _this.updateChangeTouches(evt);\n            var diffX = point.clientX - _this.startPoint.clientX;\n            var diffY = point.clientY - _this.startPoint.clientY;\n            diffX = Math.floor(diffX < 0 ? -1 * diffX : diffX);\n            diffY = Math.floor(diffY < 0 ? -1 * diffY : diffX);\n            _this.isTouchMoved = diffX > 1 || diffY > 1;\n            _this.endPoint = point;\n            _this.calcPoints(evt);\n            var swipeArgs = {\n                originalEvent: evt,\n                startEvents: _this.startEventData,\n                startX: _this.startPoint.clientX,\n                startY: _this.startPoint.clientY,\n                distanceX: _this.distanceX, distanceY: _this.distanceY, swipeDirection: _this.movedDirection,\n                velocity: _this.getVelocity(point)\n            };\n            if (_this.isTouchMoved) {\n                var eSwipeArgs = void 0;\n                var tDistance = _this.swipeSettings.swipeThresholdDistance;\n                // eslint-disable-next-line\n                eSwipeArgs = extend(eSwipeArgs, _this.defaultArgs, swipeArgs);\n                var canTrigger = false;\n                var ele = _this.element;\n                var scrollBool = _this.isScrollable(ele);\n                var moved = swipeRegex.test(_this.movedDirection);\n                if ((tDistance < _this.distanceX && !moved) || (tDistance < _this.distanceY && moved)) {\n                    if (!scrollBool) {\n                        canTrigger = true;\n                    }\n                    else {\n                        canTrigger = _this.checkSwipe(ele, moved);\n                    }\n                }\n                if (canTrigger) {\n                    _this.trigger('swipe', eSwipeArgs);\n                }\n            }\n            _this.modeclear();\n        };\n        _this.modeclear = function () {\n            _this.modeClear = setTimeout(function () {\n                _this.touchAction = true;\n            }, (typeof _this.tap !== 'function' ? 0 : 20));\n            _this.lastTapTime = new Date().getTime();\n            EventHandler.remove(_this.element, Browser.touchMoveEvent, _this.moveEvent);\n            EventHandler.remove(_this.element, Browser.touchEndEvent, _this.endEvent);\n            EventHandler.remove(_this.element, Browser.touchCancelEvent, _this.cancelEvent);\n        };\n        _this.bind();\n        return _this;\n    }\n    // triggers when property changed\n    /**\n     *\n     * @private\n     * @param {TouchModel} newProp ?\n     * @param {TouchModel} oldProp ?\n     * @returns {void} ?\n     */\n    // eslint-disable-next-line\n    Touch.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Touch.prototype.bind = function () {\n        this.wireEvents();\n        if (Browser.isIE) {\n            this.element.classList.add('e-block-touch');\n        }\n    };\n    /**\n     * To destroy the touch instance.\n     *\n     * @returns {void}\n     */\n    Touch.prototype.destroy = function () {\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    // Need to changes the event binding once we updated the event handler.\n    Touch.prototype.wireEvents = function () {\n        EventHandler.add(this.element, Browser.touchStartEvent, this.startEvent, this);\n    };\n    Touch.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, Browser.touchStartEvent, this.startEvent);\n    };\n    /**\n     * Returns module name as touch\n     *\n     * @returns {string} ?\n     * @private\n     */\n    Touch.prototype.getModuleName = function () {\n        return 'touch';\n    };\n    /**\n     * Returns if the HTML element is Scrollable.\n     *\n     * @param {HTMLElement} element - HTML Element to check if Scrollable.\n     * @returns {boolean} ?\n     */\n    Touch.prototype.isScrollable = function (element) {\n        var eleStyle = getComputedStyle(element);\n        var style = eleStyle.overflow + eleStyle.overflowX + eleStyle.overflowY;\n        if ((/(auto|scroll)/).test(style)) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     *\n     * @param {MouseEventArgs | TouchEventArgs} evt ?\n     * @returns {void} ?\n     */\n    Touch.prototype.tapHoldEvent = function (evt) {\n        this.tapCount = 0;\n        this.touchAction = true;\n        var eTapArgs;\n        EventHandler.remove(this.element, Browser.touchMoveEvent, this.moveEvent);\n        EventHandler.remove(this.element, Browser.touchEndEvent, this.endEvent);\n        // eslint-disable-next-line\n        eTapArgs = { originalEvent: evt };\n        this.trigger('tapHold', eTapArgs);\n        EventHandler.remove(this.element, Browser.touchCancelEvent, this.cancelEvent);\n    };\n    Touch.prototype.calcPoints = function (evt) {\n        var point = this.updateChangeTouches(evt);\n        this.defaultArgs = { originalEvent: evt };\n        this.distanceX = Math.abs((Math.abs(point.clientX) - Math.abs(this.startPoint.clientX)));\n        this.distanceY = Math.abs((Math.abs(point.clientY) - Math.abs(this.startPoint.clientY)));\n        if (this.distanceX > this.distanceY) {\n            this.movedDirection = (point.clientX > this.startPoint.clientX) ? 'Right' : 'Left';\n        }\n        else {\n            this.movedDirection = (point.clientY < this.startPoint.clientY) ? 'Up' : 'Down';\n        }\n    };\n    Touch.prototype.calcScrollPoints = function (evt) {\n        var point = this.updateChangeTouches(evt);\n        this.defaultArgs = { originalEvent: evt };\n        this.distanceX = Math.abs((Math.abs(point.clientX) - Math.abs(this.lastMovedPoint.clientX)));\n        this.distanceY = Math.abs((Math.abs(point.clientY) - Math.abs(this.lastMovedPoint.clientY)));\n        if ((this.distanceX > this.distanceY || this.hScrollLocked === true) && this.vScrollLocked === false) {\n            this.scrollDirection = (point.clientX > this.lastMovedPoint.clientX) ? 'Right' : 'Left';\n            this.hScrollLocked = true;\n        }\n        else {\n            this.scrollDirection = (point.clientY < this.lastMovedPoint.clientY) ? 'Up' : 'Down';\n            this.vScrollLocked = true;\n        }\n    };\n    Touch.prototype.getVelocity = function (pnt) {\n        var newX = pnt.clientX;\n        var newY = pnt.clientY;\n        var newT = Date.now();\n        var xDist = newX - this.startPoint.clientX;\n        var yDist = newY - this.startPoint.clientX;\n        var interval = newT - this.tStampStart;\n        return Math.sqrt(xDist * xDist + yDist * yDist) / interval;\n    };\n    // eslint-disable-next-line\n    Touch.prototype.checkSwipe = function (ele, flag) {\n        var keys = ['scroll', 'offset'];\n        var temp = flag ? ['Height', 'Top'] : ['Width', 'Left'];\n        if ((ele[keys[0] + temp[0]] <= ele[keys[1] + temp[0]])) {\n            return true;\n        }\n        return (ele[keys[0] + temp[1]] === 0) ||\n            (ele[keys[1] + temp[0]] + ele[keys[0] + temp[1]] >= ele[keys[0] + temp[0]]);\n    };\n    Touch.prototype.updateChangeTouches = function (evt) {\n        var point = evt.changedTouches && evt.changedTouches.length !== 0 ? evt.changedTouches[0] : evt;\n        return point;\n    };\n    __decorate([\n        Event()\n    ], Touch.prototype, \"tap\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"tapHold\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"swipe\", void 0);\n    __decorate([\n        Event()\n    ], Touch.prototype, \"scroll\", void 0);\n    __decorate([\n        Property(350)\n    ], Touch.prototype, \"tapThreshold\", void 0);\n    __decorate([\n        Property(750)\n    ], Touch.prototype, \"tapHoldThreshold\", void 0);\n    __decorate([\n        Complex({}, SwipeSettings)\n    ], Touch.prototype, \"swipeSettings\", void 0);\n    Touch = __decorate([\n        NotifyPropertyChanges\n    ], Touch);\n    return Touch;\n}(Base));\nexport { Touch };\n","/**\n * Template Engine\n */\nvar LINES = new RegExp('\\\\n|\\\\r|\\\\s\\\\s+', 'g');\nvar QUOTES = new RegExp(/'|\"/g);\nvar IF_STMT = new RegExp('if ?\\\\(');\nvar ELSEIF_STMT = new RegExp('else if ?\\\\(');\nvar ELSE_STMT = new RegExp('else');\nvar FOR_STMT = new RegExp('for ?\\\\(');\nvar IF_OR_FOR = new RegExp('(/if|/for)');\nvar CALL_FUNCTION = new RegExp('\\\\((.*)\\\\)', '');\nvar NOT_NUMBER = new RegExp('^[0-9]+$', 'g');\nvar WORD = new RegExp('[\\\\w\"\\'.\\\\s+]+', 'g');\nvar DBL_QUOTED_STR = new RegExp('\"(.*?)\"', 'g');\nvar WORDIF = new RegExp('[\\\\w\"\\'@#$.\\\\s-+]+', 'g');\nvar exp = new RegExp('\\\\${([^}]*)}', 'g');\n// let cachedTemplate: Object = {};\nvar ARR_OBJ = /^\\..*/gm;\nvar SINGLE_SLASH = /\\\\/gi;\nvar DOUBLE_SLASH = /\\\\\\\\/gi;\nvar WORDFUNC = new RegExp('[\\\\w\"\\'@#$.\\\\s+]+', 'g');\nvar WINDOWFUNC = /\\window\\./gm;\n/**\n * The function to set regular expression for template expression string.\n *\n * @param {RegExp} value - Value expression.\n * @returns {RegExp} ?\n * @private\n */\nexport function expression(value) {\n    if (value) {\n        exp = value;\n    }\n    return exp;\n}\n// /**\n//  * To render the template string from the given data.\n//  * @param  {string} template - String Template.\n//  * @param  {Object[]|JSON} data - DataSource for the template.\n//  * @param  {Object} helper? - custom helper object.\n//  */\n// export function template(template: string, data: JSON, helper?: Object): string {\n//     let hash: string = hashCode(template);\n//     let tmpl: Function;\n//     if (!cachedTemplate[hash]) {\n//         tmpl = cachedTemplate[hash] = compile(template, helper);\n//     } else {\n//         tmpl = cachedTemplate[hash];\n//     }\n//     return tmpl(data);\n// }\n/**\n * Compile the template string into template function.\n *\n * @param {string} template - The template string which is going to convert.\n * @param {Object} helper - Helper functions as an object.\n * @param {boolean} ignorePrefix ?\n * @returns {string} ?\n * @private\n */\nexport function compile(template, helper, ignorePrefix) {\n    var argName = 'data';\n    var evalExpResult = evalExp(template, argName, helper, ignorePrefix);\n    var condtion = \"var valueRegEx = (/value=\\\\'([A-Za-z0-9 _]*)((.)([\\\\w)(!-;?-\\u25A0\\\\s]+)['])/g);\\n    var hrefRegex = (/(?:href)([\\\\s='\\\"./]+)([\\\\w-./?=&\\\\\\\\#\\\"]+)((.)([\\\\w)(!-;/?-\\u25A0\\\\s]+)['])/g);\\n    if(str.match(valueRegEx)){\\n        var check = str.match(valueRegEx);\\n        var str1 = str;\\n        for (var i=0; i < check.length; i++) {\\n            var check1 = str.match(valueRegEx)[i].split('value=')[1];\\n            var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '\\\"') : check1;\\n            change =change.match(/.$/)[0] === '\\\\'' ? change.replace(/.$/,'\\\"') : change;\\n            str1 = str1.replace(check1, change);\\n        }\\n        str = str.replace(str, str1);\\n    }\\n    else if (str.match(/(?:href='')/) === null) {\\n        if(str.match(hrefRegex)) {\\n            var check = str.match(hrefRegex);\\n            var str1 = str;\\n            for (var i=0; i < check.length; i++) {\\n                var check1 = str.match(hrefRegex)[i].split('href=')[1];\\n                var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '\\\"') : check1;\\n                change =change.match(/.$/)[0] === '\\\\'' ? change.replace(/.$/,'\\\"') : change;\\n                str1 = str1.replace(check1, change);\\n            }\\n            str = str.replace(str, str1);\\n        }\\n    }\\n    \";\n    var fnCode = \"var str=\\\"\" + evalExpResult + \"\\\";\" + condtion + \" return str;\";\n    var fn = new Function(argName, fnCode);\n    return fn.bind(helper);\n}\n/** function used to evaluate the function expression\n *\n * @param {string} str ?\n * @param {string} nameSpace ?\n * @param {Object} helper ?\n * @param {boolean} ignorePrefix ?\n * @returns {string} ?\n */\nfunction evalExp(str, nameSpace, helper, ignorePrefix) {\n    var varCOunt = 0;\n    /**\n     * Variable containing Local Keys\n     */\n    var localKeys = [];\n    var isClass = str.match(/class=\"([^\"]+|)\\s{2}/g);\n    var singleSpace = '';\n    if (isClass) {\n        isClass.forEach(function (value) {\n            singleSpace = value.replace(/\\s\\s+/g, ' ');\n            str = str.replace(value, singleSpace);\n        });\n    }\n    return str.replace(LINES, '').replace(DBL_QUOTED_STR, '\\'$1\\'').replace(exp, \n    // eslint-disable-next-line\n    function (match, cnt, offset, matchStr) {\n        var SPECIAL_CHAR = /@|#|\\$/gm;\n        var matches = cnt.match(CALL_FUNCTION);\n        // matches to detect any function calls\n        if (matches) {\n            var rlStr = matches[1];\n            if (ELSEIF_STMT.test(cnt)) {\n                //handling else-if condition\n                cnt = '\";} ' + cnt.replace(matches[1], rlStr.replace(WORD, function (str) {\n                    str = str.trim();\n                    return addNameSpace(str, !(QUOTES.test(str)) && (localKeys.indexOf(str) === -1), nameSpace, localKeys, ignorePrefix);\n                })) + '{ \\n str = str + \"';\n            }\n            else if (IF_STMT.test(cnt)) {\n                //handling if condition\n                cnt = '\"; ' + cnt.replace(matches[1], rlStr.replace(WORDIF, function (strs) {\n                    return HandleSpecialCharArrObj(strs, nameSpace, localKeys, ignorePrefix);\n                })) + '{ \\n str = str + \"';\n            }\n            else if (FOR_STMT.test(cnt)) {\n                //handling for condition\n                var rlStr_1 = matches[1].split(' of ');\n                // replace for each into actual JavaScript\n                // eslint-disable-next-line\n                cnt = '\"; ' + cnt.replace(matches[1], function (mtc) {\n                    localKeys.push(rlStr_1[0]);\n                    localKeys.push(rlStr_1[0] + 'Index');\n                    varCOunt = varCOunt + 1;\n                    // tslint:disable-next-line\n                    return 'var i' + varCOunt + '=0; i' + varCOunt + ' < ' + addNameSpace(rlStr_1[1], true, nameSpace, localKeys, ignorePrefix) + '.length; i' + varCOunt + '++';\n                }) + '{ \\n ' + rlStr_1[0] + '= ' + addNameSpace(rlStr_1[1], true, nameSpace, localKeys, ignorePrefix)\n                    + '[i' + varCOunt + ']; \\n var ' + rlStr_1[0] + 'Index=i' + varCOunt + '; \\n str = str + \"';\n            }\n            else {\n                //helper function handling\n                var fnStr = cnt.split('(');\n                // eslint-disable-next-line\n                var fNameSpace = (helper && helper.hasOwnProperty(fnStr[0]) ? 'this.' : 'global');\n                fNameSpace = (/\\./.test(fnStr[0]) ? '' : fNameSpace);\n                var ftArray = matches[1].split(',');\n                if (matches[1].length !== 0 && !(/data/).test(ftArray[0]) && !(/window./).test(ftArray[0])) {\n                    matches[1] = (fNameSpace === 'global' ? nameSpace + '.' + matches[1] : matches[1]);\n                }\n                var splRegexp = /@|\\$|#/gm;\n                var arrObj = /\\]\\./gm;\n                if (WINDOWFUNC.test(cnt) && arrObj.test(cnt) || splRegexp.test(cnt)) {\n                    var splArrRegexp = /@|\\$|#|\\]\\./gm;\n                    if (splArrRegexp.test(cnt)) {\n                        // tslint:disable-next-line\n                        cnt = '\"+ ' + (fNameSpace === 'global' ? '' : fNameSpace) + cnt.replace(matches[1], rlStr.replace(WORDFUNC, function (strs) {\n                            return HandleSpecialCharArrObj(strs, nameSpace, localKeys, ignorePrefix);\n                        })) + '+ \"';\n                    }\n                }\n                else {\n                    cnt = '\" + ' + (fNameSpace === 'global' ? '' : fNameSpace) +\n                        cnt.replace(rlStr, addNameSpace(matches[1].replace(/,( |)data.|,/gi, ',' + nameSpace + '.').replace(/,( |)data.window/gi, ',window'), (fNameSpace === 'global' ? false : true), nameSpace, localKeys, ignorePrefix)) +\n                        '+\"';\n                }\n            }\n        }\n        else if (ELSE_STMT.test(cnt)) {\n            // handling else condition\n            cnt = '\"; ' + cnt.replace(ELSE_STMT, '} else { \\n str = str + \"');\n            // eslint-disable-next-line\n        }\n        else if (!!cnt.match(IF_OR_FOR)) {\n            // close condition\n            cnt = cnt.replace(IF_OR_FOR, '\"; \\n } \\n str = str + \"');\n        }\n        else if (SPECIAL_CHAR.test(cnt)) {\n            // template string with double slash with special character\n            if (cnt.match(SINGLE_SLASH)) {\n                cnt = SlashReplace(cnt);\n            }\n            cnt = '\"+' + NameSpaceForspecialChar(cnt, (localKeys.indexOf(cnt) === -1), nameSpace, localKeys) + '\"]+\"';\n        }\n        else {\n            // template string with double slash\n            if (cnt.match(SINGLE_SLASH)) {\n                cnt = SlashReplace(cnt);\n                cnt = '\"+' + NameSpaceForspecialChar(cnt, (localKeys.indexOf(cnt) === -1), nameSpace, localKeys) + '\"]+\"';\n            }\n            else {\n                // evaluate normal expression\n                cnt = '\"+' + addNameSpace(cnt.replace(/,/gi, '+' + nameSpace + '.'), (localKeys.indexOf(cnt) === -1), nameSpace, localKeys, ignorePrefix) + '+\"';\n            }\n        }\n        return cnt;\n    });\n}\n/**\n *\n * @param {string} str ?\n * @param {boolean} addNS ?\n * @param {string} nameSpace ?\n * @param {string[]} ignoreList ?\n * @param {boolean} ignorePrefix ?\n * @returns {string} ?\n */\nfunction addNameSpace(str, addNS, nameSpace, ignoreList, ignorePrefix) {\n    return ((addNS && !(NOT_NUMBER.test(str)) && ignoreList.indexOf(str.split('.')[0]) === -1 && !ignorePrefix) ? nameSpace + '.' + str : str);\n}\n/**\n *\n * @param {string} str ?\n * @param {boolean} addNS ?\n * @param {string} nameSpace ?\n * @param {string[]} ignoreList ?\n * @returns {string} ?\n */\nfunction NameSpaceArrObj(str, addNS, nameSpace, ignoreList) {\n    var arrObjReg = /^\\..*/gm;\n    return ((addNS && !(NOT_NUMBER.test(str)) &&\n        ignoreList.indexOf(str.split('.')[0]) === -1 && !(arrObjReg.test(str))) ? nameSpace + '.' + str : str);\n}\n// // Create hashCode for template string to storeCached function\n// function hashCode(str: string): string {\n//     return str.split('').reduce((a: number, b: string) => { a = ((a << 5) - a) + b.charCodeAt(0); return a & a; }, 0).toString();\n// }\n/**\n *\n * @param {string} str ?\n * @param {boolean} addNS ?\n * @param {string} nameSpace ?\n * @param {string[]} ignoreList ?\n * @returns {string} ?\n */\nfunction NameSpaceForspecialChar(str, addNS, nameSpace, ignoreList) {\n    return ((addNS && !(NOT_NUMBER.test(str)) && ignoreList.indexOf(str.split('.')[0]) === -1) ? nameSpace + '[\"' + str : str);\n}\n// eslint-disable-next-line\nfunction SlashReplace(tempStr) {\n    var double = '\\\\\\\\';\n    if (tempStr.match(DOUBLE_SLASH)) {\n        // eslint-disable-next-line\n        tempStr = tempStr;\n    }\n    else {\n        tempStr = tempStr.replace(SINGLE_SLASH, double);\n    }\n    return tempStr;\n}\n/**\n *\n * @param {string} str ?\n * @param {string} nameSpaceNew ?\n * @param {string[]} keys ?\n * @param {boolean} ignorePrefix ?\n * @returns {string} ?\n */\nfunction HandleSpecialCharArrObj(str, nameSpaceNew, keys, ignorePrefix) {\n    str = str.trim();\n    var windowFunc = /\\window\\./gm;\n    if (!windowFunc.test(str)) {\n        var quotes = /'|\"/gm;\n        var splRegexp = /@|\\$|#/gm;\n        if (splRegexp.test(str)) {\n            str = NameSpaceForspecialChar(str, (keys.indexOf(str) === -1), nameSpaceNew, keys) + '\"]';\n        }\n        if (ARR_OBJ.test(str)) {\n            return NameSpaceArrObj(str, !(quotes.test(str)) && (keys.indexOf(str) === -1), nameSpaceNew, keys);\n        }\n        else {\n            return addNameSpace(str, !(quotes.test(str)) && (keys.indexOf(str) === -1), nameSpaceNew, keys, ignorePrefix);\n        }\n    }\n    else {\n        return str;\n    }\n}\n","/**\n * Template Engine Bridge\n */\nimport { compile as render } from './template';\nimport { createElement } from './dom';\nimport { isNullOrUndefined, isBlazor } from './util';\nvar HAS_ROW = /^[\\n\\r.]+<tr|^<tr/;\nvar HAS_SVG = /^[\\n\\r.]+<svg|^<path|^<g/;\nexport var blazorTemplates = {};\n/**\n *\n * @returns {string} ?\n */\nexport function getRandomId() {\n    return '-' + Math.random().toString(36).substr(2, 5);\n}\n/**\n * Compile the template string into template function.\n *\n * @param {string} templateString - The template string which is going to convert.\n * @param {Object} helper - Helper functions as an object.\n * @param {boolean} ignorePrefix ?\n * @returns {NodeList} ?\n * @private\n */\n// eslint-disable-next-line\nexport function compile(templateString, helper, ignorePrefix) {\n    var compiler = engineObj.compile(templateString, helper, ignorePrefix);\n    // eslint-disable-next-line\n    return function (data, component, propName, templateId, isStringTemplate, index, element, root) {\n        var result = compiler(data, component, propName, element, root);\n        var blazorTemplateId = 'BlazorTemplateId';\n        if (isBlazor() && !isStringTemplate) {\n            var randomId = getRandomId();\n            var blazorId = templateId + randomId;\n            if (!blazorTemplates[templateId]) {\n                blazorTemplates[templateId] = [];\n            }\n            if (!isNullOrUndefined(index)) {\n                var keys = Object.keys(blazorTemplates[templateId][index]);\n                for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                    var key = keys_1[_i];\n                    if (key !== blazorTemplateId && data[key]) {\n                        blazorTemplates[templateId][index][key] = data[key];\n                    }\n                    if (key === blazorTemplateId) {\n                        blazorId = blazorTemplates[templateId][index][key];\n                    }\n                }\n            }\n            else {\n                data[blazorTemplateId] = blazorId;\n                blazorTemplates[templateId].push(data);\n            }\n            // eslint-disable-next-line\n            return propName === 'rowTemplate' ? [createElement('tr', { id: blazorId, className: 'e-blazor-template' })] :\n                // eslint-disable-next-line\n                [createElement('div', { id: blazorId, className: 'e-blazor-template' })];\n        }\n        if (typeof result === 'string') {\n            if (HAS_SVG.test(result)) {\n                var ele = createElement('svg', { innerHTML: result });\n                return ele.childNodes;\n            }\n            else {\n                var ele = createElement((HAS_ROW.test(result) ? 'table' : 'div'), { innerHTML: result });\n                return ele.childNodes;\n            }\n        }\n        else {\n            return result;\n        }\n    };\n}\n/**\n *\n * @param {string} templateId ?\n * @param {string} templateName ?\n * @param {string} comp ?\n * @param {boolean} isEmpty ?\n * @param {Function} callBack ?\n * @returns {void} ?\n */\nexport function updateBlazorTemplate(templateId, templateName, comp, isEmpty, callBack) {\n    if (isBlazor()) {\n        var ejsIntrop = 'sfBlazor';\n        window[ejsIntrop].updateTemplate(templateName, blazorTemplates[templateId], templateId, comp, callBack);\n        if (isEmpty !== false) {\n            blazorTemplates[templateId] = [];\n        }\n    }\n}\n/**\n *\n * @param {string} templateId ?\n * @param {string} templateName ?\n * @param {number} index ?\n * @returns {void} ?\n */\nexport function resetBlazorTemplate(templateId, templateName, index) {\n    var templateDiv = document.getElementById(templateId);\n    if (templateDiv) {\n        // eslint-disable-next-line\n        var innerTemplates = templateDiv.getElementsByClassName('blazor-inner-template');\n        for (var i = 0; i < innerTemplates.length; i++) {\n            var tempId = ' ';\n            if (!isNullOrUndefined(index)) {\n                tempId = innerTemplates[index].getAttribute('data-templateId');\n            }\n            else {\n                tempId = innerTemplates[i].getAttribute('data-templateId');\n            }\n            var tempElement = document.getElementById(tempId);\n            if (tempElement) {\n                var length_1 = tempElement.childNodes.length;\n                for (var j = 0; j < length_1; j++) {\n                    if (!isNullOrUndefined(index)) {\n                        innerTemplates[index].appendChild(tempElement.childNodes[0]);\n                        i = innerTemplates.length;\n                    }\n                    else {\n                        innerTemplates[i].appendChild(tempElement.childNodes[0]);\n                    }\n                }\n            }\n        }\n    }\n}\n/**\n * Set your custom template engine for template rendering.\n *\n * @param  {ITemplateEngine} classObj - Class object for custom template.\n * @returns {void} ?\n * @private\n */\nexport function setTemplateEngine(classObj) {\n    engineObj.compile = classObj.compile;\n}\n/**\n * Get current template engine for template rendering\n *\n * @returns {string} ?\n * @private\n */\nexport function getTemplateEngine() {\n    return engineObj.compile;\n}\n//Default Engine Class\nvar Engine = /** @class */ (function () {\n    function Engine() {\n    }\n    // eslint-disable-next-line\n    Engine.prototype.compile = function (templateString, helper, ignorePrefix) {\n        if (helper === void 0) { helper = {}; }\n        return render(templateString, helper);\n    };\n    return Engine;\n}());\nvar engineObj = { compile: new Engine().compile };\n","/**\n * SanitizeHtmlHelper for sanitize the value.\n */\nimport { detach } from './dom';\nvar removeTags = [\n    'script',\n    'style',\n    'iframe[src]',\n    'link[href*=\"javascript:\"]',\n    'object[type=\"text/x-scriptlet\"]',\n    'object[data^=\"data:text/html;base64\"]',\n    'img[src^=\"data:text/html;base64\"]',\n    '[src^=\"javascript:\"]',\n    '[dynsrc^=\"javascript:\"]',\n    '[lowsrc^=\"javascript:\"]',\n    '[type^=\"application/x-shockwave-flash\"]'\n];\nvar removeAttrs = [\n    { attribute: 'href', selector: '[href*=\"javascript:\"]' },\n    { attribute: 'background', selector: '[background^=\"javascript:\"]' },\n    { attribute: 'style', selector: '[style*=\"javascript:\"]' },\n    { attribute: 'style', selector: '[style*=\"expression(\"]' },\n    { attribute: 'href', selector: 'a[href^=\"data:text/html;base64\"]' }\n];\nvar jsEvents = ['onchange',\n    'onclick',\n    'onmouseover',\n    'onmouseout',\n    'onkeydown',\n    'onload',\n    'onerror',\n    'onblur',\n    'onfocus',\n    'onbeforeload',\n    'onbeforeunload',\n    'onkeyup',\n    'onsubmit',\n    'onafterprint',\n    'onbeforeonload',\n    'onbeforeprint',\n    'onblur',\n    'oncanplay',\n    'oncanplaythrough',\n    'onchange',\n    'onclick',\n    'oncontextmenu',\n    'ondblclick',\n    'ondrag',\n    'ondragend',\n    'ondragenter',\n    'ondragleave',\n    'ondragover',\n    'ondragstart',\n    'ondrop',\n    'ondurationchange',\n    'onemptied',\n    'onended',\n    'onerror',\n    'onerror',\n    'onfocus',\n    'onformchange',\n    'onforminput',\n    'onhaschange',\n    'oninput',\n    'oninvalid',\n    'onkeydown',\n    'onkeypress',\n    'onkeyup',\n    'onload',\n    'onloadeddata',\n    'onloadedmetadata',\n    'onloadstart',\n    'onmessage',\n    'onmousedown',\n    'onmousemove',\n    'onmouseout',\n    'onmouseover',\n    'onmouseup',\n    'onmousewheel',\n    'onoffline',\n    'onoine',\n    'ononline',\n    'onpagehide',\n    'onpageshow',\n    'onpause',\n    'onplay',\n    'onplaying',\n    'onpopstate',\n    'onprogress',\n    'onratechange',\n    'onreadystatechange',\n    'onredo',\n    'onresize',\n    'onscroll',\n    'onseeked',\n    'onseeking',\n    'onselect',\n    'onstalled',\n    'onstorage',\n    'onsubmit',\n    'onsuspend',\n    'ontimeupdate',\n    'onundo',\n    'onunload',\n    'onvolumechange',\n    'onwaiting',\n    'onmouseenter',\n    'onmouseleave',\n    'onmousewheel',\n    'onstart',\n    'onpropertychange'\n];\nvar SanitizeHtmlHelper = /** @class */ (function () {\n    function SanitizeHtmlHelper() {\n    }\n    SanitizeHtmlHelper.beforeSanitize = function () {\n        return {\n            selectors: {\n                tags: removeTags,\n                attributes: removeAttrs\n            }\n        };\n    };\n    SanitizeHtmlHelper.sanitize = function (value) {\n        var item = this.beforeSanitize();\n        var output = this.serializeValue(item, value);\n        return output;\n    };\n    SanitizeHtmlHelper.serializeValue = function (item, value) {\n        this.removeAttrs = item.selectors.attributes;\n        this.removeTags = item.selectors.tags;\n        this.wrapElement = document.createElement('div');\n        this.wrapElement.innerHTML = value;\n        this.removeXssTags();\n        this.removeJsEvents();\n        this.removeXssAttrs();\n        var tempEleValue = this.wrapElement.innerHTML;\n        this.removeElement();\n        return tempEleValue;\n    };\n    SanitizeHtmlHelper.removeElement = function () {\n        // Removes an element's attibute to avoid html tag validation\n        var nodes = this.wrapElement.children;\n        for (var j = 0; j < nodes.length; j++) {\n            var attribute = nodes[j].attributes;\n            for (var i = 0; i < attribute.length; i++) {\n                this.wrapElement.children[j].removeAttribute(attribute[i].localName);\n            }\n        }\n    };\n    SanitizeHtmlHelper.removeXssTags = function () {\n        var elements = this.wrapElement.querySelectorAll(this.removeTags.join(','));\n        if (elements.length > 0) {\n            elements.forEach(function (element) {\n                detach(element);\n            });\n        }\n        else {\n            return;\n        }\n    };\n    SanitizeHtmlHelper.removeJsEvents = function () {\n        var elements = this.wrapElement.querySelectorAll('[' + jsEvents.join('],[') + ']');\n        if (elements.length > 0) {\n            elements.forEach(function (element) {\n                jsEvents.forEach(function (attr) {\n                    if (element.hasAttribute(attr)) {\n                        element.removeAttribute(attr);\n                    }\n                });\n            });\n        }\n        else {\n            return;\n        }\n    };\n    SanitizeHtmlHelper.removeXssAttrs = function () {\n        var _this = this;\n        // eslint-disable-next-line\n        this.removeAttrs.forEach(function (item, index) {\n            var elements = _this.wrapElement.querySelectorAll(item.selector);\n            if (elements.length > 0) {\n                elements.forEach(function (element) {\n                    element.removeAttribute(item.attribute);\n                });\n            }\n        });\n    };\n    return SanitizeHtmlHelper;\n}());\nexport { SanitizeHtmlHelper };\n","import { isNullOrUndefined, getValue, setValue } from '@syncfusion/ej2-base';\nimport { Row } from '../models/row';\nimport { CellType } from '../base/enum';\nimport { Cell } from '../models/cell';\nimport { getUid } from '../base/util';\nimport { getForeignData } from '../../grid/base/util';\nimport * as events from '../base/constant';\n/**\n * RowModelGenerator is used to generate grid data rows.\n *\n * @hidden\n */\nvar RowModelGenerator = /** @class */ (function () {\n    /**\n     * Constructor for header renderer module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     */\n    function RowModelGenerator(parent) {\n        this.parent = parent;\n    }\n    RowModelGenerator.prototype.generateRows = function (data, args) {\n        var rows = [];\n        var startIndex = this.parent.enableVirtualization && args ? args.startIndex : 0;\n        startIndex = this.parent.enableInfiniteScrolling && args ? this.getInfiniteIndex(args) : startIndex;\n        for (var i = 0, len = Object.keys(data).length; i < len; i++, startIndex++) {\n            rows[i] = this.generateRow(data[i], startIndex);\n        }\n        return rows;\n    };\n    RowModelGenerator.prototype.ensureColumns = function () {\n        //TODO: generate dummy column for group, detail here;\n        var cols = [];\n        if (this.parent.detailTemplate || this.parent.childGrid) {\n            var args = {};\n            this.parent.notify(events.detailIndentCellInfo, args);\n            cols.push(this.generateCell(args, null, CellType.DetailExpand));\n        }\n        if (this.parent.isRowDragable()) {\n            cols.push(this.generateCell({}, null, CellType.RowDragIcon));\n        }\n        return cols;\n    };\n    RowModelGenerator.prototype.generateRow = function (data, index, cssClass, indent, pid, tIndex, parentUid) {\n        var options = {};\n        options.foreignKeyData = {};\n        options.uid = getUid('grid-row');\n        options.data = data;\n        options.index = index;\n        options.indent = indent;\n        options.tIndex = tIndex;\n        options.isDataRow = true;\n        options.parentGid = pid;\n        options.parentUid = parentUid;\n        if (this.parent.isPrinting) {\n            if (this.parent.hierarchyPrintMode === 'All') {\n                options.isExpand = true;\n            }\n            else if (this.parent.hierarchyPrintMode === 'Expanded' && this.parent.expandedRows && this.parent.expandedRows[index]) {\n                options.isExpand = this.parent.expandedRows[index].isExpand;\n            }\n        }\n        options.cssClass = cssClass;\n        options.isAltRow = this.parent.enableAltRow ? index % 2 !== 0 : false;\n        options.isAltRow = this.parent.enableAltRow ? index % 2 !== 0 : false;\n        options.isSelected = this.parent.getSelectedRowIndexes().indexOf(index) > -1;\n        this.refreshForeignKeyRow(options);\n        var cells = this.ensureColumns();\n        var row = new Row(options, this.parent);\n        row.cells = this.parent.getFrozenMode() === 'Right' ? this.generateCells(options).concat(cells)\n            : cells.concat(this.generateCells(options));\n        return row;\n    };\n    RowModelGenerator.prototype.refreshForeignKeyRow = function (options) {\n        var foreignKeyColumns = this.parent.getForeignKeyColumns();\n        for (var i = 0; i < foreignKeyColumns.length; i++) {\n            setValue(foreignKeyColumns[i].field, getForeignData(foreignKeyColumns[i], options.data), options.foreignKeyData);\n        }\n    };\n    RowModelGenerator.prototype.generateCells = function (options) {\n        var dummies = this.parent.getColumns();\n        var tmp = [];\n        for (var i = 0; i < dummies.length; i++) {\n            tmp.push(this.generateCell(dummies[i], options.uid, isNullOrUndefined(dummies[i].commands) ? undefined : CellType.CommandColumn, null, i, options.foreignKeyData));\n        }\n        return tmp;\n    };\n    /**\n     *\n     * @param {Column} column - Defines column details\n     * @param {string} rowId - Defines row id\n     * @param {CellType} cellType  - Defines cell type\n     * @param {number} colSpan - Defines colSpan\n     * @param {number} oIndex - Defines index\n     * @param {Object} foreignKeyData - Defines foreign key data\n     * @returns {Cell<Column>} returns cell model\n     * @hidden\n     */\n    RowModelGenerator.prototype.generateCell = function (column, rowId, cellType, colSpan, oIndex, foreignKeyData) {\n        var opt = {\n            'visible': column.visible,\n            'isDataCell': !isNullOrUndefined(column.field || column.template),\n            'isTemplate': !isNullOrUndefined(column.template),\n            'rowID': rowId,\n            'column': column,\n            'cellType': !isNullOrUndefined(cellType) ? cellType : CellType.Data,\n            'colSpan': colSpan,\n            'commands': column.commands,\n            'isForeignKey': column.isForeignColumn && column.isForeignColumn(),\n            'foreignKeyData': column.isForeignColumn && column.isForeignColumn() && getValue(column.field, foreignKeyData)\n        };\n        if (opt.isDataCell || opt.column.type === 'checkbox' || opt.commands) {\n            opt.index = oIndex;\n        }\n        return new Cell(opt);\n    };\n    RowModelGenerator.prototype.refreshRows = function (input) {\n        for (var i = 0; i < input.length; i++) {\n            this.refreshForeignKeyRow(input[i]);\n            input[i].cells = this.generateCells(input[i]);\n        }\n        return input;\n    };\n    RowModelGenerator.prototype.getInfiniteIndex = function (args) {\n        return args.requestType === 'infiniteScroll' || args.requestType === 'delete' || args.action === 'add'\n            ? args.startIndex : 0;\n    };\n    return RowModelGenerator;\n}());\nexport { RowModelGenerator };\n","/**\n * Defines types of Cell\n *\n * @hidden\n */\nexport var CellType;\n(function (CellType) {\n    /**  Defines CellType as Data */\n    CellType[CellType[\"Data\"] = 0] = \"Data\";\n    /**  Defines CellType as Header */\n    CellType[CellType[\"Header\"] = 1] = \"Header\";\n    /**  Defines CellType as Summary */\n    CellType[CellType[\"Summary\"] = 2] = \"Summary\";\n    /**  Defines CellType as GroupSummary */\n    CellType[CellType[\"GroupSummary\"] = 3] = \"GroupSummary\";\n    /**  Defines CellType as CaptionSummary */\n    CellType[CellType[\"CaptionSummary\"] = 4] = \"CaptionSummary\";\n    /**  Defines CellType as Filter */\n    CellType[CellType[\"Filter\"] = 5] = \"Filter\";\n    /**  Defines CellType as Indent */\n    CellType[CellType[\"Indent\"] = 6] = \"Indent\";\n    /**  Defines CellType as GroupCaption */\n    CellType[CellType[\"GroupCaption\"] = 7] = \"GroupCaption\";\n    /**  Defines CellType as GroupCaptionEmpty */\n    CellType[CellType[\"GroupCaptionEmpty\"] = 8] = \"GroupCaptionEmpty\";\n    /**  Defines CellType as Expand */\n    CellType[CellType[\"Expand\"] = 9] = \"Expand\";\n    /**  Defines CellType as HeaderIndent */\n    CellType[CellType[\"HeaderIndent\"] = 10] = \"HeaderIndent\";\n    /**  Defines CellType as StackedHeader */\n    CellType[CellType[\"StackedHeader\"] = 11] = \"StackedHeader\";\n    /**  Defines CellType as DetailHeader */\n    CellType[CellType[\"DetailHeader\"] = 12] = \"DetailHeader\";\n    /**  Defines CellType as DetailExpand */\n    CellType[CellType[\"DetailExpand\"] = 13] = \"DetailExpand\";\n    /**  Defines CellType as CommandColumn */\n    CellType[CellType[\"CommandColumn\"] = 14] = \"CommandColumn\";\n    /**  Defines CellType as DetailFooterIntent */\n    CellType[CellType[\"DetailFooterIntent\"] = 15] = \"DetailFooterIntent\";\n    /**  Defines CellType as RowDrag */\n    CellType[CellType[\"RowDragIcon\"] = 16] = \"RowDragIcon\";\n    /**  Defines CellType as RowDragHeader */\n    CellType[CellType[\"RowDragHIcon\"] = 17] = \"RowDragHIcon\";\n})(CellType || (CellType = {}));\n/**\n * Defines types of Render\n *\n * @hidden\n */\nexport var RenderType;\n(function (RenderType) {\n    /**  Defines RenderType as Header */\n    RenderType[RenderType[\"Header\"] = 0] = \"Header\";\n    /**  Defines RenderType as Content */\n    RenderType[RenderType[\"Content\"] = 1] = \"Content\";\n    /**  Defines RenderType as Summary */\n    RenderType[RenderType[\"Summary\"] = 2] = \"Summary\";\n})(RenderType || (RenderType = {}));\n/**\n * Defines Predefined toolbar items.\n *\n * @hidden\n */\nexport var ToolbarItem;\n(function (ToolbarItem) {\n    ToolbarItem[ToolbarItem[\"Add\"] = 0] = \"Add\";\n    ToolbarItem[ToolbarItem[\"Edit\"] = 1] = \"Edit\";\n    ToolbarItem[ToolbarItem[\"Update\"] = 2] = \"Update\";\n    ToolbarItem[ToolbarItem[\"Delete\"] = 3] = \"Delete\";\n    ToolbarItem[ToolbarItem[\"Cancel\"] = 4] = \"Cancel\";\n    ToolbarItem[ToolbarItem[\"Print\"] = 5] = \"Print\";\n    ToolbarItem[ToolbarItem[\"Search\"] = 6] = \"Search\";\n    ToolbarItem[ToolbarItem[\"ColumnChooser\"] = 7] = \"ColumnChooser\";\n    ToolbarItem[ToolbarItem[\"PdfExport\"] = 8] = \"PdfExport\";\n    ToolbarItem[ToolbarItem[\"ExcelExport\"] = 9] = \"ExcelExport\";\n    ToolbarItem[ToolbarItem[\"CsvExport\"] = 10] = \"CsvExport\";\n    ToolbarItem[ToolbarItem[\"WordExport\"] = 11] = \"WordExport\";\n})(ToolbarItem || (ToolbarItem = {}));\n/**\n * Defines types of responsive dialogs\n *\n * @hidden\n */\nexport var ResponsiveDialogAction;\n(function (ResponsiveDialogAction) {\n    /**  Defines dialog type as Edit */\n    ResponsiveDialogAction[ResponsiveDialogAction[\"isEdit\"] = 0] = \"isEdit\";\n    /**  Defines dialog type as Add */\n    ResponsiveDialogAction[ResponsiveDialogAction[\"isAdd\"] = 1] = \"isAdd\";\n    /**  Defines dialog type as Sort */\n    ResponsiveDialogAction[ResponsiveDialogAction[\"isSort\"] = 2] = \"isSort\";\n    /**  Defines dialog type as Filter */\n    ResponsiveDialogAction[ResponsiveDialogAction[\"isFilter\"] = 3] = \"isFilter\";\n})(ResponsiveDialogAction || (ResponsiveDialogAction = {}));\n/**\n * Defines responsive toolbar actions\n *\n * @hidden\n */\nexport var ResponsiveToolbarAction;\n(function (ResponsiveToolbarAction) {\n    /**  Defines initial responsive toolbar buttons */\n    ResponsiveToolbarAction[ResponsiveToolbarAction[\"isInitial\"] = 0] = \"isInitial\";\n    /**  Defines responsive toolbar search */\n    ResponsiveToolbarAction[ResponsiveToolbarAction[\"isSearch\"] = 1] = \"isSearch\";\n})(ResponsiveToolbarAction || (ResponsiveToolbarAction = {}));\n","import { detach, getUniqueID, rippleEffect, setValue, attributes } from '@syncfusion/ej2-base';\nimport { getValue, addClass, deleteObject } from '@syncfusion/ej2-base';\n/**\n * Initialize wrapper element for angular.\n *\n * @private\n *\n * @param {CreateElementArgs} createElement - Specifies created element args\n * @param {string} tag - Specifies tag name\n * @param {string} type - Specifies type name\n * @param {HTMLInputElement} element - Specifies input element\n * @param {string} WRAPPER - Specifies wrapper element\n * @param {string} role - Specifies role\n * @returns {HTMLInputElement} - Input Element\n */\nexport function wrapperInitialize(createElement, tag, type, element, WRAPPER, role) {\n    var input = element;\n    if (element.tagName === tag) {\n        var ejInstance = getValue('ej2_instances', element);\n        input = createElement('input', { attrs: { 'type': type } });\n        var props = ['change', 'cssClass', 'label', 'labelPosition', 'id'];\n        for (var index = 0, len = element.attributes.length; index < len; index++) {\n            if (props.indexOf(element.attributes[index].nodeName) === -1) {\n                input.setAttribute(element.attributes[index].nodeName, element.attributes[index].nodeValue);\n            }\n        }\n        attributes(element, { 'class': WRAPPER, 'role': role, 'aria-checked': 'false' });\n        element.appendChild(input);\n        setValue('ej2_instances', ejInstance, input);\n        deleteObject(element, 'ej2_instances');\n    }\n    return input;\n}\n/**\n * Get the text node.\n *\n * @param {HTMLElement} element - Specifies html element\n * @private\n * @returns {Node} - Text node.\n */\nexport function getTextNode(element) {\n    var node;\n    var childnode = element.childNodes;\n    for (var i = 0; i < childnode.length; i++) {\n        node = childnode[i];\n        if (node.nodeType === 3) {\n            return node;\n        }\n    }\n    return null;\n}\n/**\n * Destroy the button components.\n *\n * @private\n * @param {Switch | CheckBox} ejInst - Specifies eJ2 Instance\n * @param {Element} wrapper - Specifies wrapper element\n * @param {string} tagName - Specifies tag name\n * @returns {void}\n */\nexport function destroy(ejInst, wrapper, tagName) {\n    if (tagName === 'INPUT') {\n        wrapper.parentNode.insertBefore(ejInst.element, wrapper);\n        detach(wrapper);\n        ejInst.element.checked = false;\n        ['name', 'value', 'disabled'].forEach(function (key) {\n            ejInst.element.removeAttribute(key);\n        });\n    }\n    else {\n        ['role', 'aria-checked', 'class'].forEach(function (key) {\n            wrapper.removeAttribute(key);\n        });\n        wrapper.innerHTML = '';\n    }\n}\n/**\n * Initialize control pre rendering.\n *\n * @private\n * @param {Switch | CheckBox} proxy - Specifies proxy\n * @param {string} control - Specifies control\n * @param {string} wrapper - Specifies wrapper element\n * @param {HTMLInputElement} element - Specifies input element\n * @param {string} moduleName - Specifies module name\n * @returns {void}\n */\nexport function preRender(proxy, control, wrapper, element, moduleName) {\n    element = wrapperInitialize(proxy.createElement, control, 'checkbox', element, wrapper, moduleName);\n    proxy.element = element;\n    if (proxy.element.getAttribute('type') !== 'checkbox') {\n        proxy.element.setAttribute('type', 'checkbox');\n    }\n    if (!proxy.element.id) {\n        proxy.element.id = getUniqueID('e-' + moduleName);\n    }\n}\n/**\n * Creates CheckBox component UI with theming and ripple support.\n *\n * @private\n * @param {CreateElementArgs} createElement - Specifies Created Element args\n * @param {boolean} enableRipple - Specifies ripple effect\n * @param {CheckBoxUtilModel} options - Specifies Checkbox util Model\n * @returns {Element} - Checkbox Element\n */\nexport function createCheckBox(createElement, enableRipple, options) {\n    if (enableRipple === void 0) { enableRipple = false; }\n    if (options === void 0) { options = {}; }\n    var wrapper = createElement('div', { className: 'e-checkbox-wrapper e-css' });\n    if (options.cssClass) {\n        addClass([wrapper], options.cssClass.split(' '));\n    }\n    if (options.enableRtl) {\n        wrapper.classList.add('e-rtl');\n    }\n    if (enableRipple) {\n        var rippleSpan = createElement('span', { className: 'e-ripple-container' });\n        rippleEffect(rippleSpan, { isCenterRipple: true, duration: 400 });\n        wrapper.appendChild(rippleSpan);\n    }\n    var frameSpan = createElement('span', { className: 'e-frame e-icons' });\n    if (options.checked) {\n        frameSpan.classList.add('e-check');\n    }\n    wrapper.appendChild(frameSpan);\n    if (options.label) {\n        var labelSpan = createElement('span', { className: 'e-label' });\n        if (options.disableHtmlEncode) {\n            labelSpan.textContent = options.label;\n        }\n        else {\n            labelSpan.innerHTML = options.label;\n        }\n        wrapper.appendChild(labelSpan);\n    }\n    return wrapper;\n}\n/**\n * Handles ripple mouse.\n *\n * @private\n * @param {MouseEvent} e - Specifies mouse event\n * @param {Element} rippleSpan - Specifies Ripple span element\n * @returns {void}\n */\nexport function rippleMouseHandler(e, rippleSpan) {\n    if (rippleSpan) {\n        var event_1 = document.createEvent('MouseEvents');\n        event_1.initEvent(e.type, false, true);\n        rippleSpan.dispatchEvent(event_1);\n    }\n}\n/**\n * Append hidden input to given element\n *\n * @private\n * @param {Switch | CheckBox} proxy - Specifies Proxy\n * @param {Element} wrap - Specifies Wrapper ELement\n * @returns {void}\n */\nexport function setHiddenInput(proxy, wrap) {\n    if (proxy.element.getAttribute('ejs-for')) {\n        wrap.appendChild(proxy.createElement('input', {\n            attrs: { 'name': proxy.name || proxy.element.name, 'value': 'false', 'type': 'hidden' }\n        }));\n    }\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, ChildProperty, Event, append, compile } from '@syncfusion/ej2-base';\nimport { EventHandler, Touch, Browser, Animation as PopupAnimation } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getUniqueID, formatUnit, select, selectAll } from '@syncfusion/ej2-base';\nimport { attributes, closest, removeClass, addClass, remove } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Complex, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { Popup } from '../popup/popup';\nimport { calculatePosition } from '../common/position';\nimport { isCollide, fit } from '../common/collision';\nvar TOUCHEND_HIDE_DELAY = 1500;\nvar TAPHOLD_THRESHOLD = 500;\nvar SHOW_POINTER_TIP_GAP = 0;\nvar HIDE_POINTER_TIP_GAP = 8;\nvar MOUSE_TRAIL_GAP = 2;\nvar POINTER_ADJUST = 2;\nvar ROOT = 'e-tooltip';\nvar RTL = 'e-rtl';\nvar DEVICE = 'e-bigger';\nvar ICON = 'e-icons';\nvar CLOSE = 'e-tooltip-close';\nvar TOOLTIP_WRAP = 'e-tooltip-wrap';\nvar CONTENT = 'e-tip-content';\nvar ARROW_TIP = 'e-arrow-tip';\nvar ARROW_TIP_OUTER = 'e-arrow-tip-outer';\nvar ARROW_TIP_INNER = 'e-arrow-tip-inner';\nvar TIP_BOTTOM = 'e-tip-bottom';\nvar TIP_TOP = 'e-tip-top';\nvar TIP_LEFT = 'e-tip-left';\nvar TIP_RIGHT = 'e-tip-right';\nvar POPUP_ROOT = 'e-popup';\nvar POPUP_OPEN = 'e-popup-open';\nvar POPUP_CLOSE = 'e-popup-close';\nvar POPUP_LIB = 'e-lib';\nvar HIDE_POPUP = 'e-hidden';\nvar POPUP_CONTAINER = 'e-tooltip-popup-container';\nvar Animation = /** @class */ (function (_super) {\n    __extends(Animation, _super);\n    function Animation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property({ effect: 'FadeIn', duration: 150, delay: 0 })\n    ], Animation.prototype, \"open\", void 0);\n    __decorate([\n        Property({ effect: 'FadeOut', duration: 150, delay: 0 })\n    ], Animation.prototype, \"close\", void 0);\n    return Animation;\n}(ChildProperty));\nexport { Animation };\n/**\n * Represents the Tooltip component that displays a piece of information about the target element on mouse hover.\n * ```html\n * <div id=\"tooltip\">Show Tooltip</div>\n * ```\n * ```typescript\n * <script>\n *   var tooltipObj = new Tooltip({ content: 'Tooltip text' });\n *   tooltipObj.appendTo(\"#tooltip\");\n * </script>\n * ```\n */\nvar Tooltip = /** @class */ (function (_super) {\n    __extends(Tooltip, _super);\n    /* eslint-enable */\n    /**\n     * Constructor for creating the Tooltip Component\n     *\n     * @param {TooltipModel} options - specifies the options for the constructor\n     * @param {string| HTMLElement} element - specifies the element for the constructor\n     *\n     */\n    function Tooltip(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.mouseMoveEvent = null;\n        _this.mouseMoveTarget = null;\n        _this.containerElement = null;\n        _this.isBodyContainer = true;\n        return _this;\n    }\n    Tooltip.prototype.initialize = function () {\n        this.formatPosition();\n        addClass([this.element], ROOT);\n    };\n    Tooltip.prototype.formatPosition = function () {\n        var _a, _b;\n        if (this.position.indexOf('Top') === 0 || this.position.indexOf('Bottom') === 0) {\n            _a = this.position.split(/(?=[A-Z])/), this.tooltipPositionY = _a[0], this.tooltipPositionX = _a[1];\n        }\n        else {\n            _b = this.position.split(/(?=[A-Z])/), this.tooltipPositionX = _b[0], this.tooltipPositionY = _b[1];\n        }\n    };\n    Tooltip.prototype.renderArrow = function () {\n        this.setTipClass(this.position);\n        var tip = this.createElement('div', { className: ARROW_TIP + ' ' + this.tipClass });\n        tip.appendChild(this.createElement('div', { className: ARROW_TIP_OUTER + ' ' + this.tipClass }));\n        tip.appendChild(this.createElement('div', { className: ARROW_TIP_INNER + ' ' + this.tipClass }));\n        this.tooltipEle.appendChild(tip);\n    };\n    Tooltip.prototype.setTipClass = function (position) {\n        if (position.indexOf('Right') === 0) {\n            this.tipClass = TIP_LEFT;\n        }\n        else if (position.indexOf('Bottom') === 0) {\n            this.tipClass = TIP_TOP;\n        }\n        else if (position.indexOf('Left') === 0) {\n            this.tipClass = TIP_RIGHT;\n        }\n        else {\n            this.tipClass = TIP_BOTTOM;\n        }\n    };\n    Tooltip.prototype.renderPopup = function (target) {\n        var elePos = this.mouseTrail ? { top: 0, left: 0 } : this.getTooltipPosition(target);\n        this.tooltipEle.classList.remove(POPUP_LIB);\n        this.popupObj = new Popup(this.tooltipEle, {\n            height: this.height,\n            width: this.width,\n            position: { X: elePos.left, Y: elePos.top },\n            enableRtl: this.enableRtl,\n            open: this.openPopupHandler.bind(this),\n            close: this.closePopupHandler.bind(this)\n        });\n    };\n    Tooltip.prototype.getTooltipPosition = function (target) {\n        this.tooltipEle.style.display = 'block';\n        var pos = calculatePosition(target, this.tooltipPositionX, this.tooltipPositionY, !this.isBodyContainer, this.isBodyContainer ? null : this.containerElement.getBoundingClientRect());\n        var offsetPos = this.calculateTooltipOffset(this.position);\n        var collisionPosition = this.calculateElementPosition(pos, offsetPos);\n        var collisionLeft = collisionPosition[0];\n        var collisionTop = collisionPosition[1];\n        var elePos = this.collisionFlipFit(target, collisionLeft, collisionTop);\n        this.tooltipEle.style.display = '';\n        return elePos;\n    };\n    Tooltip.prototype.windowResize = function () {\n        this.reposition(this.findTarget());\n    };\n    Tooltip.prototype.reposition = function (target) {\n        if (this.popupObj && target) {\n            var elePos = this.getTooltipPosition(target);\n            this.popupObj.position = { X: elePos.left, Y: elePos.top };\n            this.popupObj.dataBind();\n        }\n    };\n    Tooltip.prototype.openPopupHandler = function () {\n        if (!this.mouseTrail && this.needTemplateReposition()) {\n            this.reposition(this.findTarget());\n        }\n        this.trigger('afterOpen', this.tooltipEventArgs);\n    };\n    Tooltip.prototype.closePopupHandler = function () {\n        this.clearTemplate(['content']);\n        this.clear();\n        this.trigger('afterClose', this.tooltipEventArgs);\n    };\n    Tooltip.prototype.calculateTooltipOffset = function (position) {\n        var pos = { top: 0, left: 0 };\n        var tooltipEleWidth = this.tooltipEle.offsetWidth;\n        var tooltipEleHeight = this.tooltipEle.offsetHeight;\n        var arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n        var tipWidth = arrowEle ? arrowEle.offsetWidth : 0;\n        var tipHeight = arrowEle ? arrowEle.offsetHeight : 0;\n        var tipAdjust = (this.showTipPointer ? SHOW_POINTER_TIP_GAP : HIDE_POINTER_TIP_GAP);\n        var tipHeightAdjust = (tipHeight / 2) + POINTER_ADJUST + (this.tooltipEle.offsetHeight - this.tooltipEle.clientHeight);\n        var tipWidthAdjust = (tipWidth / 2) + POINTER_ADJUST + (this.tooltipEle.offsetWidth - this.tooltipEle.clientWidth);\n        if (this.mouseTrail) {\n            tipAdjust += MOUSE_TRAIL_GAP;\n        }\n        switch (position) {\n            case 'RightTop':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= tooltipEleHeight - tipHeightAdjust;\n                break;\n            case 'RightCenter':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'RightBottom':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'BottomRight':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            case 'BottomCenter':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n            case 'BottomLeft':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'LeftBottom':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'LeftCenter':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'LeftTop':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight - tipHeightAdjust);\n                break;\n            case 'TopLeft':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'TopRight':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            default:\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n        }\n        pos.left += this.offsetX;\n        pos.top += this.offsetY;\n        return pos;\n    };\n    Tooltip.prototype.updateTipPosition = function (position) {\n        var selEle = selectAll('.' + ARROW_TIP + ',.' + ARROW_TIP_OUTER + ',.' + ARROW_TIP_INNER, this.tooltipEle);\n        var removeList = [TIP_BOTTOM, TIP_TOP, TIP_LEFT, TIP_RIGHT];\n        removeClass(selEle, removeList);\n        this.setTipClass(position);\n        addClass(selEle, this.tipClass);\n    };\n    Tooltip.prototype.adjustArrow = function (target, position, tooltipPositionX, tooltipPositionY) {\n        if (this.showTipPointer === false) {\n            return;\n        }\n        this.updateTipPosition(position);\n        var leftValue;\n        var topValue;\n        this.tooltipEle.style.display = 'block';\n        var tooltipWidth = this.tooltipEle.clientWidth;\n        var tooltipHeight = this.tooltipEle.clientHeight;\n        var arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n        var arrowInnerELe = select('.' + ARROW_TIP_INNER, this.tooltipEle);\n        var tipWidth = arrowEle.offsetWidth;\n        var tipHeight = arrowEle.offsetHeight;\n        this.tooltipEle.style.display = '';\n        if (this.tipClass === TIP_BOTTOM || this.tipClass === TIP_TOP) {\n            if (this.tipClass === TIP_BOTTOM) {\n                topValue = '99.9%';\n                // Arrow icon aligned -2px height from ArrowOuterTip div\n                arrowInnerELe.style.top = '-' + (tipHeight - 2) + 'px';\n            }\n            else {\n                topValue = -(tipHeight - 1) + 'px';\n                // Arrow icon aligned -6px height from ArrowOuterTip div\n                arrowInnerELe.style.top = '-' + (tipHeight - 6) + 'px';\n            }\n            if (target) {\n                var tipPosExclude = tooltipPositionX !== 'Center' || (tooltipWidth > target.offsetWidth) || this.mouseTrail;\n                if ((tipPosExclude && tooltipPositionX === 'Left') || (!tipPosExclude && this.tipPointerPosition === 'End')) {\n                    leftValue = (tooltipWidth - tipWidth - POINTER_ADJUST) + 'px';\n                }\n                else if ((tipPosExclude && tooltipPositionX === 'Right') || (!tipPosExclude && this.tipPointerPosition === 'Start')) {\n                    leftValue = POINTER_ADJUST + 'px';\n                }\n                else {\n                    leftValue = ((tooltipWidth / 2) - (tipWidth / 2)) + 'px';\n                }\n            }\n        }\n        else {\n            if (this.tipClass === TIP_RIGHT) {\n                leftValue = '99.9%';\n                // Arrow icon aligned -2px left from ArrowOuterTip div\n                arrowInnerELe.style.left = '-' + (tipWidth - 2) + 'px';\n            }\n            else {\n                leftValue = -(tipWidth - 1) + 'px';\n                // Arrow icon aligned -2px from ArrowOuterTip width\n                arrowInnerELe.style.left = (-(tipWidth) + (tipWidth - 2)) + 'px';\n            }\n            var tipPosExclude = tooltipPositionY !== 'Center' || (tooltipHeight > target.offsetHeight) || this.mouseTrail;\n            if ((tipPosExclude && tooltipPositionY === 'Top') || (!tipPosExclude && this.tipPointerPosition === 'End')) {\n                topValue = (tooltipHeight - tipHeight - POINTER_ADJUST) + 'px';\n            }\n            else if ((tipPosExclude && tooltipPositionY === 'Bottom') || (!tipPosExclude && this.tipPointerPosition === 'Start')) {\n                topValue = POINTER_ADJUST + 'px';\n            }\n            else {\n                topValue = ((tooltipHeight / 2) - (tipHeight / 2)) + 'px';\n            }\n        }\n        arrowEle.style.top = topValue;\n        arrowEle.style.left = leftValue;\n    };\n    Tooltip.prototype.renderContent = function (target) {\n        var tooltipContent = select('.' + CONTENT, this.tooltipEle);\n        if (this.cssClass) {\n            addClass([this.tooltipEle], this.cssClass.split(' '));\n        }\n        if (target && !isNullOrUndefined(target.getAttribute('title'))) {\n            target.setAttribute('data-content', target.getAttribute('title'));\n            target.removeAttribute('title');\n        }\n        if (!isNullOrUndefined(this.content)) {\n            tooltipContent.innerHTML = '';\n            if (this.content instanceof HTMLElement) {\n                tooltipContent.appendChild(this.content);\n            }\n            else if (typeof this.content === 'string') {\n                if (this.enableHtmlSanitizer) {\n                    this.setProperties({ content: SanitizeHtmlHelper.sanitize(this.content) }, true);\n                }\n                // eslint-disable-next-line\n                var tempFunction = compile(this.content);\n                var tempArr = tempFunction({}, this, 'content', this.element.id + 'content', undefined, undefined, tooltipContent);\n                if (tempArr) {\n                    if (this.enableHtmlParse) {\n                        var nodeList = tempArr.length;\n                        for (var i = 0; i < nodeList; i++) {\n                            append(tempArr, tooltipContent);\n                        }\n                    }\n                    else {\n                        tooltipContent['textContent'] = this.content;\n                    }\n                    this.enableHtmlParse ? append(tempArr, tooltipContent) : tooltipContent['textContent'] = this.content;\n                }\n            }\n            else {\n                // eslint-disable-next-line\n                var templateFunction = compile(this.content);\n                var tempArr = templateFunction({}, this, 'content', this.element.id + 'content', undefined, undefined, tooltipContent);\n                if (tempArr) {\n                    append(tempArr, tooltipContent);\n                }\n                this.renderReactTemplates();\n            }\n        }\n        else {\n            if (target && !isNullOrUndefined(target.getAttribute('data-content'))) {\n                tooltipContent.innerHTML = target.getAttribute('data-content');\n            }\n        }\n    };\n    Tooltip.prototype.renderCloseIcon = function () {\n        if (!this.isSticky) {\n            return;\n        }\n        var tipClose = this.createElement('div', { className: ICON + ' ' + CLOSE });\n        this.tooltipEle.appendChild(tipClose);\n        EventHandler.add(tipClose, Browser.touchStartEvent, this.onStickyClose, this);\n    };\n    Tooltip.prototype.addDescribedBy = function (target, id) {\n        var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n        if (describedby.indexOf(id) < 0) {\n            describedby.push(id);\n        }\n        attributes(target, { 'aria-describedby': describedby.join(' ').trim(), 'data-tooltip-id': id });\n    };\n    Tooltip.prototype.removeDescribedBy = function (target) {\n        var id = target.getAttribute('data-tooltip-id');\n        var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n        var index = describedby.indexOf(id);\n        if (index !== -1) {\n            describedby.splice(index, 1);\n        }\n        target.removeAttribute('data-tooltip-id');\n        var orgdescribedby = describedby.join(' ').trim();\n        if (orgdescribedby) {\n            target.setAttribute('aria-describedby', orgdescribedby);\n        }\n        else {\n            target.removeAttribute('aria-describedby');\n        }\n    };\n    Tooltip.prototype.tapHoldHandler = function (evt) {\n        clearTimeout(this.autoCloseTimer);\n        this.targetHover(evt.originalEvent);\n    };\n    Tooltip.prototype.touchEndHandler = function (e) {\n        var _this = this;\n        if (this.isSticky) {\n            return;\n        }\n        // eslint-disable-next-line\n        var close = function () {\n            _this.close();\n        };\n        this.autoCloseTimer = setTimeout(close, TOUCHEND_HIDE_DELAY);\n    };\n    Tooltip.prototype.targetClick = function (e) {\n        var target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target)) {\n            return;\n        }\n        if (target.getAttribute('data-tooltip-id') === null) {\n            this.targetHover(e);\n        }\n        else if (!this.isSticky) {\n            this.hideTooltip(this.animation.close, e, target);\n        }\n    };\n    Tooltip.prototype.targetHover = function (e) {\n        var target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target) || (target.getAttribute('data-tooltip-id') !== null && this.closeDelay === 0)) {\n            return;\n        }\n        var targetList = [].slice.call(selectAll('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document));\n        for (var _i = 0, targetList_1 = targetList; _i < targetList_1.length; _i++) {\n            var target_1 = targetList_1[_i];\n            this.restoreElement(target_1);\n        }\n        this.showTooltip(target, this.animation.open, e);\n    };\n    Tooltip.prototype.mouseMoveBeforeOpen = function (e) {\n        this.mouseMoveEvent = e;\n    };\n    Tooltip.prototype.mouseMoveBeforeRemove = function () {\n        if (this.mouseMoveTarget) {\n            EventHandler.remove(this.mouseMoveTarget, 'mousemove touchstart', this.mouseMoveBeforeOpen);\n        }\n    };\n    Tooltip.prototype.showTooltip = function (target, showAnimation, e) {\n        var _this = this;\n        clearTimeout(this.showTimer);\n        clearTimeout(this.hideTimer);\n        if (this.openDelay && this.mouseTrail) {\n            this.mouseMoveBeforeRemove();\n            this.mouseMoveTarget = target;\n            EventHandler.add(this.mouseMoveTarget, 'mousemove touchstart', this.mouseMoveBeforeOpen, this);\n        }\n        this.tooltipEventArgs = {\n            type: e ? e.type : null, cancel: false, target: target, event: e ? e : null,\n            element: this.tooltipEle, isInteracted: !isNullOrUndefined(e)\n        };\n        // eslint-disable-next-line\n        var observeCallback = function (beforeRenderArgs) {\n            _this.beforeRenderCallback(beforeRenderArgs, target, e, showAnimation);\n        };\n        this.trigger('beforeRender', this.tooltipEventArgs, observeCallback.bind(this));\n    };\n    Tooltip.prototype.beforeRenderCallback = function (beforeRenderArgs, target, e, showAnimation) {\n        if (beforeRenderArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n            this.mouseMoveBeforeRemove();\n        }\n        else {\n            this.isHidden = false;\n            if (isNullOrUndefined(this.tooltipEle)) {\n                this.ctrlId = this.element.getAttribute('id') ?\n                    getUniqueID(this.element.getAttribute('id')) : getUniqueID('tooltip');\n                this.tooltipEle = this.createElement('div', {\n                    className: TOOLTIP_WRAP + ' ' + POPUP_ROOT + ' ' + POPUP_LIB, attrs: {\n                        role: 'tooltip', 'aria-hidden': 'false', 'id': this.ctrlId + '_content'\n                    }, styles: 'width:' +\n                        formatUnit(this.width) + ';height:' + formatUnit(this.height) + ';position:absolute;'\n                });\n                this.tooltipBeforeRender(target, this);\n                this.tooltipAfterRender(target, e, showAnimation, this);\n            }\n            else {\n                if (target) {\n                    this.adjustArrow(target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n                    this.addDescribedBy(target, this.ctrlId + '_content');\n                    this.renderContent(target);\n                    PopupAnimation.stop(this.tooltipEle);\n                    this.reposition(target);\n                    this.tooltipAfterRender(target, e, showAnimation, this);\n                }\n            }\n        }\n    };\n    Tooltip.prototype.appendContainer = function (ctrlObj) {\n        if (typeof this.container == 'string') {\n            if (this.container === 'body') {\n                this.containerElement = document.body;\n            }\n            else {\n                this.isBodyContainer = false;\n                this.containerElement = select(this.container, document);\n            }\n        }\n        else if (this.container instanceof HTMLElement) {\n            this.containerElement = this.container;\n            this.isBodyContainer = this.containerElement.tagName === 'BODY';\n        }\n        if (!this.isBodyContainer) {\n            addClass([this.containerElement], POPUP_CONTAINER);\n        }\n        this.containerElement.appendChild(ctrlObj.tooltipEle);\n    };\n    Tooltip.prototype.tooltipBeforeRender = function (target, ctrlObj) {\n        if (target) {\n            if (Browser.isDevice) {\n                addClass([ctrlObj.tooltipEle], DEVICE);\n            }\n            if (ctrlObj.width !== 'auto') {\n                ctrlObj.tooltipEle.style.maxWidth = formatUnit(ctrlObj.width);\n            }\n            ctrlObj.tooltipEle.appendChild(ctrlObj.createElement('div', { className: CONTENT }));\n            this.appendContainer(ctrlObj);\n            removeClass([ctrlObj.tooltipEle], HIDE_POPUP);\n            ctrlObj.addDescribedBy(target, ctrlObj.ctrlId + '_content');\n            ctrlObj.renderContent(target);\n            addClass([ctrlObj.tooltipEle], POPUP_OPEN);\n            if (ctrlObj.showTipPointer) {\n                ctrlObj.renderArrow();\n            }\n            ctrlObj.renderCloseIcon();\n            ctrlObj.renderPopup(target);\n            ctrlObj.adjustArrow(target, ctrlObj.position, ctrlObj.tooltipPositionX, ctrlObj.tooltipPositionY);\n            PopupAnimation.stop(ctrlObj.tooltipEle);\n            ctrlObj.reposition(target);\n        }\n    };\n    Tooltip.prototype.tooltipAfterRender = function (target, e, showAnimation, ctrlObj) {\n        if (target) {\n            removeClass([ctrlObj.tooltipEle], POPUP_OPEN);\n            addClass([ctrlObj.tooltipEle], POPUP_CLOSE);\n            ctrlObj.tooltipEventArgs = {\n                type: e ? e.type : null, cancel: false, target: target, event: e ? e : null,\n                element: ctrlObj.tooltipEle, isInteracted: !isNullOrUndefined(e)\n            };\n            if (ctrlObj.needTemplateReposition() && !ctrlObj.mouseTrail) {\n                ctrlObj.tooltipEle.style.display = 'none';\n            }\n            // eslint-disable-next-line\n            var observeCallback = function (observedArgs) {\n                ctrlObj.beforeOpenCallback(observedArgs, target, showAnimation, e);\n            };\n            ctrlObj.trigger('beforeOpen', ctrlObj.tooltipEventArgs, observeCallback.bind(ctrlObj));\n        }\n    };\n    Tooltip.prototype.beforeOpenCallback = function (observedArgs, target, showAnimation, e) {\n        var _this = this;\n        if (observedArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n            this.mouseMoveBeforeRemove();\n            this.restoreElement(target);\n        }\n        else {\n            // eslint-disable-next-line\n            var openAnimation_1 = {\n                name: showAnimation.effect,\n                duration: showAnimation.duration,\n                delay: showAnimation.delay,\n                timingFunction: 'easeOut'\n            };\n            if (showAnimation.effect === 'None') {\n                openAnimation_1 = undefined;\n            }\n            if (this.openDelay > 0) {\n                // eslint-disable-next-line\n                var show = function () {\n                    if (_this.mouseTrail) {\n                        EventHandler.add(target, 'mousemove touchstart mouseenter', _this.onMouseMove, _this);\n                    }\n                    if (_this.popupObj) {\n                        _this.popupObj.show(openAnimation_1, target);\n                        if (_this.mouseMoveEvent && _this.mouseTrail) {\n                            _this.onMouseMove(_this.mouseMoveEvent);\n                        }\n                    }\n                };\n                this.showTimer = setTimeout(show, this.openDelay);\n            }\n            else {\n                if (this.popupObj) {\n                    this.popupObj.show(openAnimation_1, target);\n                }\n            }\n        }\n        if (e) {\n            this.wireMouseEvents(e, target);\n        }\n    };\n    Tooltip.prototype.needTemplateReposition = function () {\n        // eslint-disable-next-line\n        var tooltip = this;\n        return !isNullOrUndefined(tooltip.viewContainerRef)\n            && typeof tooltip.viewContainerRef !== 'string';\n    };\n    Tooltip.prototype.checkCollision = function (target, x, y) {\n        var elePos = {\n            left: x, top: y, position: this.position,\n            horizontal: this.tooltipPositionX, vertical: this.tooltipPositionY\n        };\n        var affectedPos = isCollide(this.tooltipEle, this.checkCollideTarget(), x, y);\n        if (affectedPos.length > 0) {\n            elePos.horizontal = affectedPos.indexOf('left') >= 0 ? 'Right' : affectedPos.indexOf('right') >= 0 ? 'Left' :\n                this.tooltipPositionX;\n            elePos.vertical = affectedPos.indexOf('top') >= 0 ? 'Bottom' : affectedPos.indexOf('bottom') >= 0 ? 'Top' :\n                this.tooltipPositionY;\n        }\n        return elePos;\n    };\n    Tooltip.prototype.calculateElementPosition = function (pos, offsetPos) {\n        return [this.isBodyContainer ? pos.left + offsetPos.left :\n                (pos.left - this.containerElement.offsetLeft) + offsetPos.left + window.pageXOffset + this.containerElement.scrollLeft,\n            this.isBodyContainer ? pos.top + offsetPos.top :\n                (pos.top - this.containerElement.offsetTop) + offsetPos.top + window.pageYOffset + this.containerElement.scrollTop];\n    };\n    Tooltip.prototype.collisionFlipFit = function (target, x, y) {\n        var elePos = this.checkCollision(target, x, y);\n        var newpos = elePos.position;\n        if (this.tooltipPositionY !== elePos.vertical) {\n            newpos = ((this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0) ?\n                elePos.vertical + this.tooltipPositionX : this.tooltipPositionX + elePos.vertical);\n        }\n        if (this.tooltipPositionX !== elePos.horizontal) {\n            if (newpos.indexOf('Left') === 0) {\n                elePos.vertical = (newpos === 'LeftTop' || newpos === 'LeftCenter') ? 'Top' : 'Bottom';\n                newpos = (elePos.vertical + 'Left');\n            }\n            if (newpos.indexOf('Right') === 0) {\n                elePos.vertical = (newpos === 'RightTop' || newpos === 'RightCenter') ? 'Top' : 'Bottom';\n                newpos = (elePos.vertical + 'Right');\n            }\n            elePos.horizontal = this.tooltipPositionX;\n        }\n        this.tooltipEventArgs = {\n            type: null, cancel: false, target: target, event: null,\n            element: this.tooltipEle, collidedPosition: newpos\n        };\n        this.trigger('beforeCollision', this.tooltipEventArgs);\n        var elePosVertical = elePos.vertical;\n        var elePosHorizontal = elePos.horizontal;\n        if (elePos.position !== newpos) {\n            var pos = calculatePosition(target, elePosHorizontal, elePosVertical, !this.isBodyContainer, this.isBodyContainer ? null : this.containerElement.getBoundingClientRect());\n            this.adjustArrow(target, newpos, elePosHorizontal, elePosVertical);\n            var offsetPos = this.calculateTooltipOffset(newpos);\n            offsetPos.top -= this.getOffSetPosition('TopBottom', newpos, this.offsetY);\n            offsetPos.left -= this.getOffSetPosition('RightLeft', newpos, this.offsetX);\n            elePos.position = newpos;\n            var elePosition = this.calculateElementPosition(pos, offsetPos);\n            elePos.left = elePosition[0];\n            elePos.top = elePosition[1];\n        }\n        else {\n            this.adjustArrow(target, newpos, elePosHorizontal, elePosVertical);\n        }\n        var eleOffset = { left: elePos.left, top: elePos.top };\n        var left = this.isBodyContainer ?\n            fit(this.tooltipEle, this.checkCollideTarget(), { X: true, Y: false }, eleOffset).left : eleOffset.left;\n        this.tooltipEle.style.display = 'block';\n        if (this.showTipPointer && (newpos.indexOf('Bottom') === 0 || newpos.indexOf('Top') === 0)) {\n            var arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n            var arrowleft = parseInt(arrowEle.style.left, 10) - (left - elePos.left);\n            if (arrowleft < 0) {\n                arrowleft = 0;\n            }\n            else if ((arrowleft + arrowEle.offsetWidth) > this.tooltipEle.clientWidth) {\n                arrowleft = this.tooltipEle.clientWidth - arrowEle.offsetWidth;\n            }\n            arrowEle.style.left = arrowleft.toString() + 'px';\n        }\n        this.tooltipEle.style.display = '';\n        eleOffset.left = left;\n        return eleOffset;\n    };\n    Tooltip.prototype.getOffSetPosition = function (positionString, newPos, offsetType) {\n        return ((positionString.indexOf(this.position.split(/(?=[A-Z])/)[0]) !== -1) &&\n            (positionString.indexOf(newPos.split(/(?=[A-Z])/)[0]) !== -1)) ? (2 * offsetType) : 0;\n    };\n    Tooltip.prototype.checkCollideTarget = function () {\n        return !this.windowCollision && this.target ? this.element : null;\n    };\n    Tooltip.prototype.hideTooltip = function (hideAnimation, e, targetElement) {\n        var _this = this;\n        if (this.closeDelay > 0) {\n            clearTimeout(this.hideTimer);\n            clearTimeout(this.showTimer);\n            // eslint-disable-next-line\n            var hide = function () {\n                if (_this.closeDelay && _this.tooltipEle && _this.isTooltipOpen) {\n                    return;\n                }\n                _this.tooltipHide(hideAnimation, e, targetElement);\n            };\n            this.hideTimer = setTimeout(hide, this.closeDelay);\n        }\n        else {\n            this.tooltipHide(hideAnimation, e, targetElement);\n        }\n    };\n    Tooltip.prototype.tooltipHide = function (hideAnimation, e, targetElement) {\n        var _this = this;\n        var target;\n        if (e) {\n            target = this.target ? (targetElement || e.target) : this.element;\n        }\n        else {\n            target = select('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document);\n        }\n        this.tooltipEventArgs = {\n            type: e ? e.type : null, cancel: false, target: target, event: e ? e : null,\n            element: this.tooltipEle, isInteracted: !isNullOrUndefined(e)\n        };\n        // this line commented for close the tooltip popup element even the target element destroyed in a page.\n        //if (isNullOrUndefined(target)) { return; }\n        this.trigger('beforeClose', this.tooltipEventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                _this.mouseMoveBeforeRemove();\n                _this.popupHide(hideAnimation, target);\n            }\n            else {\n                _this.isHidden = false;\n            }\n        });\n    };\n    Tooltip.prototype.popupHide = function (hideAnimation, target) {\n        if (target) {\n            this.restoreElement(target);\n        }\n        this.isHidden = true;\n        // eslint-disable-next-line\n        var closeAnimation = {\n            name: hideAnimation.effect,\n            duration: hideAnimation.duration,\n            delay: hideAnimation.delay,\n            timingFunction: 'easeIn'\n        };\n        if (hideAnimation.effect === 'None') {\n            closeAnimation = undefined;\n        }\n        if (this.popupObj) {\n            this.popupObj.hide(closeAnimation);\n        }\n    };\n    Tooltip.prototype.restoreElement = function (target) {\n        this.unwireMouseEvents(target);\n        if (!isNullOrUndefined(target.getAttribute('data-content'))) {\n            target.setAttribute('title', target.getAttribute('data-content'));\n            target.removeAttribute('data-content');\n        }\n        this.removeDescribedBy(target);\n    };\n    Tooltip.prototype.clear = function () {\n        if (this.tooltipEle) {\n            removeClass([this.tooltipEle], POPUP_CLOSE);\n            addClass([this.tooltipEle], POPUP_OPEN);\n        }\n        if (this.isHidden) {\n            if (this.popupObj) {\n                this.popupObj.destroy();\n            }\n            if (this.tooltipEle) {\n                remove(this.tooltipEle);\n            }\n            this.tooltipEle = null;\n            this.popupObj = null;\n        }\n    };\n    Tooltip.prototype.tooltipHover = function (e) {\n        if (this.tooltipEle) {\n            this.isTooltipOpen = true;\n        }\n    };\n    Tooltip.prototype.tooltipMouseOut = function (e) {\n        this.isTooltipOpen = false;\n        this.hideTooltip(this.animation.close, e, this.findTarget());\n    };\n    Tooltip.prototype.onMouseOut = function (e) {\n        var enteredElement = e.relatedTarget;\n        // don't close the tooltip only if it is tooltip content element\n        if (enteredElement && !this.mouseTrail) {\n            var checkForTooltipElement = closest(enteredElement, \".\" + TOOLTIP_WRAP + \".\" + POPUP_LIB + \".\" + POPUP_ROOT);\n            if (checkForTooltipElement) {\n                EventHandler.add(checkForTooltipElement, 'mouseleave', this.tooltipElementMouseOut, this);\n            }\n            else {\n                this.hideTooltip(this.animation.close, e, this.findTarget());\n                if (this.closeDelay === 0) {\n                    this.clear();\n                }\n            }\n        }\n        else {\n            this.hideTooltip(this.animation.close, e, this.findTarget());\n            this.clear();\n        }\n    };\n    Tooltip.prototype.tooltipElementMouseOut = function (e) {\n        this.hideTooltip(this.animation.close, e, this.findTarget());\n        EventHandler.remove(this.element, 'mouseleave', this.tooltipElementMouseOut);\n        this.clear();\n    };\n    Tooltip.prototype.onStickyClose = function (e) {\n        this.close();\n    };\n    Tooltip.prototype.onMouseMove = function (event) {\n        var eventPageX = 0;\n        var eventPageY = 0;\n        if (event.type.indexOf('touch') > -1) {\n            event.preventDefault();\n            eventPageX = event.touches[0].pageX;\n            eventPageY = event.touches[0].pageY;\n        }\n        else {\n            eventPageX = event.pageX;\n            eventPageY = event.pageY;\n        }\n        PopupAnimation.stop(this.tooltipEle);\n        removeClass([this.tooltipEle], POPUP_CLOSE);\n        addClass([this.tooltipEle], POPUP_OPEN);\n        this.adjustArrow(event.target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n        var pos = this.calculateTooltipOffset(this.position);\n        var x = eventPageX + pos.left + this.offsetX;\n        var y = eventPageY + pos.top + this.offsetY;\n        var elePos = this.checkCollision(event.target, x, y);\n        if (this.tooltipPositionX !== elePos.horizontal || this.tooltipPositionY !== elePos.vertical) {\n            var newpos = (this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0) ?\n                elePos.vertical + elePos.horizontal : elePos.horizontal + elePos.vertical;\n            elePos.position = newpos;\n            this.adjustArrow(event.target, elePos.position, elePos.horizontal, elePos.vertical);\n            var colpos = this.calculateTooltipOffset(elePos.position);\n            elePos.left = eventPageX + colpos.left - this.offsetX;\n            elePos.top = eventPageY + colpos.top - this.offsetY;\n        }\n        this.tooltipEle.style.left = elePos.left + 'px';\n        this.tooltipEle.style.top = elePos.top + 'px';\n    };\n    Tooltip.prototype.keyDown = function (event) {\n        if (this.tooltipEle && event.keyCode === 27) {\n            this.close();\n        }\n    };\n    Tooltip.prototype.touchEnd = function (e) {\n        if (this.tooltipEle && closest(e.target, '.' + ROOT) === null && !this.isSticky) {\n            this.close();\n        }\n    };\n    Tooltip.prototype.scrollHandler = function (e) {\n        if (this.tooltipEle) {\n            if (!(closest(e.target, \".\" + TOOLTIP_WRAP + \".\" + POPUP_LIB + \".\" + POPUP_ROOT))) {\n                this.close();\n            }\n        }\n    };\n    /**\n     * Core method that initializes the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n    Tooltip.prototype.render = function () {\n        this.initialize();\n        this.wireEvents(this.opensOn);\n        this.renderComplete();\n    };\n    /**\n     * Initializes the values of private members.\n     *\n     * @private\n     * @returns {void}\n     */\n    Tooltip.prototype.preRender = function () {\n        this.tipClass = TIP_BOTTOM;\n        this.tooltipPositionX = 'Center';\n        this.tooltipPositionY = 'Top';\n        this.isHidden = true;\n    };\n    /**\n     * Binding events to the Tooltip element.\n     *\n     * @hidden\n     * @param {string} trigger - specify the trigger string to the function\n     * @returns {void}\n     *\n     */\n    Tooltip.prototype.wireEvents = function (trigger) {\n        var triggerList = this.getTriggerList(trigger);\n        for (var _i = 0, triggerList_1 = triggerList; _i < triggerList_1.length; _i++) {\n            var opensOn = triggerList_1[_i];\n            if (opensOn === 'Custom') {\n                return;\n            }\n            if (opensOn === 'Focus') {\n                this.wireFocusEvents();\n            }\n            if (opensOn === 'Click') {\n                EventHandler.add(this.element, Browser.touchStartEvent, this.targetClick, this);\n            }\n            if (opensOn === 'Hover') {\n                if (Browser.isDevice) {\n                    this.touchModule = new Touch(this.element, {\n                        tapHoldThreshold: TAPHOLD_THRESHOLD,\n                        tapHold: this.tapHoldHandler.bind(this)\n                    });\n                    EventHandler.add(this.element, Browser.touchEndEvent, this.touchEndHandler, this);\n                }\n                else {\n                    EventHandler.add(this.element, 'mouseover', this.targetHover, this);\n                }\n            }\n        }\n        EventHandler.add(document, 'touchend', this.touchEnd, this);\n        EventHandler.add(document, 'scroll wheel', this.scrollHandler, this);\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        EventHandler.add(document, 'keydown', this.keyDown, this);\n    };\n    Tooltip.prototype.getTriggerList = function (trigger) {\n        if (trigger === 'Auto') {\n            trigger = (Browser.isDevice) ? 'Hover' : 'Hover Focus';\n        }\n        return trigger.split(' ');\n    };\n    Tooltip.prototype.wireFocusEvents = function () {\n        if (!isNullOrUndefined(this.target)) {\n            var targetList = [].slice.call(selectAll(this.target, this.element));\n            for (var _i = 0, targetList_2 = targetList; _i < targetList_2.length; _i++) {\n                var target = targetList_2[_i];\n                EventHandler.add(target, 'focus', this.targetHover, this);\n            }\n        }\n        else {\n            EventHandler.add(this.element, 'focus', this.targetHover, this);\n        }\n    };\n    Tooltip.prototype.wireMouseEvents = function (e, target) {\n        if (this.tooltipEle) {\n            if (!this.isSticky) {\n                if (e.type === 'focus') {\n                    EventHandler.add(target, 'blur', this.onMouseOut, this);\n                }\n                if (e.type === 'mouseover') {\n                    EventHandler.add(target, 'mouseleave', this.onMouseOut, this);\n                }\n                if (this.closeDelay) {\n                    EventHandler.add(this.tooltipEle, 'mouseenter', this.tooltipHover, this);\n                    EventHandler.add(this.tooltipEle, 'mouseleave', this.tooltipMouseOut, this);\n                }\n            }\n            if (this.mouseTrail && this.openDelay === 0) {\n                EventHandler.add(target, 'mousemove touchstart mouseenter', this.onMouseMove, this);\n            }\n        }\n    };\n    /**\n     * Unbinding events from the element on widget destroy.\n     *\n     * @hidden\n     *\n     * @param {string} trigger - specify the trigger string to the function\n     * @returns {void}\n     *\n     */\n    Tooltip.prototype.unwireEvents = function (trigger) {\n        var triggerList = this.getTriggerList(trigger);\n        for (var _i = 0, triggerList_2 = triggerList; _i < triggerList_2.length; _i++) {\n            var opensOn = triggerList_2[_i];\n            if (opensOn === 'Custom') {\n                return;\n            }\n            if (opensOn === 'Focus') {\n                this.unwireFocusEvents();\n            }\n            if (opensOn === 'Click') {\n                EventHandler.remove(this.element, Browser.touchStartEvent, this.targetClick);\n            }\n            if (opensOn === 'Hover') {\n                if (Browser.isDevice) {\n                    if (this.touchModule) {\n                        this.touchModule.destroy();\n                    }\n                    EventHandler.remove(this.element, Browser.touchEndEvent, this.touchEndHandler);\n                }\n                else {\n                    EventHandler.remove(this.element, 'mouseover', this.targetHover);\n                }\n            }\n        }\n        EventHandler.remove(document, 'touchend', this.touchEnd);\n        EventHandler.remove(document, 'scroll wheel', this.scrollHandler);\n        EventHandler.remove(window, 'resize', this.windowResize);\n        EventHandler.remove(document, 'keydown', this.keyDown);\n    };\n    Tooltip.prototype.unwireFocusEvents = function () {\n        if (!isNullOrUndefined(this.target)) {\n            var targetList = [].slice.call(selectAll(this.target, this.element));\n            for (var _i = 0, targetList_3 = targetList; _i < targetList_3.length; _i++) {\n                var target = targetList_3[_i];\n                EventHandler.remove(target, 'focus', this.targetHover);\n            }\n        }\n        else {\n            EventHandler.remove(this.element, 'focus', this.targetHover);\n        }\n    };\n    Tooltip.prototype.unwireMouseEvents = function (target) {\n        if (!this.isSticky) {\n            var triggerList = this.getTriggerList(this.opensOn);\n            for (var _i = 0, triggerList_3 = triggerList; _i < triggerList_3.length; _i++) {\n                var opensOn = triggerList_3[_i];\n                if (opensOn === 'Focus') {\n                    EventHandler.remove(target, 'blur', this.onMouseOut);\n                }\n                if (opensOn === 'Hover' && !Browser.isDevice) {\n                    EventHandler.remove(target, 'mouseleave', this.onMouseOut);\n                }\n            }\n            if (this.closeDelay) {\n                EventHandler.remove(target, 'mouseenter', this.tooltipHover);\n                EventHandler.remove(target, 'mouseleave', this.tooltipMouseOut);\n            }\n        }\n        if (this.mouseTrail) {\n            EventHandler.remove(target, 'mousemove touchstart mouseenter', this.onMouseMove);\n        }\n    };\n    Tooltip.prototype.findTarget = function () {\n        var target = select('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document);\n        return target;\n    };\n    /**\n     * Core method to return the component name.\n     *\n     * @private\n     *\n     * @returns {string} - this method returns module name.\n     */\n    Tooltip.prototype.getModuleName = function () {\n        return 'tooltip';\n    };\n    /**\n     * Returns the properties to be maintained in the persisted state.\n     *\n     * @private\n     *\n     * @returns {string} - this method returns persisted data.\n     */\n    Tooltip.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Called internally, if any of the property value changed.\n     *\n     * @private\n     *\n     * @param {TooltipModel} newProp - this param gives new property values to the method\n     * @param {TooltipModel} oldProp - this param gives old property values to the method\n     * @returns {void}\n     *\n     */\n    Tooltip.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var targetElement = this.findTarget();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    if (this.tooltipEle && targetElement) {\n                        this.tooltipEle.style.width = this.tooltipEle.style.maxWidth = formatUnit(newProp.width);\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'height':\n                    if (this.tooltipEle && targetElement) {\n                        this.tooltipEle.style.height = formatUnit(newProp.height);\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'content':\n                    if (this.tooltipEle) {\n                        this.renderContent();\n                    }\n                    break;\n                case 'opensOn':\n                    this.unwireEvents(oldProp.opensOn);\n                    this.wireEvents(newProp.opensOn);\n                    break;\n                case 'position':\n                    this.formatPosition();\n                    if (this.tooltipEle && targetElement) {\n                        var arrowInnerELe = select('.' + ARROW_TIP_INNER, this.tooltipEle);\n                        arrowInnerELe.style.top = arrowInnerELe.style.left = null;\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'tipPointerPosition':\n                    if (this.tooltipEle && targetElement) {\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'offsetX':\n                    if (this.tooltipEle) {\n                        var x = newProp.offsetX - oldProp.offsetX;\n                        this.tooltipEle.style.left = (parseInt(this.tooltipEle.style.left, 10) + (x)).toString() + 'px';\n                    }\n                    break;\n                case 'offsetY':\n                    if (this.tooltipEle) {\n                        var y = newProp.offsetY - oldProp.offsetY;\n                        this.tooltipEle.style.top = (parseInt(this.tooltipEle.style.top, 10) + (y)).toString() + 'px';\n                    }\n                    break;\n                case 'cssClass':\n                    if (this.tooltipEle) {\n                        if (oldProp.cssClass) {\n                            removeClass([this.tooltipEle], oldProp.cssClass.split(' '));\n                        }\n                        if (newProp.cssClass) {\n                            addClass([this.tooltipEle], newProp.cssClass.split(' '));\n                        }\n                    }\n                    break;\n                case 'enableRtl':\n                    if (this.tooltipEle) {\n                        if (this.enableRtl) {\n                            addClass([this.tooltipEle], RTL);\n                        }\n                        else {\n                            removeClass([this.tooltipEle], RTL);\n                        }\n                    }\n                    break;\n                case 'container':\n                    if (!isNullOrUndefined(this.containerElement)) {\n                        removeClass([this.containerElement], POPUP_CONTAINER);\n                    }\n                    this.container = newProp.container;\n                    if (this.tooltipEle && targetElement) {\n                        this.appendContainer(this);\n                        this.reposition(targetElement);\n                    }\n            }\n        }\n    };\n    /**\n     * It is used to show the Tooltip on the specified target with specific animation settings.\n     *\n     * @param {HTMLElement} element - Target element where the Tooltip is to be displayed. (It is an optional parameter)\n     * @param {TooltipAnimationSettings} animation - Sets the specific animation, while showing the Tooltip on the screen. (It is an optional parameter)\n     * @returns {void}\n     */\n    Tooltip.prototype.open = function (element, animation) {\n        if (isNullOrUndefined(animation)) {\n            animation = this.animation.open;\n        }\n        if (isNullOrUndefined(element)) {\n            element = this.element;\n        }\n        if (element.style.display === 'none') {\n            return;\n        }\n        this.showTooltip(element, animation);\n    };\n    /**\n     * It is used to hide the Tooltip with specific animation effect.\n     *\n     * @param {TooltipAnimationSettings} animation - Sets the specific animation when hiding Tooltip from the screen. (It is an optional parameter)\n     * @returns {void}\n     */\n    Tooltip.prototype.close = function (animation) {\n        if (!animation) {\n            animation = this.animation.close;\n        }\n        this.hideTooltip(animation);\n    };\n    /**\n     * It is used to refresh the Tooltip content and its position.\n     *\n     * @param {HTMLElement} target - Target element where the Tooltip content or position needs to be refreshed.\n     * @returns {void}\n     */\n    Tooltip.prototype.refresh = function (target) {\n        if (this.tooltipEle) {\n            this.renderContent(target);\n        }\n        if (this.popupObj && target) {\n            this.reposition(target);\n        }\n    };\n    /**\n     * It is used to destroy the Tooltip component.\n     * @method destroy\n     * @returns {void}\n     * @memberof Tooltip\n     */\n    Tooltip.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (this.tooltipEle) {\n            remove(this.tooltipEle);\n        }\n        if (this.popupObj) {\n            this.popupObj.destroy();\n        }\n        removeClass([this.element], ROOT);\n        this.unwireEvents(this.opensOn);\n        this.unwireMouseEvents(this.element);\n        this.tooltipEle = null;\n        this.popupObj = null;\n    };\n    __decorate([\n        Property('auto')\n    ], Tooltip.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Tooltip.prototype, \"height\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"content\", void 0);\n    __decorate([\n        Property('body')\n    ], Tooltip.prototype, \"container\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"target\", void 0);\n    __decorate([\n        Property('TopCenter')\n    ], Tooltip.prototype, \"position\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"offsetX\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"offsetY\", void 0);\n    __decorate([\n        Property(true)\n    ], Tooltip.prototype, \"showTipPointer\", void 0);\n    __decorate([\n        Property(true)\n    ], Tooltip.prototype, \"enableHtmlParse\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"windowCollision\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Tooltip.prototype, \"tipPointerPosition\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Tooltip.prototype, \"opensOn\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"mouseTrail\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"isSticky\", void 0);\n    __decorate([\n        Complex({}, Animation)\n    ], Tooltip.prototype, \"animation\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"openDelay\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"closeDelay\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeRender\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"afterOpen\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"afterClose\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeCollision\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"destroyed\", void 0);\n    Tooltip = __decorate([\n        NotifyPropertyChanges\n    ], Tooltip);\n    return Tooltip;\n}(Component));\nexport { Tooltip };\n","import { isNullOrUndefined, attributes } from '@syncfusion/ej2-base';\nimport { iterateArrayOrObject } from '../base/util';\nimport { CellType } from '../base/enum';\n/**\n * `CellMergeRender` module.\n *\n * @hidden\n */\nvar CellMergeRender = /** @class */ (function () {\n    function CellMergeRender(serviceLocator, parent) {\n        this.serviceLocator = serviceLocator;\n        this.parent = parent;\n    }\n    CellMergeRender.prototype.render = function (cellArgs, row, i, td) {\n        var cellRendererFact = this.serviceLocator.getService('cellRendererFactory');\n        var cellRenderer = cellRendererFact.getCellRenderer(row.cells[i].cellType || CellType.Data);\n        var colSpan = row.cells[i].cellSpan ? row.cells[i].cellSpan :\n            (cellArgs.colSpan + i) <= row.cells.length ? cellArgs.colSpan : row.cells.length - i;\n        var rowSpan = cellArgs.rowSpan;\n        var visible = 0;\n        var spannedCell;\n        if (row.index > 0) {\n            var cells = this.parent.groupSettings.columns.length > 0 &&\n                !this.parent.getRowsObject()[row.index - 1].isDataRow ? this.parent.getRowsObject()[row.index].cells :\n                this.parent.getRowsObject()[row.index - 1].cells;\n            var targetCell_1 = row.cells[i];\n            var uid_1 = 'uid';\n            spannedCell = cells.filter(function (cell) { return cell.column.uid === targetCell_1.column[uid_1]; })[0];\n        }\n        var colSpanLen = spannedCell && spannedCell.colSpanRange > 1 && spannedCell.rowSpanRange > 1 ?\n            spannedCell.colSpanRange : colSpan;\n        for (var j = i + 1; j < i + colSpanLen && j < row.cells.length; j++) {\n            if (row.cells[j].visible === false) {\n                visible++;\n            }\n            else {\n                row.cells[j].isSpanned = true;\n            }\n        }\n        if (visible > 0) {\n            for (var j = i + colSpan; j < i + colSpan + visible && j < row.cells.length; j++) {\n                row.cells[j].isSpanned = true;\n            }\n            if (i + colSpan + visible >= row.cells.length) {\n                colSpan -= (i + colSpan + visible) - row.cells.length;\n            }\n        }\n        if (row.cells[i].cellSpan) {\n            row.data[cellArgs.column.field] = row.cells[i].spanText;\n            td = cellRenderer.render(row.cells[i], row.data, { 'index': !isNullOrUndefined(row.index) ? row.index.toString() : '' });\n        }\n        if (colSpan > 1) {\n            attributes(td, { 'colSpan': colSpan.toString(), 'aria-colSpan': colSpan.toString() });\n        }\n        if (rowSpan > 1) {\n            attributes(td, { 'rowspan': rowSpan.toString(), 'aria-rowspan': rowSpan.toString() });\n            row.cells[i].isRowSpanned = true;\n            row.cells[i].rowSpanRange = Number(rowSpan);\n            if (colSpan > 1) {\n                row.cells[i].colSpanRange = Number(colSpan);\n            }\n        }\n        if (row.index > 0 && (spannedCell.rowSpanRange > 1)) {\n            row.cells[i].isSpanned = true;\n            row.cells[i].rowSpanRange = Number(spannedCell.rowSpanRange - 1);\n            row.cells[i].colSpanRange = spannedCell.rowSpanRange > 0 ? spannedCell.colSpanRange : 1;\n        }\n        if (this.parent.enableColumnVirtualization && !row.cells[i].cellSpan &&\n            !this.containsKey(cellArgs.column.field, cellArgs.data[cellArgs.column.field])) {\n            this.backupMergeCells(cellArgs.column.field, cellArgs.data[cellArgs.column.field], cellArgs.colSpan);\n        }\n        return td;\n    };\n    CellMergeRender.prototype.backupMergeCells = function (fName, data, span) {\n        this.setMergeCells(this.generteKey(fName, data), span);\n    };\n    CellMergeRender.prototype.generteKey = function (fname, data) {\n        return fname + '__' + data.toString();\n    };\n    CellMergeRender.prototype.splitKey = function (key) {\n        return key.split('__');\n    };\n    CellMergeRender.prototype.containsKey = function (fname, data) {\n        // eslint-disable-next-line no-prototype-builtins\n        return this.getMergeCells().hasOwnProperty(this.generteKey(fname, data));\n    };\n    CellMergeRender.prototype.getMergeCells = function () {\n        return this.parent.mergeCells;\n    };\n    CellMergeRender.prototype.setMergeCells = function (key, span) {\n        this.parent.mergeCells[key] = span;\n    };\n    CellMergeRender.prototype.updateVirtualCells = function (rows) {\n        var mCells = this.getMergeCells();\n        for (var _i = 0, _a = Object.keys(mCells); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var value = mCells[key];\n            var merge = this.splitKey(key);\n            var columnIndex = this.getIndexFromAllColumns(merge[0]);\n            var vColumnIndices = this.parent.getColumnIndexesInView();\n            var span = value - (vColumnIndices[0] - columnIndex);\n            if (columnIndex < vColumnIndices[0] && span > 1) {\n                for (var _b = 0, rows_1 = rows; _b < rows_1.length; _b++) {\n                    var row = rows_1[_b];\n                    if (row.data[merge[0]].toString() === merge[1].toString()) {\n                        row.cells[0].cellSpan = span;\n                        row.cells[0].spanText = merge[1];\n                        break;\n                    }\n                }\n            }\n        }\n        return rows;\n    };\n    CellMergeRender.prototype.getIndexFromAllColumns = function (field) {\n        var index = iterateArrayOrObject(this.parent.getVisibleColumns(), function (item, index) {\n            if (item.field === field) {\n                return index;\n            }\n            return undefined;\n        })[0];\n        return index;\n    };\n    return CellMergeRender;\n}());\nexport { CellMergeRender };\n","import { isNullOrUndefined, extend, addClass } from '@syncfusion/ej2-base';\nimport { attributes as addAttributes } from '@syncfusion/ej2-base';\nimport { rowDataBound, queryCellInfo } from '../base/constant';\nimport { setStyleAndAttributes, getObject, extendObjWithFn } from '../base/util';\nimport { CellType } from '../base/enum';\nimport { CellMergeRender } from './cell-merge-renderer';\nimport * as literals from '../base/string-literals';\n/**\n * RowRenderer class which responsible for building row content.\n *\n * @hidden\n */\nvar RowRenderer = /** @class */ (function () {\n    function RowRenderer(serviceLocator, cellType, parent) {\n        this.isSpan = false;\n        this.cellType = cellType;\n        this.serviceLocator = serviceLocator;\n        this.parent = parent;\n        this.element = this.parent.createElement('tr', { attrs: { role: 'row' } });\n    }\n    /* eslint-disable */\n    /**\n     * Function to render the row content based on Column[] and data.\n     *\n     * @param {Row<T>} row - specifies the row\n     * @param {Column[]} columns - specifies the columns\n     * @param {Object} attributes - specifies the attributes\n     * @param {string} rowTemplate - specifies the rowTemplate\n     * @param {Element} cloneNode - specifies the cloneNode\n     * @returns {Element} returns the element\n     */\n    /* eslint-enable */\n    RowRenderer.prototype.render = function (row, columns, attributes, rowTemplate, cloneNode) {\n        return this.refreshRow(row, columns, attributes, rowTemplate, cloneNode);\n    };\n    /* eslint-disable */\n    /**\n     * Function to refresh the row content based on Column[] and data.\n     *\n     * @param {Row<T>} row - specifies the row\n     * @param {Column[]} columns - specifies the column\n     * @param {boolean} isChanged - specifies isChanged\n     * @param {Object} attributes - specifies the attributes\n     * @param {string} rowTemplate - specifies the rowTemplate\n     * @returns {void}\n     */\n    /* eslint-enable */\n    RowRenderer.prototype.refresh = function (row, columns, isChanged, attributes, rowTemplate) {\n        if (isChanged) {\n            row.data = extendObjWithFn({}, row.changes);\n            this.refreshMergeCells(row);\n        }\n        var node = this.parent.element.querySelector('[data-uid=' + row.uid + ']');\n        var tr = this.refreshRow(row, columns, attributes, rowTemplate, null, isChanged);\n        var cells = [].slice.call(tr.cells);\n        node.innerHTML = '';\n        for (var _i = 0, cells_1 = cells; _i < cells_1.length; _i++) {\n            var cell = cells_1[_i];\n            node.appendChild(cell);\n        }\n    };\n    // tslint:disable-next-line:max-func-body-length\n    RowRenderer.prototype.refreshRow = function (row, columns, attributes, rowTemplate, cloneNode, isEdit) {\n        var tr = !isNullOrUndefined(cloneNode) ? cloneNode : this.element.cloneNode();\n        var rowArgs = { data: row.data };\n        var cellArgs = { data: row.data };\n        var chekBoxEnable = this.parent.getColumns().filter(function (col) { return col.type === 'checkbox' && col.field; })[0];\n        var value = false;\n        if (chekBoxEnable) {\n            value = getObject(chekBoxEnable.field, rowArgs.data);\n        }\n        var selIndex = this.parent.getSelectedRowIndexes();\n        if (row.isDataRow) {\n            row.isSelected = selIndex.indexOf(row.index) > -1 || value;\n        }\n        if (row.isDataRow && this.parent.isCheckBoxSelection\n            && this.parent.checkAllRows === 'Check' && this.parent.enableVirtualization) {\n            row.isSelected = true;\n            if (selIndex.indexOf(row.index) === -1) {\n                selIndex.push(row.index);\n            }\n        }\n        this.buildAttributeFromRow(tr, row);\n        addAttributes(tr, extend({}, attributes, {}));\n        setStyleAndAttributes(tr, row.attributes);\n        var cellRendererFact = this.serviceLocator.getService('cellRendererFactory');\n        var _loop_1 = function (i, len) {\n            var cell = row.cells[i];\n            cell.isSelected = row.isSelected;\n            cell.isColumnSelected = cell.column.isSelected;\n            var cellRenderer = cellRendererFact.getCellRenderer(row.cells[i].cellType || CellType.Data);\n            var attrs = { 'index': !isNullOrUndefined(row.index) ? row.index.toString() : '' };\n            if (row.isExpand && row.cells[i].cellType === CellType.DetailExpand) {\n                attrs['class'] = this_1.parent.isPrinting ? 'e-detailrowcollapse' : 'e-detailrowexpand';\n            }\n            var td = cellRenderer.render(row.cells[i], row.data, attrs, row.isExpand, isEdit);\n            if (row.cells[i].cellType !== CellType.Filter) {\n                if (row.cells[i].cellType === CellType.Data || row.cells[i].cellType === CellType.CommandColumn) {\n                    this_1.parent.trigger(queryCellInfo, extend(cellArgs, {\n                        cell: td, column: cell.column, colSpan: 1,\n                        rowSpan: 1, foreignKeyData: row.cells[i].foreignKeyData,\n                        requestType: this_1.parent.requestTypeAction\n                    }));\n                    var isRowSpanned = false;\n                    if (row.index > 0 && this_1.isSpan) {\n                        var prevRowCells = this_1.parent.groupSettings.columns.length > 0 &&\n                            !this_1.parent.getRowsObject()[row.index - 1].isDataRow ?\n                            this_1.parent.getRowsObject()[row.index].cells : this_1.parent.getRowsObject()[row.index - 1].cells;\n                        var uid_1 = 'uid';\n                        var prevRowCell = prevRowCells.filter(function (cell) {\n                            return cell.column.uid === row.cells[i].column[uid_1];\n                        })[0];\n                        isRowSpanned = prevRowCell.isRowSpanned ? prevRowCell.isRowSpanned : prevRowCell.rowSpanRange > 1;\n                    }\n                    if (cellArgs.colSpan > 1 || row.cells[i].cellSpan > 1 || cellArgs.rowSpan > 1 || isRowSpanned) {\n                        this_1.isSpan = true;\n                        var cellMerge = new CellMergeRender(this_1.serviceLocator, this_1.parent);\n                        td = cellMerge.render(cellArgs, row, i, td);\n                    }\n                }\n                if (!row.cells[i].isSpanned) {\n                    tr.appendChild(td);\n                }\n            }\n        };\n        var this_1 = this;\n        for (var i = 0, len = row.cells.length; i < len; i++) {\n            _loop_1(i, len);\n        }\n        var args = { row: tr, rowHeight: this.parent.rowHeight };\n        if (row.isDataRow) {\n            this.parent.trigger(rowDataBound, extend(rowArgs, args));\n            if (this.parent.childGrid || this.parent.isRowDragable() || this.parent.detailTemplate) {\n                var td = tr.querySelectorAll('.e-rowcell:not(.e-hide)')[0];\n                if (td) {\n                    td.classList.add('e-detailrowvisible');\n                }\n            }\n        }\n        if (this.parent.enableVirtualization) {\n            rowArgs.rowHeight = this.parent.rowHeight;\n        }\n        if (rowArgs.rowHeight) {\n            tr.style.height = rowArgs.rowHeight + 'px';\n        }\n        else if (this.parent.rowHeight && (tr.querySelector('.e-headercell') || tr.querySelector('.e-groupcaption'))) {\n            tr.style.height = this.parent.rowHeight + 'px';\n        }\n        if (row.cssClass) {\n            tr.classList.add(row.cssClass);\n        }\n        if (row.lazyLoadCssClass) {\n            tr.classList.add(row.lazyLoadCssClass);\n        }\n        var vFTable = this.parent.enableColumnVirtualization && this.parent.frozenColumns !== 0;\n        if (!vFTable && this.parent.aggregates.length && this.parent.element.scrollHeight > this.parent.height) {\n            for (var i = 0; i < this.parent.aggregates.length; i++) {\n                var property = 'properties';\n                var column = 'columns';\n                if (this.parent.aggregates[i][property][column][0].footerTemplate) {\n                    var summarycell = [].slice.call(tr.getElementsByClassName('e-summarycell'));\n                    if (summarycell.length) {\n                        var lastSummaryCell = (summarycell[summarycell.length - 1]);\n                        addClass([lastSummaryCell], ['e-lastsummarycell']);\n                        var firstSummaryCell = (summarycell[0]);\n                        addClass([firstSummaryCell], ['e-firstsummarycell']);\n                    }\n                }\n            }\n        }\n        return tr;\n    };\n    RowRenderer.prototype.refreshMergeCells = function (row) {\n        for (var _i = 0, _a = row.cells; _i < _a.length; _i++) {\n            var cell = _a[_i];\n            cell.isSpanned = false;\n        }\n        return row;\n    };\n    /* eslint-disable */\n    /**\n     * Function to check and add alternative row css class.\n     *\n     * @param {Element} tr - specifies the tr element\n     * @param {Row<T>} row - specifies the row\n     * @returns {void}\n     */\n    /* eslint-enable */\n    RowRenderer.prototype.buildAttributeFromRow = function (tr, row) {\n        var attr = {};\n        var prop = { 'rowindex': literals.ariaRowIndex, 'dataUID': 'data-uid', 'ariaSelected': 'aria-selected' };\n        var classes = [];\n        if (row.isDataRow) {\n            classes.push(literals.row);\n        }\n        if (row.isAltRow) {\n            classes.push('e-altrow');\n        }\n        if (!isNullOrUndefined(row.index)) {\n            attr[prop.rowindex] = row.index;\n        }\n        if (row.rowSpan) {\n            attr.rowSpan = row.rowSpan;\n        }\n        if (row.uid) {\n            attr[prop.dataUID] = row.uid;\n        }\n        if (row.isSelected) {\n            attr[prop.ariaSelected] = true;\n        }\n        if (row.visible === false) {\n            classes.push('e-hide');\n        }\n        attr.class = classes;\n        setStyleAndAttributes(tr, attr);\n    };\n    return RowRenderer;\n}());\nexport { RowRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Row } from '../models/row';\nimport { isNullOrUndefined, extend, setValue } from '@syncfusion/ej2-base';\nimport { CellType } from '../base/enum';\nimport { RowModelGenerator } from '../services/row-model-generator';\nimport { GroupSummaryModelGenerator, CaptionSummaryModelGenerator } from '../services/summary-model-generator';\nimport { getForeignData, getUid } from '../../grid/base/util';\n/**\n * GroupModelGenerator is used to generate group caption rows and data rows.\n *\n * @hidden\n */\nvar GroupModelGenerator = /** @class */ (function (_super) {\n    __extends(GroupModelGenerator, _super);\n    function GroupModelGenerator(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.rows = [];\n        /** @hidden */\n        _this.index = 0;\n        _this.infiniteChildCount = 0;\n        _this.renderInfiniteAgg = true;\n        _this.parent = parent;\n        _this.summaryModelGen = new GroupSummaryModelGenerator(parent);\n        _this.captionModelGen = new CaptionSummaryModelGenerator(parent);\n        return _this;\n    }\n    GroupModelGenerator.prototype.generateRows = function (data, args) {\n        if (this.parent.groupSettings.columns.length === 0) {\n            return _super.prototype.generateRows.call(this, data, args);\n        }\n        this.isInfiniteScroll = (args.requestType === 'infiniteScroll');\n        this.rows = [];\n        this.index = this.parent.enableVirtualization || this.isInfiniteScroll ? args.startIndex : 0;\n        for (var i = 0, len = data.length; i < len; i++) {\n            this.infiniteChildCount = 0;\n            this.renderInfiniteAgg = true;\n            this.getGroupedRecords(0, data[i], data.level, i, undefined, this.rows.length);\n        }\n        this.index = 0;\n        if (this.parent.isCollapseStateEnabled()) {\n            this.ensureRowVisibility();\n        }\n        return this.rows;\n    };\n    GroupModelGenerator.prototype.getGroupedRecords = function (index, data, raw, parentid, childId, tIndex, parentUid) {\n        var _a;\n        var level = raw;\n        if (isNullOrUndefined(data.items)) {\n            if (isNullOrUndefined(data.GroupGuid)) {\n                this.rows = this.rows.concat(this.generateDataRows(data, index, parentid, this.rows.length, parentUid));\n            }\n            else {\n                for (var j = 0, len = data.length; j < len; j++) {\n                    this.getGroupedRecords(index, data[j], data.level, parentid, index, this.rows.length, parentUid);\n                }\n            }\n        }\n        else {\n            var preCaption = void 0;\n            var captionRow = this.generateCaptionRow(data, index, parentid, childId, tIndex, parentUid);\n            if (this.isInfiniteScroll) {\n                preCaption = this.getPreCaption(index, captionRow.data.key);\n            }\n            if (!preCaption) {\n                this.rows = this.rows.concat(captionRow);\n            }\n            else {\n                captionRow.uid = preCaption.uid;\n            }\n            if (data.items && data.items.length) {\n                this.getGroupedRecords(index + 1, data.items, data.items.level, parentid, index + 1, this.rows.length, captionRow.uid);\n            }\n            if (this.parent.aggregates.length && this.isRenderAggregate(captionRow)) {\n                var rowCnt = this.rows.length;\n                (_a = this.rows).push.apply(_a, this.summaryModelGen.generateRows(data, { level: level, parentUid: captionRow.uid }));\n                for (var i = rowCnt - 1; i >= 0; i--) {\n                    if (this.rows[i].isCaptionRow) {\n                        this.rows[i].aggregatesCount = this.rows.length - rowCnt;\n                    }\n                    else if (!this.rows[i].isCaptionRow && !this.rows[i].isDataRow) {\n                        break;\n                    }\n                }\n            }\n            if (preCaption) {\n                this.setInfiniteRowVisibility(preCaption);\n            }\n        }\n    };\n    GroupModelGenerator.prototype.isRenderAggregate = function (data) {\n        if (this.parent.enableInfiniteScrolling) {\n            if (!this.renderInfiniteAgg) {\n                return false;\n            }\n            this.getPreCaption(data.indent, data.data.key);\n            this.renderInfiniteAgg = data.data.count === this.infiniteChildCount;\n            return this.renderInfiniteAgg;\n        }\n        return !this.parent.enableInfiniteScrolling;\n    };\n    GroupModelGenerator.prototype.getPreCaption = function (indent, key) {\n        var rowObj = this.parent.getRowsObject().concat(this.rows);\n        var preCap;\n        this.infiniteChildCount = 0;\n        var i = rowObj.length;\n        while (i--) {\n            if (rowObj[i].isCaptionRow && rowObj[i].indent === indent\n                && rowObj[i].data.key === key) {\n                preCap = rowObj[i];\n            }\n            if (rowObj[i].indent === indent || rowObj[i].indent < indent) {\n                break;\n            }\n            if (rowObj[i].indent === indent + 1) {\n                this.infiniteChildCount++;\n            }\n        }\n        return preCap;\n    };\n    GroupModelGenerator.prototype.getCaptionRowCells = function (field, indent, data) {\n        var cells = [];\n        var visibles = [];\n        var column = this.parent.getColumnByField(field);\n        var indexes = this.parent.getColumnIndexesInView();\n        if (this.parent.enableColumnVirtualization) {\n            column = this.parent.columns.filter(function (c) { return c.field === field; })[0];\n        }\n        var groupedLen = this.parent.groupSettings.columns.length;\n        var gObj = this.parent;\n        if (!this.parent.enableColumnVirtualization || indexes.indexOf(indent) !== -1) {\n            for (var i = 0; i < indent; i++) {\n                cells.push(this.generateIndentCell());\n            }\n            cells.push(this.generateCell({}, null, CellType.Expand));\n        }\n        indent = this.parent.enableColumnVirtualization ? 1 :\n            (this.parent.getVisibleColumns().length + groupedLen + (gObj.detailTemplate || gObj.childGrid ? 1 : 0) -\n                indent + (this.parent.getVisibleColumns().length ? -1 : 0));\n        //Captionsummary cells will be added here.\n        if (this.parent.aggregates.length && !this.captionModelGen.isEmpty()) {\n            var captionCells = this.captionModelGen.generateRows(data)[0];\n            extend(data, captionCells.data);\n            var cIndex_1 = 0;\n            captionCells.cells.some(function (cell, index) { cIndex_1 = index; return cell.visible && cell.isDataCell; });\n            visibles = captionCells.cells.slice(cIndex_1).filter(function (cell) { return cell.visible; });\n            if (captionCells.visible && visibles[0].column.field === this.parent.getVisibleColumns()[0].field) {\n                visibles = visibles.slice(1);\n            }\n            if (this.parent.getVisibleColumns().length === 1) {\n                visibles = [];\n            }\n            indent = indent - visibles.length;\n        }\n        var cols = (!this.parent.enableColumnVirtualization ? [column] : this.parent.getColumns());\n        var wFlag = true;\n        for (var j = 0; j < cols.length; j++) {\n            var tmpFlag = wFlag && indexes.indexOf(indent) !== -1;\n            if (tmpFlag) {\n                wFlag = false;\n            }\n            var cellType = !this.parent.enableColumnVirtualization || tmpFlag ?\n                CellType.GroupCaption : CellType.GroupCaptionEmpty;\n            indent = this.parent.enableColumnVirtualization && cellType === CellType.GroupCaption ? indent + groupedLen : indent;\n            if (gObj.isRowDragable()) {\n                indent++;\n            }\n            cells.push(this.generateCell(column, null, cellType, indent));\n        }\n        cells.push.apply(cells, visibles);\n        return cells;\n    };\n    /**\n     * @param {GroupedData} data - specifies the data\n     * @param {number} indent - specifies the indent\n     * @param {number} parentID - specifies the parentID\n     * @param {number} childID - specifies the childID\n     * @param {number} tIndex - specifies the TIndex\n     * @param {string} parentUid - specifies the ParentUid\n     * @returns {Row<Column>} returns the Row object\n     * @hidden\n     */\n    GroupModelGenerator.prototype.generateCaptionRow = function (data, indent, parentID, childID, tIndex, parentUid) {\n        var options = {};\n        var records = 'records';\n        var col = this.parent.getColumnByField(data.field);\n        options.data = extend({}, data);\n        if (col) {\n            options.data.field = data.field;\n        }\n        options.isDataRow = false;\n        options.isExpand = !this.parent.groupSettings.enableLazyLoading && !this.parent.isCollapseStateEnabled();\n        options.parentGid = parentID;\n        options.childGid = childID;\n        options.tIndex = tIndex;\n        options.isCaptionRow = true;\n        options.parentUid = parentUid;\n        options.gSummary = !isNullOrUndefined(data.items[records]) ? data.items[records].length : data.items.length;\n        options.uid = getUid('grid-row');\n        var row = new Row(options);\n        row.indent = indent;\n        this.getForeignKeyData(row);\n        row.cells = this.getCaptionRowCells(data.field, indent, row.data);\n        return row;\n    };\n    GroupModelGenerator.prototype.getForeignKeyData = function (row) {\n        var data = row.data;\n        var col = this.parent.getColumnByField(data.field);\n        if (col && col.isForeignColumn && col.isForeignColumn()) {\n            var fkValue = (isNullOrUndefined(data.key) ? '' : col.valueAccessor(col.foreignKeyValue, getForeignData(col, {}, data.key)[0], col));\n            setValue('foreignKey', fkValue, row.data);\n        }\n    };\n    /**\n     * @param {Object[]} data - specifies the data\n     * @param {number} indent - specifies the indent\n     * @param {number} childID - specifies the childID\n     * @param {number} tIndex - specifies the tIndex\n     * @param {string} parentUid - specifies the ParentUid\n     * @returns {Row<Column>[]} returns the row object\n     * @hidden\n     */\n    GroupModelGenerator.prototype.generateDataRows = function (data, indent, childID, tIndex, parentUid) {\n        var rows = [];\n        var indexes = this.parent.getColumnIndexesInView();\n        for (var i = 0, len = data.length; i < len; i++, tIndex++) {\n            rows[i] = this.generateRow(data[i], this.index, i ? undefined : 'e-firstchildrow', indent, childID, tIndex, parentUid);\n            for (var j = 0; j < indent; j++) {\n                if (this.parent.enableColumnVirtualization && indexes.indexOf(indent) === -1) {\n                    continue;\n                }\n                rows[i].cells.unshift(this.generateIndentCell());\n            }\n            this.index++;\n        }\n        return rows;\n    };\n    GroupModelGenerator.prototype.generateIndentCell = function () {\n        return this.generateCell({}, null, CellType.Indent);\n    };\n    GroupModelGenerator.prototype.refreshRows = function (input) {\n        var indexes = this.parent.getColumnIndexesInView();\n        for (var i = 0; i < input.length; i++) {\n            if (input[i].isDataRow) {\n                input[i].cells = this.generateCells(input[i]);\n                for (var j = 0; j < input[i].indent; j++) {\n                    if (this.parent.enableColumnVirtualization && indexes.indexOf(input[i].indent) === -1) {\n                        continue;\n                    }\n                    input[i].cells.unshift(this.generateIndentCell());\n                }\n            }\n            else {\n                var cRow = this.generateCaptionRow(input[i].data, input[i].indent);\n                input[i].cells = cRow.cells;\n            }\n        }\n        return input;\n    };\n    GroupModelGenerator.prototype.setInfiniteRowVisibility = function (caption) {\n        if (!caption.isExpand || caption.visible === false) {\n            for (var _i = 0, _a = this.rows; _i < _a.length; _i++) {\n                var row = _a[_i];\n                if (row.parentUid === caption.uid) {\n                    row.visible = false;\n                    if (row.isCaptionRow) {\n                        this.setInfiniteRowVisibility(row);\n                    }\n                }\n            }\n        }\n    };\n    GroupModelGenerator.prototype.ensureRowVisibility = function () {\n        for (var i = 0; i < this.rows.length; i++) {\n            var row = this.rows[i];\n            if (!row.isCaptionRow) {\n                continue;\n            }\n            for (var j = i + 1; j < this.rows.length; j++) {\n                var childRow = this.rows[j];\n                if (row.uid === childRow.parentUid) {\n                    this.rows[j].visible = row.isExpand;\n                }\n            }\n        }\n    };\n    return GroupModelGenerator;\n}(RowModelGenerator));\nexport { GroupModelGenerator };\n","import { Droppable } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, remove, updateBlazorTemplate } from '@syncfusion/ej2-base';\nimport { getUpdateUsingRaf, appendChildren, setDisplayValue, clearReactVueTemplates } from '../base/util';\nimport * as events from '../base/constant';\nimport { RowRenderer } from './row-renderer';\nimport { CellMergeRender } from './cell-merge-renderer';\nimport { RowModelGenerator } from '../services/row-model-generator';\nimport { GroupModelGenerator } from '../services/group-model-generator';\nimport { isGroupAdaptive } from '../base/util';\nimport * as literals from '../base/string-literals';\n// eslint-disable-next-line valid-jsdoc\n/**\n * Content module is used to render grid content\n *\n * @hidden\n */\nvar ContentRender = /** @class */ (function () {\n    /**\n     * Constructor for content renderer module\n     *\n     * @param {IGrid} parent - specifies the Igrid\n     * @param {ServiceLocator} serviceLocator - specifies the service locator\n     */\n    function ContentRender(parent, serviceLocator) {\n        var _this = this;\n        this.rows = [];\n        this.freezeRows = [];\n        this.movableRows = [];\n        this.freezeRowElements = [];\n        /** @hidden */\n        this.currentInfo = {};\n        /** @hidden */\n        this.prevCurrentView = [];\n        this.isLoaded = true;\n        this.viewColIndexes = [];\n        this.drop = function (e) {\n            _this.parent.notify(events.columnDrop, { target: e.target, droppedElement: e.droppedElement });\n            remove(e.droppedElement);\n        };\n        this.infiniteCache = {};\n        this.isRemove = false;\n        this.visibleRows = [];\n        this.visibleFrozenRows = [];\n        this.rightFreezeRows = [];\n        this.isAddRows = false;\n        this.isInfiniteFreeze = false;\n        this.useGroupCache = false;\n        this.rafCallback = function (args) {\n            var arg = args;\n            return function () {\n                if (_this.parent.isFrozenGrid() && _this.parent.enableVirtualization) {\n                    var tableName = args.tableName;\n                    _this.isLoaded = _this.parent.getFrozenMode() === literals.leftRight ? tableName === 'frozen-right' : tableName === 'movable';\n                    if (_this.parent.enableColumnVirtualization && args.requestType === 'virtualscroll' && _this.isLoaded) {\n                        var mHdr = [].slice.call(_this.parent.getMovableVirtualHeader().getElementsByClassName(literals.row));\n                        var fHdr = [].slice.call(_this.parent.getFrozenVirtualHeader().getElementsByClassName(literals.row));\n                        _this.isLoaded = mHdr.length === fHdr.length;\n                    }\n                }\n                _this.ariaService.setBusy(_this.getPanel().querySelector('.' + literals.content), false);\n                if (_this.parent.isDestroyed) {\n                    return;\n                }\n                var rows = _this.rows.slice(0);\n                if (_this.parent.enableInfiniteScrolling) {\n                    rows = _this.parent.getRowsObject();\n                    var prevPage = arg.prevPage;\n                    if (_this.parent.infiniteScrollSettings.enableCache && prevPage) {\n                        var maxBlock = _this.parent.infiniteScrollSettings.maxBlocks;\n                        rows = [];\n                        var rowIdx = (parseInt(_this.rowElements[0].getAttribute('aria-rowindex'), 10) + 1);\n                        var startIdx = Math.ceil(rowIdx / _this.parent.pageSettings.pageSize);\n                        for (var i = 0, count = startIdx; i < maxBlock; i++, count++) {\n                            if (_this.infiniteCache[count]) {\n                                rows = rows.concat(_this.infiniteCache[count]);\n                            }\n                        }\n                    }\n                }\n                if (_this.parent.isFrozenGrid()) {\n                    rows = args.isFrozen ? _this.freezeRows : args.renderFrozenRightContent ? _this.parent.getFrozenRightRowsObject()\n                        : _this.movableRows;\n                }\n                _this.parent.notify(events.contentReady, { rows: rows, args: arg });\n                if (_this.isLoaded) {\n                    _this.parent.isManualRefresh = false;\n                    _this.parent.trigger(events.dataBound, {}, function () {\n                        if (_this.parent.allowTextWrap) {\n                            _this.parent.notify(events.freezeRender, { case: 'textwrap' });\n                        }\n                    });\n                }\n                if (arg) {\n                    var action = (arg.requestType || '').toLowerCase() + '-complete';\n                    _this.parent.notify(action, arg);\n                    if (args.requestType === 'batchsave') {\n                        args.cancel = false;\n                        _this.parent.trigger(events.actionComplete, args);\n                    }\n                }\n                if (_this.isLoaded) {\n                    _this.parent.hideSpinner();\n                }\n            };\n        };\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        this.ariaService = this.serviceLocator.getService('ariaService');\n        this.parent.enableDeepCompare = this.parent.getDataModule().isRemote();\n        this.generator = this.getModelGenerator();\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        if (!this.parent.enableColumnVirtualization && !this.parent.enableVirtualization\n            && !this.parent.groupSettings.enableLazyLoading) {\n            this.parent.on(events.columnVisibilityChanged, this.setVisible, this);\n        }\n        this.parent.on(events.colGroupRefresh, this.colGroupRefresh, this);\n        this.parent.on(events.uiUpdate, this.enableAfterRender, this);\n        this.parent.on(events.refreshInfiniteModeBlocks, this.refreshContentRows, this);\n        this.parent.on(events.beforeCellFocused, this.beforeCellFocused, this);\n        this.parent.on(events.destroy, this.droppableDestroy, this);\n    }\n    ContentRender.prototype.beforeCellFocused = function (e) {\n        if (e.byKey && (e.keyArgs.action === 'upArrow' || e.keyArgs.action === 'downArrow')) {\n            this.pressedKey = e.keyArgs.action;\n        }\n        else {\n            this.pressedKey = undefined;\n        }\n    };\n    /**\n     * The function is used to render grid content div\n     *\n     * @returns {void}\n     */\n    ContentRender.prototype.renderPanel = function () {\n        var gObj = this.parent;\n        var div = this.parent.element.querySelector('.' + literals.gridContent);\n        if (div) {\n            this.ariaService.setOptions(this.parent.element.querySelector('.' + literals.content), { busy: false });\n            this.setPanel(div);\n            return;\n        }\n        div = this.parent.createElement('div', { className: literals.gridContent });\n        var innerDiv = this.parent.createElement('div', {\n            className: literals.content\n        });\n        this.ariaService.setOptions(innerDiv, { busy: false });\n        div.appendChild(innerDiv);\n        this.setPanel(div);\n        gObj.element.appendChild(div);\n    };\n    /**\n     * The function is used to render grid content table\n     *\n     * @returns {void}\n     */\n    ContentRender.prototype.renderTable = function () {\n        var contentDiv = this.getPanel();\n        var virtualTable = contentDiv.querySelector('.e-virtualtable');\n        var virtualTrack = contentDiv.querySelector('.e-virtualtrack');\n        if (this.parent.enableVirtualization && !isNullOrUndefined(virtualTable) && !isNullOrUndefined(virtualTrack)) {\n            remove(virtualTable);\n            remove(virtualTrack);\n        }\n        contentDiv.appendChild(this.createContentTable('_content_table'));\n        this.setTable(contentDiv.querySelector('.' + literals.table));\n        this.ariaService.setOptions(this.getTable(), {\n            multiselectable: this.parent.selectionSettings.type === 'Multiple'\n        });\n        this.initializeContentDrop();\n        if (this.parent.frozenRows) {\n            this.parent.getHeaderContent().classList.add('e-frozenhdrcont');\n        }\n    };\n    /**\n     * The function is used to create content table elements\n     *\n     * @param {string} id - specifies the id\n     * @returns {Element} returns the element\n     * @hidden\n     */\n    ContentRender.prototype.createContentTable = function (id) {\n        var innerDiv = this.getPanel().firstElementChild;\n        if (this.getTable()) {\n            remove(this.getTable());\n        }\n        var table = innerDiv.querySelector('.' + literals.table) ? innerDiv.querySelector('.' + literals.table) :\n            this.parent.createElement('table', {\n                className: literals.table, attrs: {\n                    cellspacing: '0.25px', role: 'grid',\n                    id: this.parent.element.id + id\n                }\n            });\n        this.setColGroup(this.parent.getHeaderTable().querySelector(literals.colGroup).cloneNode(true));\n        table.appendChild(this.getColGroup());\n        table.appendChild(this.parent.createElement(literals.tbody, { attrs: { role: 'rowgroup' } }));\n        innerDiv.appendChild(table);\n        return innerDiv;\n    };\n    /**\n     * Refresh the content of the Grid.\n     *\n     * @param {NotifyArgs} args - specifies the args\n     * @returns {void}\n     */\n    // tslint:disable-next-line:max-func-body-length\n    ContentRender.prototype.refreshContentRows = function (args) {\n        var _this = this;\n        if (args === void 0) { args = {}; }\n        var gObj = this.parent;\n        if (gObj.currentViewData.length === 0) {\n            return;\n        }\n        var dataSource = this.currentMovableRows || gObj.currentViewData;\n        var contentModule = this.parent.contentModule;\n        var isReact = gObj.isReact && !isNullOrUndefined(gObj.rowTemplate);\n        var frag = isReact ? gObj.createElement(literals.tbody, { attrs: { role: 'rowgroup' } }) : document.createDocumentFragment();\n        if (!this.initialPageRecords) {\n            this.initialPageRecords = extend([], dataSource);\n        }\n        var hdrfrag = isReact ? gObj.createElement(literals.tbody, { attrs: { role: 'rowgroup' } }) : document.createDocumentFragment();\n        var columns = gObj.getColumns();\n        var tr;\n        var hdrTbody;\n        var frzCols = gObj.getFrozenColumns();\n        var isFrozenGrid = this.parent.isFrozenGrid();\n        var trElement;\n        var row = new RowRenderer(this.serviceLocator, null, this.parent);\n        var isInfiniteScroll = this.parent.enableInfiniteScrolling\n            && args.requestType === 'infiniteScroll';\n        gObj.notify(events.destroyChildGrid, {});\n        this.rowElements = [];\n        this.rows = [];\n        var fCont = this.getPanel().querySelector('.' + literals.frozenContent);\n        var mCont = this.getPanel().querySelector('.' + literals.movableContent);\n        var cont = this.getPanel().querySelector('.' + literals.content);\n        var tbdy;\n        var tableName;\n        if (isGroupAdaptive(gObj)) {\n            if (['sorting', 'filtering', 'searching', 'grouping', 'ungrouping', 'reorder']\n                .some(function (value) { return args.requestType === value; })) {\n                this.emptyVcRows();\n            }\n        }\n        var modelData;\n        if (this.parent.enableVirtualization && this.parent.isFrozenGrid()) {\n            if (this.parent.enableColumnVirtualization && args.requestType === 'virtualscroll'\n                && args.virtualInfo.sentinelInfo.axis === 'X') {\n                modelData = this.parent.contentModule.generateRows(dataSource, args);\n                args.renderMovableContent = true;\n            }\n            modelData = this.parent.contentModule.generateRows(dataSource, args);\n        }\n        else {\n            modelData = this.checkCache(modelData, args);\n            if (!this.isAddRows && !this.useGroupCache) {\n                modelData = this.generator.generateRows(dataSource, args);\n            }\n        }\n        this.setGroupCache(modelData, args);\n        this.parent.notify(events.setInfiniteCache, { isInfiniteScroll: isInfiniteScroll, modelData: modelData, args: args });\n        var idx = modelData[0].cells[0].index;\n        if (isFrozenGrid) {\n            tableName = contentModule.setTbody(modelData, args);\n            tbdy = contentModule.getTbody(tableName);\n        }\n        var isFrozenLeft = this.parent.getFrozenMode() === literals.leftRight && tableName === literals.frozenRight;\n        /* eslint-disable */\n        if (args.requestType !== 'infiniteScroll' && this.parent.registeredTemplate\n            && this.parent.registeredTemplate.template && !args.isFrozen && !isFrozenLeft) {\n            var templatetoclear = [];\n            for (var i = 0; i < this.parent.registeredTemplate.template.length; i++) {\n                for (var j = 0; j < this.parent.registeredTemplate.template[i].rootNodes.length; j++) {\n                    if (isNullOrUndefined(this.parent.registeredTemplate.template[i].rootNodes[j].parentNode)) {\n                        templatetoclear.push(this.parent.registeredTemplate.template[i]);\n                        /* eslint-enable */\n                    }\n                }\n            }\n            this.parent.destroyTemplate(['template'], templatetoclear);\n        }\n        if ((this.parent.isReact || this.parent.isVue) && args.requestType !== 'infiniteScroll' && !args.isFrozen) {\n            var templates = [\n                this.parent.isVue ? 'template' : 'columnTemplate', 'rowTemplate', 'detailTemplate',\n                'captionTemplate', 'commandsTemplate', 'groupFooterTemplate', 'groupCaptionTemplate'\n            ];\n            clearReactVueTemplates(this.parent, templates);\n        }\n        if (this.parent.enableColumnVirtualization) {\n            var cellMerge = new CellMergeRender(this.serviceLocator, this.parent);\n            cellMerge.updateVirtualCells(modelData);\n        }\n        if (!isFrozenGrid) {\n            this.tbody = this.getTable().querySelector(literals.tbody);\n        }\n        var startIndex = 0;\n        var blockLoad = true;\n        if (isGroupAdaptive(gObj) && gObj.vcRows.length) {\n            var top_1 = 'top';\n            var scrollTop = !isNullOrUndefined(args.virtualInfo.offsets) ? args.virtualInfo.offsets.top :\n                (!isNullOrUndefined(args.scrollTop) ? args.scrollTop[top_1] : 0);\n            if (scrollTop !== 0) {\n                var offsets_1 = gObj.vGroupOffsets;\n                var bSize = gObj.pageSettings.pageSize / 2;\n                var values = Object.keys(offsets_1).map(function (key) { return offsets_1[key]; });\n                for (var m = 0; m < values.length; m++) {\n                    if (scrollTop < values[m]) {\n                        if (!isNullOrUndefined(args.virtualInfo) && args.virtualInfo.direction === 'up') {\n                            startIndex = m > 0 ? ((m - 1) * bSize) : (m * bSize);\n                            break;\n                        }\n                        else {\n                            startIndex = m * bSize;\n                            if (this.parent.contentModule.isEndBlock(m) || this.parent.contentModule.isEndBlock(m + 1)) {\n                                args.virtualInfo.blockIndexes = [m, m + 1];\n                            }\n                            break;\n                        }\n                    }\n                }\n                if (Math.round(scrollTop + this.contentPanel.firstElementChild.offsetHeight) >=\n                    this.contentPanel.firstElementChild.scrollHeight && !args.rowObject) {\n                    blockLoad = false;\n                }\n            }\n        }\n        var isVFFrozenOnly = gObj.frozenRows && !gObj.isFrozenGrid() && this.parent.enableVirtualization\n            && args.requestType === 'reorder';\n        if ((gObj.frozenRows && args.requestType === 'virtualscroll' && args.virtualInfo.sentinelInfo.axis === 'X') || isVFFrozenOnly) {\n            var bIndex = args.virtualInfo.blockIndexes;\n            var page = args.virtualInfo.page;\n            args.virtualInfo.blockIndexes = [1, 2];\n            if (isVFFrozenOnly) {\n                args.virtualInfo.page = 1;\n            }\n            var data = isVFFrozenOnly ? this.initialPageRecords : dataSource;\n            var mhdrData = this.vgenerator\n                .generateRows(data, args);\n            mhdrData.splice(this.parent.frozenRows);\n            for (var i = 0; i < this.parent.frozenRows; i++) {\n                mhdrData[i].cells.splice(0, this.parent.getFrozenColumns());\n                tr = row.render(mhdrData[i], columns);\n                hdrfrag.appendChild(tr);\n            }\n            args.virtualInfo.blockIndexes = bIndex;\n            args.virtualInfo.page = page;\n            if (isVFFrozenOnly && args.virtualInfo.page === 1) {\n                modelData.splice(0, this.parent.frozenRows);\n            }\n        }\n        this.virtualFrozenHdrRefresh(hdrfrag, modelData, row, args, dataSource, columns);\n        for (var i = startIndex, len = modelData.length; i < len; i++) {\n            this.rows.push(modelData[i]);\n            if (this.parent.groupSettings.enableLazyLoading && !this.useGroupCache && this.parent.groupSettings.columns.length) {\n                this.setRowsInLazyGroup(modelData[i], i);\n                if (isNullOrUndefined(modelData[i].indent)) {\n                    continue;\n                }\n            }\n            this.setInfiniteVisibleRows(args, modelData[i], tableName);\n            if (isGroupAdaptive(gObj) && args.virtualInfo && args.virtualInfo.blockIndexes\n                && (this.rowElements.length >= (args.virtualInfo.blockIndexes.length * this.parent.contentModule.getBlockSize()))\n                && blockLoad) {\n                this.parent.currentViewData['records'] = this.rows.map(function (m) { return m.data; });\n                break;\n            }\n            if (!gObj.rowTemplate) {\n                tr = row.render(modelData[i], columns);\n                var isVFreorder = this.ensureFrozenHeaderRender(args);\n                if (gObj.frozenRows && i < gObj.frozenRows && !isInfiniteScroll && args.requestType !== 'virtualscroll' && isVFreorder\n                    && this.ensureVirtualFrozenHeaderRender(args)) {\n                    hdrfrag.appendChild(tr);\n                }\n                else {\n                    frag.appendChild(tr);\n                }\n                if (modelData[i].isExpand) {\n                    gObj.notify(events.expandChildGrid, tr.cells[gObj.groupSettings.columns.length]);\n                }\n            }\n            else {\n                var rowTemplateID = gObj.element.id + 'rowTemplate';\n                var elements = void 0;\n                if (gObj.isReact) {\n                    var isHeader = gObj.frozenRows && i < gObj.frozenRows;\n                    var copied = extend({ index: i }, dataSource[i]);\n                    gObj.getRowTemplate()(copied, gObj, 'rowTemplate', rowTemplateID, null, null, isHeader ? hdrfrag : frag);\n                    gObj.renderTemplates();\n                }\n                else {\n                    elements = gObj.getRowTemplate()(extend({ index: i }, dataSource[i]), gObj, 'rowTemplate', rowTemplateID, undefined, undefined, undefined, this.parent['root']);\n                }\n                if (!gObj.isReact && elements[0].tagName === 'TBODY') {\n                    for (var j = 0; j < elements.length; j++) {\n                        var isTR = elements[j].nodeName.toLowerCase() === 'tr';\n                        if (isTR || (elements[j].querySelectorAll && elements[j].querySelectorAll('tr').length)) {\n                            tr = isTR ? elements[j] : elements[j].querySelector('tr');\n                        }\n                    }\n                    if (gObj.frozenRows && i < gObj.frozenRows) {\n                        hdrfrag.appendChild(tr);\n                    }\n                    else {\n                        frag.appendChild(tr);\n                    }\n                }\n                else {\n                    if (gObj.frozenRows && i < gObj.frozenRows) {\n                        tr = !gObj.isReact ? appendChildren(hdrfrag, elements) : hdrfrag.lastElementChild;\n                    }\n                    else {\n                        // frag.appendChild(tr);\n                        if (!gObj.isReact) {\n                            tr = appendChildren(frag, elements);\n                        }\n                        trElement = gObj.isReact ? frag.lastElementChild : tr.lastElementChild;\n                    }\n                }\n                var arg = { data: modelData[i].data, row: trElement ? trElement : tr };\n                this.parent.trigger(events.rowDataBound, arg);\n            }\n            if (modelData[i].isDataRow) {\n                this.rowElements.push(tr);\n            }\n            this.ariaService.setOptions(this.getTable(), { colcount: gObj.getColumns().length.toString() });\n        }\n        if (isFrozenGrid) {\n            contentModule.splitRows(tableName);\n        }\n        if ((gObj.frozenRows && args.requestType !== 'virtualscroll' && !isInfiniteScroll && this.ensureVirtualFrozenHeaderRender(args))\n            || (args.requestType === 'virtualscroll' && args.virtualInfo.sentinelInfo && args.virtualInfo.sentinelInfo.axis === 'X')) {\n            hdrTbody = isFrozenGrid ? contentModule.getFrozenHeader(tableName) : gObj.getHeaderTable().querySelector(literals.tbody);\n            if (isReact) {\n                var parentTable = hdrTbody.parentElement;\n                remove(hdrTbody);\n                parentTable.appendChild(hdrfrag);\n            }\n            else {\n                hdrTbody.innerHTML = '';\n                hdrTbody.appendChild(hdrfrag);\n            }\n        }\n        if (!gObj.enableVirtualization && gObj.frozenRows && idx === 0 && cont.offsetHeight === Number(gObj.height)) {\n            cont.style.height = (cont.offsetHeight - hdrTbody.offsetHeight) + 'px';\n        }\n        args.rows = this.rows.slice(0);\n        if (isFrozenGrid) {\n            contentModule.setIsFrozen(args, tableName);\n        }\n        this.index = idx;\n        getUpdateUsingRaf(function () {\n            _this.parent.notify(events.beforeFragAppend, args);\n            var isVFTable = _this.parent.enableVirtualization && _this.parent.isFrozenGrid();\n            if (!_this.parent.enableVirtualization && !isInfiniteScroll) {\n                if (_this.parent.isFrozenGrid()) {\n                    remove(contentModule.getTbody(tableName));\n                    tbdy = _this.parent.createElement(literals.tbody, { attrs: { role: 'rowgroup' } });\n                }\n                else {\n                    _this.tbody.innerHTML = '';\n                    remove(_this.tbody);\n                    _this.tbody = _this.parent.createElement(literals.tbody, { attrs: { role: 'rowgroup' } });\n                }\n            }\n            if (isFrozenGrid && !isVFTable && !_this.parent.enableInfiniteScrolling) {\n                _this.appendContent(tbdy, frag, args, tableName);\n            }\n            else {\n                if (gObj.rowTemplate) {\n                    updateBlazorTemplate(gObj.element.id + 'rowTemplate', 'RowTemplate', gObj);\n                }\n                if (isVFTable) {\n                    if (args.renderFrozenRightContent) {\n                        var frCont = gObj.getContent().querySelector('.e-frozen-right-content').querySelector(literals.tbody);\n                        _this.appendContent(frCont, frag, args);\n                    }\n                    else if (!args.renderMovableContent) {\n                        _this.appendContent(fCont.querySelector(literals.tbody), frag, args);\n                    }\n                    else {\n                        _this.appendContent(mCont.querySelector(literals.tbody), frag, args);\n                        args.renderMovableContent = false;\n                    }\n                    if (!_this.parent.getFrozenColumns()) {\n                        contentModule.renderNextFrozentPart(args, tableName);\n                    }\n                }\n                else {\n                    if (!isNullOrUndefined(_this.parent.infiniteScrollModule) && _this.parent.enableInfiniteScrolling) {\n                        _this.isAddRows = false;\n                        _this.parent.notify(events.removeInfiniteRows, { args: args });\n                        _this.parent.notify(events.appendInfiniteContent, {\n                            tbody: tbdy ? tbdy : _this.tbody, frag: frag, args: args, rows: _this.rows,\n                            rowElements: _this.rowElements, visibleRows: _this.visibleRows,\n                            tableName: tableName\n                        });\n                        if (!frzCols && isFrozenGrid) {\n                            if ((gObj.getFrozenMode() !== literals.leftRight\n                                && (tableName === literals.frozenLeft || tableName === literals.frozenRight))\n                                || (gObj.getFrozenMode() === literals.leftRight\n                                    && (tableName === literals.frozenLeft || tableName === 'movable'))) {\n                                _this.refreshContentRows(extend({}, args));\n                            }\n                        }\n                    }\n                    else {\n                        _this.useGroupCache = false;\n                        _this.appendContent(_this.tbody, frag, args);\n                    }\n                }\n            }\n            if (frzCols) {\n                contentModule.renderNextFrozentPart(args, tableName);\n            }\n            frag = null;\n        }, this.rafCallback(extend({}, args)));\n    };\n    ContentRender.prototype.emptyVcRows = function () {\n        this.parent.vcRows = [];\n        this.parent.vRows = [];\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ContentRender.prototype.appendContent = function (tbody, frag, args, tableName) {\n        var isReact = this.parent.isReact && !isNullOrUndefined(this.parent.rowTemplate);\n        if (isReact) {\n            this.getTable().appendChild(frag);\n        }\n        else {\n            tbody.appendChild(frag);\n            this.getTable().appendChild(tbody);\n        }\n    };\n    ContentRender.prototype.setRowsInLazyGroup = function (row, index) {\n        if (this.parent.groupSettings.enableLazyLoading && !this.useGroupCache && this.parent.groupSettings.columns.length) {\n            this.parent.contentModule.maintainRows(row, index);\n        }\n    };\n    ContentRender.prototype.setGroupCache = function (data, args) {\n        if (!this.useGroupCache && this.parent.groupSettings.enableLazyLoading) {\n            this.parent.notify(events.setGroupCache, { args: args, data: data });\n        }\n    };\n    ContentRender.prototype.ensureFrozenHeaderRender = function (args) {\n        return !((this.parent.enableVirtualization\n            && (args.requestType === 'reorder' || args.requestType === 'refresh')) || (this.parent.infiniteScrollSettings.enableCache\n            && this.parent.frozenRows && this.parent.infiniteScrollModule.requestType === 'delete'\n            && this.parent.pageSettings.currentPage !== 1));\n    };\n    ContentRender.prototype.ensureVirtualFrozenHeaderRender = function (args) {\n        return !(this.parent.enableVirtualization && args.requestType === 'delete');\n    };\n    ContentRender.prototype.checkCache = function (modelData, args) {\n        if (this.parent.infiniteScrollSettings.enableCache && args.requestType === 'infiniteScroll') {\n            var index = args.isFrozen ? 1 : 0;\n            var frozenCols = this.parent.isFrozenGrid();\n            this.isAddRows = !isNullOrUndefined(this.infiniteCache[this.parent.pageSettings.currentPage]);\n            if (frozenCols && !isNullOrUndefined(this.infiniteCache[this.parent.pageSettings.currentPage])) {\n                this.isAddRows = this.infiniteCache[this.parent.pageSettings.currentPage][index].length !== 0;\n            }\n            if (this.isAddRows) {\n                var data = !frozenCols ? this.infiniteCache[this.parent.pageSettings.currentPage]\n                    : this.infiniteCache[this.parent.pageSettings.currentPage][index];\n                modelData = this.parent.pageSettings.currentPage === 1 ? data.slice(this.parent.frozenRows) : data;\n            }\n            return modelData;\n        }\n        if (this.parent.groupSettings.enableLazyLoading && this.parent.groupSettings.columns.length &&\n            (args.requestType === 'paging' || args.requestType === 'columnstate' || args.requestType === 'reorder')\n            && this.parent.contentModule.getGroupCache()[this.parent.pageSettings.currentPage]) {\n            this.useGroupCache = true;\n            return this.parent.contentModule.initialGroupRows(args.requestType === 'reorder');\n        }\n        return null;\n    };\n    ContentRender.prototype.setInfiniteVisibleRows = function (args, data, tableName) {\n        var frozenCols = this.parent.isFrozenGrid();\n        if (this.parent.enableInfiniteScrolling && !this.parent.infiniteScrollSettings.enableCache) {\n            if (frozenCols) {\n                if (tableName === literals.frozenLeft || (this.parent.getFrozenMode() === 'Right' && tableName === literals.frozenRight)) {\n                    this.visibleFrozenRows.push(data);\n                }\n                else if (tableName === 'movable') {\n                    this.visibleRows.push(data);\n                }\n                else {\n                    this.rightFreezeRows.push(data);\n                }\n            }\n            else if (!this.parent.infiniteScrollSettings.enableCache) {\n                this.visibleRows.push(data);\n            }\n        }\n    };\n    ContentRender.prototype.getCurrentBlockInfiniteRecords = function (isFreeze) {\n        var data = [];\n        if (this.parent.infiniteScrollSettings.enableCache) {\n            if (!Object.keys(this.infiniteCache).length) {\n                return [];\n            }\n            var frozenCols = this.parent.isFrozenGrid();\n            var rows = this.parent.getRows();\n            var index = parseInt(rows[this.parent.frozenRows].getAttribute(literals.ariaRowIndex), 10);\n            var first = Math.ceil((index + 1) / this.parent.pageSettings.pageSize);\n            index = parseInt(rows[rows.length - 1].getAttribute(literals.ariaRowIndex), 10);\n            var last = Math.ceil(index / this.parent.pageSettings.pageSize);\n            if (frozenCols) {\n                var idx = isFreeze ? 0 : 1;\n                for (var i = first; i <= last; i++) {\n                    data = !data.length ? this.infiniteCache[i][idx]\n                        : data.concat(this.infiniteCache[i][idx]);\n                }\n                if (this.parent.frozenRows && this.parent.pageSettings.currentPage > 1) {\n                    data = this.infiniteCache[1][idx].slice(0, this.parent.frozenRows).concat(data);\n                }\n            }\n            else {\n                for (var i = first; i <= last; i++) {\n                    data = !data.length ? this.infiniteCache[i] : data.concat(this.infiniteCache[i]);\n                }\n                if (this.parent.frozenRows && this.parent.pageSettings.currentPage > 1) {\n                    data = this.infiniteCache[1].slice(0, this.parent.frozenRows).concat(data);\n                }\n            }\n        }\n        return data;\n    };\n    ContentRender.prototype.getReorderedVFRows = function (args) {\n        return this.parent.contentModule.getReorderedFrozenRows(args);\n    };\n    ContentRender.prototype.getReorderedRows = function (args) {\n        return this.parent.contentModule.getReorderedFrozenRows(args);\n    };\n    ContentRender.prototype.virtualFrozenHdrRefresh = function (hdrfrag, modelData, row, args, dataSource, columns) {\n        if (this.parent.frozenRows && this.parent.enableVirtualization\n            && (args.requestType === 'reorder' || args.requestType === 'refresh')) {\n            var tr = void 0;\n            var fhdrData = [];\n            if (this.parent.isFrozenGrid()) {\n                this.currentMovableRows = dataSource;\n                fhdrData = this.getReorderedVFRows(args);\n            }\n            else {\n                fhdrData = this.getReorderedRows(args);\n            }\n            for (var i = 0; i < fhdrData.length; i++) {\n                tr = row.render(fhdrData[i], columns);\n                hdrfrag.appendChild(tr);\n            }\n            if (args.virtualInfo.page === 1) {\n                modelData.splice(0, this.parent.frozenRows);\n            }\n            if (args.renderMovableContent) {\n                this.parent.currentViewData = this.currentMovableRows;\n                this.currentMovableRows = null;\n            }\n        }\n    };\n    ContentRender.prototype.getInfiniteRows = function () {\n        var rows = [];\n        var frozenCols = this.parent.isFrozenGrid();\n        if (this.parent.enableInfiniteScrolling) {\n            if (this.parent.infiniteScrollSettings.enableCache) {\n                var keys = Object.keys(this.infiniteCache);\n                for (var i = 0; i < keys.length; i++) {\n                    rows = !frozenCols ? rows.concat(this.infiniteCache[keys[i]]) : rows.concat(this.infiniteCache[keys[i]][0]);\n                }\n            }\n            else {\n                rows = frozenCols ? this.visibleFrozenRows : this.visibleRows;\n            }\n        }\n        return rows;\n    };\n    ContentRender.prototype.getInfiniteMovableRows = function () {\n        var infiniteCacheRows = this.getCurrentBlockInfiniteRecords();\n        var infiniteRows = this.parent.enableInfiniteScrolling ? infiniteCacheRows.length ? infiniteCacheRows\n            : this.visibleRows : [];\n        return infiniteRows;\n    };\n    /**\n     * Get the content div element of grid\n     *\n     * @returns {Element} returns the element\n     */\n    ContentRender.prototype.getPanel = function () {\n        return this.contentPanel;\n    };\n    /**\n     * Set the content div element of grid\n     *\n     * @param  {Element} panel - specifies the panel\n     * @returns {void}\n     */\n    ContentRender.prototype.setPanel = function (panel) {\n        this.contentPanel = panel;\n    };\n    /**\n     * Get the content table element of grid\n     *\n     * @returns {Element} returns the element\n     */\n    ContentRender.prototype.getTable = function () {\n        return this.contentTable;\n    };\n    /**\n     * Set the content table element of grid\n     *\n     * @param  {Element} table - specifies the table\n     * @returns {void}\n     */\n    ContentRender.prototype.setTable = function (table) {\n        this.contentTable = table;\n    };\n    /**\n     * Get the Movable Row collection in the Freeze pane Grid.\n     *\n     * @returns {Row[] | HTMLCollectionOf<HTMLTableRowElement>} returns the row\n     */\n    ContentRender.prototype.getRows = function () {\n        var infiniteRows = this.getInfiniteRows();\n        return infiniteRows.length ? infiniteRows : this.parent.getFrozenColumns() ? this.freezeRows : this.rows;\n    };\n    /**\n     * Get the Movable Row collection in the Freeze pane Grid.\n     *\n     * @returns {Row[] | HTMLCollectionOf<HTMLTableRowElement>} returns the row\n     */\n    ContentRender.prototype.getMovableRows = function () {\n        var infiniteRows = this.getInfiniteMovableRows();\n        return infiniteRows.length ? infiniteRows : this.movableRows;\n    };\n    /**\n     * Get the content table data row elements\n     *\n     * @returns {Element} returns the element\n     */\n    ContentRender.prototype.getRowElements = function () {\n        return this.parent.getFrozenColumns() ? this.freezeRowElements : this.rowElements;\n    };\n    /**\n     * Get the Freeze pane movable content table data row elements\n     *\n     * @returns {Element} returns the element\n     */\n    ContentRender.prototype.getMovableRowElements = function () {\n        return this.rowElements;\n    };\n    /**\n     * Get the content table data row elements\n     *\n     * @param {Element[]} elements - specifies the elements\n     * @returns {void}\n     */\n    ContentRender.prototype.setRowElements = function (elements) {\n        this.rowElements = elements;\n    };\n    /**\n     * Get the header colgroup element\n     *\n     * @returns {Element} returns the element\n     */\n    ContentRender.prototype.getColGroup = function () {\n        return this.colgroup;\n    };\n    /**\n     * Set the header colgroup element\n     *\n     * @param {Element} colGroup - specifies the colgroup\n     * @returns {Element} returns the element\n     */\n    ContentRender.prototype.setColGroup = function (colGroup) {\n        if (!isNullOrUndefined(colGroup)) {\n            colGroup.id = 'content-' + colGroup.id;\n        }\n        return this.colgroup = colGroup;\n    };\n    /**\n     * Function to hide content table column based on visible property\n     *\n     * @param {Column[]} columns - specifies the column\n     * @returns {void}\n     */\n    ContentRender.prototype.setVisible = function (columns) {\n        var gObj = this.parent;\n        var isFrozenGrid = this.parent.isFrozenGrid();\n        var frzCols = gObj.getFrozenColumns();\n        var rows = [];\n        if (isFrozenGrid) {\n            var fRows = this.freezeRows;\n            var mRows = this.movableRows;\n            var rowLen = fRows.length;\n            var cellLen = void 0;\n            var rightRows = [];\n            if (gObj.getFrozenMode() === literals.leftRight) {\n                rightRows = gObj.getFrozenRightRowsObject();\n            }\n            for (var i = 0, row = void 0; i < rowLen; i++) {\n                cellLen = mRows[i].cells.length;\n                var rightLen = rightRows.length ? rightRows[i].cells.length : 0;\n                row = fRows[i].clone();\n                for (var j = 0; j < cellLen; j++) {\n                    row.cells.push(mRows[i].cells[j]);\n                }\n                for (var k = 0; k < rightLen; k++) {\n                    row.cells.push(rightRows[i].cells[k]);\n                }\n                rows.push(row);\n            }\n        }\n        else {\n            rows = this.getRows();\n        }\n        var testRow;\n        rows.some(function (r) { if (r.isDataRow) {\n            testRow = r;\n        } return r.isDataRow; });\n        var needFullRefresh = true;\n        if (!gObj.groupSettings.columns.length && testRow) {\n            needFullRefresh = false;\n        }\n        var tr = gObj.getDataRows();\n        var args = {};\n        var infiniteData = this.infiniteRowVisibility();\n        var contentrows = infiniteData ? infiniteData\n            : this.rows.filter(function (row) { return !row.isDetailRow; });\n        for (var c = 0, clen = columns.length; c < clen; c++) {\n            var column = columns[c];\n            var idx = this.parent.getNormalizedColumnIndex(column.uid);\n            var colIdx = this.parent.getColumnIndexByUid(column.uid);\n            var displayVal = column.visible === true ? '' : 'none';\n            if (idx !== -1 && testRow && idx < testRow.cells.length) {\n                if (isFrozenGrid) {\n                    if (column.getFreezeTableName() !== 'movable') {\n                        if (column.getFreezeTableName() === literals.frozenRight) {\n                            var left = this.parent.getFrozenLeftColumnsCount();\n                            var movable = this.parent.getMovableColumnsCount();\n                            colIdx = idx = idx - (left + movable);\n                            var colG = this.parent.getContent().querySelector('.e-frozen-right-content').querySelector(literals.colGroup);\n                            setStyleAttribute(colG.childNodes[idx], { 'display': displayVal });\n                            contentrows = gObj.getFrozenRightRowsObject();\n                            tr = gObj.getFrozenRightDataRows();\n                        }\n                        else {\n                            setStyleAttribute(this.getColGroup().childNodes[idx], { 'display': displayVal });\n                            var infiniteFreezeData = this.infiniteRowVisibility(true);\n                            contentrows = infiniteFreezeData ? infiniteFreezeData : this.freezeRows;\n                            tr = gObj.getDataRows();\n                        }\n                    }\n                    else {\n                        var mTable = gObj.getContent().querySelector('.' + literals.movableContent).querySelector(literals.colGroup);\n                        colIdx = idx = idx - frzCols - this.parent.getFrozenLeftColumnsCount();\n                        setStyleAttribute(mTable.childNodes[idx], { 'display': displayVal });\n                        tr = gObj.getMovableDataRows();\n                        var infiniteMovableData = this.infiniteRowVisibility();\n                        contentrows = infiniteMovableData ? infiniteMovableData : this.movableRows;\n                    }\n                }\n                else {\n                    setStyleAttribute(this.getColGroup().childNodes[idx], { 'display': displayVal });\n                }\n            }\n            if (!needFullRefresh) {\n                this.setDisplayNone(tr, colIdx, displayVal, contentrows);\n                if (contentrows[0].cells[colIdx].isTemplate) {\n                    needFullRefresh = true;\n                }\n            }\n            if (!this.parent.invokedFromMedia && column.hideAtMedia) {\n                this.parent.updateMediaColumns(column);\n            }\n            this.parent.invokedFromMedia = false;\n        }\n        if (needFullRefresh) {\n            this.refreshContentRows({ requestType: 'refresh' });\n        }\n        else {\n            if (!this.parent.getFrozenColumns()) {\n                this.parent.notify(events.partialRefresh, { rows: contentrows, args: args });\n            }\n            else {\n                this.parent.notify(events.partialRefresh, { rows: this.freezeRows, args: { isFrozen: true, rows: this.freezeRows } });\n                this.parent.notify(events.partialRefresh, { rows: this.movableRows, args: { isFrozen: false, rows: this.movableRows } });\n            }\n        }\n    };\n    /**\n     * @param {Object} tr - specifies the trr\n     * @param {number} idx - specifies the idx\n     * @param {string} displayVal - specifies the displayval\n     * @param {Row<Column>} rows - specifies the rows\n     * @returns {void}\n     * @hidden\n     */\n    ContentRender.prototype.setDisplayNone = function (tr, idx, displayVal, rows) {\n        setDisplayValue(tr, idx, displayVal, rows, this.parent, this.parent.isRowDragable());\n        this.parent.notify(events.infiniteShowHide, { visible: displayVal, index: idx, isFreeze: this.isInfiniteFreeze });\n    };\n    ContentRender.prototype.infiniteRowVisibility = function (isFreeze) {\n        var infiniteData;\n        if (this.parent.enableInfiniteScrolling) {\n            this.isInfiniteFreeze = isFreeze;\n            if (this.parent.infiniteScrollSettings.enableCache) {\n                infiniteData = isFreeze ? this.getCurrentBlockInfiniteRecords(true) : this.getCurrentBlockInfiniteRecords();\n            }\n            else {\n                infiniteData = isFreeze ? this.visibleFrozenRows : this.visibleRows;\n            }\n        }\n        return infiniteData;\n    };\n    ContentRender.prototype.colGroupRefresh = function () {\n        if (this.getColGroup()) {\n            var colGroup = void 0;\n            if (this.parent.enableColumnVirtualization && this.parent.getFrozenColumns()\n                && this.parent.contentModule.isXaxis()) {\n                colGroup = this.parent.getMovableVirtualHeader().querySelector(literals.colGroup).cloneNode(true);\n            }\n            else {\n                colGroup = this.getHeaderColGroup();\n            }\n            this.getTable().replaceChild(colGroup, this.getColGroup());\n            this.setColGroup(colGroup);\n        }\n    };\n    ContentRender.prototype.getHeaderColGroup = function () {\n        return this.parent.element.querySelector('.' + literals.gridHeader).querySelector(literals.colGroup).cloneNode(true);\n    };\n    ContentRender.prototype.initializeContentDrop = function () {\n        var gObj = this.parent;\n        this.droppable = new Droppable(gObj.element, {\n            accept: '.e-dragclone',\n            drop: this.drop\n        });\n    };\n    ContentRender.prototype.droppableDestroy = function () {\n        if (this.droppable && !this.droppable.isDestroyed) {\n            this.droppable.destroy();\n        }\n    };\n    ContentRender.prototype.canSkip = function (column, row, index) {\n        /**\n         * Skip the toggle visiblity operation when one of the following success\n         * 1. Grid has empty records\n         * 2. column visible property is unchanged\n         * 3. cell`s isVisible property is same as column`s visible property.\n         */\n        return isNullOrUndefined(row) || //(1)\n            isNullOrUndefined(column.visible) || //(2)\n            row.cells[index].visible === column.visible; //(3)\n    };\n    ContentRender.prototype.getModelGenerator = function () {\n        return this.generator = this.parent.allowGrouping ? new GroupModelGenerator(this.parent) : new RowModelGenerator(this.parent);\n    };\n    ContentRender.prototype.renderEmpty = function (tbody) {\n        this.getTable().appendChild(tbody);\n        if (this.parent.frozenRows) {\n            this.parent.getHeaderContent().querySelector(literals.tbody).innerHTML = '';\n        }\n    };\n    ContentRender.prototype.setSelection = function (uid, set, clearAll) {\n        this.parent.notify(events.setFreezeSelection, { uid: uid, set: set, clearAll: clearAll });\n        var isFrozen = this.parent.isFrozenGrid();\n        if (isFrozen && this.parent.enableVirtualization) {\n            return;\n        }\n        if (isFrozen) {\n            var rows = this.getMovableRows().filter(function (row) { return clearAll || uid === row.uid; });\n            for (var i = 0; i < rows.length; i++) {\n                rows[i].isSelected = set;\n            }\n        }\n        var row = this.getRows().filter(function (row) { return clearAll || uid === row.uid; });\n        for (var j = 0; j < row.length; j++) {\n            row[j].isSelected = set;\n            var cells = row[j].cells;\n            for (var k = 0; k < cells.length; k++) {\n                cells[k].isSelected = set;\n            }\n        }\n    };\n    ContentRender.prototype.getRowByIndex = function (index) {\n        index = this.getInfiniteRowIndex(index);\n        return this.parent.getDataRows()[index];\n    };\n    ContentRender.prototype.getInfiniteRowIndex = function (index) {\n        if (this.parent.infiniteScrollSettings.enableCache) {\n            var fRows = this.parent.frozenRows;\n            var idx = fRows > index ? 0 : fRows;\n            var firstRowIndex = parseInt(this.parent.getRows()[idx].getAttribute(literals.ariaRowIndex), 10);\n            index = fRows > index ? index : (index - firstRowIndex) + fRows;\n        }\n        return index;\n    };\n    ContentRender.prototype.getVirtualRowIndex = function (index) {\n        return index;\n    };\n    ContentRender.prototype.getMovableRowByIndex = function (index) {\n        index = this.getInfiniteRowIndex(index);\n        return this.parent.getMovableDataRows()[index];\n    };\n    ContentRender.prototype.enableAfterRender = function (e) {\n        if (e.module === 'group' && e.enable) {\n            this.generator = this.getModelGenerator();\n        }\n    };\n    ContentRender.prototype.setRowObjects = function (rows) {\n        this.rows = rows;\n    };\n    /**\n     * @param {NotifyArgs} args - specifies the args\n     * @returns {void}\n     * @hidden\n     */\n    ContentRender.prototype.immutableModeRendering = function (args) {\n        var _this = this;\n        if (args === void 0) { args = {}; }\n        var gObj = this.parent;\n        gObj.hideSpinner();\n        var key = gObj.getPrimaryKeyFieldNames()[0];\n        var oldKeys = {};\n        var newKeys = {};\n        var newRowObjs = [];\n        var oldIndexes = {};\n        var oldRowObjs = gObj.getRowsObject().slice();\n        var batchChangeKeys = this.getBatchEditedRecords(key, oldRowObjs);\n        var newIndexes = {};\n        var hasBatch = Object.keys(batchChangeKeys).length !== 0;\n        if (gObj.getContent().querySelector('.e-emptyrow') || args.requestType === 'reorder'\n            || this.parent.groupSettings.columns.length) {\n            this.refreshContentRows(args);\n        }\n        else {\n            if (gObj.currentViewData.length === 0) {\n                return;\n            }\n            var oldRowElements = {};\n            var tbody = gObj.createElement(literals.tbody, { attrs: { role: 'rowgroup' } });\n            var dataSource = gObj.currentViewData;\n            var trs = [].slice.call(this.getTable().querySelector(literals.tbody).children);\n            if (this.prevCurrentView.length) {\n                var prevLen = this.prevCurrentView.length;\n                var currentLen = dataSource.length;\n                if (prevLen === currentLen) {\n                    for (var i = 0; i < currentLen; i++) {\n                        if (this.parent.editSettings.mode === 'Batch'\n                            && trs[i].classList.contains('e-insertedrow')) {\n                            trs.splice(i, 1);\n                            --i;\n                            continue;\n                        }\n                        newKeys[dataSource[i][key]] = oldKeys[this.prevCurrentView[i][key]] = i;\n                        newIndexes[i] = dataSource[i][key];\n                        oldRowElements[oldRowObjs[i].uid] = trs[i];\n                        oldIndexes[i] = this.prevCurrentView[i][key];\n                    }\n                }\n                else {\n                    for (var i = 0; i < currentLen; i++) {\n                        newKeys[dataSource[i][key]] = i;\n                        newIndexes[i] = dataSource[i][key];\n                    }\n                    for (var i = 0; i < prevLen; i++) {\n                        if (this.parent.editSettings.mode === 'Batch'\n                            && trs[i].classList.contains('e-insertedrow')) {\n                            trs.splice(i, 1);\n                            --i;\n                            continue;\n                        }\n                        oldRowElements[oldRowObjs[i].uid] = trs[i];\n                        oldKeys[this.prevCurrentView[i][key]] = i;\n                        oldIndexes[i] = this.prevCurrentView[i][key];\n                    }\n                }\n            }\n            for (var i = 0; i < dataSource.length; i++) {\n                var oldIndex = oldKeys[dataSource[i][key]];\n                if (!isNullOrUndefined(oldIndex)) {\n                    var isEqual = false;\n                    if (this.parent.enableDeepCompare) {\n                        isEqual = this.objectEqualityChecker(this.prevCurrentView[oldIndex], dataSource[i]);\n                    }\n                    var tr = oldRowElements[oldRowObjs[oldIndex].uid];\n                    newRowObjs.push(oldRowObjs[oldIndex]);\n                    if (this.rowElements[oldIndex] && this.rowElements[oldIndex].getAttribute('data-uid') === newRowObjs[i].uid\n                        && ((hasBatch && isNullOrUndefined(batchChangeKeys[newIndexes[i]]))\n                            || (!hasBatch && (isEqual || this.prevCurrentView[oldIndex] === dataSource[i])))) {\n                        if (oldIndex !== i) {\n                            this.refreshImmutableContent(i, tr, newRowObjs[i]);\n                        }\n                        tbody.appendChild(tr);\n                        continue;\n                    }\n                    if ((hasBatch && !isNullOrUndefined(batchChangeKeys[newIndexes[i]]))\n                        || (!this.parent.enableDeepCompare && dataSource[i] !== this.prevCurrentView[oldIndex])\n                        || (this.parent.enableDeepCompare && !isEqual)) {\n                        oldRowObjs[oldIndex].setRowValue(dataSource[i]);\n                    }\n                    tbody.appendChild(tr);\n                    this.refreshImmutableContent(i, tr, newRowObjs[i]);\n                }\n                else {\n                    var row = new RowRenderer(this.serviceLocator, null, gObj);\n                    var modelData = this.generator.generateRows([dataSource[i]]);\n                    newRowObjs.push(modelData[0]);\n                    var tr = row.render(modelData[0], gObj.getColumns());\n                    tbody.appendChild(tr);\n                    this.refreshImmutableContent(i, tr, newRowObjs[i]);\n                }\n            }\n            this.rows = newRowObjs;\n            this.rowElements = [].slice.call(tbody.children);\n            remove(this.getTable().querySelector(literals.tbody));\n            this.getTable().appendChild(tbody);\n            this.parent.trigger(events.dataBound, {}, function () {\n                if (_this.parent.allowTextWrap) {\n                    _this.parent.notify(events.freezeRender, { case: 'textwrap' });\n                }\n            });\n            if (args) {\n                var action = (args.requestType || '').toLowerCase() + '-complete';\n                this.parent.notify(action, args);\n            }\n        }\n    };\n    ContentRender.prototype.objectEqualityChecker = function (old, next) {\n        var keys = Object.keys(old);\n        var isEqual = true;\n        for (var i = 0; i < keys.length; i++) {\n            if (old[keys[i]] !== next[keys[i]]) {\n                var isDate = old[keys[i]] instanceof Date && next[keys[i]] instanceof Date;\n                if (!isDate || (old[keys[i]].getTime() !== next[keys[i]].getTime())) {\n                    isEqual = false;\n                    break;\n                }\n            }\n        }\n        return isEqual;\n    };\n    ContentRender.prototype.getBatchEditedRecords = function (primaryKey, rows) {\n        var keys = {};\n        var changes = this.parent.getBatchChanges();\n        var changedRecords = [];\n        var addedRecords = [];\n        if (Object.keys(changes).length) {\n            changedRecords = changes.changedRecords;\n            addedRecords = changes.addedRecords;\n        }\n        var args = { cancel: false };\n        this.parent.notify(events.immutableBatchCancel, { rows: rows, args: args });\n        if (addedRecords.length) {\n            if (this.parent.editSettings.newRowPosition === 'Bottom') {\n                rows.splice(rows.length - 1, addedRecords.length);\n            }\n            else {\n                if (!args.cancel) {\n                    rows.splice(0, addedRecords.length);\n                }\n            }\n        }\n        for (var i = 0; i < changedRecords.length; i++) {\n            keys[changedRecords[i][primaryKey]] = i;\n        }\n        return keys;\n    };\n    ContentRender.prototype.refreshImmutableContent = function (index, tr, row) {\n        row.isAltRow = this.parent.enableAltRow ? index % 2 !== 0 : false;\n        if (row.isAltRow) {\n            tr.classList.add('e-altrow');\n        }\n        else {\n            tr.classList.remove('e-altrow');\n        }\n        row.index = index;\n        row.edit = undefined;\n        row.isDirty = false;\n        tr.setAttribute(literals.ariaRowIndex, index.toString());\n        this.updateCellIndex(tr, index);\n    };\n    ContentRender.prototype.updateCellIndex = function (rowEle, index) {\n        for (var i = 0; i < rowEle.cells.length; i++) {\n            rowEle.cells[i].setAttribute('index', index.toString());\n        }\n    };\n    return ContentRender;\n}());\nexport { ContentRender };\n","import { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, closest as getClosest, remove } from '@syncfusion/ej2-base';\nimport { classList } from '@syncfusion/ej2-base';\nimport { CellType } from '../base/enum';\nimport { RowRenderer } from './row-renderer';\nimport { Cell } from '../models/cell';\nimport { Row } from '../models/row';\nimport * as events from '../base/constant';\nimport { Draggable, Droppable } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { parentsUntil, wrap, measureColumnDepth, appendChildren } from '../base/util';\nimport * as literals from '../base/string-literals';\n// eslint-disable-next-line valid-jsdoc\n/**\n * Content module is used to render grid content\n *\n * @hidden\n */\nvar HeaderRender = /** @class */ (function () {\n    /**\n     * Constructor for header renderer module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {ServiceLocator} serviceLocator - specifies the serviceLocator\n     */\n    function HeaderRender(parent, serviceLocator) {\n        var _this = this;\n        this.frzIdx = 0;\n        this.notfrzIdx = 0;\n        this.isFirstCol = false;\n        this.isReplaceDragEle = true;\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        this.helper = function (e) {\n            var gObj = _this.parent;\n            var target = _this.draggable.currentStateTarget;\n            var parentEle = parentsUntil(target, 'e-headercell');\n            if (!(gObj.allowReordering || gObj.allowGrouping) || (!isNullOrUndefined(parentEle)\n                && parentEle.getElementsByClassName('e-checkselectall').length > 0)) {\n                return false;\n            }\n            var visualElement = _this.parent.createElement('div', { className: 'e-cloneproperties e-dragclone e-headerclone' });\n            var element = target.classList.contains('e-headercell') ? target : parentEle;\n            if (!element || (!gObj.allowReordering && element.classList.contains('e-stackedheadercell'))) {\n                return false;\n            }\n            var height = element.offsetHeight;\n            var headercelldiv = element.querySelector('.e-headercelldiv') || element.querySelector('.e-stackedheadercelldiv');\n            var col;\n            if (headercelldiv) {\n                if (element.querySelector('.e-stackedheadercelldiv')) {\n                    col = gObj.getStackedHeaderColumnByHeaderText(headercelldiv.innerText.trim(), gObj.columns);\n                }\n                else {\n                    col = gObj.getColumnByUid(headercelldiv.getAttribute('e-mappinguid'));\n                }\n                _this.column = col;\n                if (_this.column.lockColumn) {\n                    return false;\n                }\n                visualElement.setAttribute('e-mappinguid', _this.column.uid);\n            }\n            if (col && !isNullOrUndefined(col.headerTemplate)) {\n                if (!isNullOrUndefined(col.headerTemplate)) {\n                    var colIndex = gObj.getColumnIndexByField(col.field);\n                    var result = col.getHeaderTemplate()(extend({ 'index': colIndex }, col), gObj, 'headerTemplate');\n                    appendChildren(visualElement, result);\n                }\n                else {\n                    visualElement.innerHTML = col.headerTemplate;\n                }\n            }\n            else {\n                visualElement.innerHTML = headercelldiv ?\n                    col.headerText : element.firstElementChild.innerHTML;\n            }\n            visualElement.style.width = element.offsetWidth + 'px';\n            visualElement.style.height = element.offsetHeight + 'px';\n            visualElement.style.lineHeight = (height - 6).toString() + 'px';\n            gObj.element.appendChild(visualElement);\n            return visualElement;\n        };\n        this.dragStart = function (e) {\n            var gObj = _this.parent;\n            gObj.element.querySelector('.e-gridpopup').style.display = 'none';\n            gObj.notify(events.columnDragStart, { target: _this.draggable.currentStateTarget, column: _this.column, event: e.event });\n        };\n        this.drag = function (e) {\n            var gObj = _this.parent;\n            var target = e.target;\n            if (target) {\n                var closest = getClosest(target, '.e-grid');\n                var cloneElement = _this.parent.element.querySelector('.e-cloneproperties');\n                if (!closest || closest.getAttribute('id') !== gObj.element.getAttribute('id')) {\n                    classList(cloneElement, ['e-notallowedcur'], ['e-defaultcur']);\n                    if (gObj.allowReordering) {\n                        gObj.element.querySelector('.e-reorderuparrow').style.display = 'none';\n                        gObj.element.querySelector('.e-reorderdownarrow').style.display = 'none';\n                    }\n                    if (!gObj.groupSettings.allowReordering) {\n                        return;\n                    }\n                }\n                gObj.notify(events.columnDrag, { target: e.target, column: _this.column, event: e.event });\n            }\n        };\n        this.dragStop = function (e) {\n            var gObj = _this.parent;\n            var cancel;\n            gObj.element.querySelector('.e-gridpopup').style.display = 'none';\n            if ((!parentsUntil(e.target, 'e-headercell') && !parentsUntil(e.target, 'e-groupdroparea')) ||\n                (!gObj.allowReordering && parentsUntil(e.target, 'e-headercell')) ||\n                (!e.helper.getAttribute('e-mappinguid') && parentsUntil(e.target, 'e-groupdroparea'))) {\n                remove(e.helper);\n                cancel = true;\n            }\n            gObj.notify(events.columnDragStop, { target: e.target, event: e.event, column: _this.column, cancel: cancel });\n        };\n        this.drop = function (e) {\n            var gObj = _this.parent;\n            var uid = e.droppedElement.getAttribute('e-mappinguid');\n            var closest = getClosest(e.target, '.e-grid');\n            remove(e.droppedElement);\n            if (closest && closest.getAttribute('id') !== gObj.element.getAttribute('id') ||\n                !(gObj.allowReordering || gObj.allowGrouping)) {\n                return;\n            }\n            gObj.notify(events.headerDrop, { target: e.target, uid: uid, droppedElement: e.droppedElement });\n        };\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        this.ariaService = this.serviceLocator.getService('ariaService');\n        this.widthService = this.serviceLocator.getService('widthService');\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        if (!this.parent.enableColumnVirtualization\n            && !this.parent.getFrozenLeftColumnsCount() && !this.parent.getFrozenRightColumnsCount()) {\n            this.parent.on(events.columnVisibilityChanged, this.setVisible, this);\n        }\n        this.parent.on(events.columnPositionChanged, this.colPosRefresh, this);\n        this.parent.on(events.initialEnd, this.renderCustomToolbar, this);\n        if (this.parent.rowRenderingMode === 'Vertical') {\n            this.parent.on(events.uiUpdate, this.updateCustomResponsiveToolbar, this);\n        }\n    }\n    /**\n     * The function is used to render grid header div\n     *\n     * @returns {void}\n     */\n    HeaderRender.prototype.renderPanel = function () {\n        var div = this.parent.element.querySelector('.' + literals.gridHeader);\n        var isRendered = (div != null);\n        div = isRendered ? div : this.parent.createElement('div', { className: 'e-gridheader' });\n        var innerDiv = isRendered ? div.querySelector('.' + literals.headerContent) :\n            this.parent.createElement('div', { className: literals.headerContent });\n        this.toggleStackClass(div);\n        div.appendChild(innerDiv);\n        this.setPanel(div);\n        if (!isRendered) {\n            this.parent.element.appendChild(div);\n        }\n    };\n    /**\n     * The function is used to render grid header div\n     *\n     * @returns {void}\n     */\n    HeaderRender.prototype.renderTable = function () {\n        var headerDiv = this.getPanel();\n        headerDiv.appendChild(this.createHeaderTable());\n        this.setTable(headerDiv.querySelector('.' + literals.table));\n        if (!this.parent.getFrozenColumns() && !this.parent.getFrozenRightColumnsCount() && !this.parent.getFrozenLeftColumnsCount()) {\n            this.initializeHeaderDrag();\n            this.initializeHeaderDrop();\n        }\n        this.parent.notify(events.headerRefreshed, { rows: this.rows, args: { isFrozen: this.parent.isFrozenGrid() } });\n    };\n    /**\n     * Get the header content div element of grid\n     *\n     * @returns {Element} returns the element\n     */\n    HeaderRender.prototype.getPanel = function () {\n        return this.headerPanel;\n    };\n    /**\n     * Set the header content div element of grid\n     *\n     * @param  {Element} panel - specifies the panel element\n     * @returns {void}\n     */\n    HeaderRender.prototype.setPanel = function (panel) {\n        this.headerPanel = panel;\n    };\n    /**\n     * Get the header table element of grid\n     *\n     * @returns {Element} returns the element\n     */\n    HeaderRender.prototype.getTable = function () {\n        return this.headerTable;\n    };\n    /**\n     * Set the header table element of grid\n     *\n     * @param  {Element} table - specifies the table element\n     * @returns {void}\n     */\n    HeaderRender.prototype.setTable = function (table) {\n        this.headerTable = table;\n    };\n    /**\n     * Get the header colgroup element\n     *\n     * @returns {Element} returns the element\n     */\n    HeaderRender.prototype.getColGroup = function () {\n        return this.colgroup;\n    };\n    /**\n     * Set the header colgroup element\n     *\n     * @param {Element} colGroup - specifies the colgroup\n     * @returns {Element} returns the element\n     */\n    HeaderRender.prototype.setColGroup = function (colGroup) {\n        return this.colgroup = colGroup;\n    };\n    /**\n     * Get the header row element collection.\n     *\n     * @returns {Element[]} returns the element\n     */\n    HeaderRender.prototype.getRows = function () {\n        var table = this.getTable();\n        return table.tHead.rows;\n    };\n    /**\n     * The function is used to create header table elements\n     *\n     * @returns {Element} returns the element\n     * @hidden\n     */\n    HeaderRender.prototype.createHeaderTable = function () {\n        var table = this.createTable();\n        var innerDiv = this.getPanel().querySelector('.' + literals.headerContent);\n        innerDiv.appendChild(table);\n        return innerDiv;\n    };\n    /**\n     * The function is used to create header table elements\n     *\n     * @param {Element} tableEle - specifies the table Element\n     * @param {freezeTable} tableName - specifies the table name\n     * @returns {Element} returns the element\n     * @hidden\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    HeaderRender.prototype.createHeader = function (tableEle, tableName) {\n        if (tableEle === void 0) { tableEle = null; }\n        var gObj = this.parent;\n        var isFrozen = gObj.isFrozenGrid();\n        if (this.getTable() && !isFrozen) {\n            remove(this.getTable());\n        }\n        var table = this.parent.createElement('table', { className: literals.table, attrs: { cellspacing: '0.25px', role: 'grid' } });\n        var tblName = tableName ? tableName : gObj.getFrozenLeftCount() ? 'frozen-left' : 'frozen-right';\n        var findHeaderRow = this.createHeaderContent(tblName);\n        var thead = findHeaderRow.thead;\n        var tbody = this.parent.createElement(literals.tbody, { className: this.parent.frozenRows ? '' : 'e-hide', attrs: { role: 'rowgroup' } });\n        this.caption = this.parent.createElement('caption', { innerHTML: this.parent.element.id + '_header_table', className: 'e-hide' });\n        var colGroup = this.parent.createElement(literals.colGroup);\n        var rowBody = this.parent.createElement('tr', { attrs: { role: 'row' } });\n        var bodyCell;\n        var rows = this.rows = findHeaderRow.rows;\n        for (var i = 0, len = rows.length; i < len; i++) {\n            for (var j = 0, len_1 = rows[i].cells.length; j < len_1; j++) {\n                bodyCell = this.parent.createElement('td');\n                rowBody.appendChild(bodyCell);\n            }\n        }\n        if (gObj.allowFiltering || gObj.allowSorting || gObj.allowGrouping) {\n            table.classList.add('e-sortfilter');\n        }\n        this.updateColGroup(colGroup);\n        tbody.appendChild(rowBody);\n        table.appendChild(this.setColGroup(colGroup));\n        table.appendChild(thead);\n        table.appendChild(tbody);\n        table.appendChild(this.caption);\n        this.ariaService.setOptions(table, { colcount: gObj.getColumns().length.toString() });\n        return table;\n    };\n    /**\n     * @param {Element} tableEle - specifies the column\n     * @returns {Element} returns the element\n     * @hidden\n     */\n    HeaderRender.prototype.createTable = function (tableEle) {\n        if (tableEle === void 0) { tableEle = null; }\n        return this.createHeader(tableEle);\n    };\n    HeaderRender.prototype.createHeaderContent = function (tableName) {\n        var gObj = this.parent;\n        var index = 1;\n        var frozenMode = gObj.getFrozenMode();\n        var columns = gObj.getColumns();\n        var thead = this.parent.createElement('thead', { attrs: { 'role': 'rowgroup' } });\n        var colHeader = this.parent.createElement('tr', { className: 'e-columnheader', attrs: { role: 'row' } });\n        var rowRenderer = new RowRenderer(this.serviceLocator, CellType.Header, gObj);\n        rowRenderer.element = colHeader;\n        var rows = [];\n        var headerRow;\n        this.colDepth = measureColumnDepth(gObj.columns);\n        for (var i = 0, len = this.colDepth; i < len; i++) {\n            rows[i] = this.generateRow(i);\n            rows[i].cells = [];\n        }\n        if (frozenMode !== 'Right') {\n            rows = this.ensureColumns(rows);\n        }\n        rows = this.getHeaderCells(rows, tableName);\n        if (frozenMode === 'Right') {\n            index = 0;\n            rows = this.ensureColumns(rows);\n        }\n        var frzCols = this.parent.getFrozenColumns();\n        if (this.parent.isRowDragable() && this.parent.isFrozenGrid() && rows[0].cells[index]) {\n            var colFreezeMode = rows[0].cells[index].column.getFreezeTableName();\n            if (colFreezeMode === 'movable' || (frozenMode === literals.leftRight && colFreezeMode === literals.frozenRight)) {\n                if (frozenMode === 'Right') {\n                    rows[0].cells.pop();\n                }\n                else {\n                    rows[0].cells.shift();\n                }\n            }\n            else if (!frzCols && colFreezeMode === literals.frozenLeft) {\n                rows[0].cells[0].column.freeze = colFreezeMode === literals.frozenLeft ? 'Left' : 'Right';\n            }\n            else if (frozenMode === 'Right' && colFreezeMode === literals.frozenRight) {\n                rows[0].cells[rows[0].cells.length - 1].column.freeze = 'Right';\n            }\n        }\n        for (var i = 0, len = this.colDepth; i < len; i++) {\n            headerRow = rowRenderer.render(rows[i], columns);\n            if (this.parent.rowHeight && headerRow.querySelector('.e-headercell')) {\n                headerRow.style.height = this.parent.rowHeight + 'px';\n            }\n            thead.appendChild(headerRow);\n        }\n        var findHeaderRow = {\n            thead: thead,\n            rows: rows\n        };\n        return findHeaderRow;\n    };\n    HeaderRender.prototype.updateColGroup = function (colGroup) {\n        var cols = this.parent.getColumns();\n        var col;\n        var indexes = this.parent.getColumnIndexesInView();\n        if (this.parent.enableColumnVirtualization && this.parent.getFrozenColumns()\n            && this.parent.contentModule.isXaxis()) {\n            cols = extend([], this.parent.getColumns());\n            cols.splice(0, this.parent.getFrozenColumns());\n        }\n        colGroup.id = this.parent.element.id + literals.colGroup;\n        if (this.parent.allowGrouping) {\n            for (var i = 0, len = this.parent.groupSettings.columns.length; i < len; i++) {\n                if (this.parent.enableColumnVirtualization && indexes.indexOf(i) === -1) {\n                    continue;\n                }\n                col = this.parent.createElement('col', { className: 'e-group-intent' });\n                colGroup.appendChild(col);\n            }\n        }\n        if (this.parent.detailTemplate || this.parent.childGrid) {\n            col = this.parent.createElement('col', { className: 'e-detail-intent' });\n            colGroup.appendChild(col);\n        }\n        if (this.parent.isRowDragable() && this.parent.getFrozenMode() !== 'Right') {\n            col = this.parent.createElement('col', { className: 'e-drag-intent' });\n            colGroup.appendChild(col);\n        }\n        for (var i = 0, len = cols.length; i < len; i++) {\n            col = this.parent.createElement('col');\n            if (cols[i].visible === false) {\n                setStyleAttribute(col, { 'display': 'none' });\n            }\n            colGroup.appendChild(col);\n        }\n        if (this.parent.isRowDragable() && this.parent.getFrozenMode() === 'Right') {\n            col = this.parent.createElement('col', { className: 'e-drag-intent' });\n            colGroup.appendChild(col);\n        }\n        return colGroup;\n    };\n    HeaderRender.prototype.ensureColumns = function (rows) {\n        //TODO: generate dummy column for group, detail, stacked row here; ensureColumns here\n        var gObj = this.parent;\n        var indexes = this.parent.getColumnIndexesInView();\n        for (var i = 0, len = rows.length; i < len; i++) {\n            if (gObj.allowGrouping) {\n                for (var c = 0, len_2 = gObj.groupSettings.columns.length; c < len_2; c++) {\n                    if (this.parent.enableColumnVirtualization && indexes.indexOf(c) === -1) {\n                        continue;\n                    }\n                    rows[i].cells.push(this.generateCell({}, CellType.HeaderIndent));\n                }\n            }\n            if (gObj.detailTemplate || gObj.childGrid) {\n                var args = {};\n                this.parent.notify(events.detailIndentCellInfo, args);\n                rows[i].cells.push(this.generateCell(args, CellType.DetailHeader));\n            }\n            if (gObj.isRowDragable()) {\n                rows[i].cells.push(this.generateCell({}, CellType.RowDragHIcon));\n            }\n        }\n        return rows;\n    };\n    HeaderRender.prototype.getHeaderCells = function (rows, tableName) {\n        var thead = this.parent.getHeaderTable() && this.parent.getHeaderTable().querySelector('thead');\n        var cols = this.parent.enableColumnVirtualization ?\n            this.parent.getColumns(this.parent.enablePersistence) : this.parent.columns;\n        this.frzIdx = 0;\n        this.notfrzIdx = 0;\n        if (this.parent.lockcolPositionCount) {\n            for (var i = 0; i < cols.length; i++) {\n                this.lockColsRendered = false;\n                rows = this.appendCells(cols[i], rows, 0, i === 0, false, i === (cols.length - 1), thead, tableName, false);\n            }\n        }\n        for (var i = 0, len = cols.length; i < len; i++) {\n            this.notfrzIdx = 0;\n            this.lockColsRendered = true;\n            rows = this.appendCells(cols[i], rows, 0, i === 0, false, i === (len - 1), thead, tableName, false);\n        }\n        return rows;\n    };\n    HeaderRender.prototype.appendCells = function (cols, rows, index, isFirstObj, isFirstCol, isLastCol, isMovable, tableName, isStackLastCol) {\n        var lastCol = isLastCol ? isStackLastCol ? 'e-laststackcell' : 'e-lastcell' : '';\n        var isFrozen = this.parent.isFrozenGrid();\n        var isLockColumn = !this.parent.lockcolPositionCount\n            || (cols.lockColumn && !this.lockColsRendered) || (!cols.lockColumn && this.lockColsRendered);\n        var isFrozenLockColumn = !this.parent.lockcolPositionCount || (cols.lockColumn && !this.lockColsRendered)\n            || (!cols.lockColumn && this.lockColsRendered);\n        var scrollbar = this.parent.getContent().querySelector('.e-movablescrollbar');\n        var left;\n        if (isFrozen && scrollbar && this.parent.enableColumnVirtualization) {\n            left = scrollbar.scrollLeft;\n        }\n        if (!cols.columns) {\n            if (left && left > 0 && this.parent.contentModule.isXaxis()\n                && this.parent.inViewIndexes[0] !== 0 && cols.getFreezeTableName() === 'movable') {\n                rows[index].cells.push(this.generateCell(cols, CellType.Header, this.colDepth - index, (isFirstObj ? '' : (isFirstCol ? 'e-firstcell' : '')) + lastCol, index, this.parent.getColumnIndexByUid(cols.uid)));\n            }\n            else {\n                if ((!isFrozen && isLockColumn) || (isFrozen && cols.getFreezeTableName() === tableName && isFrozenLockColumn)) {\n                    rows[index].cells.push(this.generateCell(cols, CellType.Header, this.colDepth - index, (isFirstObj ? '' : (isFirstCol ? 'e-firstcell' : '')) + lastCol, index, this.parent.getColumnIndexByUid(cols.uid)));\n                }\n            }\n            if (this.parent.lockcolPositionCount) {\n                if ((this.frzIdx + this.notfrzIdx < this.parent.frozenColumns) &&\n                    ((cols.lockColumn && !this.lockColsRendered) || (!cols.lockColumn && this.lockColsRendered))) {\n                    this.frzIdx++;\n                }\n                else {\n                    this.notfrzIdx++;\n                }\n            }\n            else {\n                this.frzIdx++;\n            }\n        }\n        else {\n            this.isFirstCol = false;\n            var colSpan = this.getCellCnt(cols, 0);\n            if (colSpan) {\n                var stackedLockColsCount = this.getStackedLockColsCount(cols, 0);\n                var isStackedLockColumn = this.parent.lockcolPositionCount === 0\n                    || (!this.lockColsRendered && stackedLockColsCount !== 0)\n                    || (this.lockColsRendered && (colSpan - stackedLockColsCount) !== 0);\n                var isFrozenStack = isFrozen && this.ensureStackedFrozen(cols.columns, tableName, false);\n                if ((!isFrozen && isStackedLockColumn) || isFrozenStack) {\n                    rows[index].cells.push(new Cell({\n                        cellType: CellType.StackedHeader, column: cols,\n                        colSpan: this.getColSpan(colSpan, stackedLockColsCount, cols.columns, tableName, isFrozen),\n                        className: isFirstObj ? '' : (isFirstCol ? 'e-firstcell' : '')\n                    }));\n                }\n            }\n            if (this.parent.lockcolPositionCount && !this.lockColsRendered) {\n                for (var i = 0; i < cols.columns.length; i++) {\n                    rows = this.appendCells(cols.columns[i], rows, index + 1, isFirstObj, i === 0, i === (cols.columns.length - 1) && isLastCol, isMovable, tableName, false);\n                }\n            }\n            if (this.lockColsRendered) {\n                for (var i = 0, len = cols.columns.length; i < len; i++) {\n                    isFirstObj = isFirstObj && i === 0;\n                    var isFirstCol_1 = this.isFirstCol = cols.columns[i].visible && !isFirstObj;\n                    var isLaststackedCol = i === (len - 1) && isLastCol;\n                    rows = this.appendCells(cols.columns[i], rows, index + 1, isFirstObj, isFirstCol_1 && !isLaststackedCol, isLaststackedCol, isMovable, tableName, true);\n                }\n            }\n        }\n        return rows;\n    };\n    HeaderRender.prototype.ensureStackedFrozen = function (columns, tableName, isTrue) {\n        var length = columns.length;\n        for (var i = 0; i < length; i++) {\n            if (columns[i].columns) {\n                isTrue = this.ensureStackedFrozen(columns[i].columns, tableName, isTrue);\n            }\n            else if (columns[i].getFreezeTableName() === tableName) {\n                isTrue = true;\n                break;\n            }\n        }\n        return isTrue;\n    };\n    HeaderRender.prototype.getStackedLockColsCount = function (col, lockColsCount) {\n        if (col.columns) {\n            for (var i = 0; i < col.columns.length; i++) {\n                lockColsCount = this.getStackedLockColsCount(col.columns[i], lockColsCount);\n            }\n        }\n        else if (col.lockColumn) {\n            lockColsCount++;\n        }\n        return lockColsCount;\n    };\n    HeaderRender.prototype.getColSpan = function (colSpan, stackedLockColsCount, columns, tableName, isFrozen) {\n        if (isFrozen) {\n            colSpan = this.getFrozenColSpan(columns, tableName, 0);\n        }\n        else if (this.parent.lockcolPositionCount) {\n            colSpan = !this.lockColsRendered ? stackedLockColsCount : colSpan - stackedLockColsCount;\n        }\n        return colSpan;\n    };\n    HeaderRender.prototype.getFrozenColSpan = function (columns, tableName, count) {\n        var length = columns.length;\n        for (var i = 0; i < length; i++) {\n            if (columns[i].columns) {\n                count = this.getFrozenColSpan(columns[i].columns, tableName, count);\n            }\n            else if (columns[i].getFreezeTableName() === tableName && columns[i].visible) {\n                count++;\n            }\n        }\n        return count;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    HeaderRender.prototype.generateRow = function (index) {\n        return new Row({});\n    };\n    HeaderRender.prototype.generateCell = function (column, cellType, rowSpan, className, rowIndex, colIndex) {\n        var opt = {\n            'visible': column.visible,\n            'isDataCell': false,\n            'isTemplate': !isNullOrUndefined(column.headerTemplate),\n            'rowID': '',\n            'column': column,\n            'cellType': cellType,\n            'rowSpan': rowSpan,\n            'className': className,\n            'index': rowIndex,\n            'colIndex': colIndex\n        };\n        if (!opt.rowSpan || opt.rowSpan < 2) {\n            delete opt.rowSpan;\n        }\n        return new Cell(opt);\n    };\n    /**\n     * Function to hide header table column based on visible property\n     *\n     * @param {Column[]} columns - specifies the column\n     * @returns {void}\n     */\n    HeaderRender.prototype.setVisible = function (columns) {\n        var gObj = this.parent;\n        var displayVal;\n        var idx;\n        var frzCols = gObj.getFrozenColumns();\n        for (var c = 0, clen = columns.length; c < clen; c++) {\n            var column = columns[c];\n            idx = gObj.getNormalizedColumnIndex(column.uid);\n            displayVal = column.visible ? '' : 'none';\n            if (frzCols) {\n                var normalizedfrzCols = this.parent.isRowDragable() ? frzCols + 1 : frzCols;\n                if (idx < normalizedfrzCols) {\n                    setStyleAttribute(this.getColGroup().children[idx], { 'display': displayVal });\n                }\n                else {\n                    var mTblColGrp = gObj.getHeaderContent().querySelector('.' + literals.movableHeader).querySelector(literals.colGroup);\n                    setStyleAttribute(mTblColGrp.children[idx - normalizedfrzCols], { 'display': displayVal });\n                }\n            }\n            else {\n                setStyleAttribute(this.getColGroup().children[idx], { 'display': displayVal });\n            }\n        }\n        this.refreshUI();\n    };\n    HeaderRender.prototype.colPosRefresh = function () {\n        this.refreshUI();\n    };\n    /**\n     * Refresh the header of the Grid.\n     *\n     * @returns {void}\n     */\n    HeaderRender.prototype.refreshUI = function () {\n        var frzCols = this.parent.isFrozenGrid();\n        var isVFTable = this.parent.enableColumnVirtualization && frzCols;\n        var headerDiv = this.getPanel();\n        this.toggleStackClass(headerDiv);\n        var table = this.freezeReorder ? this.headerPanel.querySelector('.' + literals.movableHeader).querySelector('.' + literals.table)\n            : this.getTable();\n        var tableName = this.parent.isFrozenGrid() ? this.parent.getFrozenLeftCount() ? 'frozen-left'\n            : 'frozen-right' : undefined;\n        if (isVFTable) {\n            table = this.parent.contentModule.getVirtualFreezeHeader();\n            tableName = this.parent.contentModule.isXaxis() ? 'movable' : tableName;\n        }\n        if (table) {\n            remove(table);\n            table.removeChild(table.firstChild);\n            table.removeChild(table.childNodes[0]);\n            var colGroup = this.parent.createElement(literals.colGroup);\n            var findHeaderRow = this.createHeaderContent(tableName);\n            this.rows = findHeaderRow.rows;\n            table.insertBefore(findHeaderRow.thead, table.firstChild);\n            this.updateColGroup(colGroup);\n            table.insertBefore(this.setColGroup(colGroup), table.firstChild);\n            if (!isVFTable) {\n                this.setTable(table);\n            }\n            this.appendContent(table);\n            this.parent.notify(events.colGroupRefresh, {});\n            this.widthService.setWidthToColumns();\n            this.parent.updateDefaultCursor();\n            if (!frzCols || (this.parent.enableColumnVirtualization && frzCols)) {\n                this.initializeHeaderDrag();\n            }\n            var rows = [].slice.call(headerDiv.querySelectorAll('tr.e-columnheader'));\n            for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n                var row = rows_1[_i];\n                var gCells = [].slice.call(row.getElementsByClassName('e-grouptopleftcell'));\n                if (gCells.length) {\n                    gCells[gCells.length - 1].classList.add('e-lastgrouptopleftcell');\n                }\n            }\n            if (!frzCols) {\n                this.parent.notify(events.headerRefreshed, { rows: this.rows, args: { isFrozen: frzCols } });\n            }\n            if (this.parent.enableColumnVirtualization && parentsUntil(table, literals.movableHeader)) {\n                this.parent.notify(events.headerRefreshed, { rows: this.rows, args: { isFrozen: false, isXaxis: true } });\n            }\n            if (this.parent.allowTextWrap && this.parent.textWrapSettings.wrapMode === 'Header') {\n                wrap(rows, true);\n            }\n        }\n    };\n    HeaderRender.prototype.toggleStackClass = function (div) {\n        var column = this.parent.columns;\n        var stackedHdr = column.some(function (column) { return !isNullOrUndefined(column.columns); });\n        if (stackedHdr) {\n            div.classList.add('e-stackedheader');\n        }\n        else {\n            div.classList.remove('e-stackedheader');\n        }\n    };\n    HeaderRender.prototype.appendContent = function (table) {\n        this.getPanel().querySelector('.' + literals.headerContent).appendChild(table);\n    };\n    HeaderRender.prototype.getCellCnt = function (col, cnt) {\n        if (col.columns) {\n            for (var i = 0, len = col.columns.length; i < len; i++) {\n                cnt = this.getCellCnt(col.columns[i], cnt);\n            }\n        }\n        else {\n            if (col.visible) {\n                cnt++;\n            }\n        }\n        return cnt;\n    };\n    HeaderRender.prototype.initializeHeaderDrag = function () {\n        var gObj = this.parent;\n        if (!(this.parent.allowReordering || (this.parent.allowGrouping && this.parent.groupSettings.showDropArea))) {\n            return;\n        }\n        this.draggable = new Draggable(gObj.getHeaderContent(), {\n            dragTarget: '.e-headercell',\n            distance: 5,\n            helper: this.helper,\n            dragStart: this.dragStart,\n            drag: this.drag,\n            dragStop: this.dragStop,\n            abort: '.e-rhandler',\n            isReplaceDragEle: this.isReplaceDragEle\n        });\n    };\n    HeaderRender.prototype.initializeHeaderDrop = function () {\n        var gObj = this.parent;\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        var drop = new Droppable(gObj.getHeaderContent(), {\n            accept: '.e-dragclone',\n            drop: this.drop\n        });\n    };\n    HeaderRender.prototype.renderCustomToolbar = function () {\n        var _this = this;\n        var gObj = this.parent;\n        if (gObj.rowRenderingMode === 'Vertical' && !gObj.toolbar\n            && (gObj.allowSorting || (gObj.allowFiltering && gObj.filterSettings.type !== 'FilterBar'))) {\n            var div = gObj.createElement('div', { className: 'e-res-toolbar e-toolbar' });\n            var toolbarItems = gObj.createElement('div', { className: 'e-toolbar-items' });\n            var toolbarLeft = gObj.createElement('div', { className: 'e-toolbar-left' });\n            var count = this.parent.allowFiltering && this.parent.allowSorting ? 2 : 1;\n            for (var i = 0; i < count; i++) {\n                var toolbarItem = gObj.createElement('div', { className: 'e-toolbar-item e-gridresponsiveicons e-icons e-tbtn-align' });\n                var cls = count === 1 ? this.parent.allowSorting ? 'sort'\n                    : 'filter' : i === 1 ? 'sort' : 'filter';\n                var button = gObj.createElement('button', { className: 'e-tbar-btn e-control e-btn e-lib e-icon-btn' });\n                var span = gObj.createElement('span', { className: 'e-btn-icon e-res' + cls + '-icon e-icons' });\n                button.appendChild(span);\n                var btnObj = new Button({});\n                btnObj.appendTo(button);\n                button.onclick = function (e) {\n                    if (e.target.classList.contains('e-ressort-btn')\n                        || e.target.classList.contains('e-ressort-icon')) {\n                        _this.parent.showResponsiveCustomSort();\n                    }\n                    else {\n                        _this.parent.showResponsiveCustomFilter();\n                    }\n                };\n                toolbarItem.appendChild(button);\n                toolbarLeft.appendChild(toolbarItem);\n            }\n            toolbarItems.appendChild(toolbarLeft);\n            div.appendChild(toolbarItems);\n            gObj.element.insertBefore(div, this.parent.element.querySelector('.' + literals.gridHeader));\n        }\n        else {\n            if (gObj.enableAdaptiveUI && !gObj.toolbar) {\n                gObj.getContent().classList.add('e-responsive-header');\n            }\n        }\n    };\n    HeaderRender.prototype.updateCustomResponsiveToolbar = function (args) {\n        var resToolbar = this.parent.element.querySelector('.e-responsive-toolbar');\n        if (args.module === 'toolbar') {\n            if (resToolbar) {\n                remove(resToolbar);\n            }\n            else {\n                this.renderCustomToolbar();\n            }\n        }\n    };\n    return HeaderRender;\n}());\nexport { HeaderRender };\n","import { remove } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { doesImplementInterface, setStyleAndAttributes, appendChildren, extendObjWithFn } from '../base/util';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { foreignKeyData } from '../base/constant';\nimport { CellType } from '../base/enum';\nimport * as literals from '../base/string-literals';\n/**\n * CellRenderer class which responsible for building cell content.\n *\n * @hidden\n */\nvar CellRenderer = /** @class */ (function () {\n    function CellRenderer(parent, locator) {\n        this.localizer = locator.getService('localization');\n        this.formatter = locator.getService('valueFormatter');\n        this.parent = parent;\n        this.element = this.parent.createElement('TD', { className: literals.rowCell, attrs: { role: 'gridcell', tabindex: '-1' } });\n        this.rowChkBox = this.parent.createElement('input', { className: 'e-checkselect', attrs: { 'type': 'checkbox', 'aria-label': 'checkbox' } });\n    }\n    /**\n     * Function to return the wrapper for the TD content\n     *\n     * @returns {string | Element} returns the string\n     */\n    CellRenderer.prototype.getGui = function () {\n        return '';\n    };\n    /**\n     * Function to format the cell value.\n     *\n     * @param  {Column} column - specifies the column\n     * @param  {Object} value - specifies the value\n     * @param  {Object} data - specifies the data\n     * @returns {string} returns the format\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CellRenderer.prototype.format = function (column, value, data) {\n        if (!isNullOrUndefined(column.format)) {\n            if (column.type === 'number' && isNaN(parseInt(value, 10))) {\n                value = null;\n            }\n            value = this.formatter.toView(value, column.getFormatter());\n        }\n        return isNullOrUndefined(value) ? '' : value.toString();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CellRenderer.prototype.evaluate = function (node, cell, data, attributes, fData, isEdit) {\n        var _a;\n        var result;\n        if (cell.column.template) {\n            var isReactCompiler = this.parent.isReact && typeof (cell.column.template) !== 'string';\n            var literals_1 = ['index'];\n            var dummyData = extendObjWithFn({}, data, (_a = {}, _a[foreignKeyData] = fData, _a.column = cell.column, _a));\n            var templateID = this.parent.element.id + cell.column.uid;\n            var str = 'isStringTemplate';\n            if (isReactCompiler) {\n                var copied = { 'index': attributes[literals_1[0]] };\n                cell.column.getColumnTemplate()(extend(copied, dummyData), this.parent, 'columnTemplate', templateID, this.parent[str], null, node);\n                this.parent.renderTemplates();\n            }\n            else {\n                result = cell.column.getColumnTemplate()(extend({ 'index': attributes[literals_1[0]] }, dummyData), this.parent, 'template', templateID, this.parent[str], undefined, undefined, this.parent['root']);\n            }\n            if (!isReactCompiler) {\n                appendChildren(node, result);\n            }\n            this.parent.notify('template-result', { template: result });\n            result = null;\n            node.setAttribute('aria-label', node.innerText + ' is template cell' + ' column header ' +\n                cell.column.headerText);\n            return false;\n        }\n        return true;\n    };\n    /**\n     * Function to invoke the custom formatter available in the column object.\n     *\n     * @param  {Column} column - specifies the column\n     * @param  {Object} value - specifies the value\n     * @param  {Object} data - specifies the data\n     * @returns {Object} returns the object\n     */\n    CellRenderer.prototype.invokeFormatter = function (column, value, data) {\n        if (!isNullOrUndefined(column.formatter)) {\n            if (doesImplementInterface(column.formatter, 'getValue')) {\n                var formatter = column.formatter;\n                value = new formatter().getValue(column, data);\n            }\n            else if (typeof column.formatter === 'function') {\n                value = column.formatter(column, data);\n            }\n            else {\n                value = column.formatter.getValue(column, data);\n            }\n        }\n        return value;\n    };\n    /**\n     * Function to render the cell content based on Column object.\n     *\n     * @param {Cell<Column>} cell - specifies the cell\n     * @param {Object} data - specifies the data\n     * @param {Object} attributes - specifies the attributes\n     * @param {boolean} isExpand - specifies the boolean for expand\n     * @param {boolean} isEdit - specifies the boolean for edit\n     * @returns {Element} returns the element\n     */\n    CellRenderer.prototype.render = function (cell, data, attributes, isExpand, isEdit) {\n        return this.refreshCell(cell, data, attributes, isEdit);\n    };\n    /**\n     * Function to refresh the cell content based on Column object.\n     *\n     * @param {Element} td - specifies the element\n     * @param {Cell<Column>} cell - specifies the cell\n     * @param {Object} data - specifies the data\n     * @param {Object} attributes - specifies the attribute\n     * @returns {void}\n     */\n    CellRenderer.prototype.refreshTD = function (td, cell, data, attributes) {\n        var isEdit = this.parent.editSettings.mode === 'Batch' && td.classList.contains('e-editedbatchcell');\n        if (this.parent.isReact) {\n            td.innerHTML = '';\n            var cellIndex = td.cellIndex;\n            var parentRow = td.parentElement;\n            remove(td);\n            var newTD = this.refreshCell(cell, data, attributes, isEdit);\n            this.cloneAttributes(newTD, td);\n            if (parentRow.cells.length !== cellIndex - 1) {\n                parentRow.insertBefore(newTD, parentRow.cells[cellIndex]);\n            }\n            else {\n                parentRow.appendChild(newTD);\n            }\n        }\n        else {\n            var node = this.refreshCell(cell, data, attributes, isEdit);\n            td.innerHTML = '';\n            td.setAttribute('aria-label', node.getAttribute('aria-label'));\n            var elements = [].slice.call(node.childNodes);\n            for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n                var elem = elements_1[_i];\n                td.appendChild(elem);\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    CellRenderer.prototype.cloneAttributes = function (target, source) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var attrs = source.attributes;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var i = attrs.length;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var attr;\n        while (i--) {\n            attr = attrs[i];\n            target.setAttribute(attr.name, attr.value);\n        }\n    };\n    CellRenderer.prototype.refreshCell = function (cell, data, attributes, isEdit) {\n        var _a;\n        var node = this.element.cloneNode();\n        var column = cell.column;\n        var fData;\n        if (cell.isForeignKey) {\n            fData = cell.foreignKeyData[0] || (_a = {}, _a[column.foreignKeyValue] = column.format ? null : '', _a);\n        }\n        //Prepare innerHtml\n        var innerHtml = this.getGui();\n        var value = cell.isForeignKey ? this.getValue(column.foreignKeyValue, fData, column) :\n            this.getValue(column.field, data, column);\n        if ((column.type === 'date' || column.type === 'datetime') && !isNullOrUndefined(value)) {\n            value = new Date(value);\n        }\n        value = this.format(column, value, data);\n        innerHtml = value.toString();\n        if (column.type === 'boolean' && !column.displayAsCheckBox) {\n            var localeStr = (value !== 'true' && value !== 'false') ? null : value === 'true' ? 'True' : 'False';\n            innerHtml = localeStr ? this.localizer.getConstant(localeStr) : innerHtml;\n        }\n        var fromFormatter = this.invokeFormatter(column, value, data);\n        innerHtml = !isNullOrUndefined(column.formatter) ? isNullOrUndefined(fromFormatter) ? '' : fromFormatter.toString() : innerHtml;\n        node.setAttribute('aria-label', innerHtml + ' column header ' + cell.column.headerText);\n        if (this.evaluate(node, cell, data, attributes, fData, isEdit) && column.type !== 'checkbox') {\n            this.appendHtml(node, innerHtml, column.getDomSetter ? column.getDomSetter() : 'innerHTML');\n        }\n        else if (column.type === 'checkbox') {\n            node.classList.add(literals.gridChkBox);\n            node.setAttribute('aria-label', 'checkbox');\n            if (this.parent.selectionSettings.persistSelection) {\n                value = value === 'true';\n            }\n            else {\n                value = false;\n            }\n            var checkWrap = createCheckBox(this.parent.createElement, false, { checked: value, label: ' ' });\n            this.rowChkBox.id = 'checkbox-' + cell.rowID;\n            checkWrap.insertBefore(this.rowChkBox.cloneNode(), checkWrap.firstChild);\n            node.appendChild(checkWrap);\n        }\n        if (this.parent.checkAllRows === 'Check' && this.parent.enableVirtualization) {\n            cell.isSelected = true;\n        }\n        this.setAttributes(node, cell, attributes);\n        if (column.type === 'boolean' && column.displayAsCheckBox) {\n            var checked = isNaN(parseInt(value.toString(), 10)) ? value === 'true' : parseInt(value.toString(), 10) > 0;\n            var checkWrap = createCheckBox(this.parent.createElement, false, { checked: checked, label: ' ' });\n            node.innerHTML = '';\n            checkWrap.classList.add('e-checkbox-disabled');\n            node.appendChild(checkWrap);\n            node.setAttribute('aria-label', checked + ' column header ' + cell.column.headerText);\n        }\n        return node;\n    };\n    /**\n     * Function to specifies how the result content to be placed in the cell.\n     *\n     * @param {Element} node - specifies the node\n     * @param {string|Element} innerHtml - specifies the innerHTML\n     * @param {string} property - specifies the element\n     * @returns {Element} returns the element\n     */\n    CellRenderer.prototype.appendHtml = function (node, innerHtml, property) {\n        if (property === void 0) { property = 'innerHTML'; }\n        node[property] = innerHtml;\n        return node;\n    };\n    /**\n     * @param {HTMLElement} node - specifies the node\n     * @param {cell<Column>} cell - specifies the cell\n     * @param {Object} attributes - specifies the attributes\n     * @returns {void}\n     * @hidden\n     */\n    CellRenderer.prototype.setAttributes = function (node, cell, attributes) {\n        var column = cell.column;\n        this.buildAttributeFromCell(node, cell, column.type === 'checkbox');\n        setStyleAndAttributes(node, attributes);\n        setStyleAndAttributes(node, cell.attributes);\n        if (column.customAttributes) {\n            setStyleAndAttributes(node, column.customAttributes);\n        }\n        if (this.parent.rowRenderingMode === 'Vertical') {\n            setStyleAndAttributes(node, { 'data-cell': column.headerText });\n        }\n        if (column.textAlign) {\n            node.style.textAlign = column.textAlign;\n        }\n        if (column.clipMode === 'Clip' || (!column.clipMode && this.parent.clipMode === 'Clip')) {\n            node.classList.add('e-gridclip');\n        }\n        else if (column.clipMode === 'EllipsisWithTooltip' || (!column.clipMode && this.parent.clipMode === 'EllipsisWithTooltip')) {\n            if (column.type !== 'checkbox') {\n                node.classList.add('e-ellipsistooltip');\n            }\n        }\n    };\n    CellRenderer.prototype.buildAttributeFromCell = function (node, cell, isCheckBoxType) {\n        var attr = {};\n        var prop = { 'colindex': literals.ariaColIndex };\n        var classes = [];\n        if (cell.colSpan) {\n            attr.colSpan = cell.colSpan;\n        }\n        if (cell.rowSpan) {\n            attr.rowSpan = cell.rowSpan;\n        }\n        if (cell.isTemplate) {\n            classes.push('e-templatecell');\n        }\n        if (cell.isSelected) {\n            classes.push.apply(classes, ['e-selectionbackground', 'e-active']);\n            if (isCheckBoxType) {\n                node.querySelector('.e-frame').classList.add('e-check');\n            }\n        }\n        if (cell.isColumnSelected) {\n            classes.push.apply(classes, ['e-columnselection']);\n        }\n        if (cell.cellType === CellType.Header) {\n            attr[prop.colindex] = cell.colIndex;\n        }\n        else if (!isNullOrUndefined(cell.index)) {\n            attr[prop.colindex] = cell.index;\n        }\n        if (!cell.visible) {\n            classes.push('e-hide');\n        }\n        attr.class = classes;\n        setStyleAndAttributes(node, attr);\n    };\n    CellRenderer.prototype.getValue = function (field, data, column) {\n        return column.valueAccessor(field, data, column);\n    };\n    return CellRenderer;\n}());\nexport { CellRenderer };\n","/**\n * AriaService\n *\n * @hidden\n */\nvar AriaService = /** @class */ (function () {\n    function AriaService() {\n    }\n    AriaService.prototype.setOptions = function (target, options) {\n        var props = Object.keys(options);\n        for (var i = 0; i < props.length; i++) {\n            setStateAndProperties(target, config[props[i]], options[props[i]]);\n        }\n    };\n    AriaService.prototype.setExpand = function (target, expand) {\n        setStateAndProperties(target, config.expand, expand);\n    };\n    AriaService.prototype.setSort = function (target, direction) {\n        setStateAndProperties(target, config.sort, direction, typeof direction === 'boolean');\n    };\n    AriaService.prototype.setBusy = function (target, isBusy) {\n        setStateAndProperties(target, config.busy, isBusy);\n        setStateAndProperties(target, config.invalid, null, true);\n    };\n    AriaService.prototype.setGrabbed = function (target, isGrabbed, remove) {\n        setStateAndProperties(target, config.grabbed, isGrabbed, remove);\n    };\n    AriaService.prototype.setDropTarget = function (target, isTarget) {\n        setStateAndProperties(target, config.dropeffect, 'copy', !isTarget);\n    };\n    return AriaService;\n}());\nexport { AriaService };\n/**\n * @param {HTMLElement} target - specifies the target\n * @param {string} attribute - specifies the attribute\n * @param {ValueType} value - specifies the value\n * @param {boolean} remove - specifies the boolean for remove\n * @returns {void}\n * @hidden\n */\nfunction setStateAndProperties(target, attribute, value, remove) {\n    if (remove && target) {\n        target.removeAttribute(attribute);\n        return;\n    }\n    if (target) {\n        target.setAttribute(attribute, value);\n    }\n}\nvar config = {\n    expand: 'aria-expanded',\n    role: 'role',\n    datarole: 'data-role',\n    selected: 'aria-selected',\n    multiselectable: 'aria-multiselectable',\n    sort: 'aria-sort',\n    busy: 'aria-busy',\n    invalid: 'aria-invalid',\n    grabbed: 'aria-grabbed',\n    dropeffect: 'aria-dropeffect',\n    haspopup: 'aria-haspopup',\n    level: 'aria-level',\n    colcount: 'aria-colcount',\n    rowcount: 'aria-rowcount'\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { attributes } from '@syncfusion/ej2-base';\nimport { setStyleAndAttributes, appendChildren } from '../base/util';\nimport { CellRenderer } from './cell-renderer';\nimport { AriaService } from '../services/aria-service';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { headerCellInfo } from '../base/constant';\n/**\n * HeaderCellRenderer class which responsible for building header cell content.\n *\n * @hidden\n */\nvar HeaderCellRenderer = /** @class */ (function (_super) {\n    __extends(HeaderCellRenderer, _super);\n    function HeaderCellRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent\n            .createElement('TH', { className: 'e-headercell', attrs: { role: 'columnheader', tabindex: '-1' } });\n        _this.ariaService = new AriaService();\n        _this.hTxtEle = _this.parent.createElement('span', { className: 'e-headertext' });\n        _this.sortEle = _this.parent.createElement('div', { className: 'e-sortfilterdiv e-icons' });\n        _this.gui = _this.parent.createElement('div');\n        _this.chkAllBox = _this.parent.createElement('input', { className: 'e-checkselectall', attrs: { 'type': 'checkbox', 'aria-label': 'checkbox' } });\n        return _this;\n    }\n    /**\n     * Function to return the wrapper for the TH content.\n     *\n     * @returns {string | Element} returns the element\n     */\n    HeaderCellRenderer.prototype.getGui = function () {\n        return this.gui.cloneNode();\n    };\n    /**\n     * Function to render the cell content based on Column object.\n     *\n     * @param {Cell} cell - specifies the column\n     * @param {Object} data - specifies the data\n     * @param {object} attributes - specifies the aattributes\n     * @returns {Element} returns the element\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    HeaderCellRenderer.prototype.render = function (cell, data, attributes) {\n        var node = this.element.cloneNode();\n        var fltrMenuEle = this.parent.createElement('div', { className: 'e-filtermenudiv e-icons e-icon-filter' });\n        return this.prepareHeader(cell, node, fltrMenuEle);\n    };\n    /**\n     * Function to refresh the cell content based on Column object.\n     *\n     * @param  {Cell} cell - specifies the cell\n     * @param  {Element} node - specifies the noe\n     * @returns {Element} returns the element\n     */\n    HeaderCellRenderer.prototype.refresh = function (cell, node) {\n        this.clean(node);\n        var fltrMenuEle = this.parent.createElement('div', { className: 'e-filtermenudiv e-icons e-icon-filter' });\n        return this.prepareHeader(cell, node, fltrMenuEle);\n    };\n    HeaderCellRenderer.prototype.clean = function (node) {\n        node.innerHTML = '';\n    };\n    /* tslint:disable-next-line:max-func-body-length */\n    HeaderCellRenderer.prototype.prepareHeader = function (cell, node, fltrMenuEle) {\n        var column = cell.column;\n        var ariaAttr = {};\n        //Prepare innerHtml\n        var innerDIV = this.getGui();\n        var hValueAccer;\n        attributes(innerDIV, {\n            'e-mappinguid': column.uid,\n            'class': 'e-headercelldiv'\n        });\n        if (!isNullOrUndefined(column.headerValueAccessor)) {\n            hValueAccer = this.getValue(column.headerText, column);\n        }\n        if (column.type !== 'checkbox') {\n            var value = column.headerText;\n            if (!isNullOrUndefined(hValueAccer)) {\n                value = hValueAccer;\n            }\n            var headerText = this.hTxtEle.cloneNode();\n            headerText[column.getDomSetter()] = value;\n            innerDIV.appendChild(headerText);\n        }\n        else {\n            column.editType = 'booleanedit';\n            var checkAllWrap = createCheckBox(this.parent.createElement, false, { checked: false, label: ' ' });\n            this.chkAllBox.id = 'checkbox-' + column.uid;\n            checkAllWrap.insertBefore(this.chkAllBox.cloneNode(), checkAllWrap.firstChild);\n            innerDIV.appendChild(checkAllWrap);\n            innerDIV.classList.add('e-headerchkcelldiv');\n        }\n        this.buildAttributeFromCell(node, cell);\n        this.appendHtml(node, innerDIV);\n        node.appendChild(this.sortEle.cloneNode());\n        if ((this.parent.allowFiltering && this.parent.filterSettings.type !== 'FilterBar') &&\n            (column.allowFiltering && !isNullOrUndefined(column.field)) &&\n            !(this.parent.showColumnMenu && column.showColumnMenu)) {\n            attributes(fltrMenuEle, {\n                'e-mappinguid': 'e-flmenu-' + column.uid\n            });\n            node.classList.add('e-fltr-icon');\n            var matchFlColumns = [];\n            if (this.parent.filterSettings.columns.length && this.parent.filterSettings.columns.length !== matchFlColumns.length) {\n                var foreignColumn = this.parent.getForeignKeyColumns();\n                for (var index = 0; index < this.parent.columns.length; index++) {\n                    for (var count = 0; count < this.parent.filterSettings.columns.length; count++) {\n                        if (this.parent.filterSettings.columns[count].field === column.field || (foreignColumn.length\n                            && column.foreignKeyValue === this.parent.filterSettings.columns[count].field)) {\n                            fltrMenuEle.classList.add('e-filtered');\n                            matchFlColumns.push(column.field);\n                            break;\n                        }\n                    }\n                }\n            }\n            node.appendChild(fltrMenuEle.cloneNode());\n        }\n        if (cell.className) {\n            node.classList.add(cell.className);\n        }\n        if (column.customAttributes) {\n            setStyleAndAttributes(node, column.customAttributes);\n        }\n        if (column.allowSorting) {\n            ariaAttr.sort = 'none';\n        }\n        if (column.allowGrouping) {\n            ariaAttr.grabbed = false;\n        }\n        node = this.extendPrepareHeader(column, node);\n        var result;\n        var gridObj = this.parent;\n        var colIndex = gridObj.getColumnIndexByField(column.field);\n        if (!isNullOrUndefined(column.headerTemplate)) {\n            //need to pass the template id for blazor headertemplate\n            var headerTempID = gridObj.element.id + column.uid + 'headerTemplate';\n            var str = 'isStringTemplate';\n            var col = column;\n            var isReactCompiler = this.parent.isReact && typeof (column.headerTemplate) !== 'string';\n            if (isReactCompiler) {\n                var copied = { 'index': colIndex };\n                node.firstElementChild.innerHTML = '';\n                column.getHeaderTemplate()(extend(copied, col), gridObj, 'headerTemplate', headerTempID, this.parent[str], null, node.firstElementChild);\n                this.parent.renderTemplates();\n            }\n            else {\n                result = column.getHeaderTemplate()(extend({ 'index': colIndex }, col), gridObj, 'headerTemplate', headerTempID, this.parent[str], undefined, undefined, this.parent['root']);\n                node.firstElementChild.innerHTML = '';\n                appendChildren(node.firstElementChild, result);\n            }\n        }\n        this.ariaService.setOptions(node, ariaAttr);\n        if (!isNullOrUndefined(column.headerTextAlign) || !isNullOrUndefined(column.textAlign)) {\n            var alignment = column.headerTextAlign || column.textAlign;\n            innerDIV.style.textAlign = alignment;\n            if (alignment === 'Right' || alignment === 'Left') {\n                node.classList.add(alignment === 'Right' ? 'e-rightalign' : 'e-leftalign');\n            }\n            else if (alignment === 'Center') {\n                node.classList.add('e-centeralign');\n            }\n        }\n        if (column.clipMode === 'Clip' || (!column.clipMode && this.parent.clipMode === 'Clip')) {\n            node.classList.add('e-gridclip');\n        }\n        else if (column.clipMode === 'EllipsisWithTooltip' || (!column.clipMode && this.parent.clipMode === 'EllipsisWithTooltip')) {\n            if (column.type !== 'checkbox') {\n                node.classList.add('e-ellipsistooltip');\n            }\n        }\n        node.setAttribute('aria-rowspan', (!isNullOrUndefined(cell.rowSpan) ? cell.rowSpan : 1).toString());\n        node.setAttribute('aria-colspan', '1');\n        this.parent.trigger(headerCellInfo, { cell: cell, node: node });\n        return node;\n    };\n    HeaderCellRenderer.prototype.getValue = function (field, column) {\n        return column.headerValueAccessor(field, column);\n    };\n    HeaderCellRenderer.prototype.extendPrepareHeader = function (column, node) {\n        if (this.parent.showColumnMenu && column.showColumnMenu && !isNullOrUndefined(column.field)) {\n            var element = (this.parent.createElement('div', { className: 'e-icons e-columnmenu' }));\n            var matchFilteredColumns = [];\n            if (this.parent.filterSettings.columns.length && this.parent.filterSettings.columns.length !== matchFilteredColumns.length) {\n                for (var i = 0; i < this.parent.columns.length; i++) {\n                    for (var j = 0; j < this.parent.filterSettings.columns.length; j++) {\n                        if (this.parent.filterSettings.columns[j].field === column.field) {\n                            element.classList.add('e-filtered');\n                            matchFilteredColumns.push(column.field);\n                            break;\n                        }\n                    }\n                }\n            }\n            node.classList.add('e-fltr-icon');\n            node.appendChild(element);\n        }\n        if (this.parent.allowResizing) {\n            var handler = this.parent.createElement('div');\n            handler.className = column.allowResizing ? 'e-rhandler e-rcursor' : 'e-rsuppress';\n            node.appendChild(handler);\n        }\n        return node;\n    };\n    /**\n     * Function to specifies how the result content to be placed in the cell.\n     *\n     * @param  {Element} node - specifies the node\n     * @param  {string|Element} innerHtml - specifies the innerHtml\n     * @returns {Element} returns the element\n     */\n    HeaderCellRenderer.prototype.appendHtml = function (node, innerHtml) {\n        node.appendChild(innerHtml);\n        return node;\n    };\n    return HeaderCellRenderer;\n}(CellRenderer));\nexport { HeaderCellRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { CellRenderer } from './cell-renderer';\nimport { headerCellInfo } from '../base/constant';\nimport { setStyleAndAttributes, appendChildren } from '../base/util';\n/**\n * StackedHeaderCellRenderer class which responsible for building stacked header cell content.\n *\n * @hidden\n */\nvar StackedHeaderCellRenderer = /** @class */ (function (_super) {\n    __extends(StackedHeaderCellRenderer, _super);\n    function StackedHeaderCellRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent.createElement('TH', {\n            className: 'e-headercell e-stackedheadercell', attrs: {\n                role: 'columnheader',\n                tabindex: '-1'\n            }\n        });\n        return _this;\n    }\n    /**\n     * Function to render the cell content based on Column object.\n     *\n     * @param {Cell<Column>} cell - specifies the cell\n     * @param {Object} data - specifies the data\n     * @param {object} attributes - specifies the attributes\n     * @returns {Element} returns the element\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    StackedHeaderCellRenderer.prototype.render = function (cell, data, attributes) {\n        var node = this.element.cloneNode();\n        var div = this.parent.createElement('div', {\n            className: 'e-stackedheadercelldiv',\n            attrs: { 'e-mappinguid': cell.column.uid }\n        });\n        var column = cell.column;\n        node.appendChild(div);\n        if (!isNullOrUndefined(column.headerTemplate)) {\n            appendChildren(div, column.getHeaderTemplate()(column, this.parent, 'headerTemplate'));\n        }\n        else {\n            this.appendHtml(div, column.headerText, column.getDomSetter());\n        }\n        if (cell.column.toolTip) {\n            node.setAttribute('title', cell.column.toolTip);\n        }\n        if (column.clipMode === 'Clip' || (!column.clipMode && this.parent.clipMode === 'Clip')) {\n            node.classList.add('e-gridclip');\n        }\n        else if (column.clipMode === 'EllipsisWithTooltip' || (!column.clipMode && this.parent.clipMode === 'EllipsisWithTooltip')) {\n            node.classList.add('e-ellipsistooltip');\n        }\n        if (!isNullOrUndefined(cell.column.textAlign)) {\n            div.style.textAlign = cell.column.textAlign;\n        }\n        if (cell.column.customAttributes) {\n            setStyleAndAttributes(node, cell.column.customAttributes);\n        }\n        node.setAttribute('colspan', cell.colSpan.toString());\n        node.setAttribute('aria-colspan', cell.colSpan.toString());\n        node.setAttribute('aria-rowspan', '1');\n        if (this.parent.allowResizing) {\n            var handler = this.parent.createElement('div');\n            handler.className = cell.column.allowResizing ? 'e-rhandler e-rcursor' : 'e-rsuppress';\n            node.appendChild(handler);\n        }\n        if (cell.className) {\n            node.classList.add(cell.className);\n        }\n        this.parent.trigger(headerCellInfo, { cell: cell, node: node });\n        return node;\n    };\n    return StackedHeaderCellRenderer;\n}(CellRenderer));\nexport { StackedHeaderCellRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { setStyleAndAttributes } from '../base/util';\nimport { CellRenderer } from './cell-renderer';\n/**\n * IndentCellRenderer class which responsible for building group indent cell.\n *\n * @hidden\n */\nvar IndentCellRenderer = /** @class */ (function (_super) {\n    __extends(IndentCellRenderer, _super);\n    function IndentCellRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent.createElement('TD', { className: 'e-indentcell' });\n        return _this;\n    }\n    /**\n     * Function to render the indent cell\n     *\n     * @param  {Cell} cell - specifies the cell\n     * @param  {Object} data - specifies the data\n     * @returns {Element} returns the element\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    IndentCellRenderer.prototype.render = function (cell, data) {\n        var node = this.element.cloneNode();\n        setStyleAndAttributes(node, cell.attributes);\n        return node;\n    };\n    return IndentCellRenderer;\n}(CellRenderer));\nexport { IndentCellRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { CellRenderer } from './cell-renderer';\nimport { appendChildren, templateCompiler } from '../base/util';\n/**\n * GroupCaptionCellRenderer class which responsible for building group caption cell.\n *\n * @hidden\n */\nvar GroupCaptionCellRenderer = /** @class */ (function (_super) {\n    __extends(GroupCaptionCellRenderer, _super);\n    function GroupCaptionCellRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent\n            .createElement('TD', { className: 'e-groupcaption',\n            attrs: { id: _this.parent.element.id + 'captioncell', role: 'gridcell', tabindex: '-1' } });\n        return _this;\n    }\n    /**\n     * Function to render the cell content based on Column object.\n     *\n     * @param  {Cell} cell - specifies the cell\n     * @param  {Object} data - specifies the GroupedData\n     * @returns {Element} returns the element\n     */\n    GroupCaptionCellRenderer.prototype.render = function (cell, data) {\n        var node = this.element.cloneNode();\n        var gObj = this.parent;\n        var result;\n        var fKeyValue;\n        data.headerText = cell.column.headerText;\n        if (cell.isForeignKey) {\n            fKeyValue = this.format(cell.column, cell.column.valueAccessor('foreignKey', data, cell.column));\n        }\n        var value = cell.isForeignKey ? fKeyValue : cell.column.enableGroupByFormat ? data.key :\n            this.format(cell.column, cell.column.valueAccessor('key', data, cell.column));\n        if (!isNullOrUndefined(gObj.groupSettings.captionTemplate)) {\n            var isReactCompiler = this.parent.isReact && typeof (gObj.groupSettings.captionTemplate) !== 'string';\n            if (isReactCompiler) {\n                var tempID = gObj.element.id + 'captionTemplate';\n                templateCompiler(gObj.groupSettings.captionTemplate)(data, this.parent, 'captionTemplate', tempID, null, null, node);\n                this.parent.renderTemplates();\n            }\n            else if (this.parent.isVue) {\n                result = templateCompiler(gObj.groupSettings.captionTemplate)(data, this.parent);\n            }\n            else {\n                result = templateCompiler(gObj.groupSettings.captionTemplate)(data);\n            }\n            if (!isReactCompiler) {\n                appendChildren(node, result);\n            }\n        }\n        else {\n            if (gObj.groupSettings.enableLazyLoading) {\n                node.innerHTML = cell.column.headerText + ': ' + value;\n            }\n            else {\n                node.innerHTML = cell.column.headerText + ': ' + value + ' - ' + data.count + ' ' +\n                    (data.count < 2 ? this.localizer.getConstant('Item') : this.localizer.getConstant('Items'));\n            }\n        }\n        node.setAttribute('colspan', cell.colSpan.toString());\n        node.setAttribute('aria-label', node.innerHTML + ' is groupcaption cell');\n        node.setAttribute('title', node.innerHTML);\n        return node;\n    };\n    return GroupCaptionCellRenderer;\n}(CellRenderer));\nexport { GroupCaptionCellRenderer };\n/**\n * GroupCaptionEmptyCellRenderer class which responsible for building group caption empty cell.\n *\n * @hidden\n */\nvar GroupCaptionEmptyCellRenderer = /** @class */ (function (_super) {\n    __extends(GroupCaptionEmptyCellRenderer, _super);\n    function GroupCaptionEmptyCellRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent.createElement('TD', { className: 'e-groupcaption' });\n        return _this;\n    }\n    /**\n     * Function to render the cell content based on Column object.\n     *\n     * @param {Cell} cell - specifies the cell\n     * @param {Object} data - specifies the Object\n     * @param {string} data.field - Defines the field\n     * @param {string} data.key - Defines the key\n     * @param {number} data.count - Defines the count\n     * @returns {Element} returns the element\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    GroupCaptionEmptyCellRenderer.prototype.render = function (cell, data) {\n        var node = this.element.cloneNode();\n        node.innerHTML = '&nbsp;';\n        node.setAttribute('colspan', cell.colSpan.toString());\n        return node;\n    };\n    return GroupCaptionEmptyCellRenderer;\n}(CellRenderer));\nexport { GroupCaptionEmptyCellRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { IndentCellRenderer } from './indent-cell-renderer';\n/**\n * ExpandCellRenderer class which responsible for building group expand cell.\n *\n * @hidden\n */\nvar ExpandCellRenderer = /** @class */ (function (_super) {\n    __extends(ExpandCellRenderer, _super);\n    function ExpandCellRenderer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Function to render the expand cell\n     *\n     * @param {Cell} cell - specifies the cell\n     * @param {Object} data - specifies the data\n     * @param {string} data.field - Defines the field\n     * @param {string} data.key - Defines the key\n     * @param {Object} attr - specifies the attribute\n     * @param {boolean} isExpand - specifies isexpand\n     * @returns {Element} returns the element\n     */\n    ExpandCellRenderer.prototype.render = function (cell, data, attr, isExpand) {\n        var node = this.element.cloneNode();\n        node.className = isExpand ? 'e-recordplusexpand' : 'e-recordpluscollapse';\n        node.setAttribute('ej-mappingname', data.field);\n        node.setAttribute('ej-mappingvalue', data.key);\n        node.setAttribute('aria-expanded', isExpand ? 'true' : 'false');\n        node.setAttribute('tabindex', '-1');\n        node.appendChild(this.parent.createElement('div', {\n            className: isExpand ? 'e-icons e-gdiagonaldown e-icon-gdownarrow' : 'e-icons e-gnextforward e-icon-grightarrow'\n        }));\n        return node;\n    };\n    return ExpandCellRenderer;\n}(IndentCellRenderer));\nexport { ExpandCellRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { CellRenderer } from './cell-renderer';\n/**\n * HeaderIndentCellRenderer class which responsible for building header indent cell.\n *\n * @hidden\n */\nvar HeaderIndentCellRenderer = /** @class */ (function (_super) {\n    __extends(HeaderIndentCellRenderer, _super);\n    function HeaderIndentCellRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent.createElement('TH', { className: 'e-grouptopleftcell' });\n        return _this;\n    }\n    /**\n     * Function to render the indent cell\n     *\n     * @param  {Cell} cell - specifies the cell\n     * @param  {Object} data - specifies the data\n     * @returns {Element} returns the element\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    HeaderIndentCellRenderer.prototype.render = function (cell, data) {\n        var node = this.element.cloneNode();\n        node.appendChild(this.parent.createElement('div', { className: 'e-headercelldiv e-emptycell', innerHTML: '' }));\n        return node;\n    };\n    return HeaderIndentCellRenderer;\n}(CellRenderer));\nexport { HeaderIndentCellRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { CellRenderer } from './cell-renderer';\n/**\n * DetailHeaderIndentCellRenderer class which responsible for building detail header indent cell.\n *\n * @hidden\n */\nvar DetailHeaderIndentCellRenderer = /** @class */ (function (_super) {\n    __extends(DetailHeaderIndentCellRenderer, _super);\n    function DetailHeaderIndentCellRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent.createElement('TH', { className: 'e-detailheadercell' });\n        return _this;\n    }\n    /**\n     * Function to render the detail indent cell\n     *\n     * @param  {Cell} cell - specifies the cell\n     * @param  {Object} data - specifies the data\n     * @returns {Element} returns the element\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DetailHeaderIndentCellRenderer.prototype.render = function (cell, data) {\n        var node = this.element.cloneNode();\n        node.appendChild(this.parent.createElement('div', { className: 'e-emptycell' }));\n        return node;\n    };\n    return DetailHeaderIndentCellRenderer;\n}(CellRenderer));\nexport { DetailHeaderIndentCellRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { CellRenderer } from './cell-renderer';\n/**\n * ExpandCellRenderer class which responsible for building group expand cell.\n *\n * @hidden\n */\nvar DetailExpandCellRenderer = /** @class */ (function (_super) {\n    __extends(DetailExpandCellRenderer, _super);\n    function DetailExpandCellRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent.createElement('TD', {\n            className: 'e-detailrowcollapse',\n            attrs: { 'aria-expanded': 'false', role: 'gridcell', tabindex: '-1' }\n        });\n        return _this;\n    }\n    /**\n     * Function to render the detail expand cell\n     *\n     * @param {Cell<Column>} cell - specifies the cell\n     * @param {Object} data - specifies the data\n     * @param {Object} attributes - specifies the attributes\n     * @returns {Element} returns the element\n     */\n    DetailExpandCellRenderer.prototype.render = function (cell, data, attributes) {\n        var node = this.element.cloneNode();\n        if (attributes && !isNullOrUndefined(attributes['class'])) {\n            node.className = '';\n            node.className = attributes['class'];\n            node.appendChild(this.parent.createElement('div', { className: 'e-icons e-dtdiagonaldown e-icon-gdownarrow' }));\n        }\n        else {\n            node.appendChild(this.parent.createElement('div', { className: 'e-icons e-dtdiagonalright e-icon-grightarrow' }));\n        }\n        return node;\n    };\n    return DetailExpandCellRenderer;\n}(CellRenderer));\nexport { DetailExpandCellRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { CellRenderer } from './cell-renderer';\n/**\n * ExpandCellRenderer class which responsible for building group expand cell.\n *\n * @hidden\n */\nvar RowDragDropRenderer = /** @class */ (function (_super) {\n    __extends(RowDragDropRenderer, _super);\n    function RowDragDropRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent.createElement('TD', {\n            className: 'e-rowdragdrop e-rowdragdropcell',\n            attrs: { role: 'gridcell', tabindex: '-1' }\n        });\n        return _this;\n    }\n    /**\n     * Function to render the detail expand cell\n     *\n     * @param {Cell<Column>} cell - specifies the cell\n     * @param {Object} data - specifies the data\n     * @returns {Element} returns the element\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    RowDragDropRenderer.prototype.render = function (cell, data) {\n        var nodeElement = this.element.cloneNode();\n        nodeElement.appendChild(this.parent.createElement('div', {\n            className: 'e-icons e-rowcelldrag e-dtdiagonalright e-icon-rowdragicon'\n        }));\n        if (cell.isSelected) {\n            nodeElement.classList.add('e-selectionbackground');\n            nodeElement.classList.add('e-active');\n        }\n        return nodeElement;\n    };\n    return RowDragDropRenderer;\n}(CellRenderer));\nexport { RowDragDropRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { createElement } from '@syncfusion/ej2-base';\nimport { CellRenderer } from './cell-renderer';\n/**\n * DetailHeaderIndentCellRenderer class which responsible for building detail header indent cell.\n *\n * @hidden\n */\nvar RowDragDropHeaderRenderer = /** @class */ (function (_super) {\n    __extends(RowDragDropHeaderRenderer, _super);\n    function RowDragDropHeaderRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent.createElement('TH', { className: 'e-rowdragheader' });\n        return _this;\n    }\n    /**\n     * Function to render the detail indent cell\n     *\n     * @param  {Cell} cell - specifies the cell\n     * @param  {Object} data - specifies the data\n     * @returns {Element} returns the element\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    RowDragDropHeaderRenderer.prototype.render = function (cell, data) {\n        var node = this.element.cloneNode();\n        node.appendChild(createElement('div', { className: 'e-emptycell' }));\n        return node;\n    };\n    return RowDragDropHeaderRenderer;\n}(CellRenderer));\nexport { RowDragDropHeaderRenderer };\n","import { remove, resetBlazorTemplate, blazorTemplates, getValue } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { DataManager, Query, Deferred, Predicate, DataUtil } from '@syncfusion/ej2-data';\nimport { ValueFormatter } from '../services/value-formatter';\nimport { RenderType, CellType } from '../base/enum';\nimport { Data } from '../actions/data';\nimport { Column } from '../models/column';\nimport { Row } from '../models/row';\nimport { Cell } from '../models/cell';\nimport * as events from '../base/constant';\nimport { prepareColumns, setFormatter, isGroupAdaptive, getDatePredicate, getObject, clearReactVueTemplates } from '../base/util';\nimport { ContentRender } from '../renderer/content-renderer';\nimport { HeaderRender } from '../renderer/header-renderer';\nimport { CellRenderer } from '../renderer/cell-renderer';\nimport { HeaderCellRenderer } from '../renderer/header-cell-renderer';\nimport { StackedHeaderCellRenderer } from '../renderer/stacked-cell-renderer';\nimport { IndentCellRenderer } from '../renderer/indent-cell-renderer';\nimport { GroupCaptionCellRenderer, GroupCaptionEmptyCellRenderer } from '../renderer/caption-cell-renderer';\nimport { ExpandCellRenderer } from '../renderer/expand-cell-renderer';\nimport { HeaderIndentCellRenderer } from '../renderer/header-indent-renderer';\nimport { DetailHeaderIndentCellRenderer } from '../renderer/detail-header-indent-renderer';\nimport { DetailExpandCellRenderer } from '../renderer/detail-expand-cell-renderer';\nimport { RowDragDropRenderer } from './row-drag-drop-renderer';\nimport { RowDragDropHeaderRenderer } from '../renderer/row-drag-header-indent-render';\nimport * as literals from '../base/string-literals';\n/**\n * Content module is used to render grid content\n *\n * @hidden\n */\nvar Render = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {ServiceLocator} locator - specifies the serviceLocator\n     */\n    function Render(parent, locator) {\n        this.emptyGrid = false;\n        this.counter = 0;\n        this.parent = parent;\n        this.locator = locator;\n        this.data = new Data(parent, locator);\n        this.l10n = locator.getService('localization');\n        this.ariaService = this.locator.getService('ariaService');\n        this.renderer = this.locator.getService('rendererFactory');\n        this.addEventListener();\n    }\n    /**\n     * To initialize grid header, content and footer rendering\n     *\n     * @returns {void}\n     */\n    Render.prototype.render = function () {\n        var gObj = this.parent;\n        this.headerRenderer = this.renderer.getRenderer(RenderType.Header);\n        this.contentRenderer = this.renderer.getRenderer(RenderType.Content);\n        this.headerRenderer.renderPanel();\n        this.contentRenderer.renderPanel();\n        if (gObj.getColumns().length) {\n            this.isLayoutRendered = true;\n            this.headerRenderer.renderTable();\n            this.contentRenderer.renderTable();\n            this.emptyRow(false);\n        }\n        this.parent.scrollModule.setWidth();\n        this.parent.scrollModule.setHeight();\n        if (this.parent.height !== 'auto') {\n            this.parent.scrollModule.setPadding();\n        }\n        this.refreshDataManager();\n    };\n    /**\n     * Refresh the entire Grid.\n     *\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     */\n    Render.prototype.refresh = function (e) {\n        var _this = this;\n        if (e === void 0) { e = { requestType: 'refresh' }; }\n        var gObj = this.parent;\n        gObj.notify(e.requestType + \"-begin\", e);\n        gObj.trigger(events.actionBegin, e, function (args) {\n            if (args === void 0) { args = { requestType: 'refresh' }; }\n            if (args.cancel) {\n                gObj.notify(events.cancelBegin, args);\n                return;\n            }\n            if (args.requestType === 'delete' && gObj.allowPaging) {\n                var dataLength = args.data.length;\n                var count = gObj.pageSettings.totalRecordsCount - dataLength;\n                var currentViewData = gObj.getCurrentViewRecords().length;\n                // eslint-disable-next-line max-len\n                if (!(currentViewData - dataLength) && count && ((gObj.pageSettings.currentPage - 1) * gObj.pageSettings.pageSize) === count) {\n                    gObj.prevPageMoving = true;\n                    gObj.setProperties({\n                        pageSettings: {\n                            totalRecordsCount: count, currentPage: Math.ceil(count / gObj.pageSettings.pageSize)\n                        }\n                    }, true);\n                    gObj.pagerModule.pagerObj.totalRecordsCount = count;\n                }\n            }\n            if (args.requestType === 'reorder' && _this.parent.dataSource && 'result' in _this.parent.dataSource) {\n                _this.contentRenderer.refreshContentRows(args);\n            }\n            else if ((args.requestType === 'paging' || args.requestType === 'columnstate' || args.requestType === 'reorder')\n                && _this.parent.groupSettings.enableLazyLoading && _this.parent.groupSettings.columns.length\n                && _this.parent.contentModule.getGroupCache()[_this.parent.pageSettings.currentPage]) {\n                _this.contentRenderer.refreshContentRows(args);\n            }\n            else {\n                _this.refreshDataManager(args);\n            }\n        });\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Render.prototype.resetTemplates = function () {\n        var gObj = this.parent;\n        var gridColumns = gObj.getColumns();\n        if (gObj.detailTemplate) {\n            var detailTemplateID = gObj.element.id + 'detailTemplate';\n            blazorTemplates[detailTemplateID] = [];\n            resetBlazorTemplate(detailTemplateID, 'DetailTemplate');\n        }\n        if (gObj.groupSettings.captionTemplate) {\n            resetBlazorTemplate(gObj.element.id + 'captionTemplate', 'CaptionTemplate');\n        }\n        if (gObj.rowTemplate) {\n            resetBlazorTemplate(gObj.element.id + 'rowTemplate', 'RowTemplate');\n        }\n        if (gObj.toolbarTemplate) {\n            resetBlazorTemplate(gObj.element.id + 'toolbarTemplate', 'ToolbarTemplate');\n        }\n        if (gObj.pageSettings.template) {\n            resetBlazorTemplate(gObj.element.id + '_template', 'pageSettings');\n        }\n        for (var i = 0; i < gridColumns.length; i++) {\n            if (gridColumns[i].template) {\n                blazorTemplates[gObj.element.id + gridColumns[i].uid] = [];\n                resetBlazorTemplate(gObj.element.id + gridColumns[i].uid, 'Template');\n            }\n            if (gridColumns[i].headerTemplate) {\n                resetBlazorTemplate(gObj.element.id + gridColumns[i].uid + 'headerTemplate', 'HeaderTemplate');\n            }\n            if (gridColumns[i].filterTemplate) {\n                resetBlazorTemplate(gObj.element.id + gridColumns[i].uid + 'filterTemplate', 'FilterTemplate');\n            }\n        }\n        var guid = 'guid';\n        for (var k = 0; k < gObj.aggregates.length; k++) {\n            for (var j = 0; j < gObj.aggregates[k].columns.length; j++) {\n                if (gObj.aggregates[k].columns[j].footerTemplate) {\n                    var tempID = gObj.element.id + gObj.aggregates[k].columns[j][guid] + 'footerTemplate';\n                    resetBlazorTemplate(tempID, 'FooterTemplate');\n                }\n                if (gObj.aggregates[k].columns[j].groupFooterTemplate) {\n                    var tempID = gObj.element.id + gObj.aggregates[k].columns[j][guid] + 'groupFooterTemplate';\n                    resetBlazorTemplate(tempID, 'GroupFooterTemplate');\n                }\n                if (gObj.aggregates[k].columns[j].groupCaptionTemplate) {\n                    var tempID = gObj.element.id + gObj.aggregates[k].columns[j][guid] + 'groupCaptionTemplate';\n                    resetBlazorTemplate(tempID, 'GroupCaptionTemplate');\n                }\n            }\n        }\n    };\n    Render.prototype.refreshComplete = function (e) {\n        this.parent.trigger(events.actionComplete, e);\n    };\n    /**\n     * The function is used to refresh the dataManager\n     *\n     * @param {NotifyArgs} args - specifies the args\n     * @returns {void}\n     */\n    Render.prototype.refreshDataManager = function (args) {\n        var _this = this;\n        if (args === void 0) { args = {}; }\n        if (args.requestType !== 'virtualscroll' && !args.isCaptionCollapse) {\n            this.parent.showSpinner();\n        }\n        this.parent.notify(events.resetInfiniteBlocks, args);\n        this.emptyGrid = false;\n        var dataManager;\n        var isFActon = this.isNeedForeignAction();\n        this.ariaService.setBusy(this.parent.getContent().querySelector('.' + literals.content), true);\n        if (isFActon) {\n            var deffered = new Deferred();\n            dataManager = this.getFData(deffered, args);\n        }\n        if (!dataManager) {\n            dataManager = this.data.getData(args, this.data.generateQuery().requiresCount());\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            dataManager = dataManager.then(function (e) {\n                var query = _this.data.generateQuery().requiresCount();\n                if (_this.emptyGrid) {\n                    var def = new Deferred();\n                    def.resolve({ result: [], count: 0 });\n                    return def.promise;\n                }\n                return _this.data.getData(args, query);\n            });\n        }\n        if (this.parent.getForeignKeyColumns().length && (!isFActon || this.parent.searchSettings.key.length)) {\n            var deffered_1 = new Deferred();\n            dataManager = dataManager.then(function (e) {\n                _this.parent.notify(events.getForeignKeyData, { dataManager: dataManager, result: e, promise: deffered_1, action: args });\n                return deffered_1.promise;\n            });\n        }\n        if (this.parent.groupSettings.disablePageWiseAggregates && this.parent.groupSettings.columns.length) {\n            dataManager = dataManager.then(function (e) { return _this.validateGroupRecords(e); });\n        }\n        dataManager.then(function (e) { return _this.dataManagerSuccess(e, args); })\n            .catch(function (e) { return _this.dataManagerFailure(e, args); });\n    };\n    Render.prototype.getFData = function (deferred, args) {\n        this.parent.notify(events.getForeignKeyData, { isComplex: true, promise: deferred, action: args });\n        return deferred.promise;\n    };\n    Render.prototype.isNeedForeignAction = function () {\n        var gObj = this.parent;\n        return !!((gObj.allowFiltering && gObj.filterSettings.columns.length) ||\n            (gObj.searchSettings.key.length)) && this.foreignKey(this.parent.getForeignKeyColumns());\n    };\n    Render.prototype.foreignKey = function (columns) {\n        var _this = this;\n        return columns.some(function (col) {\n            var fbool = false;\n            fbool = _this.parent.filterSettings.columns.some(function (value) {\n                return col.uid === value.uid;\n            });\n            return !!(fbool || _this.parent.searchSettings.key.length);\n        });\n    };\n    Render.prototype.sendBulkRequest = function (args) {\n        var _this = this;\n        args.requestType = 'batchsave';\n        var promise = this.data.saveChanges(args.changes, this.parent.getPrimaryKeyFieldNames()[0], args.original);\n        var query = this.data.generateQuery().requiresCount();\n        if (this.data.dataManager.dataSource.offline) {\n            this.refreshDataManager({ requestType: 'batchsave' });\n            return;\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            promise.then(function (e) {\n                _this.data.getData(args, query)\n                    .then(function (e) { return _this.dmSuccess(e, args); })\n                    .catch(function (e) { return _this.dmFailure(e, args); });\n            })\n                .catch(function (e) { return _this.dmFailure(e, args); });\n        }\n    };\n    Render.prototype.dmSuccess = function (e, args) {\n        this.dataManagerSuccess(e, args);\n    };\n    Render.prototype.dmFailure = function (e, args) {\n        this.dataManagerFailure(e, args);\n    };\n    /**\n     * Render empty row to Grid which is used at the time to represent to no records.\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Render.prototype.renderEmptyRow = function () {\n        this.emptyRow(true);\n    };\n    Render.prototype.emptyRow = function (isTrigger) {\n        var gObj = this.parent;\n        var tbody = this.contentRenderer.getTable().querySelector(literals.tbody);\n        if (!isNullOrUndefined(tbody)) {\n            remove(tbody);\n        }\n        tbody = this.parent.createElement(literals.tbody, { attrs: { role: 'rowgroup' } });\n        var spanCount = 0;\n        if (gObj.detailTemplate || gObj.childGrid) {\n            ++spanCount;\n        }\n        var tr = this.parent.createElement('tr', { className: 'e-emptyrow', attrs: { role: 'row' } });\n        tr.appendChild(this.parent.createElement('td', {\n            innerHTML: this.l10n.getConstant('EmptyRecord'),\n            attrs: { colspan: (gObj.getVisibleColumns().length + spanCount + gObj.groupSettings.columns.length).toString() }\n        }));\n        tbody.appendChild(tr);\n        this.contentRenderer.renderEmpty(tbody);\n        if (isTrigger) {\n            this.parent.trigger(events.dataBound, {});\n            this.parent.notify(events.onEmpty, { rows: [new Row({ isDataRow: true, cells: [new Cell({ isDataCell: true, visible: true })] })] });\n        }\n    };\n    Render.prototype.dynamicColumnChange = function () {\n        if (this.parent.getCurrentViewRecords().length) {\n            this.updateColumnType(this.parent.getCurrentViewRecords()[0]);\n        }\n    };\n    Render.prototype.updateColumnType = function (record) {\n        var columns = this.parent.getColumns();\n        var value;\n        var cFormat = 'customFormat';\n        var equalTo = 'equalTo';\n        var data = record && record.items ? record.items[0] : record;\n        var fmtr = this.locator.getService('valueFormatter');\n        for (var i = 0, len = columns.length; i < len; i++) {\n            value = getObject(columns[i].field || '', data);\n            if (!isNullOrUndefined(columns[i][cFormat])) {\n                columns[i].format = columns[i][cFormat];\n            }\n            if (!isNullOrUndefined(columns[i].validationRules) && !isNullOrUndefined(columns[i].validationRules[equalTo])) {\n                columns[i].validationRules[equalTo][0] = this.parent.element.id + columns[i].validationRules[equalTo][0];\n            }\n            if (columns[i].isForeignColumn() && columns[i].columnData) {\n                value = getObject(columns[i].foreignKeyValue || '', columns[i].columnData[0]);\n            }\n            if (!isNullOrUndefined(value)) {\n                this.isColTypeDef = true;\n                if (!columns[i].type) {\n                    columns[i].type = value.getDay ? (value.getHours() > 0 || value.getMinutes() > 0 ||\n                        value.getSeconds() > 0 || value.getMilliseconds() > 0 ? 'datetime' : 'date') : typeof (value);\n                }\n            }\n            else {\n                columns[i].type = columns[i].type || null;\n            }\n            var valueFormatter = new ValueFormatter();\n            if (columns[i].format && (columns[i].format.skeleton || (columns[i].format.format &&\n                typeof columns[i].format.format === 'string'))) {\n                columns[i].setFormatter(valueFormatter.getFormatFunction(extend({}, columns[i].format)));\n                columns[i].setParser(valueFormatter.getParserFunction(columns[i].format));\n            }\n            if (typeof (columns[i].format) === 'string') {\n                setFormatter(this.locator, columns[i]);\n            }\n            else if (!columns[i].format && columns[i].type === 'number') {\n                columns[i].setParser(fmtr.getParserFunction({ format: 'n2' }));\n            }\n        }\n    };\n    /**\n     * @param {ReturnType} e - specifies the return type\n     * @param {NotifyArgs} args - specifies the Notifyargs\n     * @returns {void}\n     * @hidden\n     */\n    // tslint:disable-next-line:max-func-body-length\n    Render.prototype.dataManagerSuccess = function (e, args) {\n        var _this = this;\n        var gObj = this.parent;\n        this.contentRenderer = this.renderer.getRenderer(RenderType.Content);\n        this.headerRenderer = this.renderer.getRenderer(RenderType.Header);\n        e.actionArgs = args;\n        var isInfiniteDelete = this.parent.enableInfiniteScrolling && !this.parent.infiniteScrollSettings.enableCache\n            && (args.requestType === 'delete' || (args.requestType === 'save' && this.parent.infiniteScrollModule.requestType === 'add'));\n        // tslint:disable-next-line:max-func-body-length\n        gObj.trigger(events.beforeDataBound, e, function (dataArgs) {\n            if (dataArgs.cancel) {\n                return;\n            }\n            dataArgs.result = isNullOrUndefined(dataArgs.result) ? [] : dataArgs.result;\n            var len = Object.keys(dataArgs.result).length;\n            if (_this.parent.isDestroyed) {\n                return;\n            }\n            if ((!gObj.getColumns().length && !len) && !(gObj.columns.length && gObj.columns[0] instanceof Column)) {\n                gObj.hideSpinner();\n                return;\n            }\n            if (_this.isInfiniteEnd(args) && !len) {\n                _this.parent.notify(events.infiniteEditHandler, { e: args, result: e.result, count: e.count, agg: e.aggregates });\n                return;\n            }\n            _this.parent.isEdit = false;\n            _this.parent.notify(events.editReset, {});\n            _this.parent.notify(events.tooltipDestroy, {});\n            _this.contentRenderer.prevCurrentView = _this.parent.currentViewData.slice();\n            gObj.currentViewData = dataArgs.result;\n            gObj.notify(events.refreshInfiniteCurrentViewData, { args: args, data: dataArgs.result });\n            if (!len && dataArgs.count && gObj.allowPaging && args && args.requestType !== 'delete') {\n                if (_this.parent.groupSettings.enableLazyLoading\n                    && (args.requestType === 'grouping' || args.requestType === 'ungrouping')) {\n                    _this.parent.notify(events.groupComplete, args);\n                }\n                gObj.prevPageMoving = true;\n                gObj.pageSettings.totalRecordsCount = dataArgs.count;\n                if (args.requestType !== 'paging') {\n                    gObj.pageSettings.currentPage = Math.ceil(dataArgs.count / gObj.pageSettings.pageSize);\n                }\n                gObj.dataBind();\n                return;\n            }\n            if ((!gObj.getColumns().length && len || !_this.isLayoutRendered) && !isGroupAdaptive(gObj)) {\n                _this.updatesOnInitialRender(dataArgs);\n            }\n            if (!_this.isColTypeDef && gObj.getCurrentViewRecords()) {\n                if (_this.data.dataManager.dataSource.offline && gObj.dataSource && gObj.dataSource.length) {\n                    _this.updateColumnType(gObj.dataSource[0]);\n                }\n                else {\n                    _this.updateColumnType(gObj.getCurrentViewRecords()[0]);\n                }\n            }\n            if (!_this.parent.isInitialLoad && _this.parent.groupSettings.disablePageWiseAggregates &&\n                !_this.parent.groupSettings.columns.length) {\n                dataArgs.result = _this.parent.dataSource instanceof Array ? _this.parent.dataSource : _this.parent.currentViewData;\n            }\n            if ((_this.parent.isReact || _this.parent.isVue) && !isNullOrUndefined(args) && args.requestType !== 'infiniteScroll' && !args.isFrozen) {\n                clearReactVueTemplates(_this.parent, ['footerTemplate']);\n            }\n            _this.parent.notify(events.dataReady, extend({ count: dataArgs.count, result: dataArgs.result, aggregates: dataArgs.aggregates }, args));\n            if ((gObj.groupSettings.columns.length || (args && args.requestType === 'ungrouping'))\n                && (args && args.requestType !== 'filtering')) {\n                _this.headerRenderer.refreshUI();\n            }\n            if (len) {\n                if (isGroupAdaptive(gObj)) {\n                    var content = 'content';\n                    args.scrollTop = { top: _this.contentRenderer[content].scrollTop };\n                }\n                if (!isInfiniteDelete) {\n                    if (_this.parent.enableImmutableMode) {\n                        _this.contentRenderer.immutableModeRendering(args);\n                    }\n                    else {\n                        _this.contentRenderer.refreshContentRows(args);\n                    }\n                }\n                else {\n                    _this.parent.notify(events.infiniteEditHandler, { e: args, result: e.result, count: e.count, agg: e.aggregates });\n                }\n            }\n            else {\n                if (args && args.isCaptionCollapse) {\n                    return;\n                }\n                if (!gObj.getColumns().length) {\n                    gObj.element.innerHTML = '';\n                    alert(_this.l10n.getConstant('EmptyDataSourceError')); //ToDO: change this alert as dialog\n                    return;\n                }\n                _this.contentRenderer.setRowElements([]);\n                _this.contentRenderer.setRowObjects([]);\n                _this.ariaService.setBusy(_this.parent.getContent().querySelector('.' + literals.content), false);\n                _this.renderEmptyRow();\n                if (args) {\n                    var action = (args.requestType || '').toLowerCase() + '-complete';\n                    _this.parent.notify(action, args);\n                    if (args.requestType === 'batchsave') {\n                        args.cancel = false;\n                        args.rows = [];\n                        args.isFrozen = _this.parent.getFrozenColumns() !== 0 && !args.isFrozen;\n                        _this.parent.trigger(events.actionComplete, args);\n                    }\n                }\n                _this.parent.hideSpinner();\n            }\n            _this.parent.notify(events.toolbarRefresh, {});\n            _this.setRowCount(_this.parent.getCurrentViewRecords().length);\n            _this.parent.getDataModule().isQueryInvokedFromData = false;\n        });\n    };\n    /**\n     * @param {object} e - specifies the object\n     * @param {Object[]} e.result - specifies the result\n     * @param {NotifyArgs} args - specifies the args\n     * @returns {void}\n     * @hidden\n     */\n    Render.prototype.dataManagerFailure = function (e, args) {\n        this.ariaService.setOptions(this.parent.getContent().querySelector('.' + literals.content), { busy: false, invalid: true });\n        this.setRowCount(1);\n        this.parent.trigger(events.actionFailure, { error: e });\n        this.parent.hideSpinner();\n        if (args.requestType === 'save' || args.requestType === 'delete'\n            || args.name === 'bulk-save') {\n            return;\n        }\n        this.parent.currentViewData = [];\n        this.renderEmptyRow();\n        this.parent.log('actionfailure', { error: e });\n    };\n    Render.prototype.setRowCount = function (dataRowCount) {\n        this.ariaService.setOptions(this.parent.getHeaderTable(), {\n            rowcount: dataRowCount ? dataRowCount.toString() : '1'\n        });\n    };\n    Render.prototype.isInfiniteEnd = function (args) {\n        return this.parent.enableInfiniteScrolling && !this.parent.infiniteScrollSettings.enableCache && args.requestType === 'delete';\n    };\n    Render.prototype.updatesOnInitialRender = function (e) {\n        this.isLayoutRendered = true;\n        if (this.parent.columns.length < 1) {\n            this.buildColumns(e.result[0]);\n        }\n        prepareColumns(this.parent.columns, null, this.parent);\n        this.headerRenderer.renderTable();\n        this.contentRenderer.renderTable();\n        this.parent.isAutoGen = true;\n        this.parent.notify(events.autoCol, {});\n    };\n    Render.prototype.iterateComplexColumns = function (obj, field, split) {\n        var keys = Object.keys(obj);\n        for (var i = 0; i < keys.length; i++) {\n            var childKeys = typeof obj[keys[i]] === 'object' && obj[keys[i]] && !(obj[keys[i]] instanceof Date) ?\n                Object.keys(obj[keys[i]]) : [];\n            if (childKeys.length) {\n                this.iterateComplexColumns(obj[keys[i]], field + (keys[i] + '.'), split);\n            }\n            else {\n                split[this.counter] = field + keys[i];\n                this.counter++;\n            }\n        }\n    };\n    Render.prototype.buildColumns = function (record) {\n        var cols = [];\n        var complexCols = {};\n        this.iterateComplexColumns(record, '', complexCols);\n        var columns = Object.keys(complexCols).filter(function (e) { return complexCols[e] !== 'BlazId'; }).\n            map(function (field) { return complexCols[field]; });\n        for (var i = 0, len = columns.length; i < len; i++) {\n            cols[i] = { 'field': columns[i] };\n            if (this.parent.enableColumnVirtualization) {\n                cols[i].width = !isNullOrUndefined(cols[i].width) ? cols[i].width : 200;\n            }\n        }\n        this.parent.setProperties({ 'columns': cols }, true);\n    };\n    Render.prototype.instantiateRenderer = function () {\n        this.renderer.addRenderer(RenderType.Header, new HeaderRender(this.parent, this.locator));\n        this.renderer.addRenderer(RenderType.Content, new ContentRender(this.parent, this.locator));\n        var cellrender = this.locator.getService('cellRendererFactory');\n        cellrender.addCellRenderer(CellType.Header, new HeaderCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.Data, new CellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.StackedHeader, new StackedHeaderCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.Indent, new IndentCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.GroupCaption, new GroupCaptionCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.GroupCaptionEmpty, new GroupCaptionEmptyCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.Expand, new ExpandCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.HeaderIndent, new HeaderIndentCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.StackedHeader, new StackedHeaderCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.DetailHeader, new DetailHeaderIndentCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.RowDragHIcon, new RowDragDropHeaderRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.DetailExpand, new DetailExpandCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.DetailFooterIntent, new IndentCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.RowDragIcon, new RowDragDropRenderer(this.parent, this.locator));\n    };\n    Render.prototype.addEventListener = function () {\n        var _this = this;\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.initialLoad, this.instantiateRenderer, this);\n        this.parent.on('refreshdataSource', this.dataManagerSuccess, this);\n        this.parent.on(events.modelChanged, this.refresh, this);\n        this.parent.on(events.refreshComplete, this.refreshComplete, this);\n        this.parent.on(events.bulkSave, this.sendBulkRequest, this);\n        this.parent.on(events.showEmptyGrid, function () { _this.emptyGrid = true; }, this);\n        this.parent.on(events.autoCol, this.dynamicColumnChange, this);\n    };\n    /**\n     * @param {ReturnType} e - specifies the Return type\n     * @returns {Promise<Object>} returns the object\n     * @hidden\n     */\n    Render.prototype.validateGroupRecords = function (e) {\n        var _this = this;\n        var index = e.result.length - 1;\n        if (index < 0) {\n            return Promise.resolve(e);\n        }\n        var group0 = e.result[0];\n        var groupN = e.result[index];\n        var predicate = [];\n        var addWhere = function (input) {\n            var groups = [group0, groupN];\n            for (var i = 0; i < groups.length; i++) {\n                predicate.push(new Predicate('field', '==', groups[i].field).and(_this.getPredicate('key', 'equal', groups[i].key)));\n            }\n            input.where(Predicate.or(predicate));\n        };\n        var query = new Query();\n        addWhere(query);\n        var curDm = new DataManager(e.result);\n        var curFilter = curDm.executeLocal(query);\n        var newQuery = this.data.generateQuery(true);\n        var rPredicate = [];\n        if (this.data.isRemote()) {\n            var groups = [group0, groupN];\n            for (var i = 0; i < groups.length; i++) {\n                rPredicate.push(this.getPredicate(groups[i].field, 'equal', groups[i].key));\n            }\n            newQuery.where(Predicate.or(rPredicate));\n        }\n        else {\n            addWhere(newQuery);\n        }\n        var deferred = new Deferred();\n        this.data.getData({}, newQuery).then(function (r) {\n            _this.updateGroupInfo(curFilter, r.result);\n            deferred.resolve(e);\n        }).catch(function (e) { return deferred.reject(e); });\n        return deferred.promise;\n    };\n    Render.prototype.getPredicate = function (key, operator, value) {\n        if (value instanceof Date) {\n            return getDatePredicate({ field: key, operator: operator, value: value });\n        }\n        return new Predicate(key, operator, value);\n    };\n    Render.prototype.updateGroupInfo = function (current, untouched) {\n        var dm = new DataManager(untouched);\n        var elements = current;\n        for (var i = 0; i < elements.length; i++) {\n            var uGroup = dm.executeLocal(new Query()\n                .where(new Predicate('field', '==', elements[i].field).and(this.getPredicate('key', 'equal', elements[i].key))))[0];\n            elements[i].count = uGroup.count;\n            var itemGroup = elements[i].items;\n            var uGroupItem = uGroup.items;\n            if (itemGroup.GroupGuid) {\n                elements[i].items = this.updateGroupInfo(elements[i].items, uGroup.items);\n            }\n            var rows = this.parent.aggregates;\n            for (var j = 0; j < rows.length; j++) {\n                var row = rows[j];\n                for (var k = 0; k < row.columns.length; k++) {\n                    var types = row.columns[k].type instanceof Array ? (row.columns[k].type) :\n                        [(row.columns[k].type)];\n                    for (var l = 0; l < types.length; l++) {\n                        var key = row.columns[k].field + ' - ' + types[l].toLowerCase();\n                        var data = itemGroup.level ? uGroupItem.records : uGroup.items;\n                        var context = this.parent;\n                        if (types[l] === 'Custom') {\n                            var data_1 = itemGroup.level ? uGroupItem : uGroup;\n                            var temp = row.columns[k].customAggregate;\n                            if (typeof temp === 'string') {\n                                temp = getValue(temp, window);\n                            }\n                            elements[i].aggregates[key] = temp ? temp.call(context, data_1, row.columns[k]) : '';\n                        }\n                        else {\n                            // eslint-disable-next-line max-len\n                            elements[i].aggregates[key] = DataUtil.aggregates[types[l].toLowerCase()](data, row.columns[k].field);\n                        }\n                    }\n                }\n            }\n        }\n        return current;\n    };\n    return Render;\n}());\nexport { Render };\n","import { isNullOrUndefined, getEnumValue } from '@syncfusion/ej2-base';\nimport { CellType } from '../base/enum';\n/**\n * CellRendererFactory\n *\n * @hidden\n */\nvar CellRendererFactory = /** @class */ (function () {\n    function CellRendererFactory() {\n        this.cellRenderMap = {};\n    }\n    CellRendererFactory.prototype.addCellRenderer = function (name, type) {\n        name = typeof name === 'string' ? name : getEnumValue(CellType, name);\n        if (isNullOrUndefined(this.cellRenderMap[name])) {\n            this.cellRenderMap[name] = type;\n        }\n    };\n    CellRendererFactory.prototype.getCellRenderer = function (name) {\n        name = typeof name === 'string' ? name : getEnumValue(CellType, name);\n        if (isNullOrUndefined(this.cellRenderMap[name])) {\n            // eslint-disable-next-line no-throw-literal\n            throw \"The cellRenderer \" + name + \" is not found\";\n        }\n        else {\n            return this.cellRenderMap[name];\n        }\n    };\n    return CellRendererFactory;\n}());\nexport { CellRendererFactory };\n","import { Dialog } from '@syncfusion/ej2-popups';\nimport { EventHandler, remove } from '@syncfusion/ej2-base';\nimport { parentsUntil, addBiggerDialog, addRemoveEventListener } from '../base/util';\nimport * as events from '../base/constant';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { ResponsiveDialogAction } from '../base/enum';\n/**\n *\n * The `ResponsiveDialogRenderer` module is used to render the responsive dialogs.\n */\nvar ResponsiveDialogRenderer = /** @class */ (function () {\n    function ResponsiveDialogRenderer(parent, serviceLocator) {\n        this.sortedCols = [];\n        this.sortPredicate = [];\n        /** @hidden */\n        this.isCustomDialog = false;\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        this.addEventListener();\n    }\n    ResponsiveDialogRenderer.prototype.addEventListener = function () {\n        this.evtHandlers = [{ event: events.filterDialogClose, handler: this.closeCustomDialog },\n            { event: events.refreshCustomFilterOkBtn, handler: this.refreshCustomFilterOkBtn },\n            { event: events.renderResponsiveCmenu, handler: this.renderResponsiveContextMenu },\n            { event: events.filterCmenuSelect, handler: this.renderCustomFilterDiv },\n            { event: events.customFilterClose, handler: this.customExFilterClose },\n            { event: events.refreshCustomFilterClearBtn, handler: this.refreshCustomFilterClearBtn }];\n        addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n        this.onActionCompleteFn = this.editComplate.bind(this);\n        this.parent.addEventListener(events.actionComplete, this.onActionCompleteFn);\n    };\n    ResponsiveDialogRenderer.prototype.customExFilterClose = function () {\n        this.isCustomDlgRender = false;\n    };\n    ResponsiveDialogRenderer.prototype.renderCustomFilterDiv = function () {\n        var header = this.customResponsiveDlg.element.querySelector('.e-dlg-header-content');\n        var title = header.querySelector('.e-dlg-custom-header');\n        var closeBtn = header.querySelector('.e-dlg-closeicon-btn');\n        this.isCustomDlgRender = true;\n        this.parent.filterModule.filterModule.closeDialog();\n        this.saveBtn.element.style.display = '';\n        this.refreshCustomFilterOkBtn({ disabled: false });\n        this.backBtn.element.style.display = 'none';\n        closeBtn.style.display = '';\n        title.innerHTML = this.parent.localeObj.getConstant('CustomFilter');\n        var content = this.customResponsiveDlg.element.querySelector('.e-dlg-content');\n        this.customExcelFilterParent = this.parent.createElement('div', { className: 'e-xl-customfilterdiv e-default-filter' });\n        content.appendChild(this.customExcelFilterParent);\n    };\n    ResponsiveDialogRenderer.prototype.renderResponsiveContextMenu = function (args) {\n        if (this.action === ResponsiveDialogAction.isFilter) {\n            var content = this.customResponsiveDlg.element.querySelector('.e-dlg-content');\n            var header = this.customResponsiveDlg.element.querySelector('.e-dlg-header-content');\n            var closeBtn = header.querySelector('.e-dlg-closeicon-btn');\n            var text = header.querySelector('.e-dlg-custom-header');\n            if (args.isOpen) {\n                content.firstChild.style.display = 'none';\n                content.appendChild(args.target);\n                closeBtn.style.display = 'none';\n                this.saveBtn.element.style.display = 'none';\n                this.filterClearBtn.element.style.display = 'none';\n                text.innerHTML = args.header;\n                var backBtn = this.parent.createElement('button');\n                var span = this.parent.createElement('span', { className: 'e-btn-icon e-resfilterback e-icons' });\n                backBtn.appendChild(span);\n                this.backBtn = new Button({\n                    cssClass: 'e-res-back-btn'\n                });\n                this.backBtn.appendTo(backBtn);\n                text.parentElement.insertBefore(backBtn, text);\n            }\n            else if (this.backBtn && !this.isCustomDlgRender) {\n                content.firstChild.style.display = '';\n                remove(this.backBtn.element);\n                closeBtn.style.display = '';\n                this.saveBtn.element.style.display = '';\n                if (this.isFiltered) {\n                    this.filterClearBtn.element.style.display = '';\n                }\n                text.innerHTML = this.getHeaderTitle({ action: ResponsiveDialogAction.isFilter }, args.col);\n            }\n        }\n    };\n    ResponsiveDialogRenderer.prototype.refreshCustomFilterClearBtn = function (args) {\n        if (this.filterClearBtn) {\n            this.isFiltered = args.isFiltered;\n            this.filterClearBtn.element.style.display = args.isFiltered ? '' : 'none';\n        }\n    };\n    ResponsiveDialogRenderer.prototype.refreshCustomFilterOkBtn = function (args) {\n        if (this.saveBtn) {\n            this.saveBtn.disabled = args.disabled;\n        }\n    };\n    ResponsiveDialogRenderer.prototype.renderResponsiveContent = function (col) {\n        var _this = this;\n        var gObj = this.parent;\n        if (col) {\n            this.filterParent = this.parent.createElement('div', { className: 'e-mainfilterdiv e-default-filter', id: col.uid + '-main-filter' });\n            return this.filterParent;\n        }\n        else {\n            var cols = gObj.getColumns();\n            this.customColumnDiv = gObj.createElement('div', { className: 'columndiv', styles: 'width: 100%' });\n            var sortBtnParent = gObj.createElement('div', { className: 'e-ressortbutton-parent' });\n            var filteredCols = [];\n            var isSort = this.action === ResponsiveDialogAction.isSort;\n            var isFilter = this.action === ResponsiveDialogAction.isFilter;\n            if (isFilter) {\n                for (var i = 0; i < gObj.filterSettings.columns.length; i++) {\n                    filteredCols.push(gObj.filterSettings.columns[i].field);\n                }\n            }\n            for (var i = 0; i < cols.length; i++) {\n                if (!cols[i].visible || (!cols[i].allowSorting && isSort) || (!cols[i].allowFiltering && isFilter)) {\n                    continue;\n                }\n                var cDiv = gObj.createElement('div', { className: 'e-responsivecoldiv' });\n                cDiv.setAttribute('data-e-mappingname', cols[i].field);\n                cDiv.setAttribute('data-e-mappinguid', cols[i].uid);\n                var span = gObj.createElement('span', { innerHTML: cols[i].headerText, className: 'e-res-header-text' });\n                cDiv.appendChild(span);\n                this.customColumnDiv.appendChild(cDiv);\n                if (isSort) {\n                    var fields = this.getSortedFieldsAndDirections('field');\n                    var index = fields.indexOf(cols[i].field);\n                    var button = gObj.createElement('button', { id: gObj.element.id + cols[i].field + 'sortbutton' });\n                    var clone = sortBtnParent.cloneNode();\n                    clone.appendChild(button);\n                    cDiv.appendChild(clone);\n                    var btnObj = new Button({\n                        cssClass: 'e-ressortbutton'\n                    });\n                    btnObj.appendTo(button);\n                    button.innerHTML = index > -1 ? this.parent.sortSettings.columns[index].direction : 'None';\n                    button.onclick = function (e) {\n                        _this.sortButtonClickHandler(e.target);\n                    };\n                }\n                if (isFilter && filteredCols.indexOf(cols[i].field) > -1) {\n                    var divIcon = gObj.createElement('div', { className: 'e-icons e-res-icon e-filtersetdiv' });\n                    var iconSpan = gObj.createElement('span', { className: 'e-icons e-res-icon e-filterset' });\n                    iconSpan.setAttribute('colType', cols[i].type);\n                    divIcon.appendChild(iconSpan);\n                    cDiv.appendChild(divIcon);\n                }\n            }\n            EventHandler.add(this.customColumnDiv, 'click', this.customFilterColumnClickHandler, this);\n            return this.customColumnDiv;\n        }\n    };\n    ResponsiveDialogRenderer.prototype.getSortedFieldsAndDirections = function (name) {\n        var fields = [];\n        for (var i = 0; i < this.parent.sortSettings.columns.length; i++) {\n            fields.push(this.parent.sortSettings.columns[i][name]);\n        }\n        return fields;\n    };\n    ResponsiveDialogRenderer.prototype.sortButtonClickHandler = function (target) {\n        if (target) {\n            var columndiv = parentsUntil(target, 'e-responsivecoldiv');\n            var field = columndiv.getAttribute('data-e-mappingname');\n            if (!this.parent.allowMultiSorting) {\n                this.sortPredicate = [];\n                this.sortedCols = [];\n                this.isSortApplied = false;\n                this.resetSortButtons(target);\n            }\n            var txt = target.textContent;\n            var direction = txt === 'None' ? 'Ascending' : txt === 'Ascending' ? 'Descending' : 'None';\n            target.innerHTML = direction;\n            this.setSortedCols(field, direction);\n        }\n    };\n    ResponsiveDialogRenderer.prototype.resetSortButtons = function (target) {\n        var buttons = [].slice.call(this.customColumnDiv.getElementsByClassName('e-ressortbutton'));\n        for (var i = 0; i < buttons.length; i++) {\n            if (buttons[i] !== target) {\n                buttons[i].innerHTML = 'None';\n            }\n        }\n    };\n    ResponsiveDialogRenderer.prototype.setSortedCols = function (field, direction) {\n        var fields = this.getCurrentSortedFields();\n        var index = fields.indexOf(field);\n        if (this.parent.allowMultiSorting && index > -1) {\n            this.sortedCols.splice(index, 1);\n            this.sortPredicate.splice(index, 1);\n        }\n        this.isSortApplied = true;\n        if (direction !== 'None') {\n            this.sortedCols.push(field);\n            this.sortPredicate.push({ field: field, direction: direction });\n        }\n    };\n    ResponsiveDialogRenderer.prototype.getCurrentSortedFields = function () {\n        var fields = [];\n        for (var i = 0; i < this.sortedCols.length; i++) {\n            fields.push(this.sortedCols[i]);\n        }\n        return fields;\n    };\n    ResponsiveDialogRenderer.prototype.customFilterColumnClickHandler = function (e) {\n        if (this.action !== ResponsiveDialogAction.isFilter) {\n            return;\n        }\n        var gObj = this.parent;\n        var target = e.target;\n        if (gObj.filterSettings.type !== 'FilterBar') {\n            if (target.classList.contains('e-responsivecoldiv') || target.parentElement.classList.contains('e-responsivecoldiv')) {\n                var field = target.getAttribute('data-e-mappingname');\n                if (!field) {\n                    field = target.parentElement.getAttribute('data-e-mappingname');\n                }\n                if (field) {\n                    var col = gObj.getColumnByField(field);\n                    this.isRowResponsive = true;\n                    this.showResponsiveDialog(col);\n                }\n            }\n            else if (target.classList.contains('e-filterset') || target.parentElement.classList.contains('e-filtersetdiv')) {\n                var colDiv = parentsUntil(target, 'e-responsivecoldiv');\n                if (colDiv) {\n                    var field = colDiv.getAttribute('data-e-mappingname');\n                    var col = gObj.getColumnByField(field);\n                    if (col.filter.type === 'Menu' || (!col.filter.type && gObj.filterSettings.type === 'Menu')) {\n                        this.isDialogClose = true;\n                    }\n                    this.parent.filterModule.filterModule.clearCustomFilter(col);\n                    this.removeCustomDlgFilterEle(target);\n                }\n            }\n        }\n    };\n    /**\n     * Function to show the responsive dialog\n     *\n     * @param {Column} col - specifies the column\n     * @returns {void}\n     */\n    ResponsiveDialogRenderer.prototype.showResponsiveDialog = function (col) {\n        if (this.isCustomDialog && this.action === ResponsiveDialogAction.isFilter && !this.isRowResponsive) {\n            this.renderCustomFilterDialog();\n        }\n        else {\n            this.filteredCol = col;\n            this.renderResponsiveDialog(col);\n            if (this.parent.enableAdaptiveUI && col) {\n                this.parent.filterModule.setFilterModel(col);\n                this.parent.filterModule.filterModule.openDialog(this.parent.filterModule.createOptions(col, undefined));\n            }\n            if (this.action === ResponsiveDialogAction.isSort) {\n                var args = {\n                    cancel: false, dialogObj: this.customResponsiveDlg, requestType: 'beforeOpenAptiveSortDialog'\n                };\n                this.parent.trigger(events.beforeOpenAdaptiveDialog, args);\n                if (args.cancel) {\n                    return;\n                }\n            }\n            this.customResponsiveDlg.show(true);\n            this.customResponsiveDlg.element.style.maxHeight = '100%';\n            this.setTopToChildDialog(this.customResponsiveDlg.element);\n        }\n    };\n    ResponsiveDialogRenderer.prototype.setTopToChildDialog = function (dialogEle) {\n        var child = dialogEle.querySelector('.e-dialog');\n        if (child) {\n            var top_1 = dialogEle.querySelector('.e-dlg-header-content').getBoundingClientRect().height;\n            child.style.top = top_1 + 'px';\n        }\n    };\n    ResponsiveDialogRenderer.prototype.renderCustomFilterDialog = function (col) {\n        var gObj = this.parent;\n        if (this.action === ResponsiveDialogAction.isFilter && gObj.filterSettings.type === 'FilterBar') {\n            return;\n        }\n        var outerDiv = this.parent.createElement('div', {\n            id: gObj.element.id + 'customfilter', className: 'e-customfilterdiv e-responsive-dialog'\n        });\n        this.parent.element.appendChild(outerDiv);\n        this.customFilterDlg = this.getDialogOptions(col, true);\n        var args = {\n            cancel: false, dialogObj: this.customFilterDlg, requestType: 'beforeOpenAptiveFilterDialog'\n        };\n        this.parent.trigger(events.beforeOpenAdaptiveDialog, args);\n        if (args.cancel) {\n            return;\n        }\n        this.customFilterDlg.appendTo(outerDiv);\n        this.customFilterDlg.show(true);\n        this.customFilterDlg.element.style.maxHeight = '100%';\n    };\n    ResponsiveDialogRenderer.prototype.getDialogOptions = function (col, isCustomFilter, id) {\n        var options = new Dialog({\n            isModal: true,\n            showCloseIcon: true,\n            closeOnEscape: false,\n            locale: this.parent.locale,\n            target: this.parent.adaptiveDlgTarget ? this.parent.adaptiveDlgTarget : document.body,\n            visible: false,\n            enableRtl: this.parent.enableRtl,\n            content: this.renderResponsiveContent(col),\n            open: this.dialogOpen.bind(this),\n            created: this.dialogCreated.bind(this),\n            close: this.beforeDialogClose.bind(this),\n            width: '100%',\n            height: '100%',\n            animationSettings: { effect: 'None' }\n        });\n        var isStringTemplate = 'isStringTemplate';\n        options[isStringTemplate] = true;\n        if (isCustomFilter) {\n            options.header = this.renderResponsiveHeader(col, undefined, true);\n            options.cssClass = 'e-customfilter';\n        }\n        else {\n            options.header = this.renderResponsiveHeader(col);\n            options.cssClass = this.parent.rowRenderingMode === 'Vertical' && this.action === ResponsiveDialogAction.isFilter\n                ? 'e-res' + id + ' e-row-responsive-filter' : 'e-res' + id;\n        }\n        return options;\n    };\n    ResponsiveDialogRenderer.prototype.renderResponsiveDialog = function (col) {\n        var gObj = this.parent;\n        if (this.action === ResponsiveDialogAction.isFilter && gObj.filterSettings.type === 'FilterBar') {\n            return;\n        }\n        var id = this.action === ResponsiveDialogAction.isFilter ? 'filter' : 'sort';\n        var outerDiv = this.parent.createElement('div', {\n            id: gObj.element.id + 'responsive' + id, className: 'e-res' + id + 'div e-responsive-dialog'\n        });\n        this.parent.element.appendChild(outerDiv);\n        this.customResponsiveDlg = this.getDialogOptions(col, false, id);\n        this.customResponsiveDlg.appendTo(outerDiv);\n    };\n    ResponsiveDialogRenderer.prototype.dialogCreated = function () {\n        addBiggerDialog(this.parent);\n    };\n    ResponsiveDialogRenderer.prototype.dialogOpen = function () {\n        if (this.action === ResponsiveDialogAction.isSort && this.parent.allowMultiSorting) {\n            for (var i = 0; i < this.parent.sortSettings.columns.length; i++) {\n                this.sortedCols.push(this.parent.sortSettings.columns[i].field);\n                var sortField = this.parent.sortSettings.columns[i].field;\n                var sortDirection = this.parent.sortSettings.columns[i].direction;\n                this.sortPredicate.push({ field: sortField, direction: sortDirection });\n            }\n        }\n    };\n    ResponsiveDialogRenderer.prototype.beforeDialogClose = function (args) {\n        this.isDialogClose = args.element && !args.element.querySelector('.e-xl-customfilterdiv')\n            && args.element.classList.contains('e-resfilterdiv');\n        if (this.action === ResponsiveDialogAction.isFilter) {\n            if (args.element.classList.contains('e-resfilterdiv')) {\n                this.parent.filterModule.filterModule.closeResponsiveDialog(this.isCustomDlgRender);\n            }\n            else if (args.element.classList.contains('e-customfilterdiv')) {\n                this.closeCustomFilter();\n            }\n        }\n        else if (this.action === ResponsiveDialogAction.isSort) {\n            this.closeCustomDialog();\n        }\n        this.parent.off(events.enterKeyHandler, this.keyHandler);\n    };\n    ResponsiveDialogRenderer.prototype.sortColumn = function () {\n        if (!this.isSortApplied) {\n            this.closeCustomDialog();\n            return;\n        }\n        if (this.sortPredicate.length) {\n            this.parent.setProperties({ sortSettings: { columns: [] } }, true);\n        }\n        for (var i = 0; i < this.sortPredicate.length; i++) {\n            this.parent.sortColumn(this.sortPredicate[i].field, this.sortPredicate[i].direction, this.parent.allowMultiSorting);\n        }\n        if (!this.sortPredicate.length) {\n            this.parent.clearSorting();\n        }\n        this.closeCustomDialog();\n    };\n    ResponsiveDialogRenderer.prototype.getHeaderTitle = function (args, col) {\n        var gObj = this.parent;\n        var title;\n        if (this.action === ResponsiveDialogAction.isEdit) {\n            title = gObj.localeObj.getConstant('EditFormTitle') + args.primaryKeyValue[0];\n        }\n        else if (this.action === ResponsiveDialogAction.isAdd) {\n            title = gObj.localeObj.getConstant('AddFormTitle');\n        }\n        else if (this.action === ResponsiveDialogAction.isFilter) {\n            title = col ? col.headerText || col.field : gObj.localeObj.getConstant('FilterButton');\n        }\n        else if (this.action === ResponsiveDialogAction.isSort) {\n            title = gObj.localeObj.getConstant('Sort');\n        }\n        return title;\n    };\n    ResponsiveDialogRenderer.prototype.getDialogName = function (action) {\n        var name;\n        if (action === ResponsiveDialogAction.isAdd || action === ResponsiveDialogAction.isEdit) {\n            name = 'dialogEdit_wrapper_title';\n        }\n        else if (action === ResponsiveDialogAction.isFilter) {\n            name = 'responsive_filter_dialog_wrapper';\n        }\n        return name;\n    };\n    ResponsiveDialogRenderer.prototype.getButtonText = function (action) {\n        var text;\n        if (action === ResponsiveDialogAction.isAdd || action === ResponsiveDialogAction.isEdit) {\n            text = 'Save';\n        }\n        else if (action === ResponsiveDialogAction.isFilter || this.action === ResponsiveDialogAction.isSort) {\n            text = 'OKButton';\n        }\n        return text;\n    };\n    /**\n     * Function to render the responsive header\n     *\n     * @param {Column} col - specifies the column\n     * @param {ResponsiveDialogArgs} args - specifies the responsive dialog arguments\n     * @param {boolean} isCustomFilter - specifies whether it is custom filter or not\n     * @returns {HTMLElement | string} returns the html element or string\n     */\n    ResponsiveDialogRenderer.prototype.renderResponsiveHeader = function (col, args, isCustomFilter) {\n        var _this = this;\n        var gObj = this.parent;\n        gObj.on(events.enterKeyHandler, this.keyHandler, this);\n        var id = gObj.element.id + this.getDialogName(this.action);\n        var header = gObj.createElement('div', { className: 'e-res-custom-element' });\n        var titleDiv = gObj.createElement('div', { className: 'e-dlg-custom-header', id: id });\n        titleDiv.innerHTML = this.getHeaderTitle(args, col);\n        header.appendChild(titleDiv);\n        var saveBtn = gObj.createElement('button');\n        if (!isCustomFilter) {\n            this.saveBtn = new Button({\n                cssClass: 'e-primary e-flat e-res-apply-btn'\n            });\n            saveBtn.innerHTML = gObj.localeObj.getConstant(this.getButtonText(this.action));\n            this.saveBtn.appendTo(saveBtn);\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            saveBtn.onclick = function (e) {\n                _this.dialogHdrBtnClickHandler();\n            };\n        }\n        var isSort = this.action === ResponsiveDialogAction.isSort;\n        var isFilter = this.action === ResponsiveDialogAction.isFilter;\n        if (isFilter || isSort) {\n            var id_1 = isSort ? 'sort' : 'filter';\n            var clearBtn = gObj.createElement('button');\n            this.filterClearBtn = new Button({\n                cssClass: 'e-primary e-flat e-res-' + id_1 + '-clear-btn'\n            });\n            if (isFilter) {\n                var span = gObj.createElement('span', { className: 'e-btn-icon e-icon-filter-clear e-icons' });\n                clearBtn.appendChild(span);\n            }\n            else {\n                clearBtn.innerHTML = gObj.localeObj.getConstant('Clear');\n            }\n            header.appendChild(clearBtn);\n            this.filterClearBtn.appendTo(clearBtn);\n            clearBtn.onclick = function (e) {\n                if ((parentsUntil(e.target, 'e-customfilter'))) {\n                    _this.parent.filterModule.clearFiltering();\n                    _this.removeCustomDlgFilterEle();\n                }\n                else {\n                    if (isFilter) {\n                        _this.filterClear();\n                    }\n                    else {\n                        _this.resetSortButtons();\n                        _this.sortedCols = [];\n                        _this.sortPredicate = [];\n                        _this.isSortApplied = true;\n                    }\n                }\n            };\n            header.appendChild(clearBtn);\n        }\n        if (!isCustomFilter) {\n            header.appendChild(saveBtn);\n        }\n        return header;\n    };\n    ResponsiveDialogRenderer.prototype.filterClear = function () {\n        this.parent.filterModule.filterModule.clearCustomFilter(this.filteredCol);\n        this.parent.filterModule.filterModule.closeResponsiveDialog();\n    };\n    ResponsiveDialogRenderer.prototype.dialogHdrBtnClickHandler = function () {\n        if (this.action === ResponsiveDialogAction.isEdit || this.action === ResponsiveDialogAction.isAdd) {\n            this.parent.endEdit();\n        }\n        else if (this.action === ResponsiveDialogAction.isFilter) {\n            this.parent.filterModule.filterModule.applyCustomFilter({ col: this.filteredCol, isCustomFilter: this.isCustomDlgRender });\n        }\n        else if (this.action === ResponsiveDialogAction.isSort) {\n            this.sortColumn();\n        }\n    };\n    ResponsiveDialogRenderer.prototype.closeCustomDialog = function () {\n        if (this.isCustomDlgRender) {\n            var mainfilterdiv = this.customResponsiveDlg.element.querySelector('.e-mainfilterdiv');\n            remove(mainfilterdiv);\n            return;\n        }\n        this.isRowResponsive = false;\n        this.isCustomDlgRender = false;\n        this.destroyCustomFilterDialog();\n    };\n    ResponsiveDialogRenderer.prototype.destroyCustomFilterDialog = function () {\n        if (!this.customResponsiveDlg) {\n            return;\n        }\n        var elem = document.getElementById(this.customResponsiveDlg.element.id);\n        if (this.customResponsiveDlg && !this.customResponsiveDlg.isDestroyed && elem) {\n            this.customResponsiveDlg.destroy();\n            remove(elem);\n        }\n        this.closeCustomFilter();\n        if (this.action === ResponsiveDialogAction.isSort) {\n            this.sortPredicate = [];\n            this.sortedCols = [];\n            this.isSortApplied = false;\n        }\n    };\n    ResponsiveDialogRenderer.prototype.closeCustomFilter = function () {\n        if (!this.isDialogClose && this.customFilterDlg) {\n            var customEle = document.getElementById(this.customFilterDlg.element.id);\n            if (this.customFilterDlg && !this.customFilterDlg.isDestroyed && customEle) {\n                this.customFilterDlg.destroy();\n                remove(customEle);\n            }\n        }\n        this.isCustomDialog = false;\n        this.isDialogClose = false;\n    };\n    ResponsiveDialogRenderer.prototype.removeCustomDlgFilterEle = function (target) {\n        if (target) {\n            if (target.parentElement.classList.contains('e-filtersetdiv')) {\n                remove(target.parentElement);\n            }\n            else {\n                remove(target);\n            }\n        }\n        else {\n            var child = this.customColumnDiv.children;\n            for (var i = 0; i < child.length; i++) {\n                target = child[i].querySelector('.e-filtersetdiv');\n                if (target) {\n                    remove(target);\n                    i--;\n                }\n            }\n        }\n    };\n    ResponsiveDialogRenderer.prototype.keyHandler = function (e) {\n        if (e.keyCode === 13 && ((this.action === ResponsiveDialogAction.isFilter\n            && e.target.classList.contains('e-searchinput'))\n            || (this.action === ResponsiveDialogAction.isEdit || this.action === ResponsiveDialogAction.isAdd))) {\n            this.dialogHdrBtnClickHandler();\n        }\n    };\n    ResponsiveDialogRenderer.prototype.editComplate = function (args) {\n        if (args.requestType === 'save' || args.requestType === 'cancel') {\n            this.parent.off(events.enterKeyHandler, this.keyHandler);\n        }\n    };\n    ResponsiveDialogRenderer.prototype.removeEventListener = function () {\n        if (this.customColumnDiv) {\n            EventHandler.remove(this.customColumnDiv, 'click', this.customFilterColumnClickHandler);\n        }\n        addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n        this.parent.removeEventListener(events.actionComplete, this.onActionCompleteFn);\n    };\n    return ResponsiveDialogRenderer;\n}());\nexport { ResponsiveDialogRenderer };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ResponsiveDialogRenderer } from '../renderer/responsive-dialog-renderer';\n/**\n * ServiceLocator\n *\n * @hidden\n */\nvar ServiceLocator = /** @class */ (function () {\n    function ServiceLocator() {\n        this.services = {};\n    }\n    ServiceLocator.prototype.register = function (name, type) {\n        if (isNullOrUndefined(this.services[name])) {\n            this.services[name] = type;\n        }\n    };\n    ServiceLocator.prototype.getService = function (name) {\n        if (isNullOrUndefined(this.services[name])) {\n            // eslint-disable-next-line no-throw-literal\n            throw \"The service \" + name + \" is not registered\";\n        }\n        return this.services[name];\n    };\n    ServiceLocator.prototype.registerAdaptiveService = function (type, isAdaptiveUI, action) {\n        if (isAdaptiveUI) {\n            type.responsiveDialogRenderer = new ResponsiveDialogRenderer(type.parent, type.serviceLocator);\n            type.responsiveDialogRenderer.action = action;\n        }\n        else {\n            if (type.responsiveDialogRenderer) {\n                type.responsiveDialogRenderer.removeEventListener();\n                type.responsiveDialogRenderer = undefined;\n            }\n        }\n    };\n    return ServiceLocator;\n}());\nexport { ServiceLocator };\n","import { isNullOrUndefined, getEnumValue } from '@syncfusion/ej2-base';\nimport { RenderType } from '../base/enum';\n/**\n * RendererFactory\n *\n * @hidden\n */\nvar RendererFactory = /** @class */ (function () {\n    function RendererFactory() {\n        this.rendererMap = {};\n    }\n    RendererFactory.prototype.addRenderer = function (name, type) {\n        var rName = getEnumValue(RenderType, name);\n        if (isNullOrUndefined(this.rendererMap[rName])) {\n            this.rendererMap[rName] = type;\n        }\n    };\n    RendererFactory.prototype.getRenderer = function (name) {\n        var rName = getEnumValue(RenderType, name);\n        if (isNullOrUndefined(this.rendererMap[rName])) {\n            // eslint-disable-next-line no-throw-literal\n            throw \"The renderer \" + rName + \" is not found\";\n        }\n        else {\n            return this.rendererMap[rName];\n        }\n    };\n    return RendererFactory;\n}());\nexport { RendererFactory };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { formatUnit } from '@syncfusion/ej2-base';\nimport { columnWidthChanged, preventFrozenScrollRefresh } from '../base/constant';\nimport { Column } from '../models/column';\nimport { parentsUntil, ispercentageWidth, getScrollBarWidth } from '../base/util';\nimport * as literals from '../base/string-literals';\n/**\n * ColumnWidthService\n *\n * @hidden\n */\nvar ColumnWidthService = /** @class */ (function () {\n    function ColumnWidthService(parent) {\n        this.parent = parent;\n    }\n    ColumnWidthService.prototype.setWidthToColumns = function () {\n        var i = 0;\n        var indexes = this.parent.getColumnIndexesInView();\n        var wFlag = true;\n        var totalColumnsWidth = 0;\n        if (this.parent.allowGrouping) {\n            for (var len = this.parent.groupSettings.columns.length; i < len; i++) {\n                if (this.parent.enableColumnVirtualization && indexes.indexOf(i) === -1) {\n                    wFlag = false;\n                    continue;\n                }\n                this.setColumnWidth(new Column({ width: '30px' }), i);\n            }\n        }\n        if (this.parent.detailTemplate || this.parent.childGrid) {\n            this.setColumnWidth(new Column({ width: '30px' }), i);\n            i++;\n        }\n        if (this.parent.isRowDragable() && this.parent.getFrozenMode() !== 'Right') {\n            this.setColumnWidth(new Column({ width: '30px' }), i);\n            i++;\n        }\n        var columns = this.parent.getColumns();\n        for (var j = 0; j < columns.length; j++) {\n            this.setColumnWidth(columns[j], wFlag && this.parent.enableColumnVirtualization ? undefined : j + i);\n        }\n        if (this.parent.isRowDragable() && this.parent.getFrozenMode() === 'Right') {\n            this.setColumnWidth(new Column({ width: '30px' }), columns.length);\n        }\n        totalColumnsWidth = this.getTableWidth(this.parent.getColumns());\n        if (this.parent.width !== 'auto' && this.parent.width.toString().indexOf('%') === -1) {\n            this.setMinwidthBycalculation(totalColumnsWidth);\n        }\n    };\n    ColumnWidthService.prototype.setMinwidthBycalculation = function (tWidth) {\n        var difference = 0;\n        var collection = this.parent.getColumns().filter(function (a) {\n            return isNullOrUndefined(a.width) || a.width === 'auto';\n        });\n        if (collection.length) {\n            if (!isNullOrUndefined(this.parent.width) && this.parent.width !== 'auto' &&\n                typeof (this.parent.width) === 'string' && this.parent.width.indexOf('%') === -1) {\n                difference = (typeof this.parent.width === 'string' ? parseInt(this.parent.width, 10) : this.parent.width) - tWidth;\n            }\n            else {\n                difference = this.parent.element.getBoundingClientRect().width - tWidth;\n            }\n            var tmWidth = 0;\n            for (var _i = 0, collection_1 = collection; _i < collection_1.length; _i++) {\n                var cols = collection_1[_i];\n                tmWidth += !isNullOrUndefined(cols.minWidth) ?\n                    ((typeof cols.minWidth === 'string' ? parseInt(cols.minWidth, 10) : cols.minWidth)) : 0;\n            }\n            for (var i = 0; i < collection.length; i++) {\n                if (tWidth === 0 && this.parent.allowResizing && this.isWidthUndefined() && (i !== collection.length - 1)) {\n                    this.setUndefinedColumnWidth(collection);\n                }\n                var index = this.parent.getColumnIndexByField(collection[i].field) + this.parent.getIndentCount();\n                if (tWidth !== 0 && difference < tmWidth) {\n                    this.setWidth(collection[i].minWidth, index);\n                }\n                else if (tWidth !== 0 && difference > tmWidth) {\n                    this.setWidth('', index, true);\n                }\n            }\n        }\n    };\n    ColumnWidthService.prototype.setUndefinedColumnWidth = function (collection) {\n        for (var k = 0; k < collection.length; k++) {\n            if (k !== collection.length - 1) {\n                collection[k].width = 200;\n                this.setWidth(200, this.parent.getColumnIndexByField(collection[k].field));\n            }\n        }\n    };\n    ColumnWidthService.prototype.setColumnWidth = function (column, index, module) {\n        if (this.parent.getColumns().length < 1) {\n            return;\n        }\n        var columnIndex = isNullOrUndefined(index) ? this.parent.getNormalizedColumnIndex(column.uid) : index;\n        var cWidth = this.getWidth(column);\n        var tgridWidth = this.getTableWidth(this.parent.getColumns());\n        if (cWidth !== null) {\n            this.setWidth(cWidth, columnIndex);\n            if (this.parent.width !== 'auto' && this.parent.width.toString().indexOf('%') === -1) {\n                this.setMinwidthBycalculation(tgridWidth);\n            }\n            if ((this.parent.allowResizing && module === 'resize') || (this.parent.getFrozenColumns() && this.parent.allowResizing)) {\n                this.setWidthToTable();\n            }\n            this.parent.notify(columnWidthChanged, { index: columnIndex, width: cWidth, column: column, module: module });\n        }\n    };\n    ColumnWidthService.prototype.setWidth = function (width, index, clear) {\n        if (this.parent.groupSettings.columns.length > index && ispercentageWidth(this.parent)) {\n            var elementWidth = this.parent.element.offsetWidth;\n            width = (30 / elementWidth * 100).toFixed(1) + '%';\n        }\n        var header = this.parent.getHeaderTable();\n        var content = this.parent.getContentTable();\n        var fWidth = formatUnit(width);\n        var headerCol;\n        var frzCols = this.parent.getFrozenColumns();\n        var isDraggable = this.parent.isRowDragable();\n        frzCols = frzCols && isDraggable ? frzCols + 1 : frzCols;\n        var mHdr = this.parent.getHeaderContent().querySelector('.' + literals.movableHeader);\n        var mCont = this.parent.getContent().querySelector('.' + literals.movableContent);\n        var freezeLeft = this.parent.getFrozenLeftColumnsCount();\n        var freezeRight = this.parent.getFrozenRightColumnsCount();\n        var movableCount = this.parent.getMovableColumnsCount();\n        var isColFrozen = freezeLeft !== 0 || freezeRight !== 0;\n        if (frzCols && index >= frzCols) {\n            if (!mHdr || !mHdr.querySelector(literals.colGroup)) {\n                return;\n            }\n            headerCol = mHdr.querySelector(literals.colGroup).children[index - frzCols];\n        }\n        else if (this.parent.enableColumnVirtualization && frzCols && this.parent.contentModule.isXaxis()\n            && mHdr.scrollLeft > 0) {\n            var colGroup = mHdr.querySelector(literals.colGroup);\n            headerCol = colGroup.children[(colGroup.children.length - 1) - index];\n        }\n        else if (isColFrozen) {\n            var target = void 0;\n            if (freezeLeft && !freezeRight) {\n                index = isDraggable ? index - 1 : index;\n                target = index < freezeLeft ? header : mHdr;\n            }\n            else if (!freezeLeft && freezeRight) {\n                target = index >= movableCount ? header : mHdr;\n            }\n            else if (freezeLeft && freezeRight) {\n                index = isDraggable ? index - 1 : index;\n                var frHdr = this.parent.getFrozenRightHeader();\n                target = index < freezeLeft ? header : index < (freezeLeft + movableCount) ? mHdr : frHdr;\n            }\n            headerCol = this.getColumnLevelFrozenColgroup(index, freezeLeft, movableCount, target);\n            if (!headerCol) {\n                return;\n            }\n        }\n        else {\n            headerCol = header.querySelector(literals.colGroup).children[index];\n        }\n        if (headerCol && !clear) {\n            headerCol.style.width = fWidth;\n        }\n        else if (headerCol && clear) {\n            headerCol.style.width = '';\n        }\n        var contentCol;\n        if (frzCols && index >= frzCols) {\n            contentCol = this.parent.getContent().querySelector('.' + literals.movableContent)\n                .querySelector(literals.colGroup).children[index - frzCols];\n        }\n        else if (this.parent.enableColumnVirtualization && frzCols && this.parent.contentModule.isXaxis()\n            && mCont.scrollLeft > 0) {\n            var colGroup = this.parent.getContent().querySelector('.' + literals.movableContent)\n                .querySelector(literals.colGroup);\n            contentCol = colGroup.children[(colGroup.children.length - 1) - index];\n        }\n        else if (isColFrozen) {\n            var target = void 0;\n            if (freezeLeft && !freezeRight) {\n                target = index < freezeLeft ? content : mCont;\n            }\n            if (!freezeLeft && freezeRight) {\n                target = index >= movableCount ? content : mCont;\n            }\n            if (freezeLeft && freezeRight) {\n                var frCont = this.parent.getContent().querySelector('.e-frozen-right-content');\n                target = index < freezeLeft ? content : index < (freezeLeft + movableCount) ? mCont : frCont;\n            }\n            contentCol = this.getColumnLevelFrozenColgroup(index, freezeLeft, movableCount, target);\n        }\n        else {\n            contentCol = content.querySelector(literals.colGroup).children[index];\n        }\n        if (contentCol && !clear) {\n            contentCol.style.width = fWidth;\n        }\n        else if (contentCol && clear) {\n            contentCol.style.width = '';\n        }\n        if (!this.parent.enableColumnVirtualization) {\n            var edit = this.parent.element.querySelectorAll('.e-table.e-inline-edit');\n            var editTableCol = [];\n            for (var i = 0; i < edit.length; i++) {\n                if (parentsUntil(edit[i], 'e-grid').id === this.parent.element.id) {\n                    for (var j = 0; j < edit[i].querySelector('colgroup').children.length; j++) {\n                        editTableCol.push(edit[i].querySelector('colgroup').children[j]);\n                    }\n                }\n            }\n            if (edit.length && editTableCol.length) {\n                editTableCol[index].style.width = fWidth;\n            }\n        }\n        if (this.parent.isFrozenGrid()) {\n            this.refreshFrozenScrollbar();\n        }\n    };\n    ColumnWidthService.prototype.getColumnLevelFrozenColgroup = function (index, left, movable, ele) {\n        if (!ele || !ele.querySelector(literals.colGroup)) {\n            return null;\n        }\n        var columns = this.parent.getColumns();\n        var isDrag = this.parent.isRowDragable();\n        var frzMode = this.parent.getFrozenMode();\n        var headerCol;\n        var colGroup = [].slice.call(ele.querySelector(literals.colGroup).children);\n        if (frzMode === 'Right' && isDrag && index === (movable + this.parent.getFrozenRightColumnsCount())) {\n            headerCol = colGroup[colGroup.length - 1];\n        }\n        else if (isDrag && index === -1) {\n            headerCol = colGroup[0];\n        }\n        else if (columns[index].freeze === 'Left') {\n            headerCol = colGroup[isDrag ? (index + 1) : index];\n        }\n        else if (columns[index].freeze === 'Right') {\n            headerCol = colGroup[index - (left + movable)];\n        }\n        else {\n            headerCol = colGroup[index - left];\n        }\n        return headerCol;\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    ColumnWidthService.prototype.refreshFrozenScrollbar = function () {\n        var args = { cancel: false };\n        this.parent.notify(preventFrozenScrollRefresh, args);\n        if (args.cancel) {\n            return;\n        }\n        var scrollWidth = getScrollBarWidth();\n        var frozenScrollbar = this.parent.element.querySelector('.e-frozenscrollbar');\n        var movableScrollbar = this.parent.element.querySelector('.e-movablescrollbar');\n        var frozencontent = this.parent.getContent().querySelector('.' + literals.frozenContent);\n        var movableContent = this.parent.getContent().querySelector('.' + literals.movableContent);\n        var frozenWidth = frozencontent.firstElementChild.getBoundingClientRect().width;\n        var movableWidth = movableContent.firstElementChild.getBoundingClientRect().width;\n        if (this.parent.getFrozenMode() === 'Right') {\n            frozenWidth = frozenWidth + scrollWidth;\n        }\n        frozenScrollbar.style.width = frozenWidth + 'px';\n        if (this.parent.getFrozenMode() === literals.leftRight) {\n            var frozenRightScrollbar = this.parent.element.querySelector('.e-frozen-right-scrollbar');\n            var frozenRightWidth = this.parent.getContent().querySelector('.e-frozen-right-content')\n                .firstElementChild.getBoundingClientRect().width;\n            if (this.parent.height !== 'auto') {\n                frozenRightWidth = frozenRightWidth + scrollWidth;\n            }\n            frozenRightScrollbar.style.width = frozenRightWidth + 'px';\n        }\n        else {\n            if (this.parent.enableColumnVirtualization) {\n                var placeHolder = this.parent.getMovableVirtualContent().querySelector('.e-virtualtrack');\n                if (placeHolder) {\n                    movableWidth = placeHolder.scrollWidth;\n                }\n            }\n            if (this.parent.getFrozenMode() !== 'Right' && this.parent.height !== 'auto') {\n                movableWidth = movableWidth + scrollWidth;\n            }\n        }\n        movableScrollbar.firstElementChild.style.width = movableWidth + 'px';\n    };\n    ColumnWidthService.prototype.getSiblingsHeight = function (element) {\n        var previous = this.getHeightFromDirection(element, 'previous');\n        var next = this.getHeightFromDirection(element, 'next');\n        return previous + next;\n    };\n    ColumnWidthService.prototype.getHeightFromDirection = function (element, direction) {\n        var sibling = element[direction + 'ElementSibling'];\n        var result = 0;\n        var classList = [literals.gridHeader, literals.gridFooter, 'e-groupdroparea', 'e-gridpager', 'e-toolbar'];\n        while (sibling) {\n            if (classList.some(function (value) { return sibling.classList.contains(value); })) {\n                result += sibling.offsetHeight;\n            }\n            sibling = sibling[direction + 'ElementSibling'];\n        }\n        return result;\n    };\n    ColumnWidthService.prototype.isWidthUndefined = function () {\n        var isWidUndefCount = this.parent.getColumns().filter(function (col) {\n            return isNullOrUndefined(col.width) && isNullOrUndefined(col.minWidth);\n        }).length;\n        return (this.parent.getColumns().length === isWidUndefCount);\n    };\n    ColumnWidthService.prototype.getWidth = function (column) {\n        if (isNullOrUndefined(column.width) && this.parent.allowResizing\n            && isNullOrUndefined(column.minWidth) && !this.isWidthUndefined()) {\n            column.width = 200;\n        }\n        if (this.parent.isFrozenGrid() && isNullOrUndefined(column.width) &&\n            (column.getFreezeTableName() === literals.frozenLeft || column.getFreezeTableName() === literals.frozenRight)) {\n            column.width = 200;\n        }\n        if (!column.width) {\n            return null;\n        }\n        var width = parseInt(column.width.toString(), 10);\n        if (column.minWidth && width < parseInt(column.minWidth.toString(), 10)) {\n            return column.minWidth;\n        }\n        else if ((column.maxWidth && width > parseInt(column.maxWidth.toString(), 10))) {\n            return column.maxWidth;\n        }\n        else {\n            return column.width;\n        }\n    };\n    ColumnWidthService.prototype.getTableWidth = function (columns) {\n        var tWidth = 0;\n        for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\n            var column = columns_1[_i];\n            var cWidth = this.getWidth(column);\n            if (column.width === 'auto') {\n                cWidth = 0;\n            }\n            if (column.visible !== false && cWidth !== null) {\n                tWidth += parseInt(cWidth.toString(), 10);\n            }\n        }\n        return tWidth;\n    };\n    ColumnWidthService.prototype.calcMovableOrFreezeColWidth = function (tableType) {\n        var columns = this.parent.getColumns().slice();\n        var left = this.parent.getFrozenLeftColumnsCount() || this.parent.getFrozenColumns();\n        var movable = this.parent.getMovableColumnsCount();\n        var right = this.parent.getFrozenRightColumnsCount();\n        if (tableType === 'movable') {\n            if (right) {\n                columns.splice(left + movable, columns.length);\n            }\n            if (left) {\n                columns.splice(0, left);\n            }\n        }\n        else if (tableType === 'freeze-left') {\n            columns.splice(left, columns.length);\n        }\n        else if (tableType === 'freeze-right') {\n            columns.splice(0, left + movable);\n        }\n        return formatUnit(this.getTableWidth(columns));\n    };\n    ColumnWidthService.prototype.setWidthToFrozenRightTable = function () {\n        var freezeWidth = this.calcMovableOrFreezeColWidth('freeze-right');\n        freezeWidth = this.isAutoResize() ? '100%' : freezeWidth;\n        var headerTbl = this.parent.getHeaderContent().querySelector('.e-frozen-right-header').querySelector('.' + literals.table);\n        var cntTbl = this.parent.getContent().querySelector('.e-frozen-right-content').querySelector('.' + literals.table);\n        headerTbl.style.width = freezeWidth;\n        cntTbl.style.width = freezeWidth;\n    };\n    ColumnWidthService.prototype.setWidthToFrozenLeftTable = function () {\n        var freezeWidth = this.calcMovableOrFreezeColWidth('freeze-left');\n        freezeWidth = this.isAutoResize() ? '100%' : freezeWidth;\n        this.parent.getHeaderTable().style.width = freezeWidth;\n        this.parent.getContentTable().style.width = freezeWidth;\n    };\n    ColumnWidthService.prototype.setWidthToMovableTable = function () {\n        var movableWidth = '';\n        var isColUndefined = this.parent.getColumns().filter(function (a) { return isNullOrUndefined(a.width); }).length >= 1;\n        var isWidthAuto = this.parent.getColumns().filter(function (a) { return (a.width === 'auto'); }).length >= 1;\n        if (typeof this.parent.width === 'number' && !isColUndefined && !isWidthAuto) {\n            movableWidth = formatUnit(this.parent.width - parseInt(this.calcMovableOrFreezeColWidth('freeze').split('px')[0], 10) - 5);\n        }\n        else if (!isColUndefined && !isWidthAuto) {\n            movableWidth = this.calcMovableOrFreezeColWidth('movable');\n        }\n        movableWidth = this.isAutoResize() ? '100%' : movableWidth;\n        if (this.parent.getHeaderContent().querySelector('.' + literals.movableHeader).firstElementChild) {\n            this.parent.getHeaderContent().querySelector('.' + literals.movableHeader).firstElementChild.style.width\n                = movableWidth;\n        }\n        this.parent.getContent().querySelector('.' + literals.movableContent).firstElementChild.style.width =\n            movableWidth;\n    };\n    ColumnWidthService.prototype.setWidthToFrozenEditTable = function () {\n        var freezeWidth = this.calcMovableOrFreezeColWidth('freeze');\n        freezeWidth = this.isAutoResize() ? '100%' : freezeWidth;\n        this.parent.element.querySelectorAll('.e-table.e-inline-edit')[0].style.width = freezeWidth;\n    };\n    ColumnWidthService.prototype.setWidthToMovableEditTable = function () {\n        var movableWidth = this.calcMovableOrFreezeColWidth('movable');\n        movableWidth = this.isAutoResize() ? '100%' : movableWidth;\n        this.parent.element.querySelectorAll('.e-table.e-inline-edit')[1].style.width = movableWidth;\n    };\n    ColumnWidthService.prototype.setWidthToTable = function () {\n        var tWidth = formatUnit(this.getTableWidth(this.parent.getColumns()));\n        if (this.parent.isFrozenGrid()) {\n            if (this.parent.getFrozenColumns() || this.parent.getFrozenLeftColumnsCount()) {\n                this.setWidthToFrozenLeftTable();\n            }\n            this.setWidthToMovableTable();\n            if (this.parent.getFrozenRightColumnsCount()) {\n                this.setWidthToFrozenRightTable();\n            }\n        }\n        else {\n            if (this.parent.detailTemplate || this.parent.childGrid) {\n                this.setColumnWidth(new Column({ width: '30px' }));\n            }\n            tWidth = this.isAutoResize() ? '100%' : tWidth;\n            this.parent.getHeaderTable().style.width = tWidth;\n            this.parent.getContentTable().style.width = tWidth;\n        }\n        var edit = this.parent.element.querySelector('.e-table.e-inline-edit');\n        if (edit && this.parent.getFrozenColumns()) {\n            this.setWidthToFrozenEditTable();\n            this.setWidthToMovableEditTable();\n        }\n        else if (edit) {\n            edit.style.width = tWidth;\n        }\n    };\n    ColumnWidthService.prototype.isAutoResize = function () {\n        return this.parent.allowResizing && this.parent.resizeSettings.mode === 'Auto';\n    };\n    return ColumnWidthService;\n}());\nexport { ColumnWidthService };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the paging behavior of the Grid.\n */\nvar PageSettings = /** @class */ (function (_super) {\n    __extends(PageSettings, _super);\n    function PageSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(12)\n    ], PageSettings.prototype, \"pageSize\", void 0);\n    __decorate([\n        Property(8)\n    ], PageSettings.prototype, \"pageCount\", void 0);\n    __decorate([\n        Property(1)\n    ], PageSettings.prototype, \"currentPage\", void 0);\n    __decorate([\n        Property()\n    ], PageSettings.prototype, \"totalRecordsCount\", void 0);\n    __decorate([\n        Property(false)\n    ], PageSettings.prototype, \"enableQueryString\", void 0);\n    __decorate([\n        Property(false)\n    ], PageSettings.prototype, \"pageSizes\", void 0);\n    __decorate([\n        Property(null)\n    ], PageSettings.prototype, \"template\", void 0);\n    return PageSettings;\n}(ChildProperty));\nexport { PageSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the column chooser behavior of the Grid.\n */\nvar ColumnChooserSettings = /** @class */ (function (_super) {\n    __extends(ColumnChooserSettings, _super);\n    function ColumnChooserSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('startsWith')\n    ], ColumnChooserSettings.prototype, \"operator\", void 0);\n    __decorate([\n        Property(false)\n    ], ColumnChooserSettings.prototype, \"ignoreAccent\", void 0);\n    return ColumnChooserSettings;\n}(ChildProperty));\nexport { ColumnChooserSettings };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { Browser, EventHandler, createElement } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, isUndefined, addClass, removeClass } from '@syncfusion/ej2-base';\nimport { remove, closest, select } from '@syncfusion/ej2-base';\nimport { Query } from '@syncfusion/ej2-data';\nimport { setCssInGridPopUp, getPosition, isGroupAdaptive, addRemoveActiveClasses, removeAddCboxClasses } from '../base/util';\nimport { getCellsByTableName, getCellByColAndRowIndex, parentsUntil, gridActionHandler } from '../base/util';\nimport * as events from '../base/constant';\nimport { RenderType } from '../base/enum';\nimport { iterateExtend, setChecked } from '../base/util';\nimport { addRemoveEventListener } from '../base/util';\nimport * as literals from '../base/string-literals';\n/**\n * The `Selection` module is used to handle cell and row selection.\n */\nvar Selection = /** @class */ (function () {\n    /**\n     * Constructor for the Grid selection module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {SelectionSettings} selectionSettings - specifies the selectionsettings\n     * @param {ServiceLocator} locator - specifies the ServiceLocator\n     * @hidden\n     */\n    function Selection(parent, selectionSettings, locator) {\n        //Internal letiables\n        /**\n         * @hidden\n         */\n        this.selectedRowIndexes = [];\n        /**\n         * @hidden\n         */\n        this.selectedRowCellIndexes = [];\n        /**\n         * @hidden\n         */\n        this.selectedRecords = [];\n        /**\n         * @hidden\n         */\n        this.preventFocus = false;\n        /**\n         *  @hidden\n         */\n        this.selectedColumnsIndexes = [];\n        this.checkBoxState = false;\n        this.isMultiShiftRequest = false;\n        this.isMultiCtrlRequest = false;\n        this.enableSelectMultiTouch = false;\n        this.clearRowCheck = false;\n        this.selectRowCheck = false;\n        this.selectedRowState = {};\n        this.totalRecordsCount = 0;\n        this.chkAllCollec = [];\n        this.isCheckedOnAdd = false;\n        this.persistSelectedData = [];\n        this.deSelectedData = [];\n        this.needColumnSelection = false;\n        this.isCancelDeSelect = false;\n        this.isPreventCellSelect = false;\n        this.disableUI = false;\n        this.isPersisted = false;\n        this.cmdKeyPressed = false;\n        this.cellselected = false;\n        this.isMultiSelection = false;\n        this.isAddRowsToSelection = false;\n        this.initialRowSelection = false;\n        this.isPrevRowSelection = false;\n        this.isKeyAction = false;\n        this.isRowDragSelected = false;\n        /**\n         * @hidden\n         */\n        this.autoFillRLselection = true;\n        this.bottom = '0 0 2px 0';\n        this.top = '2px 0 0 0';\n        /* eslint-disable */\n        this.right_bottom = '0 2px 2px 0';\n        this.bottom_left = '0 0 2px 2px';\n        this.top_right = '2px 2px 0 0';\n        this.top_left = '2px 0 0 2px';\n        this.top_bottom = '2px 0 2px 0';\n        this.top_right_bottom = '2px 2px 2px 0';\n        this.top_bottom_left = '2px 0 2px 2px';\n        this.top_right_left = '2px 2px 0 2px';\n        this.right_bottom_left = '0 2px 2px 2px';\n        this.all_border = '2px';\n        this.parent = parent;\n        this.selectionSettings = selectionSettings;\n        this.factory = locator.getService('rendererFactory');\n        this.focus = locator.getService('focus');\n        this.addEventListener();\n        this.wireEvents();\n    }\n    Selection.prototype.initializeSelection = function () {\n        this.parent.log('selection_key_missing');\n        this.render();\n    };\n    /**\n     * The function used to trigger onActionBegin\n     *\n     * @param {Object} args - specifies the args\n     * @param {string} type - specifies the type\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.onActionBegin = function (args, type) {\n        this.parent.trigger(type, this.fDataUpdate(args));\n    };\n    Selection.prototype.fDataUpdate = function (args) {\n        if (!this.isMultiSelection && (!isNullOrUndefined(args.cellIndex) || !isNullOrUndefined(args.rowIndex))) {\n            var rowObj = this.getRowObj(isNullOrUndefined(args.rowIndex) ? isNullOrUndefined(args.cellIndex) ?\n                this.currentIndex : args.cellIndex.rowIndex : args.rowIndex);\n            args.foreignKeyData = rowObj.foreignKeyData;\n        }\n        return args;\n    };\n    /**\n     * The function used to trigger onActionComplete\n     *\n     * @param {Object} args - specifies the args\n     * @param {string} type - specifies the type\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.onActionComplete = function (args, type) {\n        this.parent.trigger(type, this.fDataUpdate(args));\n        this.isMultiSelection = false;\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Selection.prototype.getModuleName = function () {\n        return 'selection';\n    };\n    /**\n     * To destroy the selection\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.destroy = function () {\n        var gridElement = this.parent.element;\n        if (!gridElement || (!gridElement.querySelector('.' + literals.gridHeader) && !gridElement.querySelector('.' + literals.gridContent))) {\n            return;\n        }\n        this.hidePopUp();\n        this.clearSelection();\n        this.removeEventListener();\n        this.unWireEvents();\n        EventHandler.remove(this.parent.getContent(), 'mousedown', this.mouseDownHandler);\n        EventHandler.remove(this.parent.getHeaderContent(), 'mousedown', this.mouseDownHandler);\n    };\n    Selection.prototype.isEditing = function () {\n        return (this.parent.editSettings.mode === 'Normal' || (this.parent.editSettings.mode === 'Batch' && this.parent.editModule &&\n            this.parent.editModule.formObj && !this.parent.editModule.formObj.validate())) &&\n            this.parent.isEdit && !this.parent.isPersistSelection;\n    };\n    Selection.prototype.getSelectedMovableRow = function (index) {\n        var gObj = this.parent;\n        if (gObj.isFrozenGrid() && this.parent.getContent().querySelector('.' + literals.movableContent)) {\n            return gObj.getMovableRowByIndex(index);\n        }\n        return null;\n    };\n    Selection.prototype.getSelectedFrozenRightRow = function (index) {\n        var gObj = this.parent;\n        if (gObj.isFrozenGrid() && gObj.getFrozenMode() === literals.leftRight && gObj.getFrozenRightContent()) {\n            return gObj.getFrozenRightRowByIndex(index);\n        }\n        return null;\n    };\n    Selection.prototype.getCurrentBatchRecordChanges = function () {\n        var gObj = this.parent;\n        if (gObj.editSettings.mode === 'Batch' && gObj.editModule) {\n            var currentRecords = iterateExtend(this.parent.getCurrentViewRecords());\n            currentRecords = gObj.editSettings.newRowPosition === 'Bottom' ?\n                currentRecords.concat(this.parent.editModule.getBatchChanges()[literals.addedRecords]) :\n                this.parent.editModule.getBatchChanges()[literals.addedRecords].concat(currentRecords);\n            var deletedRecords = this.parent.editModule.getBatchChanges()[literals.deletedRecords];\n            var primaryKey = this.parent.getPrimaryKeyFieldNames()[0];\n            for (var i = 0; i < (deletedRecords.length); i++) {\n                for (var j = 0; j < currentRecords.length; j++) {\n                    if (deletedRecords[i][primaryKey] === currentRecords[j][primaryKey]) {\n                        currentRecords.splice(j, 1);\n                        break;\n                    }\n                }\n            }\n            return currentRecords;\n        }\n        else {\n            return gObj.getCurrentViewRecords();\n        }\n    };\n    /**\n     * Selects a row by the given index.\n     *\n     * @param  {number} index - Defines the row index.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void}\n     */\n    Selection.prototype.selectRow = function (index, isToggle) {\n        if (this.selectedRowIndexes.length && this.selectionSettings.enableSimpleMultiRowSelection) {\n            this.addRowsToSelection([index]);\n            return;\n        }\n        var gObj = this.parent;\n        var selectedRow = gObj.getRowByIndex(index);\n        var selectedMovableRow = this.getSelectedMovableRow(index);\n        var selectedFrozenRightRow = this.getSelectedFrozenRightRow(index);\n        var selectData;\n        var isRemoved = false;\n        if (gObj.enableVirtualization && index > -1) {\n            var e = { selectedIndex: index, isAvailable: true };\n            this.parent.notify(events.selectVirtualRow, e);\n            var frozenData = gObj.isFrozenGrid() ? gObj.contentModule.getRowObjectByIndex(index)\n                : null;\n            if (selectedRow && (gObj.getRowObjectFromUID(selectedRow.getAttribute('data-uid')) || frozenData)) {\n                selectData = frozenData ? frozenData : gObj.getRowObjectFromUID(selectedRow.getAttribute('data-uid')).data;\n            }\n            else {\n                if (e.isAvailable && !gObj.selectionSettings.persistSelection) {\n                    var prevSelectedData = this.parent.getSelectedRecords();\n                    if (prevSelectedData.length > 0) {\n                        this.clearRowSelection();\n                    }\n                }\n                return;\n            }\n        }\n        else {\n            selectData = this.getRowObj(index).data;\n        }\n        if (!this.isRowType() || !selectedRow || this.isEditing()) {\n            // if (this.isEditing()) {\n            //     gObj.selectedRowIndex = index;\n            // }\n            return;\n        }\n        var isRowSelected = selectedRow.hasAttribute('aria-selected');\n        this.activeTarget();\n        isToggle = !isToggle ? isToggle :\n            !this.selectedRowIndexes.length ? false :\n                (this.selectedRowIndexes.length === 1 ? (this.isKeyAction && this.parent.isCheckBoxSelection ?\n                    false : index === this.selectedRowIndexes[0]) : false);\n        this.isKeyAction = false;\n        var args;\n        var can = 'cancel';\n        if (!isToggle) {\n            args = {\n                data: selectData, rowIndex: index, isCtrlPressed: this.isMultiCtrlRequest,\n                isShiftPressed: this.isMultiShiftRequest, row: selectedRow,\n                previousRow: gObj.getRowByIndex(this.prevRowIndex),\n                previousRowIndex: this.prevRowIndex, target: this.actualTarget, cancel: false, isInteracted: this.isInteracted,\n                isHeaderCheckboxClicked: this.isHeaderCheckboxClicked\n            };\n            args = this.addMovableArgs(args, selectedMovableRow, selectedFrozenRightRow);\n            this.parent.trigger(events.rowSelecting, this.fDataUpdate(args), this.rowSelectingCallBack(args, isToggle, index, selectData, isRemoved, isRowSelected, can));\n        }\n        else {\n            this.rowSelectingCallBack(args, isToggle, index, selectData, isRemoved, isRowSelected, can)(args);\n        }\n    };\n    Selection.prototype.rowSelectingCallBack = function (args, isToggle, index, selectData, isRemoved, isRowSelected, can) {\n        var _this = this;\n        return function (args) {\n            if (!isNullOrUndefined(args) && args[can] === true) {\n                _this.disableInteracted();\n                return;\n            }\n            _this.index = index;\n            _this.toggle = isToggle;\n            _this.data = selectData;\n            _this.removed = isRemoved;\n            if (isRowSelected && _this.selectionSettings.persistSelection && !(_this.selectionSettings.checkboxMode === 'ResetOnRowClick')) {\n                _this.clearSelectedRow(index);\n                _this.selectRowCallBack();\n            }\n            else if (!isRowSelected && _this.selectionSettings.persistSelection &&\n                _this.selectionSettings.checkboxMode !== 'ResetOnRowClick') {\n                _this.selectRowCallBack();\n            }\n            if (_this.selectionSettings.checkboxMode === 'ResetOnRowClick') {\n                _this.clearSelection();\n            }\n            if (!_this.selectionSettings.persistSelection || _this.selectionSettings.checkboxMode === 'ResetOnRowClick' ||\n                (!_this.parent.isCheckBoxSelection && _this.selectionSettings.persistSelection)) {\n                _this.selectRowCheck = true;\n                _this.clearRow();\n            }\n        };\n    };\n    Selection.prototype.selectRowCallBack = function () {\n        var gObj = this.parent;\n        var args;\n        var index = this.index;\n        var isToggle = this.toggle;\n        var selectData = this.data;\n        var isRemoved = this.removed;\n        var selectedRow = gObj.getRowByIndex(index);\n        var selectedMovableRow = this.getSelectedMovableRow(index);\n        var selectedFrozenRightRow = this.getSelectedFrozenRightRow(index);\n        if (!isToggle && !isRemoved) {\n            if (this.selectedRowIndexes.indexOf(index) <= -1) {\n                this.updateRowSelection(selectedRow, index);\n                this.selectMovableRow(selectedMovableRow, selectedFrozenRightRow, index);\n            }\n            this.selectRowIndex(index);\n        }\n        if (!isToggle) {\n            args = {\n                data: selectData, rowIndex: index,\n                row: selectedRow, previousRow: gObj.getRowByIndex(this.prevRowIndex),\n                previousRowIndex: this.prevRowIndex, target: this.actualTarget, isInteracted: this.isInteracted,\n                isHeaderCheckBoxClicked: this.isHeaderCheckboxClicked\n            };\n            args = this.addMovableArgs(args, selectedMovableRow, selectedFrozenRightRow);\n            this.onActionComplete(args, events.rowSelected);\n        }\n        this.isInteracted = false;\n        this.updateRowProps(index);\n    };\n    Selection.prototype.selectMovableRow = function (selectedMovableRow, selectedFrozenRightRow, index) {\n        if (this.parent.isFrozenGrid()) {\n            this.updateRowSelection(selectedMovableRow, index);\n            if (this.parent.getFrozenMode() === literals.leftRight && selectedFrozenRightRow) {\n                this.updateRowSelection(selectedFrozenRightRow, index);\n            }\n        }\n    };\n    Selection.prototype.addMovableArgs = function (targetObj, mRow, frRow) {\n        if (this.parent.isFrozenGrid()) {\n            var mObj = { mRow: mRow, previousMovRow: this.parent.getMovableRows()[this.prevRowIndex] };\n            var frozenRightRow = 'frozenRightRow';\n            var previousFrozenRightRow = 'previousFrozenRightRow';\n            if (this.parent.getFrozenMode() === literals.leftRight && frRow) {\n                mObj[frozenRightRow] = frRow;\n                mObj[previousFrozenRightRow] = this.parent.getFrozenRightDataRows()[this.prevRowIndex];\n            }\n            targetObj = __assign({}, targetObj, mObj);\n        }\n        return targetObj;\n    };\n    /**\n     * Selects a range of rows from start and end row indexes.\n     *\n     * @param  {number} startIndex - Specifies the start row index.\n     * @param  {number} endIndex - Specifies the end row index.\n     * @returns {void}\n     */\n    Selection.prototype.selectRowsByRange = function (startIndex, endIndex) {\n        this.selectRows(this.getCollectionFromIndexes(startIndex, endIndex));\n        this.selectRowIndex(endIndex);\n    };\n    Selection.prototype.selectedDataUpdate = function (selectedData, foreignKeyData, selectedRows, rowIndexes) {\n        for (var i = 0, len = rowIndexes.length; i < len; i++) {\n            var currentRow = this.parent.getDataRows()[rowIndexes[i]];\n            var rowObj = this.getRowObj(currentRow);\n            if (rowObj) {\n                selectedData.push(rowObj.data);\n                selectedRows.push(currentRow);\n                foreignKeyData.push(rowObj.foreignKeyData);\n            }\n        }\n    };\n    /**\n     * Selects a collection of rows by index.\n     *\n     * @param  {number[]} rowIndexes - Specifies an array of row indexes.\n     * @returns {void}\n     */\n    Selection.prototype.selectRows = function (rowIndexes) {\n        var _this = this;\n        var gObj = this.parent;\n        var rowIndex = !this.isSingleSel() ? rowIndexes[0] : rowIndexes[rowIndexes.length - 1];\n        this.isMultiSelection = true;\n        var selectedRows = [];\n        var foreignKeyData = [];\n        var selectedMovableRow = this.getSelectedMovableRow(rowIndex);\n        var selectedFrozenRightRow = this.getSelectedFrozenRightRow(rowIndex);\n        var can = 'cancel';\n        var selectedData = [];\n        if (!this.isRowType() || this.isEditing()) {\n            return;\n        }\n        this.selectedDataUpdate(selectedData, foreignKeyData, selectedRows, rowIndexes);\n        this.activeTarget();\n        var args = {\n            cancel: false,\n            rowIndexes: rowIndexes, row: selectedRows, rowIndex: rowIndex, target: this.actualTarget,\n            prevRow: gObj.getRows()[this.prevRowIndex], previousRowIndex: this.prevRowIndex,\n            isInteracted: this.isInteracted, isCtrlPressed: this.isMultiCtrlRequest, isShiftPressed: this.isMultiShiftRequest,\n            data: selectedData, isHeaderCheckboxClicked: this.isHeaderCheckboxClicked, foreignKeyData: foreignKeyData\n        };\n        args = this.addMovableArgs(args, selectedMovableRow, selectedFrozenRightRow);\n        this.parent.trigger(events.rowSelecting, this.fDataUpdate(args), function (args) {\n            if (!isNullOrUndefined(args) && args[can] === true) {\n                _this.disableInteracted();\n                return;\n            }\n            _this.clearRow();\n            _this.selectRowIndex(rowIndexes.slice(-1)[0]);\n            var selectRowFn = function (index) {\n                _this.updateRowSelection(gObj.getRowByIndex(index), index);\n                if (gObj.isFrozenGrid()) {\n                    var rightEle = _this.parent.getFrozenMode() === literals.leftRight ? gObj.getFrozenRightRowByIndex(index)\n                        : undefined;\n                    _this.selectMovableRow(gObj.getMovableRowByIndex(index), rightEle, index);\n                }\n                _this.updateRowProps(rowIndex);\n            };\n            if (!_this.isSingleSel()) {\n                for (var _i = 0, rowIndexes_1 = rowIndexes; _i < rowIndexes_1.length; _i++) {\n                    var rowIdx = rowIndexes_1[_i];\n                    selectRowFn(rowIdx);\n                }\n            }\n            else {\n                selectRowFn(rowIndex);\n            }\n            args = {\n                rowIndexes: rowIndexes, row: selectedRows, rowIndex: rowIndex, target: _this.actualTarget,\n                prevRow: gObj.getRows()[_this.prevRowIndex], previousRowIndex: _this.prevRowIndex,\n                data: _this.getSelectedRecords(), isInteracted: _this.isInteracted,\n                isHeaderCheckboxClicked: _this.isHeaderCheckboxClicked, foreignKeyData: foreignKeyData\n            };\n            args = _this.addMovableArgs(args, selectedMovableRow, selectedFrozenRightRow);\n            if (_this.isRowSelected) {\n                _this.onActionComplete(args, events.rowSelected);\n            }\n            _this.isInteracted = false;\n        });\n    };\n    /**\n     * Select rows with existing row selection by passing row indexes.\n     *\n     * @param {number} rowIndexes - Specifies the row indexes.\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.addRowsToSelection = function (rowIndexes) {\n        var gObj = this.parent;\n        var can = 'cancel';\n        var target = this.target;\n        this.isMultiSelection = true;\n        var selectedRows = [];\n        var foreignKeyData = [];\n        var selectedData = [];\n        var indexes = gObj.getSelectedRowIndexes().concat(rowIndexes);\n        var selectedRow = !this.isSingleSel() ? gObj.getRowByIndex(rowIndexes[0]) :\n            gObj.getRowByIndex(rowIndexes[rowIndexes.length - 1]);\n        var selectedMovableRow = !this.isSingleSel() ? this.getSelectedMovableRow(rowIndexes[0]) :\n            this.getSelectedMovableRow(rowIndexes[rowIndexes.length - 1]);\n        var selectedFrozenRightRow = !this.isSingleSel() ? this.getSelectedFrozenRightRow(rowIndexes[0]) :\n            this.getSelectedFrozenRightRow(rowIndexes[rowIndexes.length - 1]);\n        if ((!this.isRowType() || this.isEditing()) && !this.selectionSettings.checkboxOnly) {\n            return;\n        }\n        var args;\n        var checkboxColumn = this.parent.getColumns().filter(function (col) { return col.type === 'checkbox'; });\n        if (this.isMultiCtrlRequest && !checkboxColumn.length) {\n            this.selectedDataUpdate(selectedData, foreignKeyData, selectedRows, indexes);\n        }\n        for (var _i = 0, rowIndexes_2 = rowIndexes; _i < rowIndexes_2.length; _i++) {\n            var rowIndex = rowIndexes_2[_i];\n            var rowObj = this.getRowObj(rowIndex);\n            var isUnSelected = this.selectedRowIndexes.indexOf(rowIndex) > -1;\n            this.selectRowIndex(rowIndex);\n            if (isUnSelected && ((checkboxColumn.length ? true : this.selectionSettings.enableToggle) || this.isMultiCtrlRequest)) {\n                this.isAddRowsToSelection = true;\n                this.rowDeselect(events.rowDeselecting, [rowIndex], [rowObj.data], [selectedRow], [rowObj.foreignKeyData], target);\n                if (this.isCancelDeSelect) {\n                    return;\n                }\n                this.selectedRowIndexes.splice(this.selectedRowIndexes.indexOf(rowIndex), 1);\n                this.selectedRecords.splice(this.selectedRecords.indexOf(selectedRow), 1);\n                this.selectRowIndex(this.selectedRowIndexes.length ? this.selectedRowIndexes[this.selectedRowIndexes.length - 1] : -1);\n                selectedRow.removeAttribute('aria-selected');\n                this.addRemoveClassesForRow(selectedRow, false, null, 'e-selectionbackground', 'e-active');\n                if (selectedMovableRow) {\n                    this.selectedRecords.splice(this.selectedRecords.indexOf(selectedMovableRow), 1);\n                    selectedMovableRow.removeAttribute('aria-selected');\n                    this.addRemoveClassesForRow(selectedMovableRow, false, null, 'e-selectionbackground', 'e-active');\n                }\n                if (selectedFrozenRightRow) {\n                    this.selectedRecords.splice(this.selectedRecords.indexOf(selectedFrozenRightRow), 1);\n                    selectedFrozenRightRow.removeAttribute('aria-selected');\n                    this.addRemoveClassesForRow(selectedFrozenRightRow, false, null, 'e-selectionbackground', 'e-active');\n                }\n                this.rowDeselect(events.rowDeselected, [rowIndex], [rowObj.data], [selectedRow], [rowObj.foreignKeyData], target, [selectedMovableRow], undefined, [selectedFrozenRightRow]);\n                this.isInteracted = false;\n                this.isMultiSelection = false;\n                this.isAddRowsToSelection = false;\n            }\n            else {\n                this.activeTarget();\n                args = {\n                    cancel: false,\n                    data: selectedData.length ? selectedData : rowObj.data, rowIndex: rowIndex, row: selectedRows.length ? selectedRows :\n                        selectedRow, target: this.actualTarget, prevRow: gObj.getRows()[this.prevRowIndex],\n                    previousRowIndex: this.prevRowIndex, isCtrlPressed: this.isMultiCtrlRequest, isShiftPressed: this.isMultiShiftRequest,\n                    foreignKeyData: foreignKeyData.length ? foreignKeyData : rowObj.foreignKeyData, isInteracted: this.isInteracted,\n                    isHeaderCheckboxClicked: this.isHeaderCheckboxClicked, rowIndexes: indexes\n                };\n                args = this.addMovableArgs(args, selectedMovableRow, selectedFrozenRightRow);\n                this.parent.trigger(events.rowSelecting, this.fDataUpdate(args));\n                if (!isNullOrUndefined(args) && args[can] === true) {\n                    this.disableInteracted();\n                    return;\n                }\n                if (this.isSingleSel()) {\n                    this.clearRow();\n                }\n                this.updateRowSelection(selectedRow, rowIndex);\n                this.selectMovableRow(selectedMovableRow, selectedFrozenRightRow, rowIndex);\n            }\n            if (!isUnSelected) {\n                args = {\n                    data: selectedData.length ? selectedData : rowObj.data, rowIndex: rowIndex, row: selectedRows.length ? selectedRows :\n                        selectedRow, target: this.actualTarget, prevRow: gObj.getRows()[this.prevRowIndex],\n                    previousRowIndex: this.prevRowIndex, foreignKeyData: foreignKeyData.length ? foreignKeyData : rowObj.foreignKeyData,\n                    isInteracted: this.isInteracted, isHeaderCheckboxClicked: this.isHeaderCheckboxClicked, rowIndexes: indexes\n                };\n                args = this.addMovableArgs(args, selectedMovableRow, selectedFrozenRightRow);\n                this.onActionComplete(args, events.rowSelected);\n            }\n            this.isInteracted = false;\n            this.updateRowProps(rowIndex);\n            if (this.isSingleSel()) {\n                break;\n            }\n        }\n    };\n    Selection.prototype.getCollectionFromIndexes = function (startIndex, endIndex) {\n        var indexes = [];\n        // eslint-disable-next-line prefer-const\n        var _a = (startIndex <= endIndex) ?\n            { i: startIndex, max: endIndex } : { i: endIndex, max: startIndex }, i = _a.i, max = _a.max;\n        for (; i <= max; i++) {\n            indexes.push(i);\n        }\n        if (startIndex > endIndex) {\n            indexes.reverse();\n        }\n        return indexes;\n    };\n    Selection.prototype.clearRow = function () {\n        this.clearRowCheck = true;\n        this.clearRowSelection();\n    };\n    Selection.prototype.clearRowCallBack = function () {\n        if (this.isCancelDeSelect && this.parent.checkAllRows !== 'Check') {\n            return;\n        }\n        this.selectedRowIndexes = [];\n        this.selectedRecords = [];\n        this.selectRowIndex(-1);\n        if (this.isSingleSel() && this.parent.isPersistSelection) {\n            this.selectedRowState = {};\n        }\n    };\n    Selection.prototype.clearSelectedRow = function (index) {\n        if (this.toggle) {\n            var selectedEle = this.parent.getRowByIndex(index);\n            if (!this.disableUI) {\n                selectedEle.removeAttribute('aria-selected');\n                this.addRemoveClassesForRow(selectedEle, false, true, 'e-selectionbackground', 'e-active');\n            }\n            this.removed = true;\n            this.updatePersistCollection(selectedEle, false);\n            this.updateCheckBoxes(selectedEle);\n            this.selectedRowIndexes.splice(this.selectedRowIndexes.indexOf(index), 1);\n            this.selectedRecords.splice(this.selectedRecords.indexOf(this.parent.getRowByIndex(index)), 1);\n        }\n    };\n    Selection.prototype.updateRowProps = function (startIndex) {\n        this.prevRowIndex = startIndex;\n        this.isRowSelected = this.selectedRowIndexes.length && true;\n    };\n    Selection.prototype.updatePersistCollection = function (selectedRow, chkState) {\n        var _this = this;\n        if ((this.parent.isPersistSelection || this.parent.selectionSettings.persistSelection &&\n            this.parent.getPrimaryKeyFieldNames().length > 0) && !isNullOrUndefined(selectedRow)) {\n            if (!this.parent.isPersistSelection) {\n                this.ensureCheckboxFieldSelection();\n            }\n            var rowObj = this.getRowObj(selectedRow);\n            var pKey_1 = rowObj.data ? rowObj.data[this.primaryKey] : null;\n            if (pKey_1 === null) {\n                return;\n            }\n            rowObj.isSelected = chkState;\n            if (chkState) {\n                this.selectedRowState[pKey_1] = chkState;\n                if (!this.persistSelectedData.some(function (data) { return data[_this.primaryKey] === pKey_1; })) {\n                    this.persistSelectedData.push(rowObj.data);\n                }\n            }\n            else {\n                this.updatePersistDelete(pKey_1);\n            }\n        }\n    };\n    Selection.prototype.updatePersistDelete = function (pKey) {\n        var _this = this;\n        delete (this.selectedRowState[pKey]);\n        var index;\n        var isPresent = this.persistSelectedData.some(function (data, i) {\n            index = i;\n            return data[_this.primaryKey] === pKey;\n        });\n        if (isPresent) {\n            this.persistSelectedData.splice(index, 1);\n        }\n    };\n    Selection.prototype.updateCheckBoxes = function (row, chkState, rowIndex) {\n        if (!isNullOrUndefined(row)) {\n            var chkBox = row.querySelector('.e-checkselect');\n            if (!isNullOrUndefined(chkBox)) {\n                removeAddCboxClasses(chkBox.nextElementSibling, chkState);\n                setChecked(chkBox, chkState);\n                if (isNullOrUndefined(this.checkedTarget) || (!isNullOrUndefined(this.checkedTarget)\n                    && !this.checkedTarget.classList.contains('e-checkselectall'))) {\n                    this.setCheckAllState(rowIndex);\n                }\n            }\n        }\n    };\n    Selection.prototype.updateRowSelection = function (selectedRow, startIndex) {\n        if (!selectedRow) {\n            return;\n        }\n        this.selectedRowIndexes.push(startIndex);\n        var len = this.selectedRowIndexes.length;\n        if (this.parent.isFrozenGrid() && len > 1) {\n            if ((this.selectedRowIndexes[len - 2] === this.selectedRowIndexes[len - 1])) {\n                this.selectedRowIndexes.pop();\n            }\n        }\n        this.selectedRecords.push(selectedRow);\n        selectedRow.setAttribute('aria-selected', 'true');\n        this.updatePersistCollection(selectedRow, true);\n        this.updateCheckBoxes(selectedRow, true);\n        this.addRemoveClassesForRow(selectedRow, true, null, 'e-selectionbackground', 'e-active');\n        if (!this.preventFocus) {\n            var target = this.focus.getPrevIndexes().cellIndex ?\n                selectedRow.cells[this.focus.getPrevIndexes().cellIndex] :\n                selectedRow.querySelector('.e-selectionbackground:not(.e-hide):not(.e-detailrowcollapse):not(.e-detailrowexpand)');\n            if (this.parent.contextMenuModule && this.mouseButton === 2) {\n                target = this.parent.contextMenuModule.cell;\n            }\n            if (!target) {\n                return;\n            }\n            this.focus.onClick({ target: target }, true);\n        }\n    };\n    /**\n     * Deselects the currently selected rows and cells.\n     *\n     * @returns {void}\n     */\n    Selection.prototype.clearSelection = function () {\n        this.checkSelectAllClicked = true;\n        if (this.selectionSettings.persistSelection && this.persistSelectedData.length) {\n            this.deSelectedData = iterateExtend(this.persistSelectedData);\n        }\n        if (!this.parent.isPersistSelection || (this.parent.isPersistSelection && !this.parent.isEdit) ||\n            (!isNullOrUndefined(this.checkedTarget) && this.checkedTarget.classList.contains('e-checkselectall'))) {\n            var span = this.parent.element.querySelector('.e-gridpopup').querySelector('span');\n            if (span.classList.contains('e-rowselect')) {\n                span.classList.remove('e-spanclicked');\n            }\n            if (this.parent.isPersistSelection) {\n                this.persistSelectedData = [];\n                this.selectedRowState = {};\n            }\n            this.clearRowSelection();\n            this.clearCellSelection();\n            this.clearColumnSelection();\n            this.prevRowIndex = undefined;\n            this.prevCIdxs = undefined;\n            this.prevECIdxs = undefined;\n            this.enableSelectMultiTouch = false;\n            this.isInteracted = false;\n            this.checkSelectAllClicked = false;\n        }\n    };\n    /**\n     * Deselects the currently selected rows.\n     *\n     * @returns {void}\n     */\n    Selection.prototype.clearRowSelection = function () {\n        var _this = this;\n        if (this.isRowSelected) {\n            var gObj = this.parent;\n            var rows_1 = this.parent.getDataRows();\n            var data_1 = [];\n            var row_1 = [];\n            var mRow_1 = [];\n            var fRightRow_1 = [];\n            var rowIndex_1 = [];\n            var foreignKeyData_1 = [];\n            var target_1 = this.target;\n            for (var i = 0, len = this.selectedRowIndexes.length; i < len; i++) {\n                var currentRow = this.parent.editSettings.mode === 'Batch' ?\n                    this.parent.getRows()[this.selectedRowIndexes[i]]\n                    : this.parent.getDataRows()[this.selectedRowIndexes[i]];\n                var rowObj = this.getRowObj(currentRow);\n                if (rowObj) {\n                    data_1.push(rowObj.data);\n                    row_1.push(currentRow);\n                    rowIndex_1.push(this.selectedRowIndexes[i]);\n                    foreignKeyData_1.push(rowObj.foreignKeyData);\n                }\n                if (gObj.isFrozenGrid()) {\n                    var mRows = gObj.getMovableRows();\n                    if (mRows && mRows.length) {\n                        mRow_1.push(mRows[this.selectedRowIndexes[i]]);\n                    }\n                    if (gObj.getFrozenMode() === literals.leftRight) {\n                        var frRows = gObj.getFrozenRightRows();\n                        if (frRows && frRows.length) {\n                            fRightRow_1.push(frRows[this.selectedRowIndexes[i]]);\n                        }\n                    }\n                }\n            }\n            if (this.selectionSettings.persistSelection && this.selectionSettings.checkboxMode !== 'ResetOnRowClick') {\n                this.isRowClicked = this.checkSelectAllClicked ? true : false;\n            }\n            this.rowDeselect(events.rowDeselecting, rowIndex_1, data_1, row_1, foreignKeyData_1, target_1, mRow_1, function () {\n                if (_this.isCancelDeSelect && (_this.isRowClicked || _this.checkSelectAllClicked || (_this.isInteracted &&\n                    !_this.parent.isPersistSelection))) {\n                    if (_this.parent.isPersistSelection) {\n                        if (_this.getCheckAllStatus(_this.parent.element.querySelector('.e-checkselectall')) === 'Intermediate') {\n                            for (var i = 0; i < _this.selectedRecords.length; i++) {\n                                _this.updatePersistCollection(_this.selectedRecords[i], true);\n                            }\n                        }\n                        else {\n                            _this.parent.checkAllRows = 'Check';\n                            _this.updatePersistSelectedData(true);\n                        }\n                    }\n                    if (_this.clearRowCheck) {\n                        _this.clearRowCallBack();\n                        _this.clearRowCheck = false;\n                        if (_this.selectRowCheck) {\n                            _this.selectRowCallBack();\n                            _this.selectRowCheck = false;\n                        }\n                    }\n                    return;\n                }\n                var element = [].slice.call(rows_1.filter(function (record) { return record.hasAttribute('aria-selected'); }));\n                for (var j = 0; j < element.length; j++) {\n                    if (!_this.disableUI) {\n                        element[j].removeAttribute('aria-selected');\n                        _this.addRemoveClassesForRow(element[j], false, true, 'e-selectionbackground', 'e-active');\n                    }\n                    // tslint:disable-next-line:align\n                    if (!_this.isPrevRowSelection) {\n                        _this.updatePersistCollection(element[j], false);\n                    }\n                    _this.updateCheckBoxes(element[j]);\n                }\n                for (var i = 0, len = _this.selectedRowIndexes.length; i < len; i++) {\n                    var movableRow = _this.getSelectedMovableRow(_this.selectedRowIndexes[i]);\n                    if (movableRow) {\n                        if (!_this.disableUI) {\n                            movableRow.removeAttribute('aria-selected');\n                            _this.addRemoveClassesForRow(movableRow, false, true, 'e-selectionbackground', 'e-active');\n                        }\n                        _this.updateCheckBoxes(movableRow);\n                        if (!_this.isPrevRowSelection) {\n                            _this.updatePersistCollection(movableRow, false);\n                        }\n                    }\n                    var frRow = _this.getSelectedFrozenRightRow(_this.selectedRowIndexes[i]);\n                    if (frRow) {\n                        if (!_this.disableUI) {\n                            frRow.removeAttribute('aria-selected');\n                            _this.addRemoveClassesForRow(frRow, false, true, 'e-selectionbackground', 'e-active');\n                        }\n                        _this.updateCheckBoxes(frRow);\n                        if (!_this.isPrevRowSelection) {\n                            _this.updatePersistCollection(frRow, false);\n                        }\n                    }\n                }\n                _this.selectedRowIndexes = [];\n                _this.selectedRecords = [];\n                _this.isRowSelected = false;\n                _this.selectRowIndex(-1);\n                _this.isPrevRowSelection = false;\n                _this.rowDeselect(events.rowDeselected, rowIndex_1, data_1, row_1, foreignKeyData_1, target_1, mRow_1, undefined, fRightRow_1);\n                if (_this.clearRowCheck) {\n                    _this.clearRowCallBack();\n                    _this.clearRowCheck = false;\n                    if (_this.selectRowCheck) {\n                        _this.selectRowCallBack();\n                        _this.selectRowCheck = false;\n                    }\n                }\n            }, fRightRow_1);\n        }\n        else {\n            if (this.clearRowCheck) {\n                this.clearRowCallBack();\n                this.clearRowCheck = false;\n                if (this.selectRowCheck) {\n                    this.selectRowCallBack();\n                    this.selectRowCheck = false;\n                }\n            }\n        }\n    };\n    Selection.prototype.rowDeselect = function (type, rowIndex, data, row, foreignKeyData, target, mRow, rowDeselectCallBack, frozenRightRow) {\n        var _this = this;\n        if ((this.selectionSettings.persistSelection && (this.isRowClicked || this.checkSelectAllClicked)) ||\n            !this.selectionSettings.persistSelection) {\n            var cancl_1 = 'cancel';\n            var isSingleDeSel = rowIndex.length === 1 && this.deSelectedData.length === 1;\n            var rowDeselectObj = {\n                rowIndex: rowIndex[0], data: this.selectionSettings.persistSelection && (this.parent.checkAllRows === 'Uncheck' &&\n                    !isSingleDeSel) && this.selectionSettings.checkboxMode !== 'ResetOnRowClick' ? this.deSelectedData : data,\n                foreignKeyData: foreignKeyData, cancel: false, isInteracted: this.isInteracted,\n                isHeaderCheckboxClicked: this.isHeaderCheckboxClicked\n            };\n            if (type === 'rowDeselected') {\n                delete rowDeselectObj.cancel;\n            }\n            var rowInString = 'row';\n            var target_2 = 'target';\n            var rowidx = 'rowIndex';\n            var rowidxex = 'rowIndexes';\n            var dataTxt = 'data';\n            var foreignKey = 'foreignKeyData';\n            rowDeselectObj[rowInString] = row;\n            rowDeselectObj[target_2] = this.actualTarget;\n            var isHeaderCheckBxClick = this.actualTarget && !isNullOrUndefined(closest(this.actualTarget, 'thead'));\n            if (isHeaderCheckBxClick || rowIndex.length > 1) {\n                rowDeselectObj[rowidx] = rowIndex[0];\n                rowDeselectObj[rowidxex] = rowIndex;\n            }\n            else if (rowIndex.length === 1) {\n                rowDeselectObj[dataTxt] = rowDeselectObj[dataTxt][0];\n                rowDeselectObj[rowInString] = rowDeselectObj[rowInString][0];\n                rowDeselectObj[foreignKey] = rowDeselectObj[foreignKey][0];\n                if (this.isAddRowsToSelection) {\n                    rowDeselectObj[rowidxex] = rowIndex;\n                }\n            }\n            this.parent.trigger(type, this.parent.isFrozenGrid() ? __assign({}, rowDeselectObj, { mRow: mRow, frozenRightRow: frozenRightRow }) : rowDeselectObj, function (args) {\n                _this.isCancelDeSelect = args[cancl_1];\n                if (!_this.isCancelDeSelect || (!_this.isRowClicked && !_this.isInteracted && !_this.checkSelectAllClicked)) {\n                    _this.updatePersistCollection(row[0], false);\n                    _this.updateCheckBoxes(row[0], undefined, rowIndex[0]);\n                    if (mRow) {\n                        _this.updateCheckBoxes(mRow[0], undefined, rowIndex[0]);\n                    }\n                    if (frozenRightRow) {\n                        _this.updateCheckBoxes(frozenRightRow[0], undefined, rowIndex[0]);\n                    }\n                }\n                if (rowDeselectCallBack !== undefined) {\n                    rowDeselectCallBack();\n                }\n            });\n        }\n        else if (this.selectionSettings.persistSelection && !this.isInteracted) {\n            if (rowDeselectCallBack !== undefined) {\n                rowDeselectCallBack();\n            }\n        }\n    };\n    Selection.prototype.getRowObj = function (row) {\n        if (row === void 0) { row = this.currentIndex; }\n        if (isNullOrUndefined(row)) {\n            return {};\n        }\n        if (typeof row === 'number') {\n            row = this.parent.getRowByIndex(row);\n        }\n        if (row) {\n            return this.parent.getRowObjectFromUID(row.getAttribute('data-uid')) || {};\n        }\n        return {};\n    };\n    Selection.prototype.getSelectedMovableCell = function (cellIndex) {\n        var gObj = this.parent;\n        var col = gObj.getColumnByIndex(cellIndex.cellIndex);\n        var frzCols = gObj.isFrozenGrid();\n        if (frzCols) {\n            if (col.getFreezeTableName() === 'movable') {\n                return gObj.getMovableCellFromIndex(cellIndex.rowIndex, this.getColIndex(cellIndex.rowIndex, cellIndex.cellIndex));\n            }\n            return null;\n        }\n        return null;\n    };\n    /**\n     * Selects a cell by the given index.\n     *\n     * @param  {IIndex} cellIndex - Defines the row and column indexes.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void}\n     */\n    Selection.prototype.selectCell = function (cellIndex, isToggle) {\n        if (!this.isCellType()) {\n            return;\n        }\n        var gObj = this.parent;\n        var selectedCell = this.getSelectedMovableCell(cellIndex);\n        var args;\n        if (!selectedCell) {\n            selectedCell = gObj.getCellFromIndex(cellIndex.rowIndex, this.getColIndex(cellIndex.rowIndex, cellIndex.cellIndex));\n        }\n        this.currentIndex = cellIndex.rowIndex;\n        var selectedData = this.getCurrentBatchRecordChanges()[this.currentIndex];\n        if (!this.isCellType() || !selectedCell || this.isEditing()) {\n            return;\n        }\n        var isCellSelected = selectedCell.classList.contains('e-cellselectionbackground');\n        isToggle = !isToggle ? isToggle : (!isUndefined(this.prevCIdxs) &&\n            cellIndex.rowIndex === this.prevCIdxs.rowIndex && cellIndex.cellIndex === this.prevCIdxs.cellIndex &&\n            isCellSelected);\n        if (!isToggle) {\n            args = {\n                data: selectedData, cellIndex: cellIndex,\n                isCtrlPressed: this.isMultiCtrlRequest, isShiftPressed: this.isMultiShiftRequest,\n                previousRowCell: this.prevECIdxs ?\n                    this.getCellIndex(this.prevECIdxs.rowIndex, this.prevECIdxs.cellIndex) : undefined,\n                cancel: false\n            };\n            var currentCell = 'currentCell';\n            args[currentCell] = selectedCell;\n            var previousRowCellIndex = 'previousRowCellIndex';\n            args[previousRowCellIndex] = this.prevECIdxs;\n            this.parent.trigger(events.cellSelecting, this.fDataUpdate(args), this.successCallBack(args, isToggle, cellIndex, selectedCell, selectedData));\n            this.cellselected = true;\n        }\n        else {\n            this.successCallBack(args, isToggle, cellIndex, selectedCell, selectedData)(args);\n        }\n    };\n    Selection.prototype.successCallBack = function (cellSelectingArgs, isToggle, cellIndex, selectedCell, selectedData) {\n        var _this = this;\n        return function (cellSelectingArgs) {\n            var cncl = 'cancel';\n            var currentCell = 'currentCell';\n            if (!isNullOrUndefined(cellSelectingArgs) && cellSelectingArgs[cncl] === true) {\n                return;\n            }\n            if (!isToggle) {\n                cellSelectingArgs[currentCell] = cellSelectingArgs[currentCell] ? cellSelectingArgs[currentCell] : selectedCell;\n            }\n            _this.clearCell();\n            if (!isToggle) {\n                _this.updateCellSelection(selectedCell, cellIndex.rowIndex, cellIndex.cellIndex);\n            }\n            if (!isToggle) {\n                var args = {\n                    data: selectedData, cellIndex: cellIndex, currentCell: selectedCell,\n                    selectedRowCellIndex: _this.selectedRowCellIndexes,\n                    previousRowCell: _this.prevECIdxs ?\n                        _this.getCellIndex(_this.prevECIdxs.rowIndex, _this.prevECIdxs.cellIndex) : undefined\n                };\n                var previousRowCellIndex = 'previousRowCellIndex';\n                args[previousRowCellIndex] = _this.prevECIdxs;\n                _this.updateCellProps(cellIndex, cellIndex);\n                _this.onActionComplete(args, events.cellSelected);\n            }\n        };\n    };\n    Selection.prototype.getCellIndex = function (rIdx, cIdx) {\n        return (this.parent.getFrozenColumns() ? (cIdx >= this.parent.getFrozenColumns() ? this.parent.getMovableCellFromIndex(rIdx, cIdx)\n            : this.parent.getCellFromIndex(rIdx, cIdx)) : this.parent.getCellFromIndex(rIdx, cIdx));\n    };\n    /**\n     * Selects a range of cells from start and end indexes.\n     *\n     * @param  {IIndex} startIndex - Specifies the row and column's start index.\n     * @param  {IIndex} endIndex - Specifies the row and column's end index.\n     * @returns {void}\n     */\n    Selection.prototype.selectCellsByRange = function (startIndex, endIndex) {\n        var _this = this;\n        if (!this.isCellType()) {\n            return;\n        }\n        var gObj = this.parent;\n        var selectedCell = this.getSelectedMovableCell(startIndex);\n        var frzCols = gObj.getFrozenColumns();\n        if (!selectedCell) {\n            selectedCell = gObj.getCellFromIndex(startIndex.rowIndex, startIndex.cellIndex);\n        }\n        var min;\n        var max;\n        var stIndex = startIndex;\n        var edIndex = endIndex = endIndex ? endIndex : startIndex;\n        var cellIndexes;\n        this.currentIndex = startIndex.rowIndex;\n        var cncl = 'cancel';\n        var selectedData = this.getCurrentBatchRecordChanges()[this.currentIndex];\n        if (this.isSingleSel() || !this.isCellType() || this.isEditing()) {\n            return;\n        }\n        var args = {\n            data: selectedData, cellIndex: startIndex, currentCell: selectedCell,\n            isCtrlPressed: this.isMultiCtrlRequest, isShiftPressed: this.isMultiShiftRequest,\n            previousRowCell: this.prevECIdxs ? this.getCellIndex(this.prevECIdxs.rowIndex, this.prevECIdxs.cellIndex) : undefined\n        };\n        var previousRowCellIndex = 'previousRowCellIndex';\n        args[previousRowCellIndex] = this.prevECIdxs;\n        this.parent.trigger(events.cellSelecting, this.fDataUpdate(args), function (cellSelectingArgs) {\n            if (!isNullOrUndefined(cellSelectingArgs) && cellSelectingArgs[cncl] === true) {\n                return;\n            }\n            _this.clearCell();\n            if (startIndex.rowIndex > endIndex.rowIndex) {\n                var temp = startIndex;\n                startIndex = endIndex;\n                endIndex = temp;\n            }\n            for (var i = startIndex.rowIndex; i <= endIndex.rowIndex; i++) {\n                if (_this.selectionSettings.cellSelectionMode.indexOf('Box') < 0) {\n                    min = i === startIndex.rowIndex ? (startIndex.cellIndex) : 0;\n                    max = i === endIndex.rowIndex ? (endIndex.cellIndex) : _this.getLastColIndex(i);\n                }\n                else {\n                    min = startIndex.cellIndex;\n                    max = endIndex.cellIndex;\n                }\n                cellIndexes = [];\n                for (var j = min < max ? min : max, len = min > max ? min : max; j <= len; j++) {\n                    if (frzCols) {\n                        if (j < frzCols) {\n                            selectedCell = gObj.getCellFromIndex(i, j);\n                        }\n                        else {\n                            selectedCell = gObj.getMovableCellFromIndex(i, j);\n                        }\n                    }\n                    else {\n                        selectedCell = gObj.getCellFromIndex(i, j);\n                    }\n                    if (!selectedCell) {\n                        continue;\n                    }\n                    cellIndexes.push(j);\n                    _this.updateCellSelection(selectedCell);\n                    _this.addAttribute(selectedCell);\n                }\n                _this.selectedRowCellIndexes.push({ rowIndex: i, cellIndexes: cellIndexes });\n            }\n            var cellSelectedArgs = {\n                data: selectedData, cellIndex: edIndex, currentCell: gObj.getCellFromIndex(edIndex.rowIndex, edIndex.cellIndex),\n                selectedRowCellIndex: _this.selectedRowCellIndexes,\n                previousRowCell: _this.prevECIdxs ? _this.getCellIndex(_this.prevECIdxs.rowIndex, _this.prevECIdxs.cellIndex) : undefined\n            };\n            var previousRowCellIndex = 'previousRowCellIndex';\n            cellSelectedArgs[previousRowCellIndex] = _this.prevECIdxs;\n            if (!_this.isDragged) {\n                _this.onActionComplete(cellSelectedArgs, events.cellSelected);\n                _this.cellselected = true;\n            }\n            _this.updateCellProps(stIndex, edIndex);\n        });\n    };\n    /**\n     * Selects a collection of cells by row and column indexes.\n     *\n     * @param  {ISelectedCell[]} rowCellIndexes - Specifies the row and column indexes.\n     * @returns {void}\n     */\n    Selection.prototype.selectCells = function (rowCellIndexes) {\n        if (!this.isCellType()) {\n            return;\n        }\n        var gObj = this.parent;\n        var selectedCell = this.getSelectedMovableCell(rowCellIndexes[0]);\n        var frzCols = gObj.getFrozenColumns();\n        if (!selectedCell) {\n            selectedCell = gObj.getCellFromIndex(rowCellIndexes[0].rowIndex, rowCellIndexes[0].cellIndexes[0]);\n        }\n        this.currentIndex = rowCellIndexes[0].rowIndex;\n        var selectedData = this.getCurrentBatchRecordChanges()[this.currentIndex];\n        if (this.isSingleSel() || !this.isCellType() || this.isEditing()) {\n            return;\n        }\n        var cellSelectArgs = {\n            data: selectedData, cellIndex: rowCellIndexes[0].cellIndexes[0],\n            currentCell: selectedCell, isCtrlPressed: this.isMultiCtrlRequest,\n            isShiftPressed: this.isMultiShiftRequest,\n            previousRowCell: this.prevECIdxs ? this.getCellIndex(this.prevECIdxs.rowIndex, this.prevECIdxs.cellIndex) : undefined\n        };\n        var previousRowCellIndex = 'previousRowCellIndex';\n        cellSelectArgs[previousRowCellIndex] = this.prevECIdxs;\n        this.onActionBegin(cellSelectArgs, events.cellSelecting);\n        for (var i = 0, len = rowCellIndexes.length; i < len; i++) {\n            for (var j = 0, cellLen = rowCellIndexes[i].cellIndexes.length; j < cellLen; j++) {\n                if (frzCols) {\n                    if (rowCellIndexes[i].cellIndexes[j] < frzCols) {\n                        selectedCell = gObj.getCellFromIndex(rowCellIndexes[i].rowIndex, rowCellIndexes[i].cellIndexes[j]);\n                    }\n                    else {\n                        selectedCell = gObj.getMovableCellFromIndex(rowCellIndexes[i].rowIndex, rowCellIndexes[i].cellIndexes[j]);\n                    }\n                }\n                else {\n                    selectedCell = gObj.getCellFromIndex(rowCellIndexes[i].rowIndex, rowCellIndexes[i].cellIndexes[j]);\n                }\n                if (!selectedCell) {\n                    continue;\n                }\n                this.updateCellSelection(selectedCell);\n                this.addAttribute(selectedCell);\n                this.addRowCellIndex({ rowIndex: rowCellIndexes[i].rowIndex, cellIndex: rowCellIndexes[i].cellIndexes[j] });\n            }\n        }\n        this.updateCellProps({ rowIndex: rowCellIndexes[0].rowIndex, cellIndex: rowCellIndexes[0].cellIndexes[0] }, { rowIndex: rowCellIndexes[0].rowIndex, cellIndex: rowCellIndexes[0].cellIndexes[0] });\n        var cellSelectedArgs = {\n            data: selectedData, cellIndex: rowCellIndexes[0].cellIndexes[0],\n            currentCell: selectedCell, selectedRowCellIndex: this.selectedRowCellIndexes,\n            previousRowCell: this.prevECIdxs ? this.getCellIndex(this.prevECIdxs.rowIndex, this.prevECIdxs.cellIndex) : undefined\n        };\n        var prvRowCellIndex = 'previousRowCellIndex';\n        cellSelectedArgs[prvRowCellIndex] = this.prevECIdxs;\n        this.onActionComplete(cellSelectedArgs, events.cellSelected);\n    };\n    /**\n     * Select cells with existing cell selection by passing row and column index.\n     *\n     * @param {IIndex} cellIndexes - Defines the collection of row and column index.\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.addCellsToSelection = function (cellIndexes) {\n        if (!this.isCellType()) {\n            return;\n        }\n        var gObj = this.parent;\n        var selectedCell;\n        var index;\n        this.currentIndex = cellIndexes[0].rowIndex;\n        var cncl = 'cancel';\n        var selectedData = this.getCurrentBatchRecordChanges()[this.currentIndex];\n        var left = gObj.getFrozenLeftCount();\n        var movable = gObj.getMovableColumnsCount();\n        if (this.isSingleSel() || !this.isCellType() || this.isEditing()) {\n            return;\n        }\n        this.hideAutoFill();\n        var col = gObj.getColumnByIndex(cellIndexes[0].cellIndex);\n        var rowObj;\n        gridActionHandler(this.parent, function (tableName, rows) {\n            rowObj = rows[cellIndexes[0].rowIndex];\n        }, [\n            !col.getFreezeTableName() || col.getFreezeTableName() === literals.frozenLeft ? gObj.getRowsObject() : [],\n            col.getFreezeTableName() === 'movable' ? gObj.getMovableRowsObject() : [],\n            col.getFreezeTableName() === literals.frozenRight ? gObj.getFrozenRightRowsObject() : []\n        ]);\n        if (gObj.groupSettings.columns.length > 0) {\n            rowObj = gObj.getRowObjectFromUID(this.target.parentElement.getAttribute('data-uid'));\n        }\n        var foreignKeyData = [];\n        for (var _i = 0, cellIndexes_1 = cellIndexes; _i < cellIndexes_1.length; _i++) {\n            var cellIndex = cellIndexes_1[_i];\n            for (var i = 0, len = this.selectedRowCellIndexes.length; i < len; i++) {\n                if (this.selectedRowCellIndexes[i].rowIndex === cellIndex.rowIndex) {\n                    index = i;\n                    break;\n                }\n            }\n            selectedCell = this.getSelectedMovableCell(cellIndex);\n            if (!selectedCell) {\n                selectedCell = gObj.getCellFromIndex(cellIndex.rowIndex, this.getColIndex(cellIndex.rowIndex, cellIndex.cellIndex));\n            }\n            var idx = col.getFreezeTableName() === 'movable' ? cellIndex.cellIndex - left\n                : col.getFreezeTableName() === literals.frozenRight ? cellIndex.cellIndex - (left + movable) : cellIndex.cellIndex;\n            if (gObj.groupSettings.columns.length > 0) {\n                foreignKeyData.push(rowObj.cells[idx + gObj.groupSettings.columns.length].foreignKeyData);\n            }\n            else {\n                foreignKeyData.push(rowObj.cells[idx].foreignKeyData);\n            }\n            var args = {\n                cancel: false, data: selectedData, cellIndex: cellIndexes[0],\n                isShiftPressed: this.isMultiShiftRequest,\n                currentCell: selectedCell, isCtrlPressed: this.isMultiCtrlRequest,\n                previousRowCell: this.prevECIdxs ?\n                    gObj.getCellFromIndex(this.prevECIdxs.rowIndex, this.prevECIdxs.cellIndex) : undefined\n            };\n            var prvRowCellIndex = 'previousRowCellIndex';\n            args[prvRowCellIndex] = this.prevECIdxs;\n            var isUnSelected = index > -1;\n            if (isUnSelected) {\n                var selectedCellIdx = this.selectedRowCellIndexes[index].cellIndexes;\n                if (selectedCellIdx.indexOf(cellIndex.cellIndex) > -1) {\n                    this.cellDeselect(events.cellDeselecting, [{ rowIndex: cellIndex.rowIndex, cellIndexes: [cellIndex.cellIndex] }], selectedData, [selectedCell], foreignKeyData);\n                    selectedCellIdx.splice(selectedCellIdx.indexOf(cellIndex.cellIndex), 1);\n                    if (selectedCellIdx.length === 0) {\n                        this.selectedRowCellIndexes.splice(index, 1);\n                    }\n                    selectedCell.classList.remove('e-cellselectionbackground');\n                    selectedCell.removeAttribute('aria-selected');\n                    this.cellDeselect(events.cellDeselected, [{ rowIndex: cellIndex.rowIndex, cellIndexes: [cellIndex.cellIndex] }], selectedData, [selectedCell], foreignKeyData);\n                }\n                else {\n                    isUnSelected = false;\n                    this.onActionBegin(args, events.cellSelecting);\n                    this.addRowCellIndex({ rowIndex: cellIndex.rowIndex, cellIndex: cellIndex.cellIndex });\n                    this.updateCellSelection(selectedCell);\n                    this.addAttribute(selectedCell);\n                }\n            }\n            else {\n                this.onActionBegin(args, events.cellSelecting);\n                if (!isNullOrUndefined(args) && args[cncl] === true) {\n                    return;\n                }\n                this.updateCellSelection(selectedCell, cellIndex.rowIndex, cellIndex.cellIndex);\n            }\n            if (!isUnSelected) {\n                var cellSelectedArgs = {\n                    data: selectedData, cellIndex: cellIndexes[0], currentCell: selectedCell,\n                    previousRowCell: this.prevECIdxs ? this.getCellIndex(this.prevECIdxs.rowIndex, this.prevECIdxs.cellIndex) :\n                        undefined, selectedRowCellIndex: this.selectedRowCellIndexes\n                };\n                cellSelectedArgs[prvRowCellIndex] = this.prevECIdxs;\n                this.onActionComplete(cellSelectedArgs, events.cellSelected);\n                this.cellselected = true;\n            }\n            this.updateCellProps(cellIndex, cellIndex);\n        }\n    };\n    Selection.prototype.getColIndex = function (rowIndex, index) {\n        var frzCols = this.parent.isFrozenGrid();\n        var col = this.parent.getColumnByIndex(index);\n        var cells = getCellsByTableName(this.parent, col, rowIndex);\n        if (cells) {\n            for (var m = 0; m < cells.length; m++) {\n                var colIndex = parseInt(cells[m].getAttribute(literals.ariaColIndex), 10);\n                if (colIndex === index) {\n                    if (frzCols) {\n                        if (col.getFreezeTableName() === 'movable') {\n                            m += this.parent.getFrozenLeftCount();\n                        }\n                        else if (col.getFreezeTableName() === literals.frozenRight) {\n                            m += (this.parent.getFrozenLeftColumnsCount() + this.parent.getMovableColumnsCount());\n                        }\n                    }\n                    return m;\n                }\n            }\n        }\n        return -1;\n    };\n    Selection.prototype.getLastColIndex = function (rowIndex) {\n        var cells = this.parent.getFrozenColumns() ? this.parent.getMovableDataRows()[rowIndex].querySelectorAll('td.e-rowcell')\n            : this.parent.getDataRows()[rowIndex].querySelectorAll('td.e-rowcell');\n        return parseInt(cells[cells.length - 1].getAttribute(literals.ariaColIndex), 10);\n    };\n    Selection.prototype.clearCell = function () {\n        this.clearCellSelection();\n    };\n    Selection.prototype.cellDeselect = function (type, cellIndexes, data, cells, foreignKeyData) {\n        var cancl = 'cancel';\n        if (cells[0] && cells[0].classList.contains(literals.gridChkBox)) {\n            this.updateCheckBoxes(closest(cells[0], 'tr'));\n        }\n        var args = {\n            cells: cells, data: data, cellIndexes: cellIndexes, foreignKeyData: foreignKeyData, cancel: false\n        };\n        this.parent.trigger(type, args);\n        this.isPreventCellSelect = args[cancl];\n    };\n    Selection.prototype.updateCellSelection = function (selectedCell, rowIndex, cellIndex) {\n        if (!isNullOrUndefined(rowIndex)) {\n            this.addRowCellIndex({ rowIndex: rowIndex, cellIndex: cellIndex });\n        }\n        selectedCell.classList.add('e-cellselectionbackground');\n        if (selectedCell.classList.contains(literals.gridChkBox)) {\n            this.updateCheckBoxes(closest(selectedCell, 'tr'), true);\n        }\n        this.addAttribute(selectedCell);\n    };\n    Selection.prototype.addAttribute = function (cell) {\n        this.target = cell;\n        if (!isNullOrUndefined(cell)) {\n            cell.setAttribute('aria-selected', 'true');\n            if (!this.preventFocus) {\n                this.focus.onClick({ target: cell }, true);\n            }\n        }\n    };\n    Selection.prototype.updateCellProps = function (startIndex, endIndex) {\n        this.prevCIdxs = startIndex;\n        this.prevECIdxs = endIndex;\n        this.isCellSelected = this.selectedRowCellIndexes.length && true;\n    };\n    Selection.prototype.addRowCellIndex = function (rowCellIndex) {\n        var isRowAvail;\n        var index;\n        for (var i = 0, len = this.selectedRowCellIndexes.length; i < len; i++) {\n            if (this.selectedRowCellIndexes[i].rowIndex === rowCellIndex.rowIndex) {\n                isRowAvail = true;\n                index = i;\n                break;\n            }\n        }\n        if (isRowAvail) {\n            if (this.selectedRowCellIndexes[index].cellIndexes.indexOf(rowCellIndex.cellIndex) < 0) {\n                this.selectedRowCellIndexes[index].cellIndexes.push(rowCellIndex.cellIndex);\n            }\n        }\n        else {\n            this.selectedRowCellIndexes.push({ rowIndex: rowCellIndex.rowIndex, cellIndexes: [rowCellIndex.cellIndex] });\n        }\n    };\n    /**\n     * Deselects the currently selected cells.\n     *\n     * @returns {void}\n     */\n    Selection.prototype.clearCellSelection = function () {\n        if (this.isCellSelected) {\n            var gObj = this.parent;\n            var selectedCells = this.getSelectedCellsElement();\n            var rowCell = this.selectedRowCellIndexes;\n            var data = [];\n            var cells = [];\n            var foreignKeyData = [];\n            var currentViewData = this.getCurrentBatchRecordChanges();\n            var frzCols = gObj.isFrozenGrid();\n            this.hideAutoFill();\n            for (var i = 0, len = rowCell.length; i < len; i++) {\n                data.push(currentViewData[rowCell[i].rowIndex]);\n                var rowObj = this.getRowObj(rowCell[i].rowIndex);\n                for (var j = 0, cLen = rowCell[i].cellIndexes.length; j < cLen; j++) {\n                    if (frzCols) {\n                        var col = gObj.getColumnByIndex(rowCell[i].cellIndexes[j]);\n                        cells.push(getCellByColAndRowIndex(this.parent, col, rowCell[i].rowIndex, rowCell[i].cellIndexes[j]));\n                    }\n                    else {\n                        if (rowObj.cells) {\n                            foreignKeyData.push(rowObj.cells[rowCell[i].cellIndexes[j]].foreignKeyData);\n                        }\n                        cells.push(gObj.getCellFromIndex(rowCell[i].rowIndex, rowCell[i].cellIndexes[j]));\n                    }\n                }\n            }\n            this.cellDeselect(events.cellDeselecting, rowCell, data, cells, foreignKeyData);\n            if (this.isPreventCellSelect === true) {\n                return;\n            }\n            for (var i = 0, len = selectedCells.length; i < len; i++) {\n                selectedCells[i].classList.remove('e-cellselectionbackground');\n                selectedCells[i].removeAttribute('aria-selected');\n            }\n            if (this.bdrElement) {\n                this.showHideBorders('none');\n            }\n            this.selectedRowCellIndexes = [];\n            this.isCellSelected = false;\n            if (!this.isDragged && this.cellselected) {\n                this.cellDeselect(events.cellDeselected, rowCell, data, cells, foreignKeyData);\n            }\n        }\n    };\n    Selection.prototype.getSelectedCellsElement = function () {\n        var gObj = this.parent;\n        var rows = gObj.getDataRows();\n        var mRows;\n        if (gObj.isFrozenGrid()) {\n            mRows = gObj.getMovableDataRows();\n            rows = gObj.addMovableRows(rows, mRows);\n            if (gObj.getFrozenMode() === literals.leftRight) {\n                rows = gObj.addMovableRows(rows, gObj.getFrozenRightDataRows());\n            }\n        }\n        var cells = [];\n        for (var i = 0, len = rows.length; i < len; i++) {\n            cells = cells.concat([].slice.call(rows[i].getElementsByClassName('e-cellselectionbackground')));\n        }\n        return cells;\n    };\n    Selection.prototype.mouseMoveHandler = function (e) {\n        e.preventDefault();\n        var gBRect = this.parent.element.getBoundingClientRect();\n        var x1 = this.x;\n        var y1 = this.y;\n        var position = getPosition(e);\n        var x2 = position.x - gBRect.left;\n        var y2 = position.y - gBRect.top;\n        var tmp;\n        var target = closest(e.target, 'tr');\n        this.isDragged = true;\n        if (!this.isCellDrag) {\n            if (!target) {\n                target = closest(document.elementFromPoint(this.parent.element.offsetLeft + 2, e.clientY), 'tr');\n            }\n            if (x1 > x2) {\n                tmp = x2;\n                x2 = x1;\n                x1 = tmp;\n            }\n            if (y1 > y2) {\n                tmp = y2;\n                y2 = y1;\n                y1 = tmp;\n            }\n            this.element.style.left = x1 + 'px';\n            this.element.style.top = y1 + 'px';\n            this.element.style.width = x2 - x1 + 'px';\n            this.element.style.height = y2 - y1 + 'px';\n        }\n        if (target && !e.ctrlKey && !e.shiftKey) {\n            var rowIndex = parseInt(target.getAttribute(literals.ariaRowIndex), 10);\n            if (!this.isCellDrag) {\n                this.hideAutoFill();\n                this.selectRowsByRange(this.startDIndex, rowIndex);\n                this.isRowDragSelected = true;\n            }\n            else {\n                var td = parentsUntil(e.target, literals.rowCell);\n                if (td) {\n                    this.startAFCell = this.startCell;\n                    this.endAFCell = parentsUntil(e.target, literals.rowCell);\n                    this.selectLikeExcel(e, rowIndex, parseInt(td.getAttribute(literals.ariaColIndex), 10));\n                }\n            }\n        }\n    };\n    Selection.prototype.selectLikeExcel = function (e, rowIndex, cellIndex) {\n        if (!this.isAutoFillSel) {\n            this.clearCellSelection();\n            this.selectCellsByRange({ rowIndex: this.startDIndex, cellIndex: this.startDCellIndex }, { rowIndex: rowIndex, cellIndex: cellIndex });\n            this.drawBorders();\n        }\n        else { //Autofill\n            this.showAFBorders();\n            this.selectLikeAutoFill(e);\n        }\n    };\n    Selection.prototype.drawBorders = function () {\n        if (this.selectionSettings.cellSelectionMode === 'BoxWithBorder' && this.selectedRowCellIndexes.length && !this.parent.isEdit) {\n            this.parent.element.classList.add('e-enabledboxbdr');\n            if (!this.bdrElement) {\n                this.createBorders();\n            }\n            this.positionBorders();\n        }\n        else {\n            this.showHideBorders('none');\n        }\n    };\n    Selection.prototype.isLastCell = function (cell) {\n        var cells = [].slice.call(cell.parentElement.querySelectorAll('.e-rowcell:not(.e-hide)'));\n        return cells[cells.length - 1] === cell;\n    };\n    Selection.prototype.isLastRow = function (cell) {\n        var rows = [].slice.call(closest(cell, literals.tbody).querySelectorAll('.e-row:not(.e-hiddenrow)'));\n        return cell.parentElement === rows[rows.length - 1];\n    };\n    Selection.prototype.isFirstRow = function (cell) {\n        var rows = [].slice.call(closest(cell, literals.tbody).querySelectorAll('.e-row:not(.e-hiddenrow)'));\n        return cell.parentElement === rows[0];\n    };\n    Selection.prototype.isFirstCell = function (cell) {\n        var cells = [].slice.call(cell.parentElement.querySelectorAll('.e-rowcell:not(.e-hide)'));\n        return cells[0] === cell;\n    };\n    Selection.prototype.setBorders = function (parentEle, border, bdrStr) {\n        var cells = [].slice.call(parentEle.getElementsByClassName('e-cellselectionbackground')).\n            filter(function (ele) { return ele.style.display === ''; });\n        if (cells.length) {\n            var isFrozen = this.parent.isFrozenGrid();\n            var start = cells[0];\n            var end = cells[cells.length - 1];\n            var stOff = start.getBoundingClientRect();\n            var endOff = end.getBoundingClientRect();\n            var parentOff = start.offsetParent.getBoundingClientRect();\n            var rowHeight = this.isLastRow(end) && (bdrStr === '1' || bdrStr === '2' || bdrStr === '5') ? 2 : 0;\n            var topOffSet = this.parent.frozenRows && (bdrStr === '1' || bdrStr === '2') &&\n                this.isFirstRow(start) ? 1.5 : 0;\n            var leftOffset = isFrozen && (bdrStr === '2' || bdrStr === '4') && this.isFirstCell(start) ? 1 : 0;\n            var rightOffset = ((this.parent.getFrozenMode() === 'Right' && (bdrStr === '1' || bdrStr === '3'))\n                || (this.parent.getFrozenMode() === literals.leftRight && (bdrStr === '5' || bdrStr === '6')))\n                && this.isFirstCell(start) ? 1 : 0;\n            if (this.parent.enableRtl) {\n                border.style.right = parentOff.right - stOff.right - leftOffset + 'px';\n                border.style.width = stOff.right - endOff.left + leftOffset + 1 + 'px';\n            }\n            else {\n                border.style.left = stOff.left - parentOff.left - leftOffset - rightOffset + 'px';\n                border.style.width = endOff.right - stOff.left + leftOffset - rightOffset + 1 + 'px';\n            }\n            border.style.top = stOff.top - parentOff.top - topOffSet + 'px';\n            border.style.height = endOff.top - stOff.top > 0 ?\n                (endOff.top - parentOff.top + endOff.height + 1) - (stOff.top - parentOff.top) - rowHeight + topOffSet + 'px' :\n                endOff.height + topOffSet - rowHeight + 1 + 'px';\n            this.selectDirection += bdrStr;\n        }\n        else {\n            border.style.display = 'none';\n        }\n    };\n    Selection.prototype.positionBorders = function () {\n        this.updateStartEndCells();\n        if (!this.startCell || !this.bdrElement || !this.selectedRowCellIndexes.length) {\n            return;\n        }\n        this.selectDirection = '';\n        this.showHideBorders('');\n        this.setBorders(this.parent.getContentTable(), this.bdrElement, '1');\n        if (this.parent.isFrozenGrid()) {\n            this.setBorders(this.parent.contentModule.getMovableContent(), this.mcBdrElement, '2');\n            if (this.parent.getFrozenMode() === literals.leftRight) {\n                this.setBorders(this.parent.contentModule.getFrozenRightContent(), this.frcBdrElement, '5');\n            }\n        }\n        if (this.parent.frozenRows) {\n            this.setBorders(this.parent.getHeaderTable(), this.fhBdrElement, '3');\n            if (this.parent.isFrozenGrid()) {\n                this.setBorders(this.parent.headerModule.getMovableHeader(), this.mhBdrElement, '4');\n                if (this.parent.getFrozenMode() === literals.leftRight) {\n                    this.setBorders(this.parent.headerModule.getFrozenRightHeader(), this.frhBdrElement, '6');\n                }\n            }\n        }\n        this.applyBorders(this.selectDirection);\n    };\n    /* eslint-enable */\n    Selection.prototype.applyBothFrozenBorders = function (str) {\n        var rtl = this.parent.enableRtl;\n        switch (str.length) {\n            case 6:\n                {\n                    this.bdrElement.style.borderWidth = rtl ? this.right_bottom : this.bottom_left;\n                    this.mcBdrElement.style.borderWidth = this.bottom;\n                    this.fhBdrElement.style.borderWidth = rtl ? this.top_right : this.top_left;\n                    this.mhBdrElement.style.borderWidth = this.top;\n                    this.frcBdrElement.style.borderWidth = rtl ? this.bottom_left : this.right_bottom;\n                    this.frhBdrElement.style.borderWidth = rtl ? this.top_left : this.top_right;\n                }\n                break;\n            case 4:\n                {\n                    if (str.includes('1') && str.includes('2') && str.includes('3') && str.includes('4')) {\n                        this.fhBdrElement.style.borderWidth = rtl ? this.top_right : this.top_left;\n                        this.mhBdrElement.style.borderWidth = rtl ? this.top_left : this.top_right;\n                        this.bdrElement.style.borderWidth = rtl ? this.right_bottom : this.bottom_left;\n                        this.mcBdrElement.style.borderWidth = rtl ? this.bottom_left : this.right_bottom;\n                    }\n                    if (str.includes('2') && str.includes('4') && str.includes('5') && str.includes('6')) {\n                        this.mcBdrElement.style.borderWidth = rtl ? this.right_bottom : this.bottom_left;\n                        this.mhBdrElement.style.borderWidth = rtl ? this.top_right : this.top_left;\n                        this.frcBdrElement.style.borderWidth = rtl ? this.bottom_left : this.right_bottom;\n                        this.frhBdrElement.style.borderWidth = rtl ? this.top_left : this.top_right;\n                    }\n                }\n                break;\n            case 3:\n                {\n                    this.bdrElement.style.borderWidth = rtl ? this.top_right_bottom : this.top_bottom_left;\n                    this.mcBdrElement.style.borderWidth = this.top_bottom;\n                    this.frcBdrElement.style.borderWidth = rtl ? this.top_bottom_left : this.top_right_bottom;\n                    if (this.parent.frozenRows) {\n                        this.fhBdrElement.style.borderWidth = rtl ? this.top_right_bottom : this.top_bottom_left;\n                        this.mhBdrElement.style.borderWidth = this.top_bottom;\n                        this.frcBdrElement.style.borderWidth = rtl ? this.top_bottom_left : this.top_right_bottom;\n                    }\n                }\n                break;\n            case 2:\n                {\n                    if (str.includes('1')) {\n                        this.mcBdrElement.style.borderWidth = rtl ? this.top_bottom_left : this.top_right_bottom;\n                        if (this.parent.frozenRows) {\n                            this.fhBdrElement.style.borderWidth = this.top_right_left;\n                        }\n                    }\n                    if (str.includes('2')) {\n                        this.bdrElement.style.borderWidth = rtl ? this.top_right_bottom : this.top_bottom_left;\n                        this.frcBdrElement.style.borderWidth = rtl ? this.top_bottom_left : this.top_right_bottom;\n                        if (this.parent.frozenRows) {\n                            this.mhBdrElement.style.borderWidth = this.top_right_left;\n                        }\n                    }\n                    if (str.includes('3')) {\n                        this.mhBdrElement.style.borderWidth = rtl ? this.top_bottom_left : this.top_right_bottom;\n                        this.bdrElement.style.borderWidth = this.right_bottom_left;\n                    }\n                    if (str.includes('4')) {\n                        this.fhBdrElement.style.borderWidth = rtl ? this.top_right_bottom : this.top_bottom_left;\n                        this.frhBdrElement.style.borderWidth = rtl ? this.top_bottom_left : this.top_right_bottom;\n                        this.mcBdrElement.style.borderWidth = this.right_bottom_left;\n                    }\n                    if (str.includes('5')) {\n                        this.mcBdrElement.style.borderWidth = rtl ? this.top_right_bottom : this.top_bottom_left;\n                        if (this.parent.frozenRows) {\n                            this.frhBdrElement.style.borderWidth = this.top_right_left;\n                        }\n                    }\n                    if (str.includes('6')) {\n                        this.mhBdrElement.style.borderWidth = rtl ? this.top_right_bottom : this.top_bottom_left;\n                        this.frcBdrElement.style.borderWidth = this.right_bottom_left;\n                    }\n                }\n                break;\n            default:\n                this.bdrElement.style.borderWidth = this.all_border;\n                this.mcBdrElement.style.borderWidth = this.all_border;\n                this.frcBdrElement.style.borderWidth = this.all_border;\n                if (this.parent.frozenRows) {\n                    this.fhBdrElement.style.borderWidth = this.all_border;\n                    this.mhBdrElement.style.borderWidth = this.all_border;\n                    this.frhBdrElement.style.borderWidth = this.all_border;\n                }\n                break;\n        }\n    };\n    Selection.prototype.applyBorders = function (str) {\n        var rtl = this.parent.enableRtl;\n        if (this.parent.getFrozenMode() === literals.leftRight) {\n            this.applyBothFrozenBorders(str);\n        }\n        else {\n            switch (str.length) {\n                case 4:\n                    {\n                        if (this.parent.getFrozenMode() === 'Right') {\n                            this.bdrElement.style.borderWidth = rtl ? this.bottom_left : this.right_bottom;\n                            this.mcBdrElement.style.borderWidth = rtl ? this.right_bottom : this.bottom_left;\n                            this.fhBdrElement.style.borderWidth = rtl ? this.top_left : this.top_right;\n                            this.mhBdrElement.style.borderWidth = rtl ? this.top_right : this.top_left;\n                        }\n                        else {\n                            this.bdrElement.style.borderWidth = rtl ? this.right_bottom : this.bottom_left;\n                            this.mcBdrElement.style.borderWidth = rtl ? this.bottom_left : this.right_bottom;\n                            this.fhBdrElement.style.borderWidth = rtl ? this.top_right : this.top_left;\n                            this.mhBdrElement.style.borderWidth = rtl ? this.top_left : this.top_right;\n                        }\n                    }\n                    break;\n                case 2:\n                    {\n                        if (this.parent.getFrozenMode() === 'Right') {\n                            this.bdrElement.style.borderWidth = str.includes('2') ? rtl ? this.top_bottom_left\n                                : this.top_right_bottom : this.right_bottom_left;\n                            this.mcBdrElement.style.borderWidth = str.includes('1') ? rtl ? this.top_right_bottom\n                                : this.top_bottom_left : this.right_bottom_left;\n                            if (this.parent.frozenRows) {\n                                this.fhBdrElement.style.borderWidth = str.includes('1') ? this.top_right_left\n                                    : rtl ? this.top_bottom_left : this.top_right_bottom;\n                                this.mhBdrElement.style.borderWidth = str.includes('2') ? this.top_right_left\n                                    : rtl ? this.top_right_bottom : this.top_bottom_left;\n                            }\n                        }\n                        else {\n                            this.bdrElement.style.borderWidth = str.includes('2') ? rtl ? this.top_right_bottom\n                                : this.top_bottom_left : this.right_bottom_left;\n                            if (this.parent.isFrozenGrid()) {\n                                this.mcBdrElement.style.borderWidth = str.includes('1') ? rtl ? this.top_bottom_left\n                                    : this.top_right_bottom : this.right_bottom_left;\n                            }\n                            if (this.parent.frozenRows) {\n                                this.fhBdrElement.style.borderWidth = str.includes('1') ? this.top_right_left\n                                    : rtl ? this.top_right_bottom : this.top_bottom_left;\n                                if (this.parent.isFrozenGrid()) {\n                                    this.mhBdrElement.style.borderWidth = str.includes('2') ? this.top_right_left\n                                        : rtl ? this.top_bottom_left : this.top_right_bottom;\n                                }\n                            }\n                        }\n                    }\n                    break;\n                default:\n                    this.bdrElement.style.borderWidth = this.all_border;\n                    if (this.parent.isFrozenGrid()) {\n                        this.mcBdrElement.style.borderWidth = this.all_border;\n                    }\n                    if (this.parent.frozenRows) {\n                        this.fhBdrElement.style.borderWidth = this.all_border;\n                        if (this.parent.isFrozenGrid()) {\n                            this.mhBdrElement.style.borderWidth = this.all_border;\n                        }\n                    }\n                    break;\n            }\n        }\n    };\n    Selection.prototype.createBorders = function () {\n        if (!this.bdrElement) {\n            this.bdrElement = this.parent.getContentTable().parentElement.appendChild(createElement('div', {\n                className: 'e-xlsel', id: this.parent.element.id + '_bdr',\n                styles: 'width: 2px; border-width: 0;'\n            }));\n            if (this.parent.isFrozenGrid()) {\n                this.mcBdrElement = this.parent.contentModule.getMovableContent().appendChild(createElement('div', {\n                    className: 'e-xlsel', id: this.parent.element.id + '_mcbdr',\n                    styles: 'height: 2px; border-width: 0;'\n                }));\n                if (this.parent.getFrozenMode() === literals.leftRight) {\n                    this.frcBdrElement = this.parent.contentModule.getFrozenRightContent().appendChild(createElement('div', {\n                        className: 'e-xlsel', id: this.parent.element.id + '_frcbdr',\n                        styles: 'height: 2px; border-width: 0;'\n                    }));\n                }\n            }\n            if (this.parent.frozenRows) {\n                this.fhBdrElement = this.parent.getHeaderTable().parentElement.appendChild(createElement('div', { className: 'e-xlsel', id: this.parent.element.id + '_fhbdr', styles: 'height: 2px;' }));\n            }\n            if (this.parent.frozenRows && this.parent.isFrozenGrid()) {\n                this.mhBdrElement = this.parent.headerModule.getMovableHeader().appendChild(createElement('div', { className: 'e-xlsel', id: this.parent.element.id + '_mhbdr', styles: 'height: 2px;' }));\n                if (this.parent.getFrozenMode() === literals.leftRight) {\n                    this.frhBdrElement = this.parent.headerModule.getFrozenRightHeader().appendChild(createElement('div', { className: 'e-xlsel', id: this.parent.element.id + '_frhbdr', styles: 'height: 2px;' }));\n                }\n            }\n        }\n    };\n    Selection.prototype.showHideBorders = function (display) {\n        if (this.bdrElement) {\n            this.bdrElement.style.display = display;\n            if (this.parent.isFrozenGrid()) {\n                this.mcBdrElement.style.display = display;\n                if (this.parent.getFrozenMode() === literals.leftRight) {\n                    this.frcBdrElement.style.display = display;\n                }\n            }\n            if (this.parent.frozenRows) {\n                this.fhBdrElement.style.display = display;\n            }\n            if (this.parent.frozenRows && this.parent.isFrozenGrid()) {\n                this.mhBdrElement.style.display = display;\n                if (this.parent.getFrozenMode() === literals.leftRight) {\n                    this.frhBdrElement.style.display = display;\n                }\n            }\n        }\n    };\n    Selection.prototype.drawAFBorders = function () {\n        if (!this.bdrAFBottom) {\n            this.createAFBorders();\n        }\n        this.positionAFBorders();\n    };\n    Selection.prototype.positionAFBorders = function () {\n        if (!this.startCell || !this.bdrAFLeft) {\n            return;\n        }\n        var stOff = this.startAFCell.getBoundingClientRect();\n        var endOff = this.endAFCell.getBoundingClientRect();\n        var top = endOff.top - stOff.top > 0 ? 1 : 0;\n        var firstCellTop = endOff.top - stOff.top >= 0 && (parentsUntil(this.startAFCell, literals.movableContent) ||\n            parentsUntil(this.startAFCell, 'e-frozencontent')) && this.isFirstRow(this.startAFCell) ? 1.5 : 0;\n        var firstCellLeft = (parentsUntil(this.startAFCell, literals.movableContent) ||\n            parentsUntil(this.startAFCell, literals.movableHeader)) && this.isFirstCell(this.startAFCell) ? 1 : 0;\n        var rowHeight = this.isLastRow(this.endAFCell) && (parentsUntil(this.endAFCell, literals.movableContent) ||\n            parentsUntil(this.endAFCell, 'e-frozencontent')) ? 2 : 0;\n        var parentOff = this.startAFCell.offsetParent.getBoundingClientRect();\n        var parentRect = this.parent.element.getBoundingClientRect();\n        var sTop = this.startAFCell.offsetParent.parentElement.scrollTop;\n        var sLeft = this.startAFCell.offsetParent.parentElement.scrollLeft;\n        var scrollTop = sTop - this.startAFCell.offsetTop;\n        var scrollLeft = sLeft - this.startAFCell.offsetLeft;\n        var totalHeight = this.parent.element.clientHeight;\n        var totalWidth = this.parent.element.clientWidth;\n        scrollTop = scrollTop > 0 ? Math.floor(scrollTop) - 1 : 0;\n        scrollLeft = scrollLeft > 0 ? scrollLeft : 0;\n        var left = stOff.left - parentRect.left;\n        if (!this.parent.enableRtl) {\n            this.bdrAFLeft.style.left = left - firstCellLeft + scrollLeft - 1 + 'px';\n            this.bdrAFRight.style.left = endOff.left - parentRect.left - 2 + endOff.width + 'px';\n            this.bdrAFRight.style.width = totalWidth <= parseInt(this.bdrAFRight.style.left, 10) ? '0px' : '2px';\n            this.bdrAFTop.style.left = left + scrollLeft - 0.5 + 'px';\n            this.bdrAFTop.style.width = parseInt(this.bdrAFRight.style.left, 10) - parseInt(this.bdrAFLeft.style.left, 10)\n                - firstCellLeft + 1 + 'px';\n            if (totalWidth <= (parseInt(this.bdrAFTop.style.width, 10) + parseInt(this.bdrAFTop.style.left, 10))) {\n                var leftRemove = (parseInt(this.bdrAFTop.style.width, 10) + parseInt(this.bdrAFTop.style.left, 10)) - totalWidth;\n                this.bdrAFTop.style.width = parseInt(this.bdrAFTop.style.width, 10) - leftRemove + 'px';\n            }\n        }\n        else {\n            var scrolloffSet = (parentsUntil(this.startAFCell, literals.movableContent) ||\n                parentsUntil(this.startAFCell, literals.movableHeader)) ? stOff.right -\n                this.startAFCell.offsetParent.parentElement.getBoundingClientRect().width -\n                parentRect.left : 0;\n            this.bdrAFLeft.style.right = parentRect.right - endOff.right - 2 + endOff.width + 'px';\n            this.bdrAFLeft.style.width = totalWidth <= parseInt(this.bdrAFLeft.style.right, 10) ? '0px' : '2px';\n            this.bdrAFRight.style.right = parentRect.right - stOff.right - firstCellLeft + scrolloffSet - 1 + 'px';\n            this.bdrAFTop.style.left = endOff.left - parentRect.left - 0.5 + 'px';\n            this.bdrAFTop.style.width = parseInt(this.bdrAFLeft.style.right, 10) - parseInt(this.bdrAFRight.style.right, 10)\n                - firstCellLeft + 1 + 'px';\n            if (parseInt(this.bdrAFTop.style.left, 10) < 0) {\n                this.bdrAFTop.style.width = parseInt(this.bdrAFTop.style.width, 10) + parseInt(this.bdrAFTop.style.left, 10) + 'px';\n                this.bdrAFTop.style.left = '0px';\n            }\n        }\n        this.bdrAFLeft.style.top = stOff.top - parentRect.top - firstCellTop + scrollTop + 'px';\n        this.bdrAFLeft.style.height = endOff.top - stOff.top > 0 ?\n            (endOff.top - parentOff.top + endOff.height + 1) - (stOff.top - parentOff.top) + firstCellTop - rowHeight - scrollTop + 'px' :\n            endOff.height + firstCellTop - rowHeight - scrollTop + 'px';\n        this.bdrAFRight.style.top = this.bdrAFLeft.style.top;\n        this.bdrAFRight.style.height = parseInt(this.bdrAFLeft.style.height, 10) + 'px';\n        this.bdrAFTop.style.top = this.bdrAFRight.style.top;\n        this.bdrAFBottom.style.left = this.bdrAFTop.style.left;\n        this.bdrAFBottom.style.top = parseFloat(this.bdrAFLeft.style.top) + parseFloat(this.bdrAFLeft.style.height) - top - 1 + 'px';\n        this.bdrAFBottom.style.width = totalHeight <= parseFloat(this.bdrAFBottom.style.top) ? '0px' : this.bdrAFTop.style.width;\n        if (totalHeight <= (parseInt(this.bdrAFLeft.style.height, 10) + parseInt(this.bdrAFLeft.style.top, 10))) {\n            var topRemove = parseInt(this.bdrAFLeft.style.height, 10) + parseInt(this.bdrAFLeft.style.top, 10) - totalHeight;\n            this.bdrAFLeft.style.height = parseInt(this.bdrAFLeft.style.height, 10) - topRemove + 'px';\n            this.bdrAFRight.style.height = parseInt(this.bdrAFLeft.style.height, 10) + 'px';\n        }\n    };\n    Selection.prototype.createAFBorders = function () {\n        if (!this.bdrAFLeft) {\n            this.bdrAFLeft = this.parent.element.appendChild(createElement('div', { className: 'e-xlselaf', id: this.parent.element.id + '_bdrafleft', styles: 'width: 2px;' }));\n            this.bdrAFRight = this.parent.element.appendChild(createElement('div', { className: 'e-xlselaf', id: this.parent.element.id + '_bdrafright', styles: 'width: 2px;' }));\n            this.bdrAFBottom = this.parent.element.appendChild(createElement('div', { className: 'e-xlselaf', id: this.parent.element.id + '_bdrafbottom', styles: 'height: 2px;' }));\n            this.bdrAFTop = this.parent.element.appendChild(createElement('div', { className: 'e-xlselaf', id: this.parent.element.id + '_bdraftop', styles: 'height: 2px;' }));\n        }\n    };\n    Selection.prototype.showAFBorders = function () {\n        if (this.bdrAFLeft) {\n            this.bdrAFLeft.style.display = '';\n            this.bdrAFRight.style.display = '';\n            this.bdrAFBottom.style.display = '';\n            this.bdrAFTop.style.display = '';\n        }\n    };\n    Selection.prototype.hideAFBorders = function () {\n        if (this.bdrAFLeft) {\n            this.bdrAFLeft.style.display = 'none';\n            this.bdrAFRight.style.display = 'none';\n            this.bdrAFBottom.style.display = 'none';\n            this.bdrAFTop.style.display = 'none';\n        }\n    };\n    Selection.prototype.updateValue = function (rIdx, cIdx, cell) {\n        var args = this.createBeforeAutoFill(rIdx, cIdx, cell);\n        if (!args.cancel) {\n            var col = this.parent.getColumnByIndex(cIdx);\n            if (this.parent.editModule && cell) {\n                if (col.type === 'number') {\n                    this.parent.editModule.updateCell(rIdx, col.field, parseFloat(args.value));\n                }\n                else {\n                    this.parent.editModule.updateCell(rIdx, col.field, args.value);\n                }\n            }\n        }\n    };\n    Selection.prototype.createBeforeAutoFill = function (rowIndex, colIndex, cell) {\n        var col = this.parent.getColumnByIndex(colIndex);\n        var args = {\n            column: col,\n            value: cell.innerText\n        };\n        this.parent.trigger(events.beforeAutoFill, args);\n        return args;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Selection.prototype.getAutoFillCells = function (rowIndex, startCellIdx) {\n        var cls = '.e-cellselectionbackground';\n        var cells = [].slice.call(this.parent.getDataRows()[rowIndex].querySelectorAll(cls));\n        if (this.parent.isFrozenGrid()) {\n            cells = cells.concat([].slice.call(this.parent.getMovableDataRows()[rowIndex].querySelectorAll(cls)));\n            if (this.parent.getFrozenMode() === literals.leftRight) {\n                cells = cells.concat([].slice.call(this.parent.getFrozenRightDataRows()[rowIndex].querySelectorAll(cls)));\n            }\n        }\n        return cells;\n    };\n    Selection.prototype.selectLikeAutoFill = function (e, isApply) {\n        var startrowIdx = parseInt(parentsUntil(this.startAFCell, literals.row).getAttribute(literals.ariaRowIndex), 10);\n        var startCellIdx = parseInt(this.startAFCell.getAttribute(literals.ariaColIndex), 10);\n        var endrowIdx = parseInt(parentsUntil(this.endAFCell, literals.row).getAttribute(literals.ariaRowIndex), 10);\n        var endCellIdx = parseInt(this.endAFCell.getAttribute(literals.ariaColIndex), 10);\n        var rowLen = this.selectedRowCellIndexes.length - 1;\n        var colLen = this.selectedRowCellIndexes[0].cellIndexes.length - 1;\n        switch (true) { //direction\n            case !isApply && this.endAFCell.classList.contains('e-cellselectionbackground') &&\n                !!parentsUntil(e.target, literals.rowCell):\n                this.startAFCell = this.parent.getCellFromIndex(startrowIdx, startCellIdx);\n                this.endAFCell = this.parent.getCellFromIndex(startrowIdx + rowLen, startCellIdx + colLen);\n                this.drawAFBorders();\n                break;\n            case this.autoFillRLselection && startCellIdx + colLen < endCellIdx && //right\n                endCellIdx - startCellIdx - colLen + 1 > endrowIdx - startrowIdx - rowLen // right bottom\n                && endCellIdx - startCellIdx - colLen + 1 > startrowIdx - endrowIdx: //right top\n                this.endAFCell = this.parent.getCellFromIndex(startrowIdx + rowLen, endCellIdx);\n                endrowIdx = parseInt(parentsUntil(this.endAFCell, literals.row).getAttribute(literals.ariaRowIndex), 10);\n                endCellIdx = parseInt(this.endAFCell.getAttribute(literals.ariaColIndex), 10);\n                if (!isApply) {\n                    this.drawAFBorders();\n                }\n                else {\n                    var cellIdx = parseInt(this.endCell.getAttribute(literals.ariaColIndex), 10);\n                    for (var i = startrowIdx; i <= endrowIdx; i++) {\n                        var cells = this.getAutoFillCells(i, startCellIdx);\n                        var c = 0;\n                        for (var j = cellIdx + 1; j <= endCellIdx; j++) {\n                            if (c > colLen) {\n                                c = 0;\n                            }\n                            this.updateValue(i, j, cells[c]);\n                            c++;\n                        }\n                    }\n                    this.selectCellsByRange({ rowIndex: startrowIdx, cellIndex: this.startCellIndex }, { rowIndex: endrowIdx, cellIndex: endCellIdx });\n                }\n                break;\n            case this.autoFillRLselection && startCellIdx > endCellIdx && // left\n                startCellIdx - endCellIdx + 1 > endrowIdx - startrowIdx - rowLen && //left top\n                startCellIdx - endCellIdx + 1 > startrowIdx - endrowIdx: // left bottom\n                this.startAFCell = this.parent.getCellFromIndex(startrowIdx, endCellIdx);\n                this.endAFCell = this.endCell;\n                if (!isApply) {\n                    this.drawAFBorders();\n                }\n                else {\n                    for (var i = startrowIdx; i <= startrowIdx + rowLen; i++) {\n                        var cells = this.getAutoFillCells(i, startCellIdx);\n                        cells.reverse();\n                        var c = 0;\n                        for (var j = this.startCellIndex - 1; j >= endCellIdx; j--) {\n                            if (c > colLen) {\n                                c = 0;\n                            }\n                            this.updateValue(i, j, cells[c]);\n                            c++;\n                        }\n                    }\n                    this.selectCellsByRange({ rowIndex: startrowIdx, cellIndex: endCellIdx }, { rowIndex: startrowIdx + rowLen, cellIndex: this.startCellIndex + colLen });\n                }\n                break;\n            case startrowIdx > endrowIdx: //up\n                this.startAFCell = this.parent.getCellFromIndex(endrowIdx, startCellIdx);\n                this.endAFCell = this.endCell;\n                if (!isApply) {\n                    this.drawAFBorders();\n                }\n                else {\n                    var trIdx = parseInt(this.endCell.parentElement.getAttribute(literals.ariaRowIndex), 10);\n                    var r = trIdx;\n                    for (var i = startrowIdx - 1; i >= endrowIdx; i--) {\n                        if (r === this.startIndex - 1) {\n                            r = trIdx;\n                        }\n                        var cells = this.getAutoFillCells(r, startCellIdx);\n                        var c = 0;\n                        r--;\n                        for (var j = this.startCellIndex; j <= this.startCellIndex + colLen; j++) {\n                            this.updateValue(i, j, cells[c]);\n                            c++;\n                        }\n                    }\n                    this.selectCellsByRange({ rowIndex: endrowIdx, cellIndex: startCellIdx + colLen }, { rowIndex: startrowIdx + rowLen, cellIndex: startCellIdx });\n                }\n                break;\n            default: //down\n                this.endAFCell = this.parent.getCellFromIndex(endrowIdx, startCellIdx + colLen);\n                if (!isApply) {\n                    this.drawAFBorders();\n                }\n                else {\n                    var trIdx = parseInt(this.endCell.parentElement.getAttribute(literals.ariaRowIndex), 10);\n                    var r = this.startIndex;\n                    for (var i = trIdx + 1; i <= endrowIdx; i++) {\n                        if (r === trIdx + 1) {\n                            r = this.startIndex;\n                        }\n                        var cells = this.getAutoFillCells(r, startCellIdx);\n                        r++;\n                        var c = 0;\n                        for (var m = this.startCellIndex; m <= this.startCellIndex + colLen; m++) {\n                            this.updateValue(i, m, cells[c]);\n                            c++;\n                        }\n                    }\n                    this.selectCellsByRange({ rowIndex: trIdx - rowLen, cellIndex: startCellIdx }, { rowIndex: endrowIdx, cellIndex: startCellIdx + colLen });\n                }\n                break;\n        }\n    };\n    Selection.prototype.mouseUpHandler = function (e) {\n        document.body.classList.remove('e-disableuserselect');\n        if (this.element) {\n            remove(this.element);\n        }\n        if (this.isDragged && this.selectedRowCellIndexes.length === 1 && this.selectedRowCellIndexes[0].cellIndexes.length === 1) {\n            this.mUPTarget = parentsUntil(e.target, literals.rowCell);\n        }\n        else {\n            this.mUPTarget = null;\n        }\n        if (this.isDragged && !this.isAutoFillSel && this.selectionSettings.mode === 'Cell' &&\n            e.target.classList.contains(literals.rowCell)) {\n            var target = e.target;\n            var rowIndex = parseInt(target.parentElement.getAttribute(literals.ariaRowIndex), 10);\n            var cellIndex = parseInt(target.getAttribute(literals.ariaColIndex), 10);\n            this.isDragged = false;\n            this.clearCellSelection();\n            this.selectCellsByRange({ rowIndex: this.startDIndex, cellIndex: this.startDCellIndex }, { rowIndex: rowIndex, cellIndex: cellIndex });\n        }\n        this.isDragged = false;\n        this.updateAutoFillPosition();\n        if (this.isAutoFillSel) {\n            var lastCell = parentsUntil(e.target, literals.rowCell);\n            this.endAFCell = lastCell ? lastCell : this.endCell === this.endAFCell ? this.startAFCell : this.endAFCell;\n            this.startAFCell = this.startCell;\n            this.updateStartCellsIndex();\n            this.selectLikeAutoFill(e, true);\n            this.updateAutoFillPosition();\n            this.hideAFBorders();\n            this.positionBorders();\n            this.isAutoFillSel = false;\n        }\n        EventHandler.remove(this.parent.getContent(), 'mousemove', this.mouseMoveHandler);\n        if (this.parent.frozenRows) {\n            EventHandler.remove(this.parent.getHeaderContent(), 'mousemove', this.mouseMoveHandler);\n        }\n        EventHandler.remove(document, 'mouseup', this.mouseUpHandler);\n    };\n    Selection.prototype.hideAutoFill = function () {\n        if (this.autofill) {\n            this.autofill.style.display = 'none';\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.updateAutoFillPosition = function () {\n        if (this.parent.enableAutoFill && !this.parent.isEdit &&\n            this.selectionSettings.cellSelectionMode.indexOf('Box') > -1 && !this.isRowType() && !this.isSingleSel()\n            && this.selectedRowCellIndexes.length) {\n            var index = parseInt(this.target.getAttribute(literals.ariaColIndex), 10);\n            var rindex = parseInt(this.target.getAttribute('index'), 10);\n            var rowIndex = this.selectedRowCellIndexes[this.selectedRowCellIndexes.length - 1].rowIndex;\n            var cells = this.getAutoFillCells(rowIndex, index).filter(function (ele) { return ele.style.display === ''; });\n            var col = this.parent.getColumnByIndex(index);\n            var isFrozenCol = col.getFreezeTableName() === 'movable';\n            var isFrozenRow = rindex < this.parent.frozenRows;\n            var isFrozenRight = this.parent.getFrozenMode() === literals.leftRight\n                && col.getFreezeTableName() === literals.frozenRight;\n            if (!select('#' + this.parent.element.id + '_autofill', parentsUntil(this.target, literals.table))) {\n                if (select('#' + this.parent.element.id + '_autofill', this.parent.element)) {\n                    select('#' + this.parent.element.id + '_autofill', this.parent.element).remove();\n                }\n                this.autofill = createElement('div', { className: 'e-autofill', id: this.parent.element.id + '_autofill' });\n                this.autofill.style.display = 'none';\n                if (!isFrozenRow) {\n                    if (!isFrozenCol) {\n                        this.parent.getContentTable().parentElement.appendChild(this.autofill);\n                    }\n                    else {\n                        this.parent.contentModule.getMovableContent().appendChild(this.autofill);\n                    }\n                }\n                else {\n                    if (!isFrozenCol) {\n                        this.parent.getHeaderTable().parentElement.appendChild(this.autofill);\n                    }\n                    else {\n                        this.parent.headerModule.getMovableHeader().appendChild(this.autofill);\n                    }\n                }\n                if (isFrozenRight) {\n                    if (isFrozenRow) {\n                        this.parent.getFrozenRightHeader().appendChild(this.autofill);\n                    }\n                    else {\n                        this.parent.getFrozenRightContent().appendChild(this.autofill);\n                    }\n                }\n            }\n            var cell = cells[cells.length - 1];\n            if (cell && cell.offsetParent) {\n                var clientRect = cell.getBoundingClientRect();\n                var parentOff = cell.offsetParent.getBoundingClientRect();\n                var colWidth = this.isLastCell(cell) ? 4 : 0;\n                var rowHeight = this.isLastRow(cell) ? 3 : 0;\n                if (!this.parent.enableRtl) {\n                    this.autofill.style.left = clientRect.left - parentOff.left + clientRect.width - 4 - colWidth + 'px';\n                }\n                else {\n                    this.autofill.style.right = parentOff.right - clientRect.right + clientRect.width - 4 - colWidth + 'px';\n                }\n                this.autofill.style.top = clientRect.top - parentOff.top + clientRect.height - 5 - rowHeight + 'px';\n            }\n            this.autofill.style.display = '';\n        }\n        else {\n            this.hideAutoFill();\n        }\n    };\n    Selection.prototype.mouseDownHandler = function (e) {\n        this.mouseButton = e.button;\n        var target = e.target;\n        var gObj = this.parent;\n        var isDrag;\n        var gridElement = parentsUntil(target, 'e-grid');\n        if (gridElement && gridElement.id !== gObj.element.id || parentsUntil(target, literals.headerContent) && !this.parent.frozenRows ||\n            parentsUntil(target, 'e-editedbatchcell') || parentsUntil(target, literals.editedRow)) {\n            return;\n        }\n        if (e.shiftKey || e.ctrlKey) {\n            e.preventDefault();\n        }\n        if (parentsUntil(target, literals.rowCell) && !e.shiftKey && !e.ctrlKey) {\n            if (gObj.selectionSettings.cellSelectionMode.indexOf('Box') > -1 && !this.isRowType() && !this.isSingleSel()) {\n                this.isCellDrag = true;\n                isDrag = true;\n            }\n            else if (gObj.allowRowDragAndDrop && !gObj.isEdit && !this.parent.selectionSettings.checkboxOnly) {\n                this.isRowDragSelected = false;\n                if (!this.isRowType() || this.isSingleSel() || closest(target, 'td').classList.contains('e-selectionbackground')) {\n                    this.isDragged = false;\n                    return;\n                }\n                isDrag = true;\n                this.element = this.parent.createElement('div', { className: 'e-griddragarea' });\n                gObj.getContent().appendChild(this.element);\n            }\n            if (isDrag) {\n                this.enableDrag(e, true);\n            }\n        }\n        this.updateStartEndCells();\n        if (target.classList.contains('e-autofill') || target.classList.contains('e-xlsel')) {\n            this.isCellDrag = true;\n            this.isAutoFillSel = true;\n            this.enableDrag(e);\n        }\n    };\n    Selection.prototype.updateStartEndCells = function () {\n        var cells = [].slice.call(this.parent.element.getElementsByClassName('e-cellselectionbackground'));\n        this.startCell = cells[0];\n        this.endCell = cells[cells.length - 1];\n        if (this.startCell) {\n            this.startIndex = parseInt(this.startCell.parentElement.getAttribute(literals.ariaRowIndex), 10);\n            this.startCellIndex = parseInt(parentsUntil(this.startCell, literals.rowCell).getAttribute(literals.ariaColIndex), 10);\n        }\n    };\n    Selection.prototype.updateStartCellsIndex = function () {\n        if (this.startCell) {\n            this.startIndex = parseInt(this.startCell.parentElement.getAttribute(literals.ariaRowIndex), 10);\n            this.startCellIndex = parseInt(parentsUntil(this.startCell, literals.rowCell).getAttribute(literals.ariaColIndex), 10);\n        }\n    };\n    Selection.prototype.enableDrag = function (e, isUpdate) {\n        var gObj = this.parent;\n        if (isUpdate) {\n            var tr = closest(e.target, 'tr');\n            this.startDIndex = parseInt(tr.getAttribute(literals.ariaRowIndex), 10);\n            this.startDCellIndex = parseInt(parentsUntil(e.target, literals.rowCell).getAttribute(literals.ariaColIndex), 10);\n        }\n        document.body.classList.add('e-disableuserselect');\n        var gBRect = gObj.element.getBoundingClientRect();\n        var postion = getPosition(e);\n        this.x = postion.x - gBRect.left;\n        this.y = postion.y - gBRect.top;\n        EventHandler.add(gObj.getContent(), 'mousemove', this.mouseMoveHandler, this);\n        if (this.parent.frozenRows) {\n            EventHandler.add(gObj.getHeaderContent(), 'mousemove', this.mouseMoveHandler, this);\n        }\n        EventHandler.add(document, 'mouseup', this.mouseUpHandler, this);\n    };\n    Selection.prototype.clearSelAfterRefresh = function (e) {\n        var isInfiniteScroll = this.parent.enableInfiniteScrolling && e.requestType === 'infiniteScroll';\n        if (e.requestType !== 'virtualscroll' && !this.parent.isPersistSelection && !isInfiniteScroll) {\n            this.clearSelection();\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.evtHandlers = [{ event: events.uiUpdate, handler: this.enableAfterRender },\n            { event: events.initialEnd, handler: this.initializeSelection },\n            { event: events.rowSelectionComplete, handler: this.onActionComplete },\n            { event: events.cellSelectionComplete, handler: this.onActionComplete },\n            { event: events.inBoundModelChanged, handler: this.onPropertyChanged },\n            { event: events.cellFocused, handler: this.onCellFocused },\n            { event: events.beforeFragAppend, handler: this.clearSelAfterRefresh },\n            { event: events.columnPositionChanged, handler: this.columnPositionChanged },\n            { event: events.contentReady, handler: this.initialEnd },\n            { event: events.rowsRemoved, handler: this.rowsRemoved },\n            { event: events.headerRefreshed, handler: this.refreshHeader },\n            { event: events.destroy, handler: this.destroy }];\n        addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n        this.actionBeginFunction = this.actionBegin.bind(this);\n        this.actionCompleteFunction = this.actionComplete.bind(this);\n        this.parent.addEventListener(events.actionBegin, this.actionBeginFunction);\n        this.parent.addEventListener(events.actionComplete, this.actionCompleteFunction);\n        this.addEventListener_checkbox();\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        addRemoveEventListener(this.parent, this.evtHandlers, false);\n        this.parent.removeEventListener(events.actionBegin, this.actionBeginFunction);\n        this.parent.removeEventListener(events.actionComplete, this.actionCompleteFunction);\n        this.removeEventListener_checkbox();\n    };\n    Selection.prototype.wireEvents = function () {\n        this.isMacOS = navigator.userAgent.indexOf('Mac OS') !== -1;\n        if (this.isMacOS) {\n            EventHandler.add(this.parent.element, 'keydown', this.keyDownHandler, this);\n            EventHandler.add(this.parent.element, 'keyup', this.keyUpHandler, this);\n        }\n    };\n    Selection.prototype.unWireEvents = function () {\n        if (this.isMacOS) {\n            EventHandler.remove(this.parent.element, 'keydown', this.keyDownHandler);\n            EventHandler.remove(this.parent.element, 'keyup', this.keyUpHandler);\n        }\n    };\n    Selection.prototype.columnPositionChanged = function () {\n        if (!this.parent.isPersistSelection) {\n            this.clearSelection();\n        }\n    };\n    Selection.prototype.refreshHeader = function () {\n        this.setCheckAllState();\n    };\n    Selection.prototype.rowsRemoved = function (e) {\n        for (var i = 0; i < e.records.length; i++) {\n            delete (this.selectedRowState[e.records[i][this.primaryKey]]);\n            --this.totalRecordsCount;\n        }\n        this.setCheckAllState();\n    };\n    Selection.prototype.beforeFragAppend = function (e) {\n        if (e.requestType !== 'virtualscroll' && !this.parent.isPersistSelection) {\n            this.clearSelection();\n        }\n    };\n    Selection.prototype.getCheckAllBox = function () {\n        return this.parent.getHeaderContent().querySelector('.e-checkselectall');\n    };\n    Selection.prototype.enableAfterRender = function (e) {\n        if (e.module === this.getModuleName() && e.enable) {\n            this.render();\n            this.initPerisistSelection();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Selection.prototype.render = function (e) {\n        EventHandler.add(this.parent.getContent(), 'mousedown', this.mouseDownHandler, this);\n        EventHandler.add(this.parent.getHeaderContent(), 'mousedown', this.mouseDownHandler, this);\n    };\n    Selection.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName()) {\n            return;\n        }\n        var gObj = this.parent;\n        if (!isNullOrUndefined(e.properties.type) && this.selectionSettings.type === 'Single') {\n            if (this.selectedRowCellIndexes.length > 1) {\n                this.clearCellSelection();\n                this.prevCIdxs = undefined;\n            }\n            if (this.selectedRowIndexes.length > 1) {\n                this.clearRowSelection();\n                this.prevRowIndex = undefined;\n            }\n            if (this.selectedColumnsIndexes.length > 1) {\n                this.clearColumnSelection();\n                this.prevColIndex = undefined;\n            }\n            this.enableSelectMultiTouch = false;\n            this.hidePopUp();\n        }\n        if (!isNullOrUndefined(e.properties.mode) ||\n            !isNullOrUndefined(e.properties.cellSelectionMode)) {\n            this.clearSelection();\n            this.prevRowIndex = undefined;\n            this.prevCIdxs = undefined;\n            this.prevColIndex = undefined;\n        }\n        this.isPersisted = true;\n        this.checkBoxSelectionChanged();\n        this.isPersisted = false;\n        if (!this.parent.isCheckBoxSelection) {\n            this.initPerisistSelection();\n        }\n        var checkboxColumn = this.parent.getColumns().filter(function (col) { return col.type === 'checkbox'; });\n        if (checkboxColumn.length) {\n            gObj.isCheckBoxSelection = !(this.selectionSettings.checkboxMode === 'ResetOnRowClick');\n        }\n        this.drawBorders();\n    };\n    Selection.prototype.hidePopUp = function () {\n        if (this.parent.element.querySelector('.e-gridpopup').getElementsByClassName('e-rowselect').length) {\n            this.parent.element.querySelector('.e-gridpopup').style.display = 'none';\n        }\n    };\n    Selection.prototype.initialEnd = function (e) {\n        var isFrozen = this.parent.isFrozenGrid();\n        var isLeftRightFrozen = this.parent.getFrozenMode() === literals.leftRight;\n        if ((!isFrozen || (isFrozen && (!isLeftRightFrozen && !e.args.isFrozen)\n            || (isLeftRightFrozen && e.args.renderFrozenRightContent))) && !this.selectedRowIndexes.length) {\n            this.parent.off(events.contentReady, this.initialEnd);\n            this.selectRow(this.parent.selectedRowIndex);\n        }\n    };\n    Selection.prototype.checkBoxSelectionChanged = function () {\n        var gobj = this.parent;\n        gobj.off(events.contentReady, this.checkBoxSelectionChanged);\n        var checkboxColumn = gobj.getColumns().filter(function (col) { return col.type === 'checkbox'; });\n        if (checkboxColumn.length > 0) {\n            gobj.isCheckBoxSelection = true;\n            this.chkField = checkboxColumn[0].field;\n            this.totalRecordsCount = this.parent.pageSettings.totalRecordsCount;\n            if (isNullOrUndefined(this.totalRecordsCount)) {\n                this.totalRecordsCount = this.getCurrentBatchRecordChanges().length;\n            }\n            if (this.isSingleSel()) {\n                gobj.selectionSettings.type = 'Multiple';\n                gobj.dataBind();\n            }\n            else {\n                this.initPerisistSelection();\n            }\n        }\n        if (!gobj.isCheckBoxSelection && !this.isPersisted) {\n            this.chkField = null;\n            this.initPerisistSelection();\n        }\n    };\n    Selection.prototype.initPerisistSelection = function () {\n        var gobj = this.parent;\n        if (this.parent.selectionSettings.persistSelection && this.parent.getPrimaryKeyFieldNames().length > 0) {\n            gobj.isPersistSelection = true;\n            this.ensureCheckboxFieldSelection();\n        }\n        else if (this.parent.getPrimaryKeyFieldNames().length > 0) {\n            gobj.isPersistSelection = false;\n            this.ensureCheckboxFieldSelection();\n        }\n        else {\n            gobj.isPersistSelection = false;\n            this.selectedRowState = {};\n        }\n    };\n    Selection.prototype.ensureCheckboxFieldSelection = function () {\n        var gobj = this.parent;\n        this.primaryKey = this.parent.getPrimaryKeyFieldNames()[0];\n        if (!gobj.enableVirtualization && this.chkField\n            && ((gobj.isPersistSelection && Object.keys(this.selectedRowState).length === 0) ||\n                !gobj.isPersistSelection)) {\n            var data = this.parent.getDataModule();\n            var query = new Query().where(this.chkField, 'equal', true);\n            if (!query.params) {\n                query.params = this.parent.query.params;\n            }\n            var dataManager = data.getData({}, query);\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            var proxy_1 = this;\n            this.parent.showSpinner();\n            dataManager.then(function (e) {\n                proxy_1.dataSuccess(e.result);\n                proxy_1.refreshPersistSelection();\n                proxy_1.parent.hideSpinner();\n            });\n        }\n    };\n    Selection.prototype.dataSuccess = function (res) {\n        for (var i = 0; i < res.length; i++) {\n            if (isNullOrUndefined(this.selectedRowState[res[i][this.primaryKey]]) && res[i][this.chkField]) {\n                this.selectedRowState[res[i][this.primaryKey]] = res[i][this.chkField];\n            }\n        }\n        this.persistSelectedData = res;\n    };\n    Selection.prototype.setRowSelection = function (state) {\n        if (!this.parent.getDataModule().isRemote()) {\n            if (state) {\n                if (this.parent.groupSettings.columns.length) {\n                    for (var _i = 0, _a = this.getData().records; _i < _a.length; _i++) {\n                        var data = _a[_i];\n                        this.selectedRowState[data[this.primaryKey]] = true;\n                    }\n                }\n                else {\n                    for (var _b = 0, _c = this.getData(); _b < _c.length; _b++) {\n                        var data = _c[_b];\n                        this.selectedRowState[data[this.primaryKey]] = true;\n                    }\n                }\n            }\n            else {\n                this.selectedRowState = {};\n            }\n            // (this.getData()).forEach(function (data) {\n            //     this.selectedRowState[data[this.primaryKey]] = true;\n            // })\n        }\n    };\n    Selection.prototype.getData = function () {\n        return this.parent.getDataModule().dataManager.executeLocal(this.parent.getDataModule().generateQuery(true));\n    };\n    Selection.prototype.refreshPersistSelection = function () {\n        var rows = this.parent.getRows();\n        if (this.parent.isCheckBoxSelection && this.parent.isFrozenGrid()) {\n            var mtbody = this.parent.getMovableContentTbody();\n            if (mtbody.querySelector('.e-checkselect')) {\n                rows = this.parent.getMovableRows();\n            }\n            if (this.parent.getFrozenMode() === literals.leftRight) {\n                var frtbody = this.parent.getFrozenRightContentTbody();\n                if (frtbody.querySelector('.e-checkselect')) {\n                    rows = this.parent.getFrozenRightRows();\n                }\n            }\n        }\n        this.totalRecordsCount = this.parent.getCurrentViewRecords().length;\n        if (this.parent.allowPaging) {\n            this.totalRecordsCount = this.parent.pageSettings.totalRecordsCount;\n        }\n        if (rows !== null && rows.length > 0 && (this.parent.isPersistSelection || this.chkField)) {\n            var indexes = [];\n            for (var j = 0; j < rows.length; j++) {\n                var rowObj = this.getRowObj(rows[j]);\n                var pKey = rowObj ? rowObj.data ? rowObj.data[this.primaryKey] : null : null;\n                if (pKey === null) {\n                    return;\n                }\n                var checkState = void 0;\n                var chkBox = rows[j].querySelector('.e-checkselect');\n                if (this.selectedRowState[pKey] || (this.parent.checkAllRows === 'Check' && this.selectedRowState[pKey] &&\n                    this.totalRecordsCount === Object.keys(this.selectedRowState).length && this.chkAllCollec.indexOf(pKey) < 0)\n                    || (this.parent.checkAllRows === 'Uncheck' && this.chkAllCollec.indexOf(pKey) > 0)\n                    || (this.parent.checkAllRows === 'Intermediate' && !isNullOrUndefined(this.chkField) && rowObj.data[this.chkField])) {\n                    indexes.push(parseInt(rows[j].getAttribute(literals.ariaRowIndex), 10));\n                    checkState = true;\n                }\n                else {\n                    checkState = false;\n                    if (this.checkedTarget !== chkBox && this.parent.isCheckBoxSelection && chkBox) {\n                        removeAddCboxClasses(chkBox.nextElementSibling, checkState);\n                    }\n                }\n                this.updatePersistCollection(rows[j], checkState);\n            }\n            if (this.isSingleSel() && indexes.length > 0) {\n                this.selectRow(indexes[0], true);\n            }\n            else {\n                this.selectRows(indexes);\n            }\n        }\n        if (this.parent.isCheckBoxSelection && this.getCurrentBatchRecordChanges().length > 0) {\n            this.setCheckAllState();\n        }\n    };\n    Selection.prototype.actionBegin = function (e) {\n        if (e.requestType === 'save' && this.parent.isPersistSelection) {\n            var editChkBox = this.parent.element.querySelector('.e-edit-checkselect');\n            if (!isNullOrUndefined(editChkBox)) {\n                var row = closest(editChkBox, '.' + literals.editedRow);\n                if (row) {\n                    if (this.parent.editSettings.mode === 'Dialog') {\n                        row = this.parent.element.querySelector('.e-dlgeditrow');\n                    }\n                    var rowObj = this.getRowObj(row);\n                    if (!rowObj) {\n                        return;\n                    }\n                    this.selectedRowState[rowObj.data[this.primaryKey]] = rowObj.isSelected = editChkBox.checked;\n                }\n                else {\n                    this.isCheckedOnAdd = editChkBox.checked;\n                }\n            }\n        }\n    };\n    Selection.prototype.actionComplete = function (e) {\n        if (e.requestType === 'save' && this.parent.isPersistSelection) {\n            if (e.action === 'add' && this.isCheckedOnAdd) {\n                var rowObj = this.parent.getRowObjectFromUID(this.parent.getRows()[e.selectedRow].getAttribute('data-uid'));\n                this.selectedRowState[rowObj.data[this.primaryKey]] = rowObj.isSelected = this.isCheckedOnAdd;\n            }\n            this.refreshPersistSelection();\n        }\n        if (e.requestType === 'delete' && this.parent.isPersistSelection) {\n            var records = e.data;\n            var data = records.slice();\n            for (var i = 0; i < data.length; i++) {\n                if (!isNullOrUndefined(data[i][this.primaryKey])) {\n                    this.updatePersistDelete(data[i][this.primaryKey]);\n                }\n            }\n            this.setCheckAllState();\n            this.totalRecordsCount = this.parent.pageSettings.totalRecordsCount;\n        }\n        if (e.requestType === 'paging') {\n            this.prevRowIndex = undefined;\n            this.prevCIdxs = undefined;\n            this.prevECIdxs = undefined;\n        }\n    };\n    Selection.prototype.onDataBound = function () {\n        if (!this.parent.enableVirtualization && this.parent.isPersistSelection) {\n            if (this.selectedRecords.length) {\n                this.isPrevRowSelection = true;\n            }\n            this.refreshPersistSelection();\n        }\n        if (this.parent.enableVirtualization) {\n            this.setCheckAllState();\n        }\n        this.initialRowSelection = this.isRowType() && this.parent.element.querySelectorAll('.e-selectionbackground') &&\n            this.parent.getSelectedRows().length ? true : false;\n        if (this.parent.isCheckBoxSelection && !this.initialRowSelection) {\n            var totalRecords = this.parent.getRowsObject();\n            var indexes = [];\n            for (var i = 0; i < totalRecords.length; i++) {\n                if (totalRecords[i].isSelected) {\n                    indexes.push(i);\n                }\n            }\n            if (indexes.length) {\n                this.selectRows(indexes);\n            }\n            this.initialRowSelection = true;\n        }\n    };\n    Selection.prototype.updatePersistSelectedData = function (checkState) {\n        if (this.parent.isPersistSelection) {\n            var rows = this.parent.getRows();\n            for (var i = 0; i < rows.length; i++) {\n                this.updatePersistCollection(rows[i], checkState);\n            }\n            if (this.parent.checkAllRows === 'Uncheck') {\n                this.setRowSelection(false);\n                this.persistSelectedData = this.parent.getDataModule().isRemote() ? this.persistSelectedData : [];\n            }\n            else if (this.parent.checkAllRows === 'Check') {\n                this.setRowSelection(true);\n                this.persistSelectedData = !this.parent.getDataModule().isRemote() ?\n                    this.parent.groupSettings.columns.length ? this.getData().records.slice() :\n                        this.getData().slice() : this.persistSelectedData;\n            }\n        }\n    };\n    Selection.prototype.checkSelectAllAction = function (checkState) {\n        var cRenderer = this.getRenderer();\n        var editForm = this.parent.element.querySelector('.e-gridform');\n        this.checkedTarget = this.getCheckAllBox();\n        if (checkState && this.getCurrentBatchRecordChanges().length) {\n            this.parent.checkAllRows = 'Check';\n            this.updatePersistSelectedData(checkState);\n            this.selectRowsByRange(cRenderer.getVirtualRowIndex(0), cRenderer.getVirtualRowIndex(this.getCurrentBatchRecordChanges().length - 1));\n        }\n        else {\n            this.parent.checkAllRows = 'Uncheck';\n            this.updatePersistSelectedData(checkState);\n            this.clearSelection();\n        }\n        this.chkAllCollec = [];\n        if (!isNullOrUndefined(editForm)) {\n            var editChkBox = editForm.querySelector('.e-edit-checkselect');\n            if (!isNullOrUndefined(editChkBox)) {\n                removeAddCboxClasses(editChkBox.nextElementSibling, checkState);\n            }\n        }\n    };\n    Selection.prototype.checkSelectAll = function (checkBox) {\n        var _this = this;\n        var stateStr = this.getCheckAllStatus(checkBox);\n        var state = stateStr === 'Check';\n        this.isHeaderCheckboxClicked = true;\n        if (stateStr === 'Intermediate') {\n            state = this.getCurrentBatchRecordChanges().some(function (data) {\n                return data[_this.primaryKey] in _this.selectedRowState;\n            });\n        }\n        if (this.parent.isPersistSelection && this.parent.allowPaging) {\n            this.totalRecordsCount = this.parent.pageSettings.totalRecordsCount;\n        }\n        this.checkSelectAllAction(!state);\n        this.target = null;\n        if (this.getCurrentBatchRecordChanges().length > 0) {\n            this.setCheckAllState();\n        }\n        this.triggerChkChangeEvent(checkBox, !state);\n    };\n    Selection.prototype.getCheckAllStatus = function (ele) {\n        var classes = ele ? ele.nextElementSibling.classList :\n            this.getCheckAllBox().nextElementSibling.classList;\n        var status;\n        if (classes.contains('e-check')) {\n            status = 'Check';\n        }\n        else if (classes.contains('e-uncheck')) {\n            status = 'Uncheck';\n        }\n        else if (classes.contains('e-stop')) {\n            status = 'Intermediate';\n        }\n        else {\n            status = 'None';\n        }\n        return status;\n    };\n    Selection.prototype.checkSelect = function (checkBox) {\n        var target = closest(this.checkedTarget, '.' + literals.rowCell);\n        var gObj = this.parent;\n        this.isMultiCtrlRequest = true;\n        var rIndex = 0;\n        this.isHeaderCheckboxClicked = false;\n        if (isGroupAdaptive(gObj)) {\n            var uid = target.parentElement.getAttribute('data-uid');\n            rIndex = gObj.getRows().map(function (m) { return m.getAttribute('data-uid'); }).indexOf(uid);\n        }\n        else {\n            rIndex = parseInt(target.parentElement.getAttribute(literals.ariaRowIndex), 10);\n        }\n        if (this.parent.isPersistSelection && this.parent.element.getElementsByClassName(literals.addedRow).length > 0 &&\n            this.parent.editSettings.newRowPosition === 'Top') {\n            ++rIndex;\n        }\n        this.rowCellSelectionHandler(rIndex, parseInt(target.getAttribute(literals.ariaColIndex), 10));\n        this.moveIntoUncheckCollection(closest(target, '.' + literals.row));\n        this.setCheckAllState();\n        this.isMultiCtrlRequest = false;\n        this.triggerChkChangeEvent(checkBox, checkBox.nextElementSibling.classList.contains('e-check'));\n    };\n    Selection.prototype.moveIntoUncheckCollection = function (row) {\n        if (this.parent.checkAllRows === 'Check' || this.parent.checkAllRows === 'Uncheck') {\n            var rowObj = this.getRowObj(row);\n            var pKey = rowObj && rowObj.data ? rowObj.data[this.primaryKey] : null;\n            if (!pKey) {\n                return;\n            }\n            if (this.chkAllCollec.indexOf(pKey) < 0) {\n                this.chkAllCollec.push(pKey);\n            }\n            else {\n                this.chkAllCollec.splice(this.chkAllCollec.indexOf(pKey), 1);\n            }\n        }\n    };\n    Selection.prototype.triggerChkChangeEvent = function (checkBox, checkState) {\n        this.parent.trigger(events.checkBoxChange, {\n            checked: checkState, selectedRowIndexes: this.parent.getSelectedRowIndexes(),\n            target: checkBox\n        });\n        if (!this.parent.isEdit) {\n            this.checkedTarget = null;\n        }\n    };\n    Selection.prototype.updateSelectedRowIndex = function (index) {\n        if (this.parent.isCheckBoxSelection && (this.parent.enableVirtualization || this.parent.enableInfiniteScrolling)\n            && !this.parent.getDataModule().isRemote()) {\n            if (this.parent.checkAllRows === 'Check') {\n                this.selectedRowIndexes = [];\n                var dataLength = this.getData().length;\n                for (var data = 0; data < dataLength; data++) {\n                    this.selectedRowIndexes.push(data);\n                }\n            }\n            else if (this.parent.checkAllRows === 'Uncheck') {\n                this.selectedRowIndexes = [];\n            }\n            else {\n                var row = this.parent.getRowByIndex(index);\n                if (index && row && row.getAttribute('aria-selected') === 'false') {\n                    var selectedVal = this.selectedRowIndexes.indexOf(index);\n                    this.selectedRowIndexes.splice(selectedVal, 1);\n                }\n            }\n        }\n    };\n    Selection.prototype.isAllSelected = function () {\n        var data = this.getData();\n        for (var i = 0; i < data.length; i++) {\n            var pKey = data[i][this.primaryKey];\n            if (!this.selectedRowState[pKey]) {\n                return false;\n            }\n        }\n        return true;\n    };\n    Selection.prototype.setCheckAllState = function (index, isInteraction) {\n        if (this.parent.isCheckBoxSelection || this.parent.selectionSettings.checkboxMode === 'ResetOnRowClick') {\n            var checkToSelectAll = true;\n            var checkedLen = Object.keys(this.selectedRowState).length;\n            if (!this.parent.isPersistSelection) {\n                checkedLen = this.selectedRowIndexes.length;\n                this.totalRecordsCount = this.getCurrentBatchRecordChanges().length;\n            }\n            if (this.parent.isPersistSelection && !this.parent.getDataModule().isRemote() && (this.parent.searchSettings.key.length\n                || this.parent.filterSettings.columns.length)) {\n                checkToSelectAll = this.isAllSelected();\n            }\n            var input = this.getCheckAllBox();\n            if (input) {\n                var spanEle = input.nextElementSibling;\n                removeClass([spanEle], ['e-check', 'e-stop', 'e-uncheck']);\n                setChecked(input, false);\n                input.indeterminate = false;\n                if (checkToSelectAll && checkedLen === this.totalRecordsCount && this.totalRecordsCount\n                    || ((this.parent.enableVirtualization || this.parent.enableInfiniteScrolling)\n                        && !this.parent.allowPaging && !this.parent.getDataModule().isRemote()\n                        && (this.getData().length && checkedLen === this.getData().length))) {\n                    addClass([spanEle], ['e-check']);\n                    setChecked(input, true);\n                    if (isInteraction) {\n                        this.getRenderer().setSelection(null, true, true);\n                    }\n                    this.parent.checkAllRows = 'Check';\n                }\n                else if (!this.selectedRowIndexes.length ||\n                    checkedLen === 0 && this.getCurrentBatchRecordChanges().length === 0) {\n                    addClass([spanEle], ['e-uncheck']);\n                    if (isInteraction) {\n                        this.getRenderer().setSelection(null, false, true);\n                    }\n                    this.parent.checkAllRows = 'Uncheck';\n                    if (checkedLen === 0 && this.getCurrentBatchRecordChanges().length === 0) {\n                        addClass([spanEle.parentElement], ['e-checkbox-disabled']);\n                    }\n                    else {\n                        removeClass([spanEle.parentElement], ['e-checkbox-disabled']);\n                    }\n                }\n                else {\n                    addClass([spanEle], ['e-stop']);\n                    this.parent.checkAllRows = 'Intermediate';\n                    input.indeterminate = true;\n                }\n                if ((this.parent.enableVirtualization || this.parent.enableInfiniteScrolling)\n                    && !this.parent.allowPaging && !this.parent.getDataModule().isRemote()) {\n                    this.updateSelectedRowIndex(index);\n                }\n            }\n        }\n    };\n    Selection.prototype.keyDownHandler = function (e) {\n        // Below are keyCode for command key in MAC OS. Safari/Chrome(91-Left command, 93-Right Command), Opera(17), FireFox(224)\n        if ((((Browser.info.name === 'chrome') || (Browser.info.name === 'safari')) && (e.keyCode === 91 || e.keyCode === 93)) ||\n            (Browser.info.name === 'opera' && e.keyCode === 17) || (Browser.info.name === 'mozilla' && e.keyCode === 224)) {\n            this.cmdKeyPressed = true;\n        }\n    };\n    Selection.prototype.keyUpHandler = function (e) {\n        if ((((Browser.info.name === 'chrome') || (Browser.info.name === 'safari')) && (e.keyCode === 91 || e.keyCode === 93)) ||\n            (Browser.info.name === 'opera' && e.keyCode === 17) || (Browser.info.name === 'mozilla' && e.keyCode === 224)) {\n            this.cmdKeyPressed = false;\n        }\n    };\n    Selection.prototype.clickHandler = function (e) {\n        var target = e.target;\n        this.actualTarget = target;\n        if (this.selectionSettings.persistSelection) {\n            this.deSelectedData = iterateExtend(this.persistSelectedData);\n        }\n        if (parentsUntil(target, literals.row) || parentsUntil(target, 'e-headerchkcelldiv') ||\n            (this.selectionSettings.allowColumnSelection && target.classList.contains('e-headercell'))) {\n            this.isInteracted = true;\n        }\n        this.isMultiCtrlRequest = e.ctrlKey || this.enableSelectMultiTouch ||\n            (this.isMacOS && this.cmdKeyPressed);\n        this.isMultiShiftRequest = e.shiftKey;\n        this.popUpClickHandler(e);\n        var chkSelect = false;\n        this.preventFocus = true;\n        var checkBox;\n        var checkWrap = parentsUntil(target, 'e-checkbox-wrapper');\n        this.checkSelectAllClicked = checkWrap && checkWrap.getElementsByClassName('e-checkselectall') ||\n            (this.selectionSettings.persistSelection && parentsUntil(target, literals.row)) ? true : false;\n        if (checkWrap && checkWrap.querySelectorAll('.e-checkselect,.e-checkselectall').length > 0) {\n            checkBox = checkWrap.querySelector('input[type=\"checkbox\"]');\n            chkSelect = true;\n        }\n        this.drawBorders();\n        this.updateAutoFillPosition();\n        target = parentsUntil(target, literals.rowCell);\n        if (((target && target.parentElement.classList.contains(literals.row) && !this.parent.selectionSettings.checkboxOnly) || chkSelect)\n            && !this.isRowDragSelected) {\n            if (this.parent.isCheckBoxSelection) {\n                this.isMultiCtrlRequest = true;\n            }\n            this.target = target;\n            if (!isNullOrUndefined(checkBox)) {\n                this.checkedTarget = checkBox;\n                if (checkBox.classList.contains('e-checkselectall')) {\n                    this.checkSelectAll(checkBox);\n                }\n                else {\n                    this.checkSelect(checkBox);\n                }\n            }\n            else {\n                var gObj = this.parent;\n                var rIndex = 0;\n                if (isGroupAdaptive(gObj)) {\n                    var uid = target.parentElement.getAttribute('data-uid');\n                    rIndex = gObj.getRows().map(function (m) { return m.getAttribute('data-uid'); }).indexOf(uid);\n                }\n                else {\n                    rIndex = parseInt(target.parentElement.getAttribute(literals.ariaRowIndex), 10);\n                }\n                if (this.parent.isPersistSelection && this.parent.element.getElementsByClassName(literals.addedRow).length > 0) {\n                    ++rIndex;\n                }\n                if (!this.mUPTarget || !this.mUPTarget.isEqualNode(target)) {\n                    this.rowCellSelectionHandler(rIndex, parseInt(target.getAttribute(literals.ariaColIndex), 10));\n                }\n                this.parent.hoverFrozenRows(e);\n                if (this.parent.isCheckBoxSelection) {\n                    this.moveIntoUncheckCollection(closest(target, '.' + literals.row));\n                    this.setCheckAllState();\n                }\n            }\n            if (!this.parent.isCheckBoxSelection && Browser.isDevice && !this.isSingleSel()) {\n                this.showPopup(e);\n            }\n        }\n        else if (e.target.classList.contains('e-headercell') &&\n            !e.target.classList.contains('e-stackedheadercell')) {\n            var uid = e.target.querySelector('.e-headercelldiv').getAttribute('e-mappinguid');\n            this.headerSelectionHandler(this.parent.getColumnIndexByUid(uid));\n        }\n        this.isMultiCtrlRequest = false;\n        this.isMultiShiftRequest = false;\n        if (isNullOrUndefined(closest(e.target, '.e-unboundcell'))) {\n            this.preventFocus = false;\n        }\n    };\n    Selection.prototype.popUpClickHandler = function (e) {\n        var target = e.target;\n        if (closest(target, '.e-headercell') || e.target.classList.contains(literals.rowCell) ||\n            closest(target, '.e-gridpopup')) {\n            if (target.classList.contains('e-rowselect')) {\n                if (!target.classList.contains('e-spanclicked')) {\n                    target.classList.add('e-spanclicked');\n                    this.enableSelectMultiTouch = true;\n                }\n                else {\n                    target.classList.remove('e-spanclicked');\n                    this.enableSelectMultiTouch = false;\n                    this.parent.element.querySelector('.e-gridpopup').style.display = 'none';\n                }\n            }\n        }\n        else {\n            this.parent.element.querySelector('.e-gridpopup').style.display = 'none';\n        }\n    };\n    Selection.prototype.showPopup = function (e) {\n        if (!this.selectionSettings.enableSimpleMultiRowSelection) {\n            setCssInGridPopUp(this.parent.element.querySelector('.e-gridpopup'), e, 'e-rowselect e-icons e-icon-rowselect' +\n                (!this.isSingleSel() && (this.selectedRecords.length > (this.parent.getFrozenColumns() ? 2 : 1)\n                    || this.selectedRowCellIndexes.length > 1) ? ' e-spanclicked' : ''));\n        }\n    };\n    Selection.prototype.rowCellSelectionHandler = function (rowIndex, cellIndex) {\n        if ((!this.isMultiCtrlRequest && !this.isMultiShiftRequest) || this.isSingleSel()) {\n            if (!this.isDragged) {\n                this.selectRow(rowIndex, this.selectionSettings.enableToggle);\n            }\n            this.selectCell({ rowIndex: rowIndex, cellIndex: cellIndex }, this.selectionSettings.enableToggle);\n            if (this.selectedRowCellIndexes.length) {\n                this.updateAutoFillPosition();\n            }\n            this.drawBorders();\n        }\n        else if (this.isMultiShiftRequest) {\n            if (this.parent.isCheckBoxSelection || (!this.parent.isCheckBoxSelection &&\n                !closest(this.target, '.' + literals.rowCell).classList.contains(literals.gridChkBox))) {\n                this.selectRowsByRange(isUndefined(this.prevRowIndex) ? rowIndex : this.prevRowIndex, rowIndex);\n            }\n            else {\n                this.addRowsToSelection([rowIndex]);\n            }\n            this.selectCellsByRange(isUndefined(this.prevCIdxs) ? { rowIndex: rowIndex, cellIndex: cellIndex } : this.prevCIdxs, { rowIndex: rowIndex, cellIndex: cellIndex });\n            this.updateAutoFillPosition();\n            this.drawBorders();\n        }\n        else {\n            this.addRowsToSelection([rowIndex]);\n            this.addCellsToSelection([{ rowIndex: rowIndex, cellIndex: cellIndex }]);\n            this.showHideBorders('none');\n        }\n        this.isDragged = false;\n    };\n    Selection.prototype.onCellFocused = function (e) {\n        if (this.parent.frozenRows && e.container.isHeader && e.byKey) {\n            if (e.keyArgs.action === 'upArrow') {\n                if (this.parent.allowFiltering) {\n                    e.isJump = e.element.tagName === 'INPUT' ? true : false;\n                }\n                else {\n                    e.isJump = e.element.tagName === 'TH' ? true : false;\n                }\n            }\n            else {\n                if (e.keyArgs.action === 'downArrow') {\n                    var rIdx = Number(e.element.parentElement.getAttribute(literals.ariaRowIndex));\n                    e.isJump = rIdx === 0 ? true : false;\n                }\n                else {\n                    if (e.keyArgs.action === 'ctrlHome') {\n                        e.isJump = true;\n                    }\n                }\n            }\n        }\n        var clear = this.parent.isFrozenGrid() ? (((e.container.isHeader && e.element.tagName !== 'TD' && e.isJump &&\n            !this.selectionSettings.allowColumnSelection) ||\n            ((e.container.isContent || e.element.tagName === 'TD') && !(e.container.isSelectable || e.element.tagName === 'TD')))\n            && !(e.byKey && e.keyArgs.action === 'space')) : ((e.container.isHeader && e.isJump) ||\n            (e.container.isContent && !e.container.isSelectable)) && !(e.byKey && e.keyArgs.action === 'space')\n            && !(e.element.classList.contains('e-detailrowexpand') || e.element.classList.contains('e-detailrowcollapse'));\n        var headerAction = (e.container.isHeader && e.element.tagName !== 'TD' && !closest(e.element, '.' + literals.rowCell))\n            && !(e.byKey && e.keyArgs.action === 'space');\n        if (!e.byKey || clear) {\n            if (clear && !this.parent.isCheckBoxSelection) {\n                this.clearSelection();\n            }\n            return;\n        }\n        var _a = e.container.isContent ? e.container.indexes : e.indexes, rowIndex = _a[0], cellIndex = _a[1];\n        var prev = this.focus.getPrevIndexes();\n        if (this.parent.frozenRows) {\n            if (e.container.isHeader && (e.element.tagName === 'TD' || closest(e.element, '.' + literals.rowCell))) {\n                var thLen = this.parent.getHeaderTable().querySelector('thead').childElementCount;\n                rowIndex -= thLen;\n                prev.rowIndex = !isNullOrUndefined(prev.rowIndex) ? prev.rowIndex - thLen : null;\n            }\n            else {\n                rowIndex += this.parent.frozenRows;\n                prev.rowIndex = prev.rowIndex === 0 || !isNullOrUndefined(prev.rowIndex) ? prev.rowIndex + this.parent.frozenRows : null;\n            }\n        }\n        if (this.parent.isFrozenGrid()) {\n            var cIdx = Number(e.element.getAttribute(literals.ariaColIndex));\n            var selectedIndexes = this.parent.getSelectedRowCellIndexes();\n            if (selectedIndexes.length && prev.cellIndex === 0) {\n                prev.cellIndex = selectedIndexes[selectedIndexes.length - 1].cellIndexes[0];\n            }\n            prev.cellIndex = !isNullOrUndefined(prev.cellIndex) ? (prev.cellIndex === cellIndex ? cIdx : cIdx - 1) : null;\n            cellIndex = cIdx;\n        }\n        if (this.parent.enableInfiniteScrolling && this.parent.infiniteScrollSettings.enableCache) {\n            rowIndex = parseInt(e.element.parentElement.getAttribute('aria-rowindex'), 10);\n        }\n        if ((headerAction || (['ctrlPlusA', 'escape'].indexOf(e.keyArgs.action) === -1 &&\n            e.keyArgs.action !== 'space' && rowIndex === prev.rowIndex && cellIndex === prev.cellIndex)) &&\n            !this.selectionSettings.allowColumnSelection) {\n            return;\n        }\n        this.preventFocus = true;\n        var columnIndex = this.getKeyColIndex(e);\n        if (this.needColumnSelection) {\n            cellIndex = columnIndex;\n        }\n        switch (e.keyArgs.action) {\n            case 'downArrow':\n            case 'upArrow':\n            case 'enter':\n            case 'shiftEnter':\n                this.target = e.element;\n                this.isKeyAction = true;\n                this.applyDownUpKey(rowIndex, cellIndex);\n                break;\n            case 'rightArrow':\n            case 'leftArrow':\n                this.applyRightLeftKey(rowIndex, cellIndex);\n                break;\n            case 'shiftDown':\n            case 'shiftUp':\n                this.shiftDownKey(rowIndex, cellIndex);\n                break;\n            case 'shiftLeft':\n            case 'shiftRight':\n                this.applyShiftLeftRightKey(rowIndex, cellIndex);\n                break;\n            case 'home':\n            case 'end':\n                cellIndex = e.keyArgs.action === 'end' ? this.getLastColIndex(rowIndex) : 0;\n                this.applyHomeEndKey(rowIndex, cellIndex);\n                break;\n            case 'ctrlHome':\n            case 'ctrlEnd':\n                this.applyCtrlHomeEndKey(rowIndex, cellIndex);\n                break;\n            case 'escape':\n                this.clearSelection();\n                break;\n            case 'ctrlPlusA':\n                this.ctrlPlusA();\n                break;\n            case 'space':\n                this.applySpaceSelection(e.element);\n                break;\n            case 'tab':\n                if (this.parent.editSettings.allowNextRowEdit) {\n                    this.selectRow(rowIndex);\n                }\n                break;\n        }\n        this.needColumnSelection = false;\n        this.preventFocus = false;\n        this.positionBorders();\n        this.updateAutoFillPosition();\n    };\n    Selection.prototype.getKeyColIndex = function (e) {\n        var uid;\n        var index = null;\n        var stackedHeader = e.element.querySelector('.e-stackedheadercelldiv');\n        if (this.selectionSettings.allowColumnSelection && parentsUntil(e.element, 'e-columnheader')) {\n            this.needColumnSelection = e.container.isHeader ? true : false;\n            if (stackedHeader) {\n                if (e.keyArgs.action === 'rightArrow' || e.keyArgs.action === 'leftArrow') {\n                    return index;\n                }\n                uid = stackedHeader.getAttribute('e-mappinguid');\n                var innerColumn = this.getstackedColumns(this.parent.getColumnByUid(uid).columns);\n                var lastIndex = this.parent.getColumnIndexByUid(innerColumn[innerColumn.length - 1].uid);\n                var firstIndex = this.parent.getColumnIndexByUid(innerColumn[0].uid);\n                index = this.prevColIndex >= lastIndex ? firstIndex : lastIndex;\n            }\n            else {\n                index = this.parent.getColumnIndexByUid(e.element\n                    .querySelector('.e-headercelldiv').getAttribute('e-mappinguid'));\n            }\n        }\n        return index;\n    };\n    /**\n     * Apply ctrl + A key selection\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.ctrlPlusA = function () {\n        if (this.isRowType() && !this.isSingleSel()) {\n            this.selectRowsByRange(0, this.getCurrentBatchRecordChanges().length - 1);\n        }\n        if (this.isCellType() && !this.isSingleSel()) {\n            this.selectCellsByRange({ rowIndex: 0, cellIndex: 0 }, { rowIndex: this.parent.getRows().length - 1, cellIndex: this.parent.getColumns().length - 1 });\n        }\n    };\n    Selection.prototype.applySpaceSelection = function (target) {\n        if (target.classList.contains('e-checkselectall')) {\n            this.checkedTarget = target;\n            this.checkSelectAll(this.checkedTarget);\n        }\n        else {\n            if (target.classList.contains('e-checkselect')) {\n                this.checkedTarget = target;\n                this.checkSelect(this.checkedTarget);\n            }\n        }\n    };\n    Selection.prototype.applyDownUpKey = function (rowIndex, cellIndex) {\n        var gObj = this.parent;\n        if (this.parent.isCheckBoxSelection && this.parent.checkAllRows === 'Check' && !this.selectionSettings.persistSelection) {\n            this.checkSelectAllAction(false);\n            this.checkedTarget = null;\n        }\n        if (this.isRowType()) {\n            if (this.parent.frozenRows) {\n                this.selectRow(rowIndex, true);\n                this.applyUpDown(gObj.selectedRowIndex);\n            }\n            else {\n                this.selectRow(rowIndex, true);\n                this.applyUpDown(gObj.selectedRowIndex);\n            }\n        }\n        if (this.isCellType()) {\n            this.selectCell({ rowIndex: rowIndex, cellIndex: cellIndex }, true);\n        }\n        if (this.selectionSettings.allowColumnSelection && this.needColumnSelection) {\n            this.selectColumn(cellIndex);\n        }\n    };\n    Selection.prototype.applyUpDown = function (rowIndex) {\n        if (rowIndex < 0) {\n            return;\n        }\n        if (!this.target) {\n            this.target = this.parent.getRows()[0].children[this.parent.groupSettings.columns.length || 0];\n        }\n        var cIndex = parseInt(this.target.getAttribute(literals.ariaColIndex), 10);\n        var frzCols = this.parent.getFrozenColumns();\n        if (frzCols) {\n            if (cIndex >= frzCols) {\n                this.target =\n                    this.contentRenderer.getMovableRowByIndex(rowIndex).getElementsByClassName(literals.rowCell)[cIndex - frzCols];\n            }\n            else {\n                this.target = this.contentRenderer.getRowByIndex(rowIndex).getElementsByClassName(literals.rowCell)[cIndex];\n            }\n        }\n        else {\n            var row = this.contentRenderer.getRowByIndex(rowIndex);\n            if (row) {\n                this.target = row.getElementsByClassName(literals.rowCell)[cIndex];\n            }\n        }\n        this.addAttribute(this.target);\n    };\n    Selection.prototype.applyRightLeftKey = function (rowIndex, cellIndex) {\n        if (this.selectionSettings.allowColumnSelection && this.needColumnSelection) {\n            this.selectColumn(cellIndex);\n        }\n        else if (this.isCellType()) {\n            this.selectCell({ rowIndex: rowIndex, cellIndex: cellIndex }, true);\n            this.addAttribute(this.target);\n        }\n    };\n    Selection.prototype.applyHomeEndKey = function (rowIndex, cellIndex) {\n        if (this.isCellType()) {\n            this.selectCell({ rowIndex: rowIndex, cellIndex: cellIndex }, true);\n        }\n        else {\n            this.addAttribute(this.parent.getCellFromIndex(rowIndex, cellIndex));\n        }\n    };\n    /**\n     * Apply shift+down key selection\n     *\n     * @param {number} rowIndex - specfies the rowIndex\n     * @param {number} cellIndex - specifies the CellIndex\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.shiftDownKey = function (rowIndex, cellIndex) {\n        this.isMultiShiftRequest = true;\n        if (this.isRowType() && !this.isSingleSel()) {\n            if (!isUndefined(this.prevRowIndex)) {\n                this.selectRowsByRange(this.prevRowIndex, rowIndex);\n                this.applyUpDown(rowIndex);\n            }\n            else {\n                this.selectRow(0, true);\n            }\n        }\n        if (this.isCellType() && !this.isSingleSel()) {\n            this.selectCellsByRange(this.prevCIdxs || { rowIndex: 0, cellIndex: 0 }, { rowIndex: rowIndex, cellIndex: cellIndex });\n        }\n        this.isMultiShiftRequest = false;\n    };\n    Selection.prototype.applyShiftLeftRightKey = function (rowIndex, cellIndex) {\n        this.isMultiShiftRequest = true;\n        if (this.selectionSettings.allowColumnSelection && this.needColumnSelection) {\n            this.selectColumnsByRange(this.prevColIndex, cellIndex);\n        }\n        else {\n            this.selectCellsByRange(this.prevCIdxs, { rowIndex: rowIndex, cellIndex: cellIndex });\n        }\n        this.isMultiShiftRequest = false;\n    };\n    Selection.prototype.getstackedColumns = function (column) {\n        var innerColumnIndexes = [];\n        for (var i = 0, len = column.length; i < len; i++) {\n            if (column[i].columns) {\n                this.getstackedColumns(column[i].columns);\n            }\n            else {\n                innerColumnIndexes.push(column[i]);\n            }\n        }\n        return innerColumnIndexes;\n    };\n    Selection.prototype.applyCtrlHomeEndKey = function (rowIndex, cellIndex) {\n        if (this.isRowType()) {\n            this.selectRow(rowIndex, true);\n            this.addAttribute(this.parent.getCellFromIndex(rowIndex, cellIndex));\n        }\n        if (this.isCellType()) {\n            this.selectCell({ rowIndex: rowIndex, cellIndex: cellIndex }, true);\n        }\n    };\n    Selection.prototype.addRemoveClassesForRow = function (row, isAdd, clearAll) {\n        var args = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            args[_i - 3] = arguments[_i];\n        }\n        if (row) {\n            var cells = [].slice.call(row.getElementsByClassName(literals.rowCell));\n            var detailIndentCell = row.querySelector('.e-detailrowcollapse') || row.querySelector('.e-detailrowexpand');\n            var dragdropIndentCell = row.querySelector('.e-rowdragdrop');\n            if (detailIndentCell) {\n                cells.push(detailIndentCell);\n            }\n            if (dragdropIndentCell) {\n                cells.push(dragdropIndentCell);\n            }\n            addRemoveActiveClasses.apply(void 0, [cells, isAdd].concat(args));\n        }\n        this.getRenderer().setSelection(row ? row.getAttribute('data-uid') : null, isAdd, clearAll);\n    };\n    Selection.prototype.isRowType = function () {\n        return this.selectionSettings.mode === 'Row' || this.selectionSettings.mode === 'Both';\n    };\n    Selection.prototype.isCellType = function () {\n        return this.selectionSettings.mode === 'Cell' || this.selectionSettings.mode === 'Both';\n    };\n    Selection.prototype.isSingleSel = function () {\n        return this.selectionSettings.type === 'Single';\n    };\n    Selection.prototype.getRenderer = function () {\n        if (isNullOrUndefined(this.contentRenderer)) {\n            this.contentRenderer = this.factory.getRenderer(RenderType.Content);\n        }\n        return this.contentRenderer;\n    };\n    /**\n     * Gets the collection of selected records.\n     *\n     * @returns {Object[]} returns the Object\n     */\n    Selection.prototype.getSelectedRecords = function () {\n        var selectedData = [];\n        if (!this.selectionSettings.persistSelection) {\n            selectedData = this.parent.getRowsObject().filter(function (row) { return row.isSelected; })\n                .map(function (m) { return m.data; });\n        }\n        else {\n            selectedData = this.persistSelectedData;\n        }\n        return selectedData;\n    };\n    /**\n     * Select the column by passing start column index\n     *\n     * @param {number} index - specifies the index\n     * @returns {void}\n     */\n    Selection.prototype.selectColumn = function (index) {\n        var gObj = this.parent;\n        if (isNullOrUndefined(gObj.getColumns()[index])) {\n            return;\n        }\n        var column = gObj.getColumnByIndex(index);\n        var selectedCol = gObj.getColumnHeaderByUid(column.uid);\n        var isColSelected = selectedCol.classList.contains('e-columnselection');\n        if ((!gObj.selectionSettings.allowColumnSelection)) {\n            return;\n        }\n        var isMultiColumns = this.selectedColumnsIndexes.length > 1 &&\n            this.selectedColumnsIndexes.indexOf(index) > -1;\n        this.clearColDependency();\n        if (!isColSelected || !this.selectionSettings.enableToggle || isMultiColumns) {\n            var args = {\n                columnIndex: index, headerCell: selectedCol,\n                column: column,\n                cancel: false, target: this.actualTarget,\n                isInteracted: this.isInteracted, previousColumnIndex: this.prevColIndex,\n                isCtrlPressed: this.isMultiCtrlRequest, isShiftPressed: this.isMultiShiftRequest\n            };\n            this.onActionBegin(args, events.columnSelecting);\n            if (args.cancel) {\n                this.disableInteracted();\n                return;\n            }\n            if (!(gObj.selectionSettings.enableToggle && index === this.prevColIndex && isColSelected) || isMultiColumns) {\n                this.updateColSelection(selectedCol, index);\n            }\n            var selectedArgs = {\n                columnIndex: index, headerCell: selectedCol,\n                column: column,\n                target: this.actualTarget,\n                isInteracted: this.isInteracted, previousColumnIndex: this.prevColIndex\n            };\n            this.onActionComplete(selectedArgs, events.columnSelected);\n        }\n        this.updateColProps(index);\n    };\n    /**\n     * Select the columns by passing start and end column index\n     *\n     * @param  {number} startIndex - specifies the start index\n     * @param  {number} endIndex - specifies the end index\n     * @returns {void}\n     */\n    Selection.prototype.selectColumnsByRange = function (startIndex, endIndex) {\n        var gObj = this.parent;\n        if (isNullOrUndefined(gObj.getColumns()[startIndex])) {\n            return;\n        }\n        var indexes = [];\n        if (gObj.selectionSettings.type === 'Single' || isNullOrUndefined(endIndex)) {\n            indexes[0] = startIndex;\n        }\n        else {\n            var min = startIndex < endIndex;\n            for (var i = startIndex; min ? i <= endIndex : i >= endIndex; min ? i++ : i--) {\n                indexes.push(i);\n            }\n        }\n        this.selectColumns(indexes);\n    };\n    /**\n     * Select the columns by passing column indexes\n     *\n     * @param  {number[]} columnIndexes - specifies the columnIndexes\n     * @returns {void}\n     */\n    Selection.prototype.selectColumns = function (columnIndexes) {\n        var gObj = this.parent;\n        var selectedCol = this.getselectedCols();\n        if (gObj.selectionSettings.type === 'Single') {\n            columnIndexes = [columnIndexes[0]];\n        }\n        if (!gObj.selectionSettings.allowColumnSelection) {\n            return;\n        }\n        this.clearColDependency();\n        var selectingArgs = {\n            columnIndex: columnIndexes[0], headerCell: selectedCol,\n            columnIndexes: columnIndexes,\n            column: gObj.getColumnByIndex(columnIndexes[0]),\n            cancel: false, target: this.actualTarget,\n            isInteracted: this.isInteracted, previousColumnIndex: this.prevColIndex,\n            isCtrlPressed: this.isMultiCtrlRequest, isShiftPressed: this.isMultiShiftRequest\n        };\n        this.onActionBegin(selectingArgs, events.columnSelecting);\n        if (selectingArgs.cancel) {\n            this.disableInteracted();\n            return;\n        }\n        for (var i = 0, len = columnIndexes.length; i < len; i++) {\n            this.updateColSelection(gObj.getColumnHeaderByUid(gObj.getColumnByIndex(columnIndexes[i]).uid), columnIndexes[i]);\n        }\n        selectedCol = this.getselectedCols();\n        var selectedArgs = {\n            columnIndex: columnIndexes[0], headerCell: selectedCol,\n            columnIndexes: columnIndexes,\n            column: gObj.getColumnByIndex(columnIndexes[0]),\n            target: this.actualTarget,\n            isInteracted: this.isInteracted, previousColumnIndex: this.prevColIndex\n        };\n        this.onActionComplete(selectedArgs, events.columnSelected);\n        this.updateColProps(columnIndexes[0]);\n    };\n    /**\n     * Select the column with existing column by passing column index\n     *\n     * @param  {number} startIndex - specifies the start index\n     * @returns {void}\n     */\n    Selection.prototype.selectColumnWithExisting = function (startIndex) {\n        var gObj = this.parent;\n        if (isNullOrUndefined(gObj.getColumns()[startIndex])) {\n            return;\n        }\n        var newCol = gObj.getColumnHeaderByUid(gObj.getColumnByIndex(startIndex).uid);\n        var selectedCol = this.getselectedCols();\n        if (gObj.selectionSettings.type === 'Single') {\n            this.clearColDependency();\n        }\n        if (!gObj.selectionSettings.allowColumnSelection) {\n            return;\n        }\n        if (this.selectedColumnsIndexes.indexOf(startIndex) > -1) {\n            this.clearColumnSelection(startIndex);\n        }\n        else {\n            var selectingArgs = {\n                columnIndex: startIndex, headerCell: selectedCol,\n                columnIndexes: this.selectedColumnsIndexes,\n                column: gObj.getColumnByIndex(startIndex),\n                cancel: false, target: this.actualTarget,\n                isInteracted: this.isInteracted, previousColumnIndex: this.prevColIndex,\n                isCtrlPressed: this.isMultiCtrlRequest, isShiftPressed: this.isMultiShiftRequest\n            };\n            this.onActionBegin(selectingArgs, events.columnSelecting);\n            if (selectingArgs.cancel) {\n                this.disableInteracted();\n                return;\n            }\n            this.updateColSelection(newCol, startIndex);\n            selectedCol = this.getselectedCols();\n            var selectedArgs = {\n                columnIndex: startIndex, headerCell: selectedCol,\n                column: gObj.getColumnByIndex(startIndex),\n                columnIndexes: this.selectedColumnsIndexes,\n                target: this.actualTarget,\n                isInteracted: this.isInteracted, previousColumnIndex: this.prevColIndex\n            };\n            this.onActionComplete(selectedArgs, events.columnSelected);\n        }\n        this.updateColProps(startIndex);\n    };\n    /**\n     * Clear the column selection\n     *\n     * @param {number} clearIndex - specifies the clearIndex\n     * @returns {void}\n     */\n    Selection.prototype.clearColumnSelection = function (clearIndex) {\n        if (this.isColumnSelected) {\n            var gObj = this.parent;\n            if (!isNullOrUndefined(clearIndex) && this.selectedColumnsIndexes.indexOf(clearIndex) === -1) {\n                return;\n            }\n            var index = !isNullOrUndefined(clearIndex) ? clearIndex :\n                this.selectedColumnsIndexes[this.selectedColumnsIndexes.length - 1];\n            var col = gObj.getColumnByIndex(index);\n            var selectedCol = void 0;\n            var column = gObj.getColumnByIndex(index);\n            if (col.getFreezeTableName() === literals.frozenRight) {\n                selectedCol = gObj.getFrozenRightColumnHeaderByIndex(index);\n            }\n            else if (col.getFreezeTableName() === 'movable') {\n                selectedCol = gObj.getMovableColumnHeaderByIndex(index);\n            }\n            else {\n                selectedCol = gObj.getColumnHeaderByUid(column.uid);\n            }\n            var deselectedArgs = {\n                columnIndex: index, headerCell: selectedCol,\n                columnIndexes: this.selectedColumnsIndexes,\n                column: column,\n                cancel: false, target: this.actualTarget,\n                isInteracted: this.isInteracted\n            };\n            var isCanceled = this.columnDeselect(deselectedArgs, events.columnDeselecting);\n            if (isCanceled) {\n                this.disableInteracted();\n                return;\n            }\n            var selectedHeader = !isNullOrUndefined(clearIndex) ? [selectedCol] :\n                [].slice.call(gObj.getHeaderContent().getElementsByClassName('e-columnselection'));\n            var selectedCells = this.getSelectedColumnCells(clearIndex);\n            for (var i = 0, len = selectedHeader.length; i < len; i++) {\n                addRemoveActiveClasses([selectedHeader[i]], false, 'e-columnselection');\n            }\n            for (var i = 0, len = selectedCells.length; i < len; i++) {\n                addRemoveActiveClasses([selectedCells[i]], false, 'e-columnselection');\n            }\n            if (!isNullOrUndefined(clearIndex)) {\n                this.selectedColumnsIndexes.splice(this.selectedColumnsIndexes.indexOf(clearIndex), 1);\n                this.parent.getColumns()[clearIndex].isSelected = false;\n            }\n            else {\n                this.columnDeselect(deselectedArgs, events.columnDeselected);\n                this.selectedColumnsIndexes = [];\n                this.isColumnSelected = false;\n                this.parent.getColumns().filter(function (col) { return col.isSelected = false; });\n            }\n        }\n    };\n    Selection.prototype.getselectedCols = function () {\n        var gObj = this.parent;\n        var selectedCol;\n        if (this.selectedColumnsIndexes.length > 1) {\n            selectedCol = [];\n            for (var i = 0; i < this.selectedColumnsIndexes.length; i++) {\n                (selectedCol).push(gObj.getColumnHeaderByUid(gObj.getColumnByIndex(this.selectedColumnsIndexes[i]).uid));\n            }\n        }\n        else {\n            selectedCol = gObj.getColumnHeaderByUid(gObj.getColumnByIndex(this.selectedColumnsIndexes[0]).uid);\n        }\n        return selectedCol;\n    };\n    Selection.prototype.getSelectedColumnCells = function (clearIndex) {\n        var gObj = this.parent;\n        var isRowTemplate = !isNullOrUndefined(this.parent.rowTemplate);\n        var rows = isRowTemplate ? gObj.getRows() : gObj.getDataRows();\n        var movableRows;\n        var frRows;\n        if (gObj.isFrozenGrid() && gObj.getContent().querySelector('.' + literals.movableContent)) {\n            movableRows = isRowTemplate ? gObj.getMovableRows() : gObj.getMovableDataRows();\n            rows = gObj.addMovableRows(rows, movableRows);\n            if (gObj.getFrozenMode() === literals.leftRight) {\n                frRows = isRowTemplate ? gObj.getFrozenRightRows() : gObj.getFrozenRightDataRows();\n                rows = gObj.addMovableRows(rows, frRows);\n            }\n        }\n        var seletedcells = [];\n        var selectionString = !isNullOrUndefined(clearIndex) ? '[aria-colindex=\"' + clearIndex + '\"]' : '.e-columnselection';\n        for (var i = 0, len = rows.length; i < len; i++) {\n            seletedcells = seletedcells.concat([].slice.call(rows[i].querySelectorAll(selectionString)));\n        }\n        return seletedcells;\n    };\n    Selection.prototype.columnDeselect = function (args, event) {\n        if (event === 'columnDeselected') {\n            delete args.cancel;\n        }\n        this.onActionComplete(args, event);\n        return args.cancel;\n    };\n    Selection.prototype.updateColProps = function (startIndex) {\n        this.prevColIndex = startIndex;\n        this.isColumnSelected = this.selectedColumnsIndexes.length && true;\n    };\n    Selection.prototype.clearColDependency = function () {\n        this.clearColumnSelection();\n        this.selectedColumnsIndexes = [];\n    };\n    Selection.prototype.updateColSelection = function (selectedCol, startIndex) {\n        if (isNullOrUndefined(this.parent.getColumns()[startIndex])) {\n            return;\n        }\n        var left = this.parent.getFrozenLeftCount();\n        var movable = this.parent.getMovableColumnsCount();\n        var col = this.parent.getColumnByIndex(startIndex);\n        var isRowTemplate = !isNullOrUndefined(this.parent.rowTemplate);\n        var rows;\n        this.selectedColumnsIndexes.push(startIndex);\n        this.parent.getColumns()[startIndex].isSelected = true;\n        if (col.getFreezeTableName() === literals.frozenRight) {\n            startIndex = startIndex - (left + movable);\n            rows = isRowTemplate ? this.parent.getFrozenRightRows() : this.parent.getFrozenRightDataRows();\n        }\n        else if (col.getFreezeTableName() === 'movable') {\n            startIndex = startIndex - left;\n            rows = isRowTemplate ? this.parent.getMovableRows() : this.parent.getMovableDataRows();\n        }\n        else {\n            startIndex = startIndex + this.parent.getIndentCount();\n            rows = isRowTemplate ? this.parent.getRows() : this.parent.getDataRows();\n        }\n        addRemoveActiveClasses([selectedCol], true, 'e-columnselection');\n        for (var j = 0, len = rows.length; j < len; j++) {\n            if (rows[j].classList.contains(literals.row)) {\n                if ((rows[j].classList.contains(literals.editedRow) || rows[j].classList.contains(literals.addedRow)) &&\n                    this.parent.editSettings.mode === 'Normal' && !isNullOrUndefined(rows[j].querySelector('tr').childNodes[startIndex])) {\n                    addRemoveActiveClasses([rows[j].querySelector('tr').childNodes[startIndex]], true, 'e-columnselection');\n                }\n                else if (!isNullOrUndefined(rows[j].childNodes[startIndex])) {\n                    addRemoveActiveClasses([rows[j].childNodes[startIndex]], true, 'e-columnselection');\n                }\n            }\n        }\n    };\n    Selection.prototype.headerSelectionHandler = function (colIndex) {\n        if ((!this.isMultiCtrlRequest && !this.isMultiShiftRequest) || this.isSingleSel()) {\n            this.selectColumn(colIndex);\n        }\n        else if (this.isMultiShiftRequest) {\n            this.selectColumnsByRange(isUndefined(this.prevColIndex) ? colIndex : this.prevColIndex, colIndex);\n        }\n        else {\n            this.selectColumnWithExisting(colIndex);\n        }\n    };\n    // eslint-disable-next-line camelcase\n    Selection.prototype.addEventListener_checkbox = function () {\n        var _this = this;\n        this.parent.on(events.dataReady, this.dataReady, this);\n        this.onDataBoundFunction = this.onDataBound.bind(this);\n        this.parent.addEventListener(events.dataBound, this.onDataBoundFunction);\n        this.parent.on(events.refreshInfinitePersistSelection, this.onDataBoundFunction);\n        this.parent.on(events.contentReady, this.checkBoxSelectionChanged, this);\n        this.parent.on(events.beforeRefreshOnDataChange, this.initPerisistSelection, this);\n        this.parent.on(events.onEmpty, this.setCheckAllForEmptyGrid, this);\n        this.actionCompleteFunc = this.actionCompleteHandler.bind(this);\n        this.parent.addEventListener(events.actionComplete, this.actionCompleteFunc);\n        this.parent.on(events.click, this.clickHandler, this);\n        this.resizeEndFn = function () {\n            _this.updateAutoFillPosition();\n            _this.drawBorders();\n        };\n        this.resizeEndFn.bind(this);\n        this.parent.addEventListener(events.resizeStop, this.resizeEndFn);\n    };\n    // eslint-disable-next-line camelcase\n    Selection.prototype.removeEventListener_checkbox = function () {\n        this.parent.off(events.dataReady, this.dataReady);\n        this.parent.removeEventListener(events.dataBound, this.onDataBoundFunction);\n        this.parent.removeEventListener(events.actionComplete, this.actionCompleteFunc);\n        this.parent.off(events.refreshInfinitePersistSelection, this.onDataBoundFunction);\n        this.parent.off(events.onEmpty, this.setCheckAllForEmptyGrid);\n        this.parent.off(events.click, this.clickHandler);\n        this.parent.off(events.beforeRefreshOnDataChange, this.initPerisistSelection);\n    };\n    Selection.prototype.setCheckAllForEmptyGrid = function () {\n        var checkAllBox = this.getCheckAllBox();\n        if (checkAllBox) {\n            this.parent.isCheckBoxSelection = true;\n            var spanEle = checkAllBox.nextElementSibling;\n            removeClass([spanEle], ['e-check', 'e-stop', 'e-uncheck']);\n        }\n    };\n    Selection.prototype.dataReady = function (e) {\n        this.isHeaderCheckboxClicked = false;\n        var isInfinitecroll = this.parent.enableInfiniteScrolling && e.requestType === 'infiniteScroll';\n        if (e.requestType !== 'virtualscroll' && !this.parent.isPersistSelection && !isInfinitecroll) {\n            this.disableUI = !this.parent.enableImmutableMode;\n            this.clearSelection();\n            this.setCheckAllState();\n            this.disableUI = false;\n        }\n    };\n    Selection.prototype.actionCompleteHandler = function (e) {\n        if (e.requestType === 'save' && this.parent.isPersistSelection) {\n            this.refreshPersistSelection();\n        }\n    };\n    Selection.prototype.selectRowIndex = function (index) {\n        this.parent.isSelectedRowIndexUpdating = true;\n        this.parent.selectedRowIndex = index;\n    };\n    Selection.prototype.disableInteracted = function () {\n        this.isInteracted = false;\n    };\n    Selection.prototype.activeTarget = function () {\n        this.actualTarget = this.isInteracted ? this.actualTarget : null;\n    };\n    return Selection;\n}());\nexport { Selection };\n","import { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { isActionPrevent } from '../base/util';\n/**\n * The `Search` module is used to handle search action.\n */\nvar Search = /** @class */ (function () {\n    /**\n     * Constructor for Grid search module.\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @hidden\n     */\n    function Search(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    /**\n     * Searches Grid records by given key.\n     *\n     * > You can customize the default search action by using [`searchSettings`](grid/#searchsettings/).\n     *\n     * @param  {string} searchString - Defines the key.\n     * @returns {void}\n     */\n    Search.prototype.search = function (searchString) {\n        var gObj = this.parent;\n        searchString = isNullOrUndefined(searchString) ? '' : searchString;\n        if (isActionPrevent(gObj)) {\n            gObj.notify(events.preventBatch, { instance: this, handler: this.search, arg1: searchString });\n            return;\n        }\n        if (searchString !== gObj.searchSettings.key) {\n            gObj.searchSettings.key = searchString.toString();\n            gObj.dataBind();\n        }\n        else if (this.refreshSearch) {\n            gObj.refresh();\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Search.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.inBoundModelChanged, this.onPropertyChanged, this);\n        this.parent.on(events.searchComplete, this.onSearchComplete, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.actionCompleteFunc = this.onActionComplete.bind(this);\n        this.parent.addEventListener(events.actionComplete, this.actionCompleteFunc);\n        this.parent.on(events.cancelBegin, this.cancelBeginEvent, this);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Search.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.inBoundModelChanged, this.onPropertyChanged);\n        this.parent.off(events.searchComplete, this.onSearchComplete);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.removeEventListener(events.actionComplete, this.actionCompleteFunc);\n        this.parent.off(events.cancelBegin, this.cancelBeginEvent);\n    };\n    /**\n     * To destroy the print\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Search.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    /**\n     * @param {NotifyArgs} e - specfies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Search.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName()) {\n            return;\n        }\n        if (!isNullOrUndefined(e.properties.key)) {\n            this.parent.notify(events.modelChanged, {\n                requestType: 'searching', type: events.actionBegin, searchString: this.parent.searchSettings.key\n            });\n        }\n        else {\n            this.parent.notify(events.modelChanged, {\n                requestType: 'searching', type: events.actionBegin\n            });\n        }\n    };\n    /**\n     * The function used to trigger onActionComplete\n     *\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Search.prototype.onSearchComplete = function (e) {\n        this.parent.trigger(events.actionComplete, extend(e, {\n            searchString: this.parent.searchSettings.key, requestType: 'searching', type: events.actionComplete\n        }));\n    };\n    /**\n     * The function used to store the requestType\n     *\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Search.prototype.onActionComplete = function (e) {\n        this.refreshSearch = e.requestType !== 'searching';\n    };\n    Search.prototype.cancelBeginEvent = function (e) {\n        if (e.requestType === 'searching') {\n            this.parent.setProperties({ searchSettings: { key: '' } }, true);\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Search.prototype.getModuleName = function () {\n        return 'search';\n    };\n    return Search;\n}());\nexport { Search };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { iterateArrayOrObject, isGroupAdaptive } from '../base/util';\nimport * as events from '../base/constant';\n/**\n * The `ShowHide` module is used to control column visibility.\n */\nvar ShowHide = /** @class */ (function () {\n    /**\n     * Constructor for the show hide module.\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @hidden\n     */\n    function ShowHide(parent) {\n        this.parent = parent;\n    }\n    /**\n     * Shows a column by column name.\n     *\n     * @param  {string|string[]} columnName - Defines a single or collection of column names to show.\n     * @param  {string} showBy - Defines the column key either as field name or header text.\n     * @returns {void}\n     */\n    ShowHide.prototype.show = function (columnName, showBy) {\n        var keys = this.getToggleFields(columnName);\n        var columns = this.getColumns(keys, showBy);\n        this.parent.notify(events.tooltipDestroy, { module: 'edit' });\n        for (var i = 0; i < columns.length; i++) {\n            columns[i].visible = true;\n        }\n        this.setVisible(columns);\n    };\n    /**\n     * Hides a column by column name.\n     *\n     * @param  {string|string[]} columnName - Defines a single or collection of column names to hide.\n     * @param  {string} hideBy - Defines the column key either as field name or header text.\n     * @returns {void}\n     */\n    ShowHide.prototype.hide = function (columnName, hideBy) {\n        var keys = this.getToggleFields(columnName);\n        var columns = this.getColumns(keys, hideBy);\n        this.parent.notify(events.tooltipDestroy, { module: 'edit' });\n        for (var i = 0; i < columns.length; i++) {\n            columns[i].visible = false;\n        }\n        this.setVisible(columns);\n    };\n    ShowHide.prototype.getToggleFields = function (key) {\n        var finalized = [];\n        if (typeof key === 'string') {\n            finalized = [key];\n        }\n        else {\n            finalized = key;\n        }\n        return finalized;\n    };\n    ShowHide.prototype.getColumns = function (keys, getKeyBy) {\n        var _this = this;\n        var columns = iterateArrayOrObject(keys, function (key) {\n            return iterateArrayOrObject(_this.parent.columnModel, function (item) {\n                if (item[getKeyBy] === key) {\n                    return item;\n                }\n                return undefined;\n            })[0];\n        });\n        return columns;\n    };\n    /**\n     * Shows or hides columns by given column collection.\n     *\n     * @private\n     * @param {Column[]} columns - Specifies the columns.\n     * @param {Column[]} changedStateColumns - specifies the changedStateColumns\n     * @returns {void}\n     */\n    ShowHide.prototype.setVisible = function (columns, changedStateColumns) {\n        var _this = this;\n        if (changedStateColumns === void 0) { changedStateColumns = []; }\n        changedStateColumns = (changedStateColumns.length > 0) ? changedStateColumns : columns;\n        var args = {\n            requestType: 'columnstate',\n            cancel: false,\n            columns: changedStateColumns\n        };\n        var cancel = 'cancel';\n        this.parent.trigger(events.actionBegin, args, function (showHideArgs) {\n            var currentViewCols = _this.parent.getColumns();\n            columns = isNullOrUndefined(columns) ? currentViewCols : columns;\n            if (showHideArgs[cancel]) {\n                _this.parent.notify(events.resetColumns, { showHideArgs: showHideArgs });\n                if (columns.length > 0) {\n                    columns[0].visible = true;\n                }\n                return;\n            }\n            if (isGroupAdaptive(_this.parent)) {\n                _this.parent.contentModule.emptyVcRows();\n            }\n            if (_this.parent.allowSelection && _this.parent.getSelectedRecords().length &&\n                !_this.parent.selectionSettings.persistSelection) {\n                _this.parent.clearSelection();\n            }\n            if (_this.parent.enableColumnVirtualization) {\n                var colsInCurrentView = columns.filter(function (col1) { return (currentViewCols.some(function (col2) { return col1.field === col2.field; })); });\n                if (colsInCurrentView.length) {\n                    _this.parent.notify(events.columnVisibilityChanged, columns);\n                }\n            }\n            else {\n                _this.parent.notify(events.columnVisibilityChanged, columns);\n            }\n            var params = {\n                requestType: 'columnstate',\n                columns: changedStateColumns\n            };\n            _this.parent.trigger(events.actionComplete, params);\n            if (_this.parent.columnQueryMode !== 'All') {\n                _this.parent.refresh();\n            }\n        });\n    };\n    return ShowHide;\n}());\nexport { ShowHide };\n","import { Browser, EventHandler } from '@syncfusion/ej2-base';\nimport { addClass, removeClass } from '@syncfusion/ej2-base';\nimport { formatUnit, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { getScrollBarWidth, getUpdateUsingRaf } from '../base/util';\nimport { scroll, contentReady, uiUpdate, onEmpty, headerRefreshed, textWrapRefresh, virtualScrollEdit, infiniteScrollHandler, closeFilterDialog } from '../base/constant';\nimport { lazyLoadScrollHandler, checkScrollReset } from '../base/constant';\nimport { ColumnWidthService } from '../services/width-controller';\nimport * as literals from '../base/string-literals';\nimport * as events from '../base/constant';\n/**\n * The `Scroll` module is used to handle scrolling behaviour.\n */\nvar Scroll = /** @class */ (function () {\n    /**\n     * Constructor for the Grid scrolling.\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @hidden\n     */\n    function Scroll(parent) {\n        //To maintain scroll state on grid actions.\n        this.previousValues = { top: 0, left: 0 };\n        this.oneTimeReady = true;\n        this.parent = parent;\n        this.widthService = new ColumnWidthService(parent);\n        this.addEventListener();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Scroll.prototype.getModuleName = function () {\n        return 'scroll';\n    };\n    /**\n     * @param {boolean} uiupdate - specifies the uiupdate\n     * @returns {void}\n     * @hidden\n     */\n    Scroll.prototype.setWidth = function (uiupdate) {\n        this.parent.element.style.width = formatUnit(this.parent.width);\n        if (uiupdate) {\n            this.widthService.setWidthToColumns();\n        }\n        if (this.parent.toolbarModule && this.parent.toolbarModule.toolbar &&\n            this.parent.toolbarModule.toolbar.element) {\n            this.parent.toolbarModule.toolbar.refreshOverflow();\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Scroll.prototype.setHeight = function () {\n        var mHdrHeight = 0;\n        var content = this.parent.getContent().querySelector('.' + literals.content);\n        var height = this.parent.height;\n        if (this.parent.isFrozenGrid() && this.parent.height !== 'auto' && this.parent.height.toString().indexOf('%') < 0) {\n            height = parseInt(height, 10) - Scroll.getScrollBarWidth();\n        }\n        if (!this.parent.enableVirtualization && this.parent.frozenRows && this.parent.height !== 'auto') {\n            var tbody = this.parent.getHeaderContent().querySelector(literals.tbody);\n            mHdrHeight = tbody ? tbody.offsetHeight : 0;\n            if (tbody && mHdrHeight) {\n                var add = tbody.getElementsByClassName(literals.addedRow).length;\n                var height_1 = add * this.parent.getRowHeight();\n                mHdrHeight -= height_1;\n            }\n            content.style.height = formatUnit(height - mHdrHeight);\n        }\n        else {\n            content.style.height = formatUnit(height);\n        }\n        this.ensureOverflow(content);\n        if (this.parent.isFrozenGrid()) {\n            this.refresh();\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Scroll.prototype.setPadding = function () {\n        var content = this.parent.getHeaderContent();\n        var scrollWidth = Scroll.getScrollBarWidth() - this.getThreshold();\n        var cssProps = this.getCssProperties();\n        var padding = this.parent.getFrozenMode() === 'Right' || this.parent.getFrozenMode() === literals.leftRight ? '0.5px' : '1px';\n        content.querySelector('.' + literals.headerContent).style[cssProps.border] = scrollWidth > 0 ? padding : '0px';\n        content.style[cssProps.padding] = scrollWidth > 0 ? scrollWidth + 'px' : '0px';\n    };\n    /**\n     * @param {boolean} rtl - specifies the rtl\n     * @returns {void}\n     * @hidden\n     */\n    Scroll.prototype.removePadding = function (rtl) {\n        var cssProps = this.getCssProperties(rtl);\n        var hDiv = this.parent.getHeaderContent().querySelector('.' + literals.headerContent);\n        hDiv.style[cssProps.border] = '';\n        hDiv.parentElement.style[cssProps.padding] = '';\n        var footerDiv = this.parent.getFooterContent();\n        if (footerDiv && footerDiv.classList.contains('e-footerpadding')) {\n            footerDiv.classList.remove('e-footerpadding');\n        }\n    };\n    /**\n     * Refresh makes the Grid adoptable with the height of parent container.\n     *\n     * > The [`height`](grid/#height/) must be set to 100%.\n     *\n     * @returns {void}\n     */\n    Scroll.prototype.refresh = function () {\n        if (this.parent.height !== '100%') {\n            return;\n        }\n        var content = this.parent.getContent();\n        this.parent.element.style.height = '100%';\n        var height = this.widthService.getSiblingsHeight(content);\n        content.style.height = 'calc(100% - ' + height + 'px)'; //Set the height to the  '.' + literals.gridContent;\n        if (this.parent.isFrozenGrid()) {\n            content.firstElementChild.style.height = 'calc(100% - ' + getScrollBarWidth() + 'px)';\n        }\n    };\n    Scroll.prototype.getThreshold = function () {\n        /* Some browsers places the scroller outside the content,\n         * hence the padding should be adjusted.*/\n        var appName = Browser.info.name;\n        if (appName === 'mozilla') {\n            return 0.5;\n        }\n        return 1;\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Scroll.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(onEmpty, this.wireEvents, this);\n        this.parent.on(contentReady, this.wireEvents, this);\n        this.parent.on(uiUpdate, this.onPropertyChanged, this);\n        this.parent.on(textWrapRefresh, this.wireEvents, this);\n        this.parent.on(headerRefreshed, this.setScrollLeft, this);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Scroll.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(onEmpty, this.wireEvents);\n        this.parent.off(contentReady, this.wireEvents);\n        this.parent.off(uiUpdate, this.onPropertyChanged);\n        this.parent.off(textWrapRefresh, this.wireEvents);\n        this.parent.off(headerRefreshed, this.setScrollLeft);\n    };\n    Scroll.prototype.setScrollLeft = function () {\n        if (this.parent.isFrozenGrid()) {\n            this.parent.headerModule.getMovableHeader().scrollLeft = this.previousValues.left;\n        }\n        else {\n            this.parent.getHeaderContent().querySelector('.' + literals.headerContent).scrollLeft = this.previousValues.left;\n        }\n    };\n    Scroll.prototype.onFrozenContentScroll = function () {\n        var _this = this;\n        return function (e) {\n            if (_this.content.querySelector(literals.tbody) === null || _this.parent.isPreventScrollEvent) {\n                return;\n            }\n            if (!isNullOrUndefined(_this.parent.infiniteScrollModule) && _this.parent.enableInfiniteScrolling) {\n                _this.parent.notify(infiniteScrollHandler, e);\n            }\n            _this.previousValues.top = e.target.scrollTop;\n        };\n    };\n    Scroll.prototype.onContentScroll = function (scrollTarget) {\n        var _this = this;\n        var element = scrollTarget;\n        var isHeader = element.classList.contains(literals.headerContent);\n        return function (e) {\n            if (_this.content.querySelector(literals.tbody) === null || _this.parent.isPreventScrollEvent) {\n                return;\n            }\n            var target = e.target;\n            var left = target.scrollLeft;\n            if (!isNullOrUndefined(_this.parent.infiniteScrollModule) && _this.parent.enableInfiniteScrolling) {\n                _this.parent.notify(infiniteScrollHandler, { target: e.target, isLeft: _this.previousValues.left !== left });\n            }\n            if (_this.parent.groupSettings.columns.length && _this.parent.groupSettings.enableLazyLoading) {\n                var isDown = _this.previousValues.top < _this.parent.getContent().firstElementChild.scrollTop;\n                _this.parent.notify(lazyLoadScrollHandler, { scrollDown: isDown });\n            }\n            _this.parent.notify(virtualScrollEdit, {});\n            var isFooter = target.classList.contains('e-summarycontent');\n            if (_this.previousValues.left === left) {\n                _this.previousValues.top = !isHeader ? _this.previousValues.top : target.scrollTop;\n                return;\n            }\n            _this.parent.notify(closeFilterDialog, e);\n            element.scrollLeft = left;\n            if (isFooter) {\n                _this.header.scrollLeft = left;\n            }\n            _this.previousValues.left = left;\n            _this.parent.notify(scroll, { left: left });\n        };\n    };\n    Scroll.prototype.onCustomScrollbarScroll = function (mCont, mHdr) {\n        var _this = this;\n        var content = mCont;\n        var header = mHdr;\n        return function (e) {\n            if (_this.content.querySelector(literals.tbody) === null) {\n                return;\n            }\n            var target = e.target;\n            var left = target.scrollLeft;\n            if (_this.previousValues.left === left) {\n                return;\n            }\n            content.scrollLeft = left;\n            header.scrollLeft = left;\n            _this.previousValues.left = left;\n            _this.parent.notify(scroll, { left: left });\n            if (_this.parent.isDestroyed) {\n                return;\n            }\n        };\n    };\n    Scroll.prototype.onTouchScroll = function (scrollTarget) {\n        var _this = this;\n        var element = scrollTarget;\n        return function (e) {\n            if (e.pointerType === 'mouse') {\n                return;\n            }\n            var isFrozen = _this.parent.isFrozenGrid();\n            var pageXY = _this.getPointXY(e);\n            var left = element.scrollLeft + (_this.pageXY.x - pageXY.x);\n            var mHdr = isFrozen ?\n                _this.parent.getHeaderContent().querySelector('.' + literals.movableHeader) :\n                _this.parent.getHeaderContent().querySelector('.' + literals.headerContent);\n            var mCont = isFrozen ?\n                _this.parent.getContent().querySelector('.' + literals.movableContent) :\n                _this.parent.getContent().querySelector('.' + literals.content);\n            if (_this.previousValues.left === left || (left < 0 || (mHdr.scrollWidth - mHdr.clientWidth) < left)) {\n                return;\n            }\n            e.preventDefault();\n            mHdr.scrollLeft = left;\n            mCont.scrollLeft = left;\n            if (isFrozen) {\n                var scrollBar = _this.parent.getContent().querySelector('.e-movablescrollbar');\n                scrollBar.scrollLeft = left;\n            }\n            _this.pageXY.x = pageXY.x;\n            _this.previousValues.left = left;\n        };\n    };\n    Scroll.prototype.setPageXY = function () {\n        var _this = this;\n        return function (e) {\n            if (e.pointerType === 'mouse') {\n                return;\n            }\n            _this.pageXY = _this.getPointXY(e);\n        };\n    };\n    Scroll.prototype.getPointXY = function (e) {\n        var pageXY = { x: 0, y: 0 };\n        if (e.touches && e.touches.length) {\n            pageXY.x = e.touches[0].pageX;\n            pageXY.y = e.touches[0].pageY;\n        }\n        else {\n            pageXY.x = e.pageX;\n            pageXY.y = e.pageY;\n        }\n        return pageXY;\n    };\n    Scroll.prototype.getScrollbleParent = function (node) {\n        if (node === null) {\n            return null;\n        }\n        var parent = isNullOrUndefined(node.tagName) ? node.scrollingElement : node;\n        var overflowY = document.defaultView.getComputedStyle(parent, null).overflowY;\n        if (parent.scrollHeight > parent.clientHeight && overflowY !== 'hidden'\n            && overflowY !== 'visible' || node.tagName === \"HTML\" || node.tagName === \"BODY\") {\n            return node;\n        }\n        else {\n            return this.getScrollbleParent(node.parentNode);\n        }\n    };\n    /**\n     * @param {boolean} isAdd - specifies whether adding/removing the event\n     * @returns {void}\n     * @hidden\n     */\n    Scroll.prototype.addStickyListener = function (isAdd) {\n        this.parentElement = this.getScrollbleParent(this.parent.element.parentElement);\n        if (isAdd) {\n            if (this.parentElement) {\n                EventHandler.add(this.parentElement.tagName === 'HTML' || this.parentElement.tagName === 'BODY' ? document :\n                    this.parentElement, 'scroll', this.makeStickyHeader, this);\n            }\n        }\n        else {\n            EventHandler.remove(this.parentElement, 'scroll', this.makeStickyHeader);\n        }\n    };\n    Scroll.prototype.wireEvents = function () {\n        var _this = this;\n        if (this.oneTimeReady) {\n            var frzCols = this.parent.isFrozenGrid();\n            this.content = this.parent.getContent().querySelector('.' + literals.content);\n            this.header = this.parent.getHeaderContent().querySelector('.' + literals.headerContent);\n            var mCont = this.content.querySelector('.' + literals.movableContent);\n            var mHdr = this.header.querySelector('.' + literals.movableHeader);\n            var mScrollBar = this.parent.getContent().querySelector('.e-movablescrollbar');\n            if (this.parent.frozenRows) {\n                EventHandler.add(frzCols ? mHdr : this.header, 'touchstart pointerdown', this.setPageXY(), this);\n                EventHandler.add(frzCols ? mHdr : this.header, 'touchmove pointermove', this.onTouchScroll(frzCols ? mCont : this.content), this);\n            }\n            if (this.parent.isFrozenGrid()) {\n                EventHandler.add(mScrollBar, 'scroll', this.onCustomScrollbarScroll(mCont, mHdr), this);\n                EventHandler.add(mCont, 'scroll', this.onCustomScrollbarScroll(mScrollBar, mHdr), this);\n                EventHandler.add(mHdr, 'scroll', this.onCustomScrollbarScroll(mScrollBar, mCont), this);\n                EventHandler.add(this.content, 'scroll', this.onFrozenContentScroll(), this);\n                EventHandler.add(mHdr, 'touchstart pointerdown', this.setPageXY(), this);\n                EventHandler.add(mHdr, 'touchmove pointermove', this.onTouchScroll(mCont), this);\n                EventHandler.add(mCont, 'touchstart pointerdown', this.setPageXY(), this);\n                if (!(/macintosh|ipad/.test(Browser.userAgent.toLowerCase()) && Browser.isDevice)) {\n                    EventHandler.add(mCont, 'touchmove pointermove', this.onTouchScroll(mHdr), this);\n                }\n            }\n            else {\n                EventHandler.add(this.content, 'scroll', this.onContentScroll(this.header), this);\n                EventHandler.add(this.header, 'scroll', this.onContentScroll(this.content), this);\n            }\n            if (this.parent.aggregates.length) {\n                EventHandler.add(this.parent.getFooterContent().firstChild, 'scroll', this.onContentScroll(this.content), this);\n            }\n            if (this.parent.enableStickyHeader) {\n                this.addStickyListener(true);\n            }\n            this.refresh();\n            this.oneTimeReady = false;\n        }\n        var table = this.parent.getContentTable();\n        var sLeft;\n        var sHeight;\n        var clientHeight;\n        getUpdateUsingRaf(function () {\n            sLeft = _this.header.scrollLeft;\n            sHeight = table.scrollHeight;\n            clientHeight = _this.parent.getContent().clientHeight;\n        }, function () {\n            var args = { cancel: false };\n            _this.parent.notify(checkScrollReset, args);\n            if (!_this.parent.enableVirtualization && !_this.parent.enableInfiniteScrolling) {\n                if (sHeight < clientHeight) {\n                    addClass(table.querySelectorAll('tr:last-child td'), 'e-lastrowcell');\n                    if (_this.parent.isFrozenGrid()) {\n                        addClass(_this.parent.getContent().querySelector('.' + literals.movableContent).querySelectorAll('tr:last-child td'), 'e-lastrowcell');\n                        if (_this.parent.getFrozenRightColumnsCount()) {\n                            addClass(_this.parent.getContent().querySelector('.e-frozen-right-content').querySelectorAll('tr:last-child td'), 'e-lastrowcell');\n                        }\n                    }\n                }\n                if (!args.cancel) {\n                    if ((_this.parent.frozenRows > 0 || _this.parent.isFrozenGrid()) && _this.header.querySelector('.' + literals.movableHeader)) {\n                        _this.header.querySelector('.' + literals.movableHeader).scrollLeft = _this.previousValues.left;\n                    }\n                    else {\n                        _this.header.scrollLeft = _this.previousValues.left;\n                    }\n                    _this.content.scrollLeft = _this.previousValues.left;\n                    _this.content.scrollTop = _this.previousValues.top;\n                }\n            }\n            if (!_this.parent.enableColumnVirtualization) {\n                _this.content.scrollLeft = sLeft;\n            }\n            if (_this.parent.isFrozenGrid() && _this.header.querySelector('.' + literals.movableHeader)) {\n                _this.header.querySelector('.' + literals.movableHeader).scrollLeft =\n                    _this.content.querySelector('.' + literals.movableContent).scrollLeft;\n            }\n        });\n        this.parent.isPreventScrollEvent = false;\n    };\n    /**\n     * @param {boolean} rtl - specifies the rtl\n     * @returns {ScrollCss} returns the ScrollCss\n     * @hidden\n     */\n    Scroll.prototype.getCssProperties = function (rtl) {\n        var css = {};\n        var enableRtl = isNullOrUndefined(rtl) ? this.parent.enableRtl : rtl;\n        css.border = enableRtl ? 'borderLeftWidth' : 'borderRightWidth';\n        css.padding = enableRtl ? 'paddingLeft' : 'paddingRight';\n        return css;\n    };\n    Scroll.prototype.ensureOverflow = function (content) {\n        content.style.overflowY = this.parent.height === 'auto' ? 'auto' : 'scroll';\n    };\n    Scroll.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName()) {\n            return;\n        }\n        this.setPadding();\n        this.oneTimeReady = true;\n        if (this.parent.height === 'auto') {\n            this.removePadding();\n        }\n        this.wireEvents();\n        this.setHeight();\n        var width = 'width';\n        this.setWidth(!isNullOrUndefined(e.properties[width]));\n    };\n    Scroll.prototype.makeStickyHeader = function () {\n        if (this.parent.enableStickyHeader && this.parent.element && this.parent.getContent()) {\n            var contentRect = this.parent.getContent().getClientRects()[0];\n            if (contentRect) {\n                var headerEle = this.parent.getHeaderContent();\n                var toolbarEle = this.parent.element.querySelector('.e-toolbar');\n                var groupHeaderEle = this.parent.element.querySelector('.e-groupdroparea');\n                var height = headerEle.offsetHeight + (toolbarEle ? toolbarEle.offsetHeight : 0) +\n                    (groupHeaderEle ? groupHeaderEle.offsetHeight : 0);\n                var parentTop = this.parentElement.getClientRects()[0].top;\n                var top_1 = contentRect.top - (parentTop < 0 ? 0 : parentTop);\n                var left = contentRect.left;\n                if (top_1 < height && contentRect.bottom > 0) {\n                    headerEle.classList.add('e-sticky');\n                    var elemTop = 0;\n                    if (groupHeaderEle && this.parent.groupSettings.showDropArea) {\n                        this.setSticky(groupHeaderEle, elemTop, contentRect.width, left, true);\n                        elemTop += groupHeaderEle.getClientRects()[0].height;\n                    }\n                    if (toolbarEle) {\n                        this.setSticky(toolbarEle, elemTop, contentRect.width, left, true);\n                        elemTop += toolbarEle.getClientRects()[0].height;\n                    }\n                    this.setSticky(headerEle, elemTop, contentRect.width, left, true);\n                }\n                else {\n                    if (headerEle.classList.contains('e-sticky')) {\n                        this.setSticky(headerEle, null, null, null, false);\n                        if (toolbarEle) {\n                            this.setSticky(toolbarEle, null, null, null, false);\n                        }\n                        if (groupHeaderEle) {\n                            this.setSticky(groupHeaderEle, null, null, null, false);\n                        }\n                        var ccDlg = this.parent.element.querySelector('.e-ccdlg');\n                        if (ccDlg) {\n                            ccDlg.classList.remove('e-sticky');\n                        }\n                    }\n                }\n                this.parent.notify(events.stickyScrollComplete, {});\n            }\n        }\n    };\n    Scroll.prototype.setSticky = function (ele, top, width, left, isAdd) {\n        if (isAdd) {\n            ele.style.width = width + 'px';\n            ele.classList.add('e-sticky');\n        }\n        else {\n            ele.classList.remove('e-sticky');\n        }\n        ele.style.top = top != null ? top + 'px' : '';\n        ele.style.left = left !== null ? parseInt(ele.style.left, 10) !== left ? left + 'px' : ele.style.left : '';\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Scroll.prototype.destroy = function () {\n        var gridElement = this.parent.element;\n        if (!gridElement || (!gridElement.querySelector('.' + literals.gridHeader) && !gridElement.querySelector('.' + literals.gridContent))) {\n            return;\n        }\n        this.removeEventListener();\n        //Remove Dom event\n        var cont = this.parent.getContent().querySelector('.' + literals.content);\n        EventHandler.remove(cont, 'scroll', this.onContentScroll);\n        if (this.parent.enableStickyHeader) {\n            this.addStickyListener(false);\n        }\n        //Remove padding\n        this.removePadding();\n        removeClass([this.parent.getHeaderContent().querySelector('.' + literals.headerContent)], literals.headerContent);\n        removeClass([cont], literals.content);\n        //Remove height\n        cont.style.height = '';\n        //Remove width\n        this.parent.element.style.width = '';\n    };\n    /**\n     * Function to get the scrollbar width of the browser.\n     *\n     * @returns {number} return the width\n     * @hidden\n     */\n    Scroll.getScrollBarWidth = function () {\n        return getScrollBarWidth();\n    };\n    return Scroll;\n}());\nexport { Scroll };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { compile } from '@syncfusion/ej2-base';\nimport { getEnumValue } from '@syncfusion/ej2-base';\nimport { CellType } from '../base/enum';\nimport { Property, Collection, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the Grid's aggregate column.\n */\nvar AggregateColumn = /** @class */ (function (_super) {\n    __extends(AggregateColumn, _super);\n    function AggregateColumn() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.templateFn = {};\n        return _this;\n    }\n    /**\n     * @param {Function} value - specifies the value\n     * @returns {void}\n     * @hidden\n     */\n    AggregateColumn.prototype.setFormatter = function (value) {\n        this.formatFn = value;\n    };\n    /**\n     * @returns {Function} returns the Function\n     * @hidden\n     */\n    AggregateColumn.prototype.getFormatter = function () {\n        return this.formatFn;\n    };\n    /**\n     * @param {Object} helper - specifies the helper\n     * @returns {void}\n     * @hidden\n     */\n    AggregateColumn.prototype.setTemplate = function (helper) {\n        if (helper === void 0) { helper = {}; }\n        if (this.footerTemplate !== undefined) {\n            this.templateFn[getEnumValue(CellType, CellType.Summary)] = { fn: compile(this.footerTemplate, helper),\n                property: 'footerTemplate' };\n        }\n        if (this.groupFooterTemplate !== undefined) {\n            this.templateFn[getEnumValue(CellType, CellType.GroupSummary)] = { fn: compile(this.groupFooterTemplate, helper),\n                property: 'groupFooterTemplate' };\n        }\n        if (this.groupCaptionTemplate !== undefined) {\n            this.templateFn[getEnumValue(CellType, CellType.CaptionSummary)] = { fn: compile(this.groupCaptionTemplate, helper),\n                property: 'groupCaptionTemplate' };\n        }\n    };\n    /**\n     * @param {CellType} type - specifies the cell type\n     * @returns {Object} returns the object\n     * @hidden\n     */\n    AggregateColumn.prototype.getTemplate = function (type) {\n        return this.templateFn[getEnumValue(CellType, type)];\n    };\n    /**\n     * @param {Object} prop - returns the Object\n     * @returns {void}\n     * @hidden\n     */\n    AggregateColumn.prototype.setPropertiesSilent = function (prop) {\n        this.setProperties(prop, true);\n    };\n    __decorate([\n        Property()\n    ], AggregateColumn.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], AggregateColumn.prototype, \"field\", void 0);\n    __decorate([\n        Property()\n    ], AggregateColumn.prototype, \"columnName\", void 0);\n    __decorate([\n        Property()\n    ], AggregateColumn.prototype, \"format\", void 0);\n    __decorate([\n        Property()\n    ], AggregateColumn.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property()\n    ], AggregateColumn.prototype, \"groupFooterTemplate\", void 0);\n    __decorate([\n        Property()\n    ], AggregateColumn.prototype, \"groupCaptionTemplate\", void 0);\n    __decorate([\n        Property()\n    ], AggregateColumn.prototype, \"customAggregate\", void 0);\n    return AggregateColumn;\n}(ChildProperty));\nexport { AggregateColumn };\n/**\n * Configures the aggregate rows.\n */\nvar AggregateRow = /** @class */ (function (_super) {\n    __extends(AggregateRow, _super);\n    function AggregateRow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], AggregateColumn)\n    ], AggregateRow.prototype, \"columns\", void 0);\n    return AggregateRow;\n}(ChildProperty));\nexport { AggregateRow };\n","import { Browser, remove, EventHandler, isUndefined, closest, classList } from '@syncfusion/ej2-base';\nimport { parentsUntil } from '../base/util';\nimport * as events from '../base/constant';\nimport * as literals from '../base/string-literals';\n/**\n * The `Clipboard` module is used to handle clipboard copy action.\n */\nvar Clipboard = /** @class */ (function () {\n    /**\n     * Constructor for the Grid clipboard module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @hidden\n     */\n    function Clipboard(parent) {\n        this.copyContent = '';\n        this.isSelect = false;\n        this.parent = parent;\n        this.addEventListener();\n    }\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Clipboard.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.contentReady, this.initialEnd, this);\n        this.parent.on(events.keyPressed, this.keyDownHandler, this);\n        this.parent.on(events.click, this.clickHandler, this);\n        EventHandler.add(this.parent.element, 'keydown', this.pasteHandler, this);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Clipboard.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.keyPressed, this.keyDownHandler);\n        this.parent.off(events.contentReady, this.initialEnd);\n        this.parent.off(events.click, this.clickHandler);\n        EventHandler.remove(this.parent.element, 'keydown', this.pasteHandler);\n    };\n    Clipboard.prototype.clickHandler = function (e) {\n        var target = e.target;\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        target = parentsUntil(target, 'e-rowcell');\n    };\n    Clipboard.prototype.pasteHandler = function (e) {\n        var _this = this;\n        var grid = this.parent;\n        var isMacLike = /(Mac)/i.test(navigator.platform);\n        if (e.keyCode === 67 && isMacLike && e.metaKey && !grid.isEdit) {\n            this.copy();\n        }\n        if (e.keyCode === 86 && (e.ctrlKey || (isMacLike && e.metaKey)) && !grid.isEdit) {\n            var target = closest(document.activeElement, '.' + literals.rowCell);\n            if (!target || !grid.editSettings.allowEditing || grid.editSettings.mode !== 'Batch' ||\n                grid.selectionSettings.mode !== 'Cell' || grid.selectionSettings.cellSelectionMode === 'Flow') {\n                return;\n            }\n            this.activeElement = document.activeElement;\n            this.clipBoardTextArea.value = '';\n            var x_1 = window.scrollX;\n            var y_1 = window.scrollY;\n            this.clipBoardTextArea.focus();\n            setTimeout(function () {\n                _this.activeElement.focus();\n                window.scrollTo(x_1, y_1);\n                _this.paste(_this.clipBoardTextArea.value, _this.parent.getSelectedRowCellIndexes()[0].rowIndex, _this.parent.getSelectedRowCellIndexes()[0].cellIndexes[0]);\n            }, 10);\n        }\n    };\n    /**\n     * Paste data from clipboard to selected cells.\n     *\n     * @param {boolean} data - Specifies the date for paste.\n     * @param {boolean} rowIndex - Specifies the row index.\n     * @param {boolean} colIndex - Specifies the column index.\n     * @returns {void}\n     */\n    Clipboard.prototype.paste = function (data, rowIndex, colIndex) {\n        var grid = this.parent;\n        var cIdx = colIndex;\n        var rIdx = rowIndex;\n        var col;\n        var value;\n        var isAvail;\n        if (!grid.editSettings.allowEditing || grid.editSettings.mode !== 'Batch' ||\n            grid.selectionSettings.mode !== 'Cell' || grid.selectionSettings.cellSelectionMode === 'Flow') {\n            return;\n        }\n        var rows = data.split('\\n');\n        var cols;\n        var dataRows = grid.getDataRows();\n        var mRows;\n        var frRows;\n        var isFrozen = this.parent.isFrozenGrid();\n        if (isFrozen) {\n            mRows = grid.getMovableDataRows();\n            if (grid.getFrozenRightColumnsCount()) {\n                frRows = grid.getFrozenRightDataRows();\n            }\n        }\n        for (var r = 0; r < rows.length; r++) {\n            cols = rows[r].split('\\t');\n            cIdx = colIndex;\n            if ((r === rows.length - 1 && rows[r] === '') || isUndefined(grid.getRowByIndex(rIdx))) {\n                cIdx++;\n                break;\n            }\n            for (var c = 0; c < cols.length; c++) {\n                isAvail = grid.getCellFromIndex(rIdx, cIdx);\n                if (isFrozen) {\n                    var fTr = dataRows[rIdx];\n                    var mTr = mRows[rIdx];\n                    isAvail = !fTr.querySelector('[aria-colindex=\"' + cIdx + '\"]') ?\n                        mTr.querySelector('[aria-colindex=\"' + cIdx + '\"]') : true;\n                    if (frRows && !isAvail) {\n                        var frTr = frRows[rIdx];\n                        isAvail = frTr.querySelector('[aria-colindex=\"' + cIdx + '\"]');\n                    }\n                }\n                if (!isAvail) {\n                    cIdx++;\n                    break;\n                }\n                col = grid.getColumnByIndex(cIdx);\n                value = col.getParser() ? col.getParser()(cols[c]) : cols[c];\n                if (col.allowEditing && !col.isPrimaryKey && !col.template) {\n                    var args = {\n                        column: col,\n                        data: value,\n                        rowIndex: rIdx\n                    };\n                    this.parent.trigger(events.beforePaste, args);\n                    rIdx = args.rowIndex;\n                    if (!args.cancel) {\n                        if (grid.editModule) {\n                            if (col.type === 'number') {\n                                this.parent.editModule.updateCell(rIdx, col.field, parseFloat(args.data));\n                            }\n                            else {\n                                grid.editModule.updateCell(rIdx, col.field, args.data);\n                            }\n                        }\n                    }\n                }\n                cIdx++;\n            }\n            rIdx++;\n        }\n        grid.selectionModule.selectCellsByRange({ rowIndex: rowIndex, cellIndex: colIndex }, { rowIndex: rIdx - 1, cellIndex: cIdx - 1 });\n        var cell = this.parent.getCellFromIndex(rIdx - 1, cIdx - 1);\n        if (cell) {\n            classList(cell, ['e-focus', 'e-focused'], []);\n        }\n    };\n    Clipboard.prototype.initialEnd = function () {\n        this.parent.off(events.contentReady, this.initialEnd);\n        this.clipBoardTextArea = this.parent.createElement('textarea', {\n            className: 'e-clipboard',\n            styles: 'opacity: 0',\n            attrs: { tabindex: '-1', 'aria-label': 'clipboard' }\n        });\n        this.parent.element.appendChild(this.clipBoardTextArea);\n    };\n    Clipboard.prototype.keyDownHandler = function (e) {\n        if (e.action === 'ctrlPlusC') {\n            this.copy();\n        }\n        else if (e.action === 'ctrlShiftPlusH') {\n            this.copy(true);\n        }\n    };\n    Clipboard.prototype.setCopyData = function (withHeader) {\n        if (window.getSelection().toString() === '') {\n            var isFrozen = this.parent.isFrozenGrid();\n            this.clipBoardTextArea.value = this.copyContent = '';\n            var mRows = void 0;\n            var frRows = void 0;\n            var rows = this.parent.getRows();\n            if (isFrozen) {\n                mRows = this.parent.getMovableDataRows();\n                if (this.parent.getFrozenMode() === literals.leftRight) {\n                    frRows = this.parent.getFrozenRightRows();\n                }\n            }\n            if (this.parent.selectionSettings.mode !== 'Cell') {\n                var selectedIndexes = this.parent.getSelectedRowIndexes().sort(function (a, b) { return a - b; });\n                if (withHeader) {\n                    var headerTextArray = [];\n                    for (var i = 0; i < this.parent.getVisibleColumns().length; i++) {\n                        headerTextArray[i] = this.parent.getVisibleColumns()[i].headerText;\n                    }\n                    this.getCopyData(headerTextArray, false, '\\t', withHeader);\n                    this.copyContent += '\\n';\n                }\n                for (var i = 0; i < selectedIndexes.length; i++) {\n                    if (i > 0) {\n                        this.copyContent += '\\n';\n                    }\n                    var cells = [].slice.call(rows[selectedIndexes[i]].\n                        querySelectorAll('.e-rowcell:not(.e-hide)'));\n                    if (isFrozen) {\n                        cells.push.apply(cells, [].slice.call(mRows[selectedIndexes[i]].querySelectorAll('.e-rowcell:not(.e-hide)')));\n                        if (frRows) {\n                            cells.push.apply(cells, [].slice.call(frRows[selectedIndexes[i]].querySelectorAll('.e-rowcell:not(.e-hide)')));\n                        }\n                    }\n                    this.getCopyData(cells, false, '\\t', withHeader);\n                }\n            }\n            else {\n                var obj = this.checkBoxSelection();\n                if (obj.status) {\n                    if (withHeader) {\n                        var headers = [];\n                        for (var i = 0; i < obj.colIndexes.length; i++) {\n                            headers.push(this.parent.getColumnHeaderByIndex(obj.colIndexes[i]));\n                        }\n                        this.getCopyData(headers, false, '\\t', withHeader);\n                        this.copyContent += '\\n';\n                    }\n                    for (var i = 0; i < obj.rowIndexes.length; i++) {\n                        if (i > 0) {\n                            this.copyContent += '\\n';\n                        }\n                        var cells = [].slice.call(rows[obj.rowIndexes[i]].\n                            getElementsByClassName('e-cellselectionbackground'));\n                        if (isFrozen) {\n                            cells.push.apply(cells, [].slice.call(mRows[obj.rowIndexes[i]]\n                                .getElementsByClassName('e-cellselectionbackground')));\n                            if (frRows) {\n                                cells.push.apply(cells, [].slice.call(frRows[obj.rowIndexes[i]]\n                                    .getElementsByClassName('e-cellselectionbackground')));\n                            }\n                        }\n                        this.getCopyData(cells, false, '\\t', withHeader);\n                    }\n                }\n                else {\n                    this.getCopyData([].slice.call(this.parent.element.getElementsByClassName('e-cellselectionbackground')), true, '\\n', withHeader);\n                }\n            }\n            var args = {\n                data: this.copyContent,\n                cancel: false\n            };\n            this.parent.trigger(events.beforeCopy, args);\n            if (args.cancel) {\n                return;\n            }\n            this.clipBoardTextArea.value = this.copyContent = args.data;\n            if (!Browser.userAgent.match(/ipad|ipod|iphone/i)) {\n                this.clipBoardTextArea.select();\n            }\n            else {\n                this.clipBoardTextArea.setSelectionRange(0, this.clipBoardTextArea.value.length);\n            }\n            this.isSelect = true;\n        }\n    };\n    Clipboard.prototype.getCopyData = function (cells, isCell, splitKey, withHeader) {\n        var isElement = typeof cells[0] !== 'string';\n        for (var j = 0; j < cells.length; j++) {\n            if (withHeader && isCell) {\n                var colIdx = parseInt(cells[j].getAttribute(literals.ariaColIndex), 10);\n                this.copyContent += this.parent.getColumns()[colIdx].headerText + '\\n';\n            }\n            if (isElement) {\n                if (!cells[j].classList.contains('e-hide')) {\n                    this.copyContent += cells[j].innerText;\n                }\n            }\n            else {\n                this.copyContent += cells[j];\n            }\n            if (j < cells.length - 1) {\n                this.copyContent += splitKey;\n            }\n        }\n    };\n    /**\n     * Copy selected rows or cells data into clipboard.\n     *\n     * @returns {void}\n     * @param {boolean} withHeader - Specifies whether the column header data need to be copied or not.\n     */\n    Clipboard.prototype.copy = function (withHeader) {\n        if (document.queryCommandSupported('copy')) {\n            this.setCopyData(withHeader);\n            document.execCommand('copy');\n            this.clipBoardTextArea.blur();\n        }\n        if (this.isSelect) {\n            window.getSelection().removeAllRanges();\n            this.isSelect = false;\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Clipboard.prototype.getModuleName = function () {\n        return 'clipboard';\n    };\n    /**\n     * To destroy the clipboard\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Clipboard.prototype.destroy = function () {\n        this.removeEventListener();\n        if (this.clipBoardTextArea) {\n            remove(this.clipBoardTextArea);\n        }\n    };\n    Clipboard.prototype.checkBoxSelection = function () {\n        var gridObj = this.parent;\n        var obj = { status: false };\n        if (gridObj.selectionSettings.mode === 'Cell') {\n            var rowCellIndxes = gridObj.getSelectedRowCellIndexes();\n            var str = void 0;\n            var rowIndexes = [];\n            var i = void 0;\n            for (i = 0; i < rowCellIndxes.length; i++) {\n                if (rowCellIndxes[i].cellIndexes.length) {\n                    rowIndexes.push(rowCellIndxes[i].rowIndex);\n                }\n                if (rowCellIndxes[i].cellIndexes.length) {\n                    if (!str) {\n                        str = JSON.stringify(rowCellIndxes[i].cellIndexes.sort());\n                    }\n                    if (str !== JSON.stringify(rowCellIndxes[i].cellIndexes.sort())) {\n                        break;\n                    }\n                }\n            }\n            rowIndexes.sort(function (a, b) { return a - b; });\n            if (i === rowCellIndxes.length && rowIndexes[rowIndexes.length - 1] - rowIndexes[0] === rowIndexes.length - 1) {\n                obj = { status: true, rowIndexes: rowIndexes, colIndexes: rowCellIndxes[0].cellIndexes };\n            }\n        }\n        return obj;\n    };\n    return Clipboard;\n}());\nexport { Clipboard };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { isNullOrUndefined, setValue, getValue } from '@syncfusion/ej2-base';\nimport { Component, ChildProperty, Browser, closest, extend } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, append, remove, classList, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { Property, Collection, Complex, Event, NotifyPropertyChanges, L10n } from '@syncfusion/ej2-base';\nimport { EventHandler, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { DataManager, DataUtil, UrlAdaptor } from '@syncfusion/ej2-data';\nimport { createSpinner, hideSpinner, showSpinner, Tooltip } from '@syncfusion/ej2-popups';\nimport { iterateArrayOrObject, prepareColumns, parentsUntil, wrap, templateCompiler, isGroupAdaptive, refreshForeignData } from './util';\nimport { getRowHeight, setColumnIndex, Global, ispercentageWidth, renderMovable, getNumberFormat } from './util';\nimport { setRowElements, resetRowIndex, compareChanges, getCellByColAndRowIndex, performComplexDataOperation } from './util';\nimport * as events from '../base/constant';\nimport { Render } from '../renderer/render';\nimport { RenderType } from './enum';\nimport { RowRenderer } from '../renderer/row-renderer';\nimport { CellRenderer } from '../renderer/cell-renderer';\nimport { CellRendererFactory } from '../services/cell-render-factory';\nimport { ServiceLocator } from '../services/service-locator';\nimport { ValueFormatter } from '../services/value-formatter';\nimport { RendererFactory } from '../services/renderer-factory';\nimport { ColumnWidthService } from '../services/width-controller';\nimport { AriaService } from '../services/aria-service';\nimport { FocusStrategy } from '../services/focus-strategy';\nimport { PageSettings } from '../models/page-settings';\nimport { ColumnChooserSettings } from '../models/column-chooser-settings';\nimport { Selection } from '../actions/selection';\nimport { Search } from '../actions/search';\nimport { ShowHide } from '../actions/show-hide';\nimport { Scroll } from '../actions/scroll';\nimport { Print } from '../actions/print';\nimport { AggregateRow } from '../models/aggregate';\nimport { Clipboard } from '../actions/clipboard';\nimport { RowModelGenerator } from '../services/row-model-generator';\nimport * as literals from '../base/string-literals';\nimport { HeaderCellRenderer } from '../renderer/header-cell-renderer';\n/**\n * Represents the field name and direction of sort column.\n */\nvar SortDescriptor = /** @class */ (function (_super) {\n    __extends(SortDescriptor, _super);\n    function SortDescriptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], SortDescriptor.prototype, \"field\", void 0);\n    __decorate([\n        Property()\n    ], SortDescriptor.prototype, \"direction\", void 0);\n    __decorate([\n        Property(false)\n    ], SortDescriptor.prototype, \"isFromGroup\", void 0);\n    return SortDescriptor;\n}(ChildProperty));\nexport { SortDescriptor };\n/**\n * Configures the sorting behavior of Grid.\n */\nvar SortSettings = /** @class */ (function (_super) {\n    __extends(SortSettings, _super);\n    function SortSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], SortDescriptor)\n    ], SortSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property(true)\n    ], SortSettings.prototype, \"allowUnsort\", void 0);\n    return SortSettings;\n}(ChildProperty));\nexport { SortSettings };\n/**\n * Represents the predicate for the filter column.\n */\nvar Predicate = /** @class */ (function (_super) {\n    __extends(Predicate, _super);\n    function Predicate() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], Predicate.prototype, \"field\", void 0);\n    __decorate([\n        Property()\n    ], Predicate.prototype, \"operator\", void 0);\n    __decorate([\n        Property()\n    ], Predicate.prototype, \"value\", void 0);\n    __decorate([\n        Property()\n    ], Predicate.prototype, \"matchCase\", void 0);\n    __decorate([\n        Property(false)\n    ], Predicate.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property()\n    ], Predicate.prototype, \"predicate\", void 0);\n    __decorate([\n        Property({})\n    ], Predicate.prototype, \"actualFilterValue\", void 0);\n    __decorate([\n        Property({})\n    ], Predicate.prototype, \"actualOperator\", void 0);\n    __decorate([\n        Property()\n    ], Predicate.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], Predicate.prototype, \"ejpredicate\", void 0);\n    __decorate([\n        Property()\n    ], Predicate.prototype, \"uid\", void 0);\n    __decorate([\n        Property()\n    ], Predicate.prototype, \"isForeignKey\", void 0);\n    return Predicate;\n}(ChildProperty));\nexport { Predicate };\n/**\n * Configures the infinite scroll behavior of Grid.\n */\nvar InfiniteScrollSettings = /** @class */ (function (_super) {\n    __extends(InfiniteScrollSettings, _super);\n    function InfiniteScrollSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], InfiniteScrollSettings.prototype, \"enableCache\", void 0);\n    __decorate([\n        Property(3)\n    ], InfiniteScrollSettings.prototype, \"maxBlocks\", void 0);\n    __decorate([\n        Property(3)\n    ], InfiniteScrollSettings.prototype, \"initialBlocks\", void 0);\n    return InfiniteScrollSettings;\n}(ChildProperty));\nexport { InfiniteScrollSettings };\n/**\n * Configures the filtering behavior of the Grid.\n */\nvar FilterSettings = /** @class */ (function (_super) {\n    __extends(FilterSettings, _super);\n    function FilterSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], Predicate)\n    ], FilterSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property('FilterBar')\n    ], FilterSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], FilterSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property(true)\n    ], FilterSettings.prototype, \"showFilterBarStatus\", void 0);\n    __decorate([\n        Property(1500)\n    ], FilterSettings.prototype, \"immediateModeDelay\", void 0);\n    __decorate([\n        Property()\n    ], FilterSettings.prototype, \"operators\", void 0);\n    __decorate([\n        Property(false)\n    ], FilterSettings.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property(false)\n    ], FilterSettings.prototype, \"enableCaseSensitivity\", void 0);\n    __decorate([\n        Property(false)\n    ], FilterSettings.prototype, \"showFilterBarOperator\", void 0);\n    return FilterSettings;\n}(ChildProperty));\nexport { FilterSettings };\n/**\n * Configures the selection behavior of the Grid.\n */\nvar SelectionSettings = /** @class */ (function (_super) {\n    __extends(SelectionSettings, _super);\n    function SelectionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Row')\n    ], SelectionSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property('Flow')\n    ], SelectionSettings.prototype, \"cellSelectionMode\", void 0);\n    __decorate([\n        Property('Single')\n    ], SelectionSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"checkboxOnly\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"persistSelection\", void 0);\n    __decorate([\n        Property('Default')\n    ], SelectionSettings.prototype, \"checkboxMode\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"enableSimpleMultiRowSelection\", void 0);\n    __decorate([\n        Property(true)\n    ], SelectionSettings.prototype, \"enableToggle\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"allowColumnSelection\", void 0);\n    return SelectionSettings;\n}(ChildProperty));\nexport { SelectionSettings };\n/**\n * Configures the search behavior of the Grid.\n */\nvar SearchSettings = /** @class */ (function (_super) {\n    __extends(SearchSettings, _super);\n    function SearchSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property([])\n    ], SearchSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property('')\n    ], SearchSettings.prototype, \"key\", void 0);\n    __decorate([\n        Property('contains')\n    ], SearchSettings.prototype, \"operator\", void 0);\n    __decorate([\n        Property(true)\n    ], SearchSettings.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(false)\n    ], SearchSettings.prototype, \"ignoreAccent\", void 0);\n    return SearchSettings;\n}(ChildProperty));\nexport { SearchSettings };\n/**\n * Configures the row drop settings of the Grid.\n */\nvar RowDropSettings = /** @class */ (function (_super) {\n    __extends(RowDropSettings, _super);\n    function RowDropSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], RowDropSettings.prototype, \"targetID\", void 0);\n    return RowDropSettings;\n}(ChildProperty));\nexport { RowDropSettings };\n/**\n * Configures the text wrap settings of the Grid.\n */\nvar TextWrapSettings = /** @class */ (function (_super) {\n    __extends(TextWrapSettings, _super);\n    function TextWrapSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Both')\n    ], TextWrapSettings.prototype, \"wrapMode\", void 0);\n    return TextWrapSettings;\n}(ChildProperty));\nexport { TextWrapSettings };\n/**\n * Configures the resize behavior of the Grid.\n */\nvar ResizeSettings = /** @class */ (function (_super) {\n    __extends(ResizeSettings, _super);\n    function ResizeSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Normal')\n    ], ResizeSettings.prototype, \"mode\", void 0);\n    return ResizeSettings;\n}(ChildProperty));\nexport { ResizeSettings };\n/**\n * Configures the group behavior of the Grid.\n */\nvar GroupSettings = /** @class */ (function (_super) {\n    __extends(GroupSettings, _super);\n    function GroupSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], GroupSettings.prototype, \"showDropArea\", void 0);\n    __decorate([\n        Property(false)\n    ], GroupSettings.prototype, \"allowReordering\", void 0);\n    __decorate([\n        Property(false)\n    ], GroupSettings.prototype, \"showToggleButton\", void 0);\n    __decorate([\n        Property(false)\n    ], GroupSettings.prototype, \"showGroupedColumn\", void 0);\n    __decorate([\n        Property(true)\n    ], GroupSettings.prototype, \"showUngroupButton\", void 0);\n    __decorate([\n        Property(false)\n    ], GroupSettings.prototype, \"disablePageWiseAggregates\", void 0);\n    __decorate([\n        Property([])\n    ], GroupSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property()\n    ], GroupSettings.prototype, \"captionTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], GroupSettings.prototype, \"enableLazyLoading\", void 0);\n    return GroupSettings;\n}(ChildProperty));\nexport { GroupSettings };\n/**\n * Configures the edit behavior of the Grid.\n */\nvar EditSettings = /** @class */ (function (_super) {\n    __extends(EditSettings, _super);\n    function EditSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowAdding\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowDeleting\", void 0);\n    __decorate([\n        Property('Normal')\n    ], EditSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property(true)\n    ], EditSettings.prototype, \"allowEditOnDblClick\", void 0);\n    __decorate([\n        Property(true)\n    ], EditSettings.prototype, \"showConfirmDialog\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"showDeleteConfirmDialog\", void 0);\n    __decorate([\n        Property('')\n    ], EditSettings.prototype, \"template\", void 0);\n    __decorate([\n        Property('')\n    ], EditSettings.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property('')\n    ], EditSettings.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property('Top')\n    ], EditSettings.prototype, \"newRowPosition\", void 0);\n    __decorate([\n        Property({})\n    ], EditSettings.prototype, \"dialog\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowNextRowEdit\", void 0);\n    return EditSettings;\n}(ChildProperty));\nexport { EditSettings };\n/**\n * Represents the Grid component.\n * ```html\n * <div id=\"grid\"></div>\n * <script>\n *  var gridObj = new Grid({ allowPaging: true });\n *  gridObj.appendTo(\"#grid\");\n * </script>\n * ```\n */\nvar Grid = /** @class */ (function (_super) {\n    __extends(Grid, _super);\n    /**\n     * Constructor for creating the component\n     *\n     * @param {GridModel} options - specifies the options\n     * @param {string | HTMLElement} element - specifies the element\n     * @hidden\n     */\n    function Grid(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isPreventScrollEvent = false;\n        _this.inViewIndexes = [];\n        _this.keyA = false;\n        _this.frozenRightCount = 0;\n        _this.frozenLeftCount = 0;\n        _this.tablesCount = 1;\n        _this.movableCount = 0;\n        _this.visibleFrozenLeft = 0;\n        _this.visibleFrozenRight = 0;\n        _this.visibleMovable = 0;\n        _this.frozenLeftColumns = [];\n        _this.frozenRightColumns = [];\n        _this.movableColumns = [];\n        _this.media = {};\n        _this.isFreezeRefresh = false;\n        /** @hidden */\n        _this.tableIndex = 0;\n        _this.componentRefresh = Component.prototype.refresh;\n        /** @hidden */\n        _this.isVirtualAdaptive = false;\n        /** @hidden */\n        _this.vRows = [];\n        /** @hidden */\n        _this.vcRows = [];\n        /** @hidden */\n        _this.vGroupOffsets = {};\n        /** @hidden */\n        _this.rowUid = 0;\n        /**\n         * Gets the currently visible records of the Grid.\n         */\n        _this.currentViewData = [];\n        /** @hidden */\n        _this.isManualRefresh = false;\n        /** @hidden */\n        _this.isAutoFitColumns = false;\n        /** @hidden */\n        _this.enableDeepCompare = false;\n        /** @hidden */\n        _this.lockcolPositionCount = 0;\n        /** @hidden */\n        _this.prevPageMoving = false;\n        /** @hidden */\n        _this.pageTemplateChange = false;\n        /** @hidden */\n        _this.isAutoGen = false;\n        _this.mediaBindInstance = {};\n        /** @hidden */\n        _this.commandDelIndex = undefined;\n        /** @hidden */\n        _this.asyncTimeOut = 50;\n        /** @hidden */\n        _this.isExportGrid = false;\n        // enable/disable logger for MVC & Core\n        _this.enableLogger = true;\n        _this.needsID = true;\n        Grid_1.Inject(Selection);\n        setValue('mergePersistData', _this.mergePersistGridData, _this);\n        return _this;\n    }\n    Grid_1 = Grid;\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} returns the persist data\n     */\n    Grid.prototype.getPersistData = function () {\n        var keyEntity = ['pageSettings', 'sortSettings',\n            'filterSettings', 'groupSettings', 'columns', 'searchSettings', 'selectedRowIndex', 'scrollPosition'];\n        var ignoreOnPersist = {\n            pageSettings: ['template', 'pageSizes', 'enableQueryString', 'totalRecordsCount', 'pageCount'],\n            filterSettings: ['type', 'mode', 'showFilterBarStatus', 'immediateModeDelay', 'ignoreAccent'],\n            groupSettings: ['showDropArea', 'showToggleButton', 'showGroupedColumn', 'showUngroupButton',\n                'disablePageWiseAggregates', 'hideCaptionCount'],\n            searchSettings: ['fields', 'operator', 'ignoreCase'],\n            sortSettings: [], columns: [], selectedRowIndex: [], scrollPosition: []\n        };\n        for (var i = 0; i < keyEntity.length; i++) {\n            var currentObject = this[keyEntity[i]];\n            for (var _i = 0, _a = ignoreOnPersist[keyEntity[i]]; _i < _a.length; _i++) {\n                var val = _a[_i];\n                delete currentObject[val];\n            }\n        }\n        var temp = this.pageSettings.template;\n        var settings = Object.assign({ template: undefined }, this.pageSettings);\n        this.setProperties({ pageSettings: settings }, true);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isAngular) {\n            delete this.groupSettings['properties']['captionTemplate'];\n        }\n        this.pageTemplateChange = !isNullOrUndefined(this.pagerTemplate);\n        var persistData = this.addOnPersist(keyEntity);\n        settings.template = temp;\n        this.setProperties({ pageSettings: settings }, true);\n        return persistData;\n    };\n    /**\n     * To provide the array of modules needed for component rendering\n     *\n     * @returns {ModuleDeclaration[]} Returns the module Declaration\n     * @hidden\n     */\n    Grid.prototype.requiredModules = function () {\n        this.setFrozenCount();\n        this.enableInfiniteAggrgate();\n        var modules = [];\n        if (this.isDestroyed) {\n            return modules;\n        }\n        if (this.allowFiltering) {\n            modules.push({\n                member: 'filter',\n                args: [this, this.filterSettings, this.serviceLocator]\n            });\n        }\n        if (this.allowExcelExport) {\n            modules.push({\n                member: 'ExcelExport',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.allowPdfExport) {\n            modules.push({\n                member: 'PdfExport',\n                args: [this]\n            });\n        }\n        if (this.allowSorting) {\n            modules.push({\n                member: 'sort',\n                args: [this, this.sortSettings, this.sortedColumns, this.serviceLocator]\n            });\n        }\n        if (this.allowPaging) {\n            modules.push({\n                member: 'pager',\n                args: [this, this.pageSettings]\n            });\n        }\n        if (this.allowSelection) {\n            modules.push({\n                member: 'selection',\n                args: [this, this.selectionSettings, this.serviceLocator]\n            });\n        }\n        modules.push({\n            member: 'resize',\n            args: [this]\n        });\n        if (this.allowReordering) {\n            modules.push({\n                member: 'reorder',\n                args: [this]\n            });\n        }\n        if (this.allowRowDragAndDrop) {\n            modules.push({\n                member: 'rowDragAndDrop',\n                args: [this]\n            });\n        }\n        if (this.allowGrouping) {\n            modules.push({\n                member: 'group',\n                args: [this, this.groupSettings, this.sortedColumns, this.serviceLocator]\n            });\n        }\n        if (this.aggregates.length) {\n            modules.push({ member: 'aggregate', args: [this, this.serviceLocator] });\n        }\n        if (this.isDetail()) {\n            modules.push({\n                member: 'detailRow',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.toolbar || this.toolbarTemplate) {\n            modules.push({\n                member: 'toolbar',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.enableVirtualization || this.enableColumnVirtualization) {\n            modules.push({\n                member: 'virtualscroll',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.getFrozenColumns() || this.frozenRows || this.frozenRightCount || this.frozenLeftCount) {\n            modules.push({ member: 'freeze', args: [this, this.serviceLocator] });\n        }\n        if (this.isCommandColumn(this.columns)) {\n            modules.push({\n                member: 'commandColumn',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.editSettings.allowAdding || this.editSettings.allowDeleting || this.editSettings.allowEditing) {\n            modules.push({\n                member: 'edit',\n                args: [this, this.serviceLocator]\n            });\n        }\n        this.extendRequiredModules(modules);\n        return modules;\n    };\n    Grid.prototype.extendRequiredModules = function (modules) {\n        if (this.enableInfiniteScrolling) {\n            modules.push({\n                member: 'infiniteScroll',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.groupSettings.enableLazyLoading) {\n            modules.push({\n                member: 'lazyLoadGroup',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.contextMenuItems) {\n            modules.push({\n                member: 'contextMenu',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.showColumnMenu) {\n            modules.push({\n                member: 'columnMenu',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.showColumnChooser) {\n            modules.push({\n                member: 'columnChooser',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.isForeignKeyEnabled(this.columns)) {\n            modules.push({ member: 'foreignKey', args: [this, this.serviceLocator] });\n        }\n        if (this.enableLogger) {\n            modules.push({ member: 'logger', args: [this] });\n        }\n    };\n    /**\n     * For internal use only - Initialize the event handler;\n     *\n     * @returns {void}\n     * @private\n     */\n    Grid.prototype.preRender = function () {\n        this.serviceLocator = new ServiceLocator;\n        this.initProperties();\n        this.initializeServices();\n    };\n    Grid.prototype.initProperties = function () {\n        this.isInitial = true;\n        this.sortedColumns = [];\n        this.inViewIndexes = [];\n        this.mediaCol = [];\n        this.isInitialLoad = false;\n        this.allowServerDataBinding = false;\n        this.ignoreCollectionWatch = true;\n        this.mergeCells = {};\n        this.isEdit = false;\n        this.checkAllRows = 'None';\n        this.isCheckBoxSelection = false;\n        this.isPersistSelection = false;\n        this.componentRefresh = Component.prototype.refresh;\n        this.filterOperators = {\n            contains: 'contains', endsWith: 'endswith', equal: 'equal', greaterThan: 'greaterthan', greaterThanOrEqual: 'greaterthanorequal',\n            lessThan: 'lessthan', lessThanOrEqual: 'lessthanorequal', notEqual: 'notequal', startsWith: 'startswith'\n        };\n        this.defaultLocale = {\n            EmptyRecord: 'No records to display',\n            True: 'true',\n            False: 'false',\n            InvalidFilterMessage: 'Invalid Filter Data',\n            GroupDropArea: 'Drag a column header here to group its column',\n            UnGroup: 'Click here to ungroup',\n            UnGroupButton: 'Click here to ungroup',\n            GroupDisable: 'Grouping is disabled for this column',\n            FilterbarTitle: '\\'s filter bar cell',\n            EmptyDataSourceError: 'DataSource must not be empty at initial load since columns are generated from dataSource in AutoGenerate Column Grid',\n            // Toolbar Items\n            Add: 'Add',\n            Edit: 'Edit',\n            Cancel: 'Cancel',\n            Update: 'Update',\n            Delete: 'Delete',\n            Print: 'Print',\n            Pdfexport: 'PDF Export',\n            Excelexport: 'Excel Export',\n            Wordexport: 'Word Export',\n            Csvexport: 'CSV Export',\n            Search: 'Search',\n            Columnchooser: 'Columns',\n            Save: 'Save',\n            Item: 'item',\n            Items: 'items',\n            EditOperationAlert: 'No records selected for edit operation',\n            DeleteOperationAlert: 'No records selected for delete operation',\n            SaveButton: 'Save',\n            OKButton: 'OK',\n            CancelButton: 'Cancel',\n            EditFormTitle: 'Details of ',\n            AddFormTitle: 'Add New Record',\n            BatchSaveConfirm: 'Are you sure you want to save changes?',\n            BatchSaveLostChanges: 'Unsaved changes will be lost. Are you sure you want to continue?',\n            ConfirmDelete: 'Are you sure you want to Delete Record?',\n            CancelEdit: 'Are you sure you want to Cancel the changes?',\n            ChooseColumns: 'Choose Column',\n            SearchColumns: 'search columns',\n            Matchs: 'No matches found',\n            FilterButton: 'Filter',\n            ClearButton: 'Clear',\n            StartsWith: 'Starts With',\n            EndsWith: 'Ends With',\n            Contains: 'Contains',\n            Equal: 'Equal',\n            NotEqual: 'Not Equal',\n            LessThan: 'Less Than',\n            LessThanOrEqual: 'Less Than Or Equal',\n            GreaterThan: 'Greater Than',\n            GreaterThanOrEqual: 'Greater Than Or Equal',\n            ChooseDate: 'Choose a Date',\n            EnterValue: 'Enter the value',\n            Copy: 'Copy',\n            Group: 'Group by this column',\n            Ungroup: 'Ungroup by this column',\n            autoFitAll: 'Autofit all columns',\n            autoFit: 'Autofit this column',\n            AutoFitAll: 'Autofit all columns',\n            AutoFit: 'Autofit this column',\n            Export: 'Export',\n            FirstPage: 'First Page',\n            LastPage: 'Last Page',\n            PreviousPage: 'Previous Page',\n            NextPage: 'Next Page',\n            SortAscending: 'Sort Ascending',\n            SortDescending: 'Sort Descending',\n            EditRecord: 'Edit Record',\n            DeleteRecord: 'Delete Record',\n            FilterMenu: 'Filter',\n            SelectAll: 'Select All',\n            Blanks: 'Blanks',\n            FilterTrue: 'True',\n            FilterFalse: 'False',\n            NoResult: 'No matches found',\n            ClearFilter: 'Clear Filter',\n            Clear: 'Clear',\n            NumberFilter: 'Number Filters',\n            TextFilter: 'Text Filters',\n            DateFilter: 'Date Filters',\n            DateTimeFilter: 'DateTime Filters',\n            MatchCase: 'Match Case',\n            Between: 'Between',\n            CustomFilter: 'Custom Filter',\n            CustomFilterPlaceHolder: 'Enter the value',\n            CustomFilterDatePlaceHolder: 'Choose a date',\n            AND: 'AND',\n            OR: 'OR',\n            ShowRowsWhere: 'Show rows where:',\n            FilterMenuDialogARIA: 'Filter menu dialog',\n            ExcelFilterDialogARIA: 'Excel filter dialog',\n            DialogEditARIA: 'Edit dialog',\n            ColumnChooserDialogARIA: 'Column chooser dialog',\n            ColumnMenuDialogARIA: 'Column menu dialog',\n            CustomFilterDialogARIA: 'Customer filter dialog',\n            SortAtoZ: 'Sort A to Z',\n            SortZtoA: 'Sort Z to A',\n            SortByOldest: 'Sort by Oldest',\n            SortByNewest: 'Sort by Newest',\n            SortSmallestToLargest: 'Sort Smallest to Largest',\n            SortLargestToSmallest: 'Sort Largest to Smallest',\n            Sort: 'Sort'\n        };\n        this.keyConfigs = {\n            downArrow: 'downarrow',\n            upArrow: 'uparrow',\n            rightArrow: 'rightarrow',\n            leftArrow: 'leftarrow',\n            shiftDown: 'shift+downarrow',\n            shiftUp: 'shift+uparrow',\n            shiftRight: 'shift+rightarrow',\n            shiftLeft: 'shift+leftarrow',\n            home: 'home',\n            end: 'end',\n            escape: 'escape',\n            ctrlHome: 'ctrl+home',\n            ctrlEnd: 'ctrl+end',\n            pageUp: 'pageup',\n            pageDown: 'pagedown',\n            ctrlAltPageUp: 'ctrl+alt+pageup',\n            ctrlAltPageDown: 'ctrl+alt+pagedown',\n            altPageUp: 'alt+pageup',\n            altPageDown: 'alt+pagedown',\n            altDownArrow: 'alt+downarrow',\n            altUpArrow: 'alt+uparrow',\n            ctrlDownArrow: 'ctrl+downarrow',\n            ctrlUpArrow: 'ctrl+uparrow',\n            ctrlPlusA: 'ctrl+A',\n            ctrlPlusP: 'ctrl+P',\n            insert: 'insert',\n            delete: 'delete',\n            f2: 'f2',\n            enter: 'enter',\n            ctrlEnter: 'ctrl+enter',\n            shiftEnter: 'shift+enter',\n            tab: 'tab',\n            shiftTab: 'shift+tab',\n            space: 'space',\n            ctrlPlusC: 'ctrl+C',\n            ctrlShiftPlusH: 'ctrl+shift+H',\n            ctrlSpace: 'ctrl+space',\n            ctrlLeftArrow: 'ctrl+leftarrow',\n            ctrlRightArrow: 'ctrl+rightarrow'\n        };\n    };\n    /**\n     * For internal use only - To Initialize the component rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    Grid.prototype.render = function () {\n        this.log(['module_missing', 'promise_enabled', 'locale_missing', 'check_datasource_columns']);\n        this.ariaService.setOptions(this.element, { datarole: 'grid' });\n        createSpinner({ target: this.element }, this.createElement);\n        this.renderModule = new Render(this, this.serviceLocator);\n        this.searchModule = new Search(this);\n        this.scrollModule = new Scroll(this);\n        this.notify(events.initialLoad, {});\n        if (this.getDataModule().dataManager.dataSource.offline === true || this.getDataModule().dataManager.dataSource.url === undefined) {\n            this.isVirtualAdaptive = true;\n        }\n        this.trigger(events.load);\n        prepareColumns(this.columns, this.enableColumnVirtualization, this);\n        if (this.enablePersistence) {\n            this.notify(events.columnsPrepared, {});\n        }\n        this.getMediaColumns();\n        setColumnIndex(this.columns);\n        this.checkLockColumns(this.columns);\n        this.getColumns();\n        this.processModel();\n        this.gridRender();\n        this.wireEvents();\n        this.addListener();\n        this.updateDefaultCursor();\n        this.updateStackedFilter();\n        this.showSpinner();\n        this.notify(events.initialEnd, {});\n        if (this.refreshing) {\n            this.trigger('created');\n        }\n    };\n    /**\n     * By default, grid shows the spinner for all its actions. You can use this method to show spinner at your needed time.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.showSpinner = function () {\n        if (!this.isExportGrid) {\n            showSpinner(this.element);\n        }\n    };\n    /**\n     * By default, grid shows the spinner for all its actions. You can use this method to show spinner at your needed time.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.hideSpinner = function () {\n        if (!this.isExportGrid) {\n            hideSpinner(this.element);\n        }\n    };\n    Grid.prototype.updateStackedFilter = function () {\n        if (this.allowFiltering && this.filterSettings.type === 'FilterBar' &&\n            this.getHeaderContent().getElementsByClassName('e-stackedheadercell').length) {\n            this.getHeaderContent().classList.add('e-stackedfilter');\n        }\n        else {\n            this.getHeaderContent().classList.remove('e-stackedfilter');\n        }\n    };\n    Grid.prototype.getMediaColumns = function () {\n        if (!this.enableColumnVirtualization) {\n            var gcol = this.getColumns();\n            this.getShowHideService = this.serviceLocator.getService('showHideService');\n            if (!isNullOrUndefined(gcol)) {\n                for (var index = 0; index < gcol.length; index++) {\n                    if (!isNullOrUndefined(gcol[index].hideAtMedia) && (isNullOrUndefined(gcol[index].visible) || gcol[index].visible)) {\n                        this.pushMediaColumn(gcol[index], index);\n                    }\n                }\n            }\n        }\n    };\n    Grid.prototype.pushMediaColumn = function (col, index) {\n        this.mediaCol.push(col);\n        this.media[col.uid] = window.matchMedia(col.hideAtMedia);\n        this.mediaQueryUpdate(index, this.media[col.uid]);\n        this.mediaBindInstance[index] = this.mediaQueryUpdate.bind(this, index);\n        this.media[col.uid].addListener(this.mediaBindInstance[index]);\n    };\n    /**\n     * @param {Column} col - specifies the column\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.updateMediaColumns = function (col) {\n        if (!this.enableColumnVirtualization) {\n            var index = this.getColumnIndexByUid(col.uid);\n            for (var i = 0; i < this.mediaCol.length; i++) {\n                if (col.uid === this.mediaCol[i].uid) {\n                    this.mediaCol.splice(i, 1);\n                    return;\n                }\n            }\n            this.pushMediaColumn(col, index);\n        }\n    };\n    /**\n     * @param {number} columnIndex - specifies the column index\n     * @param {MediaQueryList} e - specifies the MediaQueryList\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.mediaQueryUpdate = function (columnIndex, e) {\n        var col = this.getColumns()[columnIndex];\n        if (this.mediaCol.some(function (mediaColumn) { return mediaColumn.uid === col.uid; })) {\n            col.visible = e.matches;\n            if (this.isInitialLoad) {\n                this.invokedFromMedia = true;\n                if (col.visible) {\n                    this.showHider.show(col.headerText, 'headerText');\n                }\n                else {\n                    this.showHider.hide(col.headerText, 'headerText');\n                }\n            }\n        }\n    };\n    Grid.prototype.refreshMediaCol = function () {\n        this.isInitialLoad = true;\n        var footerContent = this.element.querySelector('.' + literals.gridFooter);\n        if (this.aggregates.length && this.element.scrollHeight > this.height && footerContent) {\n            addClass([footerContent], ['e-footerpadding']);\n        }\n        var checkboxColumn = this.getColumns().filter(function (col) { return col.type === 'checkbox'; });\n        if (checkboxColumn.length && this.selectionSettings.checkboxMode === 'ResetOnRowClick') {\n            this.isCheckBoxSelection = false;\n        }\n        if (this.rowRenderingMode === 'Vertical') {\n            if (this.enableHover) {\n                this.setProperties({ enableAdaptiveUI: true, enableHover: false }, true);\n                removeClass([this.element], 'e-gridhover');\n            }\n        }\n        if (this.enableAdaptiveUI && this.scrollModule) {\n            this.scrollModule.refresh();\n        }\n    };\n    Grid.prototype.removeMediaListener = function () {\n        for (var i = 0; i < this.mediaCol.length; i++) {\n            this.media[this.mediaCol[i].uid].removeListener(this.mediaBindInstance[this.mediaCol[i].index]);\n        }\n    };\n    /**\n     * For internal use only - Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    Grid.prototype.eventInitializer = function () {\n        //eventInitializer\n    };\n    /**\n     * Destroys the component (detaches/removes all event handlers, attributes, classes, and empties the component element).\n     *\n     * @function destroy\n     * @returns {void}\n     */\n    Grid.prototype.destroy = function () {\n        var gridElement = this.element;\n        if (!gridElement) {\n            return;\n        }\n        var hasGridChild = gridElement.querySelector('.' + literals.gridHeader) &&\n            gridElement.querySelector('.' + literals.gridContent) ? true : false;\n        if (hasGridChild) {\n            this.unwireEvents();\n        }\n        this.removeListener();\n        this.removeMediaListener();\n        this.notify(events.destroy, {});\n        this.destroyDependentModules();\n        if (this.isReact || this.isVue) {\n            this.destroyTemplate(['template']);\n        }\n        if (hasGridChild) {\n            _super.prototype.destroy.call(this);\n        }\n        this.toolTipObj.destroy();\n        var modules = ['renderModule', 'headerModule', 'contentModule', 'valueFormatterService',\n            'serviceLocator', 'ariaService', 'keyboardModule', 'widthService', 'searchModule', 'showHider',\n            'scrollModule', 'printModule', 'clipboardModule', 'focusModule'];\n        for (var i = 0; i < modules.length; i++) {\n            if (this[modules[i]]) {\n                this[modules[i]] = null;\n            }\n        }\n        this.element.innerHTML = '';\n        classList(this.element, [], ['e-rtl', 'e-gridhover', 'e-responsive', 'e-default', 'e-device', 'e-grid-min-height']);\n        this.isFreezeRefresh = false;\n    };\n    Grid.prototype.destroyDependentModules = function () {\n        var gridElement = this.element;\n        if (!gridElement || (!gridElement.querySelector('.' + literals.gridHeader) && !gridElement.querySelector('.' + literals.gridContent))) {\n            return;\n        }\n        this.scrollModule.destroy();\n        this.keyboardModule.destroy();\n        this.focusModule.destroy();\n        this.clipboardModule.destroy();\n        this.printModule.destroy();\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Grid.prototype.getModuleName = function () {\n        return 'grid';\n    };\n    Grid.prototype.enableBoxSelection = function () {\n        if (this.enableAutoFill) {\n            this.selectionSettings.cellSelectionMode = 'BoxWithBorder';\n            this.element.classList.add('e-afenabled');\n        }\n        else {\n            this.element.classList.remove('e-afenabled');\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {GridModel} newProp - Defines new properties\n     * @param {GridModel} oldProp - Defines old properties\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var requireRefresh = false;\n        var requireGridRefresh = false;\n        var freezeRefresh = false;\n        var checkCursor;\n        var args = { requestType: 'refresh' };\n        if (this.isDestroyed) {\n            return;\n        }\n        this.log('module_missing');\n        if (this.isEllipsisTooltip()) {\n            this.toolTipObj.close();\n        }\n        var properties = Object.keys(newProp);\n        if (properties.indexOf('columns') > -1) {\n            if (this.enableColumnVirtualization) {\n                this.columnModel = [];\n            }\n            this.updateColumnObject();\n            requireGridRefresh = true;\n        }\n        for (var _i = 0, properties_1 = properties; _i < properties_1.length; _i++) {\n            var prop = properties_1[_i];\n            switch (prop) {\n                case 'allowPaging':\n                    this.notify(events.uiUpdate, { module: 'pager', enable: this.allowPaging });\n                    requireRefresh = true;\n                    break;\n                case 'pageSettings':\n                    if (this.pageTemplateChange) {\n                        this.pageTemplateChange = false;\n                        this.notify(events.inBoundModelChanged, { module: 'pager', properties: newProp.pageSettings });\n                        break;\n                    }\n                    this.notify(events.inBoundModelChanged, { module: 'pager', properties: newProp.pageSettings });\n                    if (isNullOrUndefined(newProp.pageSettings.currentPage) && isNullOrUndefined(newProp.pageSettings.pageSize)\n                        && isNullOrUndefined(newProp.pageSettings.totalRecordsCount)\n                        || !isNullOrUndefined(oldProp.pageSettings) &&\n                            ((newProp.pageSettings.currentPage !== oldProp.pageSettings.currentPage)\n                                && !this.enableColumnVirtualization && !this.enableVirtualization\n                                && this.pageSettings.totalRecordsCount <= this.pageSettings.pageSize)) {\n                        requireRefresh = true;\n                    }\n                    break;\n                case 'allowSorting':\n                    this.notify(events.uiUpdate, { module: 'sort', enable: this.allowSorting });\n                    requireRefresh = true;\n                    checkCursor = true;\n                    break;\n                case 'allowFiltering':\n                    this.updateStackedFilter();\n                    this.notify(events.uiUpdate, { module: 'filter', enable: this.allowFiltering });\n                    requireRefresh = true;\n                    if (this.filterSettings.type !== 'FilterBar') {\n                        this.refreshHeader();\n                    }\n                    break;\n                case 'height':\n                case 'width':\n                    this.notify(events.uiUpdate, { module: 'scroll', properties: { width: newProp.width, height: newProp.height } });\n                    break;\n                case 'allowReordering':\n                    this.headerModule.refreshUI();\n                    checkCursor = true;\n                    break;\n                case 'allowRowDragAndDrop':\n                    this.notify(events.uiUpdate, { module: 'rowDragAndDrop', enable: this.allowRowDragAndDrop });\n                    this.renderModule.refresh();\n                    this.headerModule.refreshUI();\n                    break;\n                case 'allowSelection':\n                    this.notify(events.uiUpdate, { module: 'selection', enable: this.allowSelection });\n                    break;\n                case 'enableAutoFill':\n                    if (this.selectionModule) {\n                        this.enableBoxSelection();\n                        this.selectionModule.updateAutoFillPosition();\n                    }\n                    break;\n                case 'rowTemplate':\n                    this.rowTemplateFn = templateCompiler(this.rowTemplate);\n                    requireRefresh = true;\n                    break;\n                case 'detailTemplate':\n                    this.detailTemplateFn = templateCompiler(this.detailTemplate);\n                    requireRefresh = true;\n                    break;\n                case 'allowGrouping':\n                    this.notify(events.uiUpdate, { module: 'group', enable: this.allowGrouping });\n                    this.headerModule.refreshUI();\n                    requireRefresh = true;\n                    checkCursor = true;\n                    break;\n                case 'enableInfiniteScrolling':\n                case 'childGrid':\n                    requireRefresh = true;\n                    break;\n                case 'toolbar':\n                    this.notify(events.uiUpdate, { module: 'toolbar' });\n                    break;\n                case 'groupSettings':\n                    this.notify(events.inBoundModelChanged, {\n                        module: 'group', properties: newProp.groupSettings,\n                        oldProperties: oldProp.groupSettings\n                    });\n                    break;\n                case 'aggregates':\n                    if (!this.aggregates.length && this.allowGrouping && this.groupSettings.columns.length) {\n                        requireRefresh = true;\n                    }\n                    this.notify(events.uiUpdate, { module: 'aggregate', properties: newProp });\n                    break;\n                case 'frozenColumns':\n                case 'frozenRows':\n                case 'enableVirtualization':\n                case 'currencyCode':\n                case 'locale':\n                    this.log('frozen_rows_columns');\n                    freezeRefresh = true;\n                    requireGridRefresh = true;\n                    break;\n                case 'query':\n                    if (!this.getDataModule().isQueryInvokedFromData) {\n                        requireRefresh = true;\n                    }\n                    this.getDataModule().isQueryInvokedFromData = false;\n                    break;\n                default:\n                    this.extendedPropertyChange(prop, newProp, requireGridRefresh);\n            }\n        }\n        if (checkCursor) {\n            this.updateDefaultCursor();\n        }\n        if (requireGridRefresh) {\n            if (freezeRefresh || this.getFrozenColumns() || this.frozenRows) {\n                this.freezeRefresh();\n            }\n            else {\n                this.refresh();\n            }\n        }\n        else if (requireRefresh) {\n            this.notify(events.modelChanged, args);\n            requireRefresh = false;\n            this.maintainSelection(newProp.selectedRowIndex);\n        }\n    };\n    Grid.prototype.extendedPropertyChange = function (prop, newProp, requireGridRefresh) {\n        switch (prop) {\n            case 'enableRtl':\n                this.updateRTL();\n                if (this.allowPaging) {\n                    this.element.querySelector('.e-gridpager').ej2_instances[0].enableRtl = newProp.enableRtl;\n                    this.element.querySelector('.e-gridpager').ej2_instances[0].dataBind();\n                }\n                if (this.height !== 'auto') {\n                    this.scrollModule.removePadding(!newProp.enableRtl);\n                    this.scrollModule.setPadding();\n                }\n                if (this.toolbar && this.toolbarModule) {\n                    this.toolbarModule.getToolbar().ej2_instances[0].enableRtl = newProp.enableRtl;\n                    this.toolbarModule.getToolbar().ej2_instances[0].dataBind();\n                }\n                if (this.contextMenuItems && this.contextMenuModule) {\n                    this.contextMenuModule.getContextMenu().ej2_instances[0].enableRtl = newProp.enableRtl;\n                    this.contextMenuModule.getContextMenu().ej2_instances[0].dataBind();\n                }\n                if (this.showColumnMenu && this.columnMenuModule) {\n                    this.columnMenuModule.getColumnMenu().ej2_instances[0].enableRtl = newProp.enableRtl;\n                    this.columnMenuModule.getColumnMenu().ej2_instances[0].dataBind();\n                }\n                if (this.filterSettings.type === 'FilterBar' && this.filterSettings.showFilterBarOperator) {\n                    this.refreshHeader();\n                }\n                this.notify(events.rtlUpdated, {});\n                break;\n            case 'enableAltRow':\n                this.renderModule.refresh();\n                break;\n            case 'allowResizing':\n                this.headerModule.refreshUI();\n                this.updateResizeLines();\n                break;\n            case 'rowHeight':\n                if (this.rowHeight) {\n                    addClass([this.element], 'e-grid-min-height');\n                }\n                else {\n                    removeClass([this.element], 'e-grid-min-height');\n                }\n                this.renderModule.refresh();\n                this.headerModule.refreshUI();\n                break;\n            case 'gridLines':\n                this.updateGridLines();\n                break;\n            case 'showColumnMenu':\n                this.headerModule.refreshUI();\n                this.notify(events.uiUpdate, { module: 'columnMenu', enable: true });\n                break;\n            case 'columnMenuItems':\n                this.notify(events.uiUpdate, { module: 'columnMenu', enable: this.columnMenuItems });\n                break;\n            case 'contextMenuItems':\n                this.notify(events.uiUpdate, { module: 'contextMenu', enable: this.contextMenuItems });\n                break;\n            case 'showColumnChooser':\n                this.notify(events.uiUpdate, { module: 'columnChooser', enable: this.showColumnChooser });\n                break;\n            case 'filterSettings':\n                this.updateStackedFilter();\n                this.notify(events.inBoundModelChanged, { module: 'filter', properties: newProp.filterSettings });\n                break;\n            case 'searchSettings':\n                this.notify(events.inBoundModelChanged, { module: 'search', properties: newProp.searchSettings });\n                break;\n            case 'sortSettings':\n                this.notify(events.inBoundModelChanged, { module: 'sort' });\n                break;\n            case 'selectionSettings':\n                this.notify(events.inBoundModelChanged, { module: 'selection', properties: newProp.selectionSettings });\n                break;\n            case 'editSettings':\n                this.notify(events.inBoundModelChanged, { module: 'edit', properties: newProp.editSettings });\n                break;\n            case 'allowTextWrap':\n            case 'textWrapSettings':\n                if (this.allowTextWrap) {\n                    this.applyTextWrap();\n                }\n                else {\n                    this.removeTextWrap();\n                }\n                this.notify(events.freezeRender, { case: 'textwrap', isModeChg: (prop === 'textWrapSettings') });\n                break;\n            case 'dataSource':\n                // eslint-disable-next-line no-case-declarations\n                var pending_1 = this.getDataModule().getState();\n                if (Object.getPrototypeOf(newProp).deepWatch) {\n                    var pKeyField = this.getPrimaryKeyFieldNames()[0];\n                    for (var i = 0, props = Object.keys(newProp.dataSource); i < props.length; i++) {\n                        this.setRowData(getValue(pKeyField, this.dataSource[props[i]]), this.dataSource[props[i]]);\n                    }\n                }\n                else if (pending_1.isPending) {\n                    var gResult = !isNullOrUndefined(this.dataSource) ? this.dataSource.result : [];\n                    var names = (pending_1.group || []);\n                    for (var i = 0; i < names.length; i++) {\n                        gResult = DataUtil.group(gResult, names[i], pending_1.aggregates || []);\n                    }\n                    this.dataSource = {\n                        result: gResult, count: this.dataSource.count,\n                        aggregates: this.dataSource.aggregates\n                    };\n                    this.getDataModule().setState({});\n                    pending_1.resolver(this.dataSource);\n                }\n                else {\n                    this.getDataModule().setState({ isDataChanged: false });\n                    this.notify(events.dataSourceModified, {});\n                    if (!requireGridRefresh) {\n                        this.renderModule.refresh();\n                        if (this.isCheckBoxSelection) {\n                            this.notify(events.beforeRefreshOnDataChange, {});\n                        }\n                    }\n                }\n                this.scrollRefresh();\n                break;\n            case 'enableHover':\n                // eslint-disable-next-line no-case-declarations\n                var action = newProp.enableHover ? addClass : removeClass;\n                action([this.element], 'e-gridhover');\n                break;\n            case 'selectedRowIndex':\n                if (!this.isSelectedRowIndexUpdating) {\n                    this.selectRow(newProp.selectedRowIndex);\n                }\n                this.isSelectedRowIndexUpdating = false;\n                break;\n            case 'resizeSettings':\n                this.widthService.setWidthToTable();\n                break;\n            case 'enableAdaptiveUI':\n                this.notify(events.setFullScreenDialog, {});\n                break;\n            case 'rowRenderingMode':\n                this.enableVerticalRendering();\n                this.notify(events.rowModeChange, {});\n                this.refresh();\n                break;\n            case 'enableStickyHeader':\n                this.scrollModule.addStickyListener(newProp.enableStickyHeader);\n                break;\n        }\n    };\n    Grid.prototype.maintainSelection = function (index) {\n        var _this = this;\n        if (index !== -1) {\n            var fn_1 = function () {\n                _this.selectRow(index);\n                _this.off(events.contentReady, fn_1);\n            };\n            this.on(events.contentReady, fn_1, this);\n        }\n    };\n    /**\n     * @param {Object} prop - Defines the property\n     * @param {boolean} muteOnChange - Defines the mute on change\n     * @returns {void}\n     * @private\n     */\n    Grid.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n        var filterSettings = 'filterSettings';\n        if (prop[filterSettings] && this.filterModule && muteOnChange) {\n            this.filterModule.refreshFilter();\n        }\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.setTablesCount = function () {\n        var frozenCols = this.getFrozenColumns();\n        var frozenLeft = this.getFrozenLeftColumnsCount();\n        var frozenRight = this.getFrozenRightColumnsCount();\n        if (frozenCols && !frozenLeft && !frozenRight) {\n            this.tablesCount = 2;\n        }\n        else if (!frozenCols && (frozenLeft || frozenRight)) {\n            if ((frozenLeft && !frozenRight) || (frozenRight && !frozenLeft)) {\n                this.tablesCount = 2;\n            }\n            else if (frozenLeft && frozenRight) {\n                this.tablesCount = 3;\n            }\n        }\n    };\n    /**\n     * @hidden\n     * @returns {number} - Returns the tables count\n     */\n    Grid.prototype.getTablesCount = function () {\n        return this.tablesCount;\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.updateDefaultCursor = function () {\n        var headerCells = [].slice.call(this.getHeaderContent().querySelectorAll('.e-headercell:not(.e-stackedheadercell)'));\n        var stdHdrCell = [].slice.call(this.getHeaderContent().getElementsByClassName('e-stackedheadercell'));\n        var cols = this.getColumns();\n        if (this.enableColumnVirtualization && this.getFrozenColumns()) {\n            var cells = this.contentModule.getHeaderCells();\n            headerCells = cells.length ? cells : headerCells;\n        }\n        for (var i = 0; i < headerCells.length; i++) {\n            var cell = headerCells[i];\n            if (this.allowGrouping || this.allowReordering || this.allowSorting) {\n                if (!cols[i].allowReordering || !cols[i].allowSorting || !cols[i].allowGrouping) {\n                    cell.classList.add('e-defaultcursor');\n                }\n                else {\n                    cell.classList.add('e-mousepointer');\n                }\n            }\n        }\n        for (var count = 0; count < stdHdrCell.length; count++) {\n            if (this.allowReordering) {\n                stdHdrCell[count].classList.add('e-mousepointer');\n            }\n        }\n    };\n    Grid.prototype.updateColumnModel = function (columns) {\n        for (var i = 0, len = columns.length; i < len; i++) {\n            if (columns[i].columns) {\n                this.updateColumnModel(columns[i].columns);\n            }\n            else {\n                this.columnModel.push(columns[i]);\n            }\n        }\n        this.updateColumnLevelFrozen();\n        this.updateFrozenColumns();\n        this.updateLockableColumns();\n    };\n    Grid.prototype.updateColumnLevelFrozen = function () {\n        var cols = this.columnModel;\n        var leftCols = [];\n        var rightCols = [];\n        var movableCols = [];\n        if (this.frozenLeftCount || this.frozenRightCount) {\n            for (var i = 0, len = cols.length; i < len; i++) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var col = cols[i];\n                if (col.freeze === 'Left') {\n                    col.freezeTable = literals.frozenLeft;\n                    leftCols.push(col);\n                }\n                else if (col.freeze === 'Right') {\n                    col.freezeTable = literals.frozenRight;\n                    rightCols.push(col);\n                }\n                else {\n                    col.freezeTable = 'movable';\n                    movableCols.push(col);\n                }\n            }\n            this.columnModel = leftCols.concat(movableCols).concat(rightCols);\n        }\n    };\n    Grid.prototype.updateFrozenColumns = function () {\n        if (this.frozenLeftCount || this.frozenRightCount) {\n            return;\n        }\n        var cols = this.columnModel;\n        var directFrozenCount = this.frozenColumns;\n        var totalFrozenCount = this.getFrozenColumns();\n        var count = 0;\n        for (var i = 0, len = cols.length; i < len; i++) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var col = cols[i];\n            if (directFrozenCount) {\n                if (i < directFrozenCount) {\n                    col.freezeTable = literals.frozenLeft;\n                }\n                else {\n                    col.freezeTable = 'movable';\n                }\n            }\n            if (col.isFrozen && i >= directFrozenCount) {\n                col.freezeTable = literals.frozenLeft;\n                cols.splice(this.frozenColumns + count, 0, cols.splice(i, 1)[0]);\n                count++;\n            }\n            else if (totalFrozenCount && !directFrozenCount) {\n                col.freezeTable = 'movable';\n            }\n        }\n    };\n    Grid.prototype.getFrozenLeftCount = function () {\n        return this.getFrozenColumns() || this.getFrozenLeftColumnsCount();\n    };\n    Grid.prototype.isFrozenGrid = function () {\n        return this.getFrozenColumns() !== 0 || this.getFrozenLeftColumnsCount() !== 0 || this.getFrozenRightColumnsCount() !== 0;\n    };\n    Grid.prototype.getFrozenMode = function () {\n        return this.frozenName;\n    };\n    Grid.prototype.updateLockableColumns = function () {\n        var cols = this.columnModel;\n        var frozenCount = 0;\n        var movableCount = 0;\n        var frozenColumns = this.getFrozenColumns();\n        for (var i = 0; i < cols.length; i++) {\n            if (cols[i].lockColumn) {\n                if (i < frozenColumns) {\n                    cols.splice(frozenCount, 0, cols.splice(i, 1)[0]);\n                    frozenCount++;\n                }\n                else {\n                    cols.splice(frozenColumns + movableCount, 0, cols.splice(i, 1)[0]);\n                    movableCount++;\n                }\n            }\n        }\n    };\n    Grid.prototype.checkLockColumns = function (cols) {\n        for (var i = 0; i < cols.length; i++) {\n            if (cols[i].columns) {\n                this.checkLockColumns(cols[i].columns);\n            }\n            else if (cols[i].lockColumn) {\n                this.lockcolPositionCount++;\n            }\n        }\n    };\n    /**\n     * Gets the columns from the Grid.\n     *\n     * @param {boolean} isRefresh - Defines the boolean whether to refresh\n     * @returns {Column[]} - returns the column\n     */\n    Grid.prototype.getColumns = function (isRefresh) {\n        var _this = this;\n        var inview = this.inViewIndexes.map(function (v) { return v - _this.groupSettings.columns.length; }).filter(function (v) { return v > -1; });\n        var vLen = inview.length;\n        if (!this.enableColumnVirtualization || isNullOrUndefined(this.columnModel) || this.columnModel.length === 0 || isRefresh) {\n            this.columnModel = [];\n            this.updateColumnModel(this.columns);\n        }\n        var columns = vLen === 0 ? this.columnModel :\n            this.columnModel.slice(inview[0], inview[vLen - 1] + 1);\n        if (this.contentModule && this.enableColumnVirtualization && this.isFrozenGrid() && inview.length\n            && inview[0] > 0) {\n            var frozenCols = this.contentModule.ensureFrozenCols(columns);\n            columns = frozenCols;\n        }\n        return columns;\n    };\n    /**\n     * @private\n     * @param {string} stackedHeader - Defines the stacked header\n     * @param {Column[]} col - Defines the column\n     * @returns {Column} Returns the Column\n     */\n    Grid.prototype.getStackedHeaderColumnByHeaderText = function (stackedHeader, col) {\n        for (var i = 0; i < col.length; i++) {\n            var individualColumn = col[i];\n            if (individualColumn.field === stackedHeader || individualColumn.headerText === stackedHeader) {\n                this.stackedColumn = individualColumn;\n                break;\n            }\n            else if (individualColumn.columns) {\n                this.getStackedHeaderColumnByHeaderText(stackedHeader, individualColumn.columns);\n            }\n        }\n        return this.stackedColumn;\n    };\n    /**\n     * @private\n     * @returns {number[]} Returns the column indexes\n     */\n    Grid.prototype.getColumnIndexesInView = function () {\n        return this.inViewIndexes;\n    };\n    /**\n     * @private\n     * @returns {Query} - returns the query\n     */\n    Grid.prototype.getQuery = function () {\n        return this.query;\n    };\n    /**\n     * @private\n     * @returns {object} - returns the locale constants\n     */\n    Grid.prototype.getLocaleConstants = function () {\n        return this.defaultLocale;\n    };\n    /**\n     * @param {number[]} indexes - specifies the indexes\n     * @returns {void}\n     * @private\n     */\n    Grid.prototype.setColumnIndexesInView = function (indexes) {\n        this.inViewIndexes = indexes;\n    };\n    /**\n     * Gets the visible columns from the Grid.\n     *\n     * @returns {Column[]} returns the column\n     */\n    Grid.prototype.getVisibleColumns = function () {\n        return this.getCurrentVisibleColumns();\n    };\n    /**\n     * Gets the header div of the Grid.\n     *\n     * @returns {Element} - Returns the element\n     */\n    Grid.prototype.getHeaderContent = function () {\n        return this.headerModule.getPanel();\n    };\n    /**\n     * Sets the header div of the Grid to replace the old header.\n     *\n     * @param  {Element} element - Specifies the Grid header.\n     * @returns {void}\n     */\n    Grid.prototype.setGridHeaderContent = function (element) {\n        this.headerModule.setPanel(element);\n    };\n    /**\n     * Gets the content table of the Grid.\n     *\n     * @returns {Element} - Returns the element\n     */\n    Grid.prototype.getContentTable = function () {\n        return this.contentModule.getTable();\n    };\n    /**\n     * Sets the content table of the Grid to replace the old content table.\n     *\n     * @param  {Element} element - Specifies the Grid content table.\n     * @returns {void}\n     */\n    Grid.prototype.setGridContentTable = function (element) {\n        this.contentModule.setTable(element);\n    };\n    /**\n     * Gets the content div of the Grid.\n     *\n     * @returns {Element} Returns the element\n     */\n    Grid.prototype.getContent = function () {\n        return this.contentModule.getPanel();\n    };\n    /**\n     * Sets the content div of the Grid to replace the old Grid content.\n     *\n     * @param  {Element} element - Specifies the Grid content.\n     * @returns {void}\n     */\n    Grid.prototype.setGridContent = function (element) {\n        this.contentModule.setPanel(element);\n    };\n    /**\n     * Gets the header table element of the Grid.\n     *\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getHeaderTable = function () {\n        return this.headerModule.getTable();\n    };\n    /**\n     * Sets the header table of the Grid to replace the old one.\n     *\n     * @param  {Element} element - Specifies the Grid header table.\n     * @returns {void}\n     */\n    Grid.prototype.setGridHeaderTable = function (element) {\n        this.headerModule.setTable(element);\n    };\n    /**\n     * Gets the footer div of the Grid.\n     *\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getFooterContent = function () {\n        this.footerElement = this.element.getElementsByClassName(literals.gridFooter)[0];\n        return this.footerElement;\n    };\n    /**\n     * Gets the footer table element of the Grid.\n     *\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getFooterContentTable = function () {\n        this.footerElement = this.element.getElementsByClassName(literals.gridFooter)[0];\n        return this.footerElement.firstChild.firstChild;\n    };\n    /**\n     * Gets the pager of the Grid.\n     *\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getPager = function () {\n        return this.gridPager; //get element from pager\n    };\n    /**\n     * Sets the pager of the Grid to replace the old pager.\n     *\n     * @param  {Element} element - Specifies the Grid pager.\n     * @returns {void}\n     */\n    Grid.prototype.setGridPager = function (element) {\n        this.gridPager = element;\n    };\n    /**\n     * Gets a row by index.\n     *\n     * @param  {number} index - Specifies the row index.\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getRowByIndex = function (index) {\n        return this.contentModule.getRowByIndex(index);\n    };\n    /**\n     * Gets a movable tables row by index.\n     *\n     * @param  {number} index - Specifies the row index.\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getMovableRowByIndex = function (index) {\n        return this.contentModule.getMovableRowByIndex(index);\n    };\n    /**\n     * Gets a frozen tables row by index.\n     *\n     * @param  {number} index - Specifies the row index.\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getFrozenRowByIndex = function (index) {\n        return this.getFrozenDataRows()[index];\n    };\n    /**\n     * Gets all the data rows of the Grid.\n     *\n     * @returns {Element[]} returns the element\n     */\n    Grid.prototype.getRows = function () {\n        return this.contentModule.getRowElements();\n    };\n    /**\n     * Gets a frozen right tables row element by index.\n     *\n     * @param  {number} index - Specifies the row index.\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getFrozenRightRowByIndex = function (index) {\n        return this.contentModule.getFrozenRightRowByIndex(index);\n    };\n    /**\n     * Get a row information based on cell\n     *\n     * @param {Element | EventTarget} target - specifies the element\n     * @returns {RowInfo} returns the row info\n     */\n    Grid.prototype.getRowInfo = function (target) {\n        var ele = target;\n        var args = { target: target };\n        if (!isNullOrUndefined(target) && isNullOrUndefined(parentsUntil(ele, 'e-detailrowcollapse')\n            && isNullOrUndefined(parentsUntil(ele, 'e-recordplusexpand')))) {\n            var cell = closest(ele, '.' + literals.rowCell);\n            if (!cell) {\n                var row = closest(ele, '.' + literals.row);\n                if (!isNullOrUndefined(row) && !row.classList.contains('e-addedrow')) {\n                    var rowObj = this.getRowObjectFromUID(row.getAttribute('data-uid'));\n                    var rowIndex = parseInt(row.getAttribute(literals.ariaRowIndex), 10);\n                    args = { row: row, rowData: rowObj.data, rowIndex: rowIndex };\n                }\n                return args;\n            }\n            var cellIndex = parseInt(cell.getAttribute(literals.ariaColIndex), 10);\n            if (!isNullOrUndefined(cell) && !isNaN(cellIndex)) {\n                var row_1 = closest(cell, '.' + literals.row);\n                var rowIndex = parseInt(row_1.getAttribute(literals.ariaRowIndex), 10);\n                var frzCols = this.getFrozenColumns();\n                var tableName = this.columnModel[cellIndex].getFreezeTableName();\n                var rows = this.contentModule.getRows();\n                var index = cellIndex + this.getIndentCount();\n                if (this.isFrozenGrid()) {\n                    if (tableName === literals.frozenLeft) {\n                        rows = this.contentModule.getRows();\n                    }\n                    else if (tableName === 'movable') {\n                        index = cellIndex - frzCols - this.frozenLeftCount;\n                        rows = this.contentModule.getMovableRows();\n                    }\n                    else if (tableName === literals.frozenRight) {\n                        index = cellIndex - (this.frozenLeftCount + this.movableCount);\n                        rows = this.contentModule.getFrozenRightRows();\n                    }\n                }\n                var rowsObject = rows.filter(function (r) { return r.uid === row_1.getAttribute('data-uid'); });\n                var rowData = {};\n                var column = void 0;\n                if (Object.keys(rowsObject).length) {\n                    rowData = rowsObject[0].data;\n                    column = rowsObject[0].cells[index].column;\n                }\n                args = { cell: cell, cellIndex: cellIndex, row: row_1, rowIndex: rowIndex, rowData: rowData, column: column, target: target };\n            }\n        }\n        return args;\n    };\n    /**\n     * Gets the Grid's movable content rows from frozen grid.\n     *\n     * @returns {Element[]} returns the element\n     */\n    Grid.prototype.getMovableRows = function () {\n        return this.contentModule.getMovableRowElements();\n    };\n    /**\n     * Gets the Grid's frozen right content rows from frozen grid.\n     *\n     * @returns {Element[]} returns the element\n     */\n    Grid.prototype.getFrozenRightRows = function () {\n        return this.contentModule.getFrozenRightRowElements();\n    };\n    /**\n     * Gets all the Grid's data rows.\n     *\n     * @returns {Element[]} returns the element\n     */\n    Grid.prototype.getDataRows = function () {\n        return this.getAllDataRows();\n    };\n    /**\n     * @param {boolean} includeAdd - specifies includeAdd\n     * @returns {Element[]} returns the element\n     * @hidden\n     */\n    Grid.prototype.getAllDataRows = function (includeAdd) {\n        if (isNullOrUndefined(this.getContentTable().querySelector(literals.tbody))) {\n            return [];\n        }\n        var tbody = this.isFrozenGrid() ? this.getFrozenLeftContentTbody()\n            : this.getContentTable().querySelector(literals.tbody);\n        var rows = [].slice.call(tbody.children);\n        if (this.frozenRows) {\n            var hdrTbody = this.isFrozenGrid() ? this.getHeaderContent().querySelector('.' + literals.frozenHeader).querySelector(literals.tbody)\n                : this.getHeaderTable().querySelector(literals.tbody);\n            var freezeRows = [].slice.call(hdrTbody.children);\n            rows = this.addMovableRows(freezeRows, rows);\n        }\n        var dataRows = this.generateDataRows(rows, includeAdd);\n        return dataRows;\n    };\n    /**\n     * @param {HTMLElement[]} fRows - Defines the frozen Rows\n     * @param {HTMLElement[]} mrows - Defines the movable Rows\n     * @returns {HTMLElement[]} Returns the element\n     * @hidden\n     */\n    Grid.prototype.addMovableRows = function (fRows, mrows) {\n        for (var i = 0, len = mrows.length; i < len; i++) {\n            fRows.push(mrows[i]);\n        }\n        return fRows;\n    };\n    Grid.prototype.generateDataRows = function (rows, includAdd) {\n        var dRows = [];\n        for (var i = 0, len = rows.length; i < len; i++) {\n            if (rows[i].classList.contains(literals.row) && (!rows[i].classList.contains('e-hiddenrow') || includAdd)) {\n                if (this.isCollapseStateEnabled()) {\n                    dRows[parseInt(rows[i].getAttribute('aria-rowindex'), 10)] = rows[i];\n                }\n                else {\n                    dRows.push(rows[i]);\n                }\n            }\n        }\n        return dRows;\n    };\n    /**\n     * Gets all the Grid's movable table data rows.\n     *\n     * @returns {Element[]} Returns the element\n     */\n    Grid.prototype.getMovableDataRows = function () {\n        return this.getAllMovableDataRows();\n    };\n    /**\n     * @param {boolean} includeAdd Defines the include add in boolean\n     * @returns {Element[]} Returns the element\n     * @hidden\n     */\n    Grid.prototype.getAllMovableDataRows = function (includeAdd) {\n        if (!this.isFrozenGrid()) {\n            return [];\n        }\n        var rows = [].slice.call(this.getContent().querySelector('.' + literals.movableContent).querySelector(literals.tbody).children);\n        if (this.frozenRows) {\n            var freezeRows = [].slice.call(this.getHeaderContent().querySelector('.' + literals.movableHeader).querySelector(literals.tbody).children);\n            rows = this.addMovableRows(freezeRows, rows);\n        }\n        var dataRows = this.generateDataRows(rows, includeAdd);\n        return dataRows;\n    };\n    /**\n     * Gets all the Grid's frozen table data rows.\n     *\n     * @returns {Element[]} returns the element\n     */\n    Grid.prototype.getFrozenDataRows = function () {\n        return this.getAllFrozenDataRows();\n    };\n    /**\n     * @param {boolean} includeAdd Defines the include add in boolean\n     * @returns {Element[]} Returns the element\n     * @hidden\n     */\n    Grid.prototype.getAllFrozenDataRows = function (includeAdd) {\n        var rows = [].slice.call(this.getContent().querySelector('.' + literals.frozenContent).querySelector(literals.tbody).children);\n        if (this.frozenRows) {\n            var freezeRows = [].slice.call(this.getHeaderContent().querySelector('.' + literals.frozenHeader).querySelector(literals.tbody).children);\n            rows = this.addMovableRows(freezeRows, rows);\n        }\n        var dataRows = this.generateDataRows(rows, includeAdd);\n        return dataRows;\n    };\n    /**\n     * Gets all the Grid's frozen right table data rows.\n     *\n     * @returns {Element[]} Returns the Element\n     */\n    Grid.prototype.getFrozenRightDataRows = function () {\n        return this.getAllFrozenRightDataRows();\n    };\n    /**\n     * @param {boolean} includeAdd Defines the include add in boolean\n     * @returns {Element[]} Returns the element\n     * @hidden\n     */\n    Grid.prototype.getAllFrozenRightDataRows = function (includeAdd) {\n        if (this.getFrozenMode() !== 'Right' && this.getFrozenMode() !== 'Left-Right') {\n            return [];\n        }\n        var rows = [].slice.call(this.getContent().querySelector('.e-frozen-right-content').querySelector(literals.tbody).children);\n        if (this.frozenRows) {\n            var freezeRows = [].slice.call(this.getHeaderContent().querySelector('.e-frozen-right-header').querySelector(literals.tbody).children);\n            rows = this.addMovableRows(freezeRows, rows);\n        }\n        var dataRows = this.generateDataRows(rows, includeAdd);\n        return dataRows;\n    };\n    /**\n     * Updates particular cell value based on the given primary key value.\n     * > Primary key column must be specified using `columns.isPrimaryKey` property.\n     *\n     * @param {string| number} key - Specifies the PrimaryKey value of dataSource.\n     * @param {string } field - Specifies the field name which you want to update.\n     * @param {string | number | boolean | Date} value - To update new value for the particular cell.\n     * @returns {void}\n     */\n    Grid.prototype.setCellValue = function (key, field, value) {\n        var cells = 'cells';\n        var rowData = 'data';\n        var rowIdx = 'index';\n        var rowuID = 'uid';\n        var isRight = this.getFrozenMode() === 'Right';\n        var pkName = this.getPrimaryKeyFieldNames()[0];\n        var cell = new CellRenderer(this, this.serviceLocator);\n        var fieldIdx = this.getColumnIndexByField(field);\n        var col = this.getColumnByField(field);\n        var rowObjects = col.getFreezeTableName() === 'movable' ? this.contentModule.getMovableRows() :\n            col.getFreezeTableName() === 'frozen-right' ? this.getFrozenRightRowsObject() : this.contentModule.getRows();\n        var selectedRow = rowObjects.filter(function (r) {\n            return getValue(pkName, r.data) === key;\n        })[0];\n        var tr = selectedRow ? this.element.querySelector('[data-uid=' + selectedRow[rowuID] + ']') : null;\n        if (!isNullOrUndefined(tr)) {\n            setValue(field, value, selectedRow[rowData]);\n            var left = this.getFrozenLeftColumnsCount() || this.getFrozenColumns();\n            var movable = this.getMovableColumnsCount();\n            if (this.isRowDragable() && !isRight) {\n                left++;\n            }\n            var frIdx = left + movable;\n            var td = this.getCellFromIndex(selectedRow[rowIdx], fieldIdx);\n            if (!isNullOrUndefined(td)) {\n                var Idx = col.getFreezeTableName() === 'movable' ? left : col.getFreezeTableName() === 'frozen-right' ? frIdx : 0;\n                if (this.groupSettings.columns.length) {\n                    fieldIdx = fieldIdx + this.groupSettings.columns.length;\n                }\n                if (this.childGrid || this.detailTemplate) {\n                    fieldIdx++;\n                }\n                if (this.isRowDragable() && !isRight) {\n                    fieldIdx++;\n                }\n                var sRow = selectedRow[cells][fieldIdx - Idx];\n                cell.refreshTD(td, sRow, selectedRow[rowData], { index: selectedRow[rowIdx] });\n                if (this.aggregates.length > 0) {\n                    this.notify(events.refreshFooterRenderer, {});\n                    if (this.groupSettings.columns.length > 0) {\n                        this.notify(events.groupAggregates, {});\n                    }\n                }\n                /* tslint:disable:no-string-literal */\n                if (!isNullOrUndefined(selectedRow) && !isNullOrUndefined(selectedRow['changes'])) {\n                    selectedRow['changes'][field] = value;\n                }\n                /* tslint:disable:no-string-literal */\n                this.trigger(events.queryCellInfo, {\n                    cell: td, column: col, data: selectedRow[rowData]\n                });\n            }\n        }\n        else {\n            return;\n        }\n    };\n    /**\n     * @param {string} columnUid - Defines column uid\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.refreshReactColumnTemplateByUid = function (columnUid) {\n        var _this = this;\n        if (this.isReact) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.clearTemplate(['columnTemplate'], undefined, function () {\n                var cells = 'cells';\n                var rowIdx = 'index';\n                var rows = _this.getDataRows();\n                var indent = _this.getIndentCount();\n                var cellIndex = _this.getNormalizedColumnIndex(columnUid);\n                for (var j = 0; j < rows.length; j++) {\n                    var rowsObj = _this.getRowObjectFromUID(rows[j].getAttribute('data-uid'));\n                    if (rowsObj.isDataRow && !isNullOrUndefined(rowsObj.index)) {\n                        var cell = rowsObj[cells][cellIndex];\n                        var cellRenderer = new CellRenderer(_this, _this.serviceLocator);\n                        var td = _this.getCellFromIndex(j, cellIndex - indent);\n                        cellRenderer.refreshTD(td, cell, rowsObj.data, { index: rowsObj[rowIdx] });\n                    }\n                }\n            });\n        }\n    };\n    /**\n     * @param {string} columnUid - Defines column uid\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.refreshReactHeaderTemplateByUid = function (columnUid) {\n        if (this.isReact) {\n            var cells = 'cells';\n            var rowsObj = this.headerModule.rows;\n            var cellIndex = this.getNormalizedColumnIndex(columnUid);\n            for (var j = 0; j < rowsObj.length; j++) {\n                var cell = rowsObj[j][cells][cellIndex];\n                if (cell && cell.column.uid === columnUid) {\n                    var headerCellRenderer = new HeaderCellRenderer(this, this.serviceLocator);\n                    var td = parentsUntil(this.element.querySelectorAll('[e-mappinguid=' + columnUid + ']')[0], 'e-templatecell');\n                    headerCellRenderer.refresh(cell, td);\n                }\n            }\n        }\n    };\n    /**\n     * Updates and refresh the particular row values based on the given primary key value.\n     * > Primary key column must be specified using `columns.isPrimaryKey` property.\n     *\n     * @param {string| number} key - Specifies the PrimaryKey value of dataSource.\n     * @param {Object} rowData - To update new data for the particular row.\n     * @returns {void}\n     */\n    Grid.prototype.setRowData = function (key, rowData) {\n        var rowuID = 'uid';\n        var rowObjects = this.contentModule.getRows();\n        var pkName = this.getPrimaryKeyFieldNames()[0];\n        var rowRenderer = new RowRenderer(this.serviceLocator, null, this);\n        if (this.groupSettings.columns.length > 0 && this.aggregates.length > 0) {\n            rowObjects = rowObjects.filter(function (row) { return row.isDataRow; });\n        }\n        var selectedRow = rowObjects.filter(function (r) {\n            return getValue(pkName, r.data) === key;\n        })[0];\n        if (!isNullOrUndefined(selectedRow) && this.element.querySelectorAll('[data-uid=' + selectedRow[rowuID] + ']').length) {\n            selectedRow.changes = rowData;\n            refreshForeignData(selectedRow, this.getForeignKeyColumns(), selectedRow.changes);\n            rowRenderer.refresh(selectedRow, this.getColumns(), true);\n            if (this.aggregates.length > 0) {\n                this.notify(events.refreshFooterRenderer, {});\n                if (this.groupSettings.columns.length > 0) {\n                    this.notify(events.groupAggregates, {});\n                }\n            }\n        }\n        else {\n            return;\n        }\n    };\n    /**\n     * Gets a cell by row and column index.\n     *\n     * @param  {number} rowIndex - Specifies the row index.\n     * @param  {number} columnIndex - Specifies the column index.\n     * @returns {Element} Returns the Element\n     */\n    Grid.prototype.getCellFromIndex = function (rowIndex, columnIndex) {\n        var col = this.getColumnByIndex(columnIndex);\n        return getCellByColAndRowIndex(this, col, rowIndex, columnIndex);\n    };\n    /**\n     * Gets a movable table cell by row and column index.\n     *\n     * @param  {number} rowIndex - Specifies the row index.\n     * @param  {number} columnIndex - Specifies the column index.\n     * @returns {Element} Returns the Element\n     */\n    Grid.prototype.getMovableCellFromIndex = function (rowIndex, columnIndex) {\n        if (this.frozenName === 'Left-Right' && columnIndex >= this.movableCount) {\n            return undefined;\n        }\n        var index = this.getFrozenColumns() || this.getFrozenLeftColumnsCount();\n        return this.getMovableDataRows()[rowIndex] &&\n            this.getMovableDataRows()[rowIndex].getElementsByClassName(literals.rowCell)[columnIndex - index];\n    };\n    /**\n     * Gets a frozen right table cell by row and column index.\n     *\n     * @param  {number} rowIndex - Specifies the row index.\n     * @param  {number} columnIndex - Specifies the column index.\n     * @returns {Element} Returns the Element\n     */\n    Grid.prototype.getFrozenRightCellFromIndex = function (rowIndex, columnIndex) {\n        var index = this.getFrozenLeftColumnsCount() + this.getMovableColumnsCount();\n        var rows = this.getFrozenRightDataRows();\n        return rows[rowIndex] && rows[rowIndex].getElementsByClassName(literals.rowCell)[columnIndex - index];\n    };\n    /**\n     * Gets a column header by column index.\n     *\n     * @param  {number} index - Specifies the column index.\n     * @returns {Element} Returns the Element\n     */\n    Grid.prototype.getColumnHeaderByIndex = function (index) {\n        return this.getHeaderTable().getElementsByClassName('e-headercell')[index];\n    };\n    /**\n     * Gets a movable column header by column index.\n     *\n     * @param  {number} index - Specifies the column index.\n     * @returns {Element} Returns the Element\n     */\n    Grid.prototype.getMovableColumnHeaderByIndex = function (index) {\n        var left = this.getFrozenColumns() || this.getFrozenLeftColumnsCount();\n        return this.getMovableVirtualHeader().getElementsByClassName('e-headercell')[index - left];\n    };\n    /**\n     * Gets a frozen right column header by column index.\n     *\n     * @param  {number} index - Specifies the column index.\n     * @returns {Element} Returns the Element\n     */\n    Grid.prototype.getFrozenRightColumnHeaderByIndex = function (index) {\n        var left = this.getFrozenLeftColumnsCount() + this.getMovableColumnsCount();\n        return this.getFrozenRightHeader().getElementsByClassName('e-headercell')[index - left];\n    };\n    /**\n     * Gets a frozen left column header by column index.\n     *\n     * @param  {number} index - Specifies the column index.\n     * @returns {Element} Returns the Element\n     */\n    Grid.prototype.getFrozenLeftColumnHeaderByIndex = function (index) {\n        return this.getFrozenVirtualHeader().getElementsByClassName('e-headercell')[index];\n    };\n    /**\n     * @param {string} uid - Defines the uid\n     * @param {boolean} isMovable - Defines isMovable\n     * @param {boolean} isFrozenRight - Defines isFrozenRight\n     * @returns {Row<Column>} Returns the row object\n     * @hidden\n     */\n    Grid.prototype.getRowObjectFromUID = function (uid, isMovable, isFrozenRight) {\n        var rows = this.contentModule.getRows();\n        var row = this.rowObject(rows, uid);\n        if (this.isFrozenGrid()) {\n            if (!row || isMovable || isFrozenRight) {\n                row = this.rowObject(this.contentModule.getMovableRows(), uid);\n                if ((!row && this.getFrozenMode() === 'Left-Right') || isFrozenRight) {\n                    row = this.rowObject(this.contentModule.getFrozenRightRows(), uid);\n                }\n                return row;\n            }\n        }\n        if (isNullOrUndefined(row) && this.enableVirtualization && this.groupSettings.columns.length > 0) {\n            row = this.rowObject(this.vRows, uid);\n            return row;\n        }\n        return row;\n    };\n    Grid.prototype.rowObject = function (rows, uid) {\n        for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n            var row = rows_1[_i];\n            if (row.uid === uid) {\n                return row;\n            }\n        }\n        return null;\n    };\n    /**\n     * @hidden\n     * @returns {Row<Column>[]} Returns the Row object\n     */\n    Grid.prototype.getRowsObject = function () {\n        return this.contentModule.getRows();\n    };\n    /**\n     * @hidden\n     * @returns {Row<Column>[]} Returns the Row object\n     */\n    Grid.prototype.getMovableRowsObject = function () {\n        var rows = [];\n        if (this.isFrozenGrid()) {\n            rows = this.contentModule.getMovableRows();\n        }\n        return rows;\n    };\n    /**\n     * @hidden\n     * @returns {Row<Column>[]} Returns the Row object\n     */\n    Grid.prototype.getFrozenRightRowsObject = function () {\n        var rows = [];\n        if (this.getFrozenMode() === 'Right' || this.getFrozenMode() === 'Left-Right') {\n            rows = this.contentModule.getFrozenRightRows();\n        }\n        return rows;\n    };\n    /**\n     * Gets a column header by column name.\n     *\n     * @param  {string} field - Specifies the column name.\n     * @returns {Element} - Returns the element\n     */\n    Grid.prototype.getColumnHeaderByField = function (field) {\n        var column = this.getColumnByField(field);\n        return column ? this.getColumnHeaderByUid(column.uid) : undefined;\n    };\n    /**\n     * Gets a column header by UID.\n     *\n     * @param {string} uid - Specifies the column uid.\n     * @returns {Element} - Returns the element\n     */\n    Grid.prototype.getColumnHeaderByUid = function (uid) {\n        var element = this.getHeaderContent().querySelector('[e-mappinguid=' + uid + ']');\n        return element ? element.parentElement : undefined;\n    };\n    /**\n     * @hidden\n     * @param {number} index - Defines the index\n     * @returns {Column} Returns the column\n     */\n    Grid.prototype.getColumnByIndex = function (index) {\n        var column;\n        this.getColumns().some(function (col, i) {\n            column = col;\n            return i === index;\n        });\n        return column;\n    };\n    /**\n     * Gets a Column by column name.\n     *\n     * @param  {string} field - Specifies the column name.\n     * @returns {Column} Returns the column\n     */\n    Grid.prototype.getColumnByField = function (field) {\n        return iterateArrayOrObject(this.getColumns(), function (item) {\n            if (item.field === field) {\n                return item;\n            }\n            return undefined;\n        })[0];\n    };\n    /**\n     * Gets a column index by column name.\n     *\n     * @param  {string} field - Specifies the column name.\n     * @returns {number} Returns the index by field\n     */\n    Grid.prototype.getColumnIndexByField = function (field) {\n        var cols = this.getColumns();\n        for (var i = 0; i < cols.length; i++) {\n            if (cols[i].field === field) {\n                return i;\n            }\n        }\n        return -1;\n    };\n    /**\n     * Gets a column by UID.\n     *\n     * @param  {string} uid - Specifies the column UID.\n     * @returns {Column} Returns the column\n     */\n    Grid.prototype.getColumnByUid = function (uid) {\n        return iterateArrayOrObject(this.getColumns().concat(this.getStackedColumns(this.columns)), function (item) {\n            if (item.uid === uid) {\n                return item;\n            }\n            return undefined;\n        })[0];\n    };\n    /**\n     * @param {Column[]} columns - Defines the columns\n     * @param {Column[]} stackedColumn - Defines the stacked columns\n     * @returns {Column[]} Returns the columns\n     * @hidden\n     */\n    Grid.prototype.getStackedColumns = function (columns, stackedColumn) {\n        if (stackedColumn === void 0) { stackedColumn = []; }\n        for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\n            var column = columns_1[_i];\n            if (column.columns) {\n                stackedColumn.push(column);\n                this.getStackedColumns(column.columns, stackedColumn);\n            }\n        }\n        return stackedColumn;\n    };\n    /**\n     * Gets a column index by UID.\n     *\n     * @param  {string} uid - Specifies the column UID.\n     * @returns {number} Returns the column by index\n     */\n    Grid.prototype.getColumnIndexByUid = function (uid) {\n        var index = iterateArrayOrObject(this.getColumns(), function (item, index) {\n            if (item.uid === uid) {\n                return index;\n            }\n            return undefined;\n        })[0];\n        return !isNullOrUndefined(index) ? index : -1;\n    };\n    /**\n     * Gets UID by column name.\n     *\n     * @param  {string} field - Specifies the column name.\n     * @returns {string} Returns the column by field\n     */\n    Grid.prototype.getUidByColumnField = function (field) {\n        return iterateArrayOrObject(this.getColumns(), function (item) {\n            if (item.field === field) {\n                return item.uid;\n            }\n            return undefined;\n        })[0];\n    };\n    /**\n     * Gets column index by column uid value.\n     *\n     * @private\n     * @param  {string} uid - Specifies the column uid.\n     * @returns {number} Returns the column by field\n     */\n    Grid.prototype.getNormalizedColumnIndex = function (uid) {\n        var index = this.getColumnIndexByUid(uid);\n        return index + this.getIndentCount();\n    };\n    /**\n     * Gets indent cell count.\n     *\n     * @private\n     * @returns {number} Returns the indent count\n     */\n    Grid.prototype.getIndentCount = function () {\n        var index = 0;\n        if (this.allowGrouping) {\n            index += this.groupSettings.columns.length;\n        }\n        if (this.isDetail()) {\n            index++;\n        }\n        if (this.isRowDragable() && isNullOrUndefined(this.rowDropSettings.targetID)) {\n            index++;\n        }\n        /**\n         * TODO: index normalization based on the stacked header, grouping and detailTemplate\n         * and frozen should be handled here\n         */\n        return index;\n    };\n    /**\n     * Gets the collection of column fields.\n     *\n     * @returns {string[]} Returns the Field names\n     */\n    Grid.prototype.getColumnFieldNames = function () {\n        var columnNames = [];\n        var column;\n        for (var i = 0, len = this.getColumns().length; i < len; i++) {\n            column = this.getColumns()[i];\n            if (column.visible) {\n                columnNames.push(column.field);\n            }\n        }\n        return columnNames;\n    };\n    /**\n     * Gets a compiled row template.\n     *\n     * @returns {Function} Returns the row TEmplate\n     * @private\n     */\n    Grid.prototype.getRowTemplate = function () {\n        return this.rowTemplateFn;\n    };\n    /**\n     * Gets a compiled detail row template.\n     *\n     * @private\n     * @returns {Function} Returns the Detail template\n     */\n    Grid.prototype.getDetailTemplate = function () {\n        return this.detailTemplateFn;\n    };\n    /**\n     * Gets a compiled detail row template.\n     *\n     * @private\n     * @returns {Function}Returns the Edit template\n     */\n    Grid.prototype.getEditTemplate = function () {\n        return this.editTemplateFn;\n    };\n    /**\n     * Gets a compiled dialog edit header template.\n     *\n     * @private\n     * @returns {Function} returns template function\n     */\n    Grid.prototype.getEditHeaderTemplate = function () {\n        return this.editHeaderTemplateFn;\n    };\n    /**\n     * Gets a compiled dialog edit footer template.\n     *\n     * @private\n     * @returns {Function} Returns the Footer template\n     */\n    Grid.prototype.getEditFooterTemplate = function () {\n        return this.editFooterTemplateFn;\n    };\n    /**\n     * Get the names of the primary key columns of the Grid.\n     *\n     * @returns {string[]} Returns the field names\n     */\n    Grid.prototype.getPrimaryKeyFieldNames = function () {\n        var keys = [];\n        for (var k = 0; k < this.columnModel.length; k++) {\n            if (this.columnModel[k].isPrimaryKey) {\n                keys.push(this.columnModel[k].field);\n            }\n        }\n        return keys;\n    };\n    /**\n     * Refreshes the Grid header and content.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.refresh = function () {\n        if (!this.isDestroyed) {\n            this.isManualRefresh = true;\n            this.headerModule.refreshUI();\n            this.updateStackedFilter();\n            this.renderModule.refresh();\n        }\n    };\n    /**\n     * Refreshes the Grid header.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.refreshHeader = function () {\n        this.headerModule.refreshUI();\n    };\n    /**\n     * Gets the collection of selected rows.\n     *\n     * @returns {Element[]} Returns the element\n     */\n    Grid.prototype.getSelectedRows = function () {\n        return this.selectionModule ? this.selectionModule.selectedRecords : [];\n    };\n    /**\n     * Gets the collection of selected row indexes.\n     *\n     * @returns {number[]} Returns the Selected row indexes\n     */\n    Grid.prototype.getSelectedRowIndexes = function () {\n        return this.selectionModule ? this.selectionModule.selectedRowIndexes : [];\n    };\n    /**\n     * Gets the collection of selected row and cell indexes.\n     *\n     * @returns {number[]} Returns the Selected row cell indexes\n     */\n    Grid.prototype.getSelectedRowCellIndexes = function () {\n        return this.selectionModule ? this.selectionModule.selectedRowCellIndexes : [];\n    };\n    /**\n     * Gets the collection of selected records.\n     *\n     * @returns {Object[]} Returns the selected records\n     * @isGenericType true\n     */\n    Grid.prototype.getSelectedRecords = function () {\n        return this.selectionModule ? this.selectionModule.getSelectedRecords() : [];\n    };\n    /**\n     * Gets the collection of selected columns uid.\n     *\n     * @returns {string[]} Returns the selected column uid\n     * @isGenericType true\n     */\n    Grid.prototype.getSelectedColumnsUid = function () {\n        var _this = this;\n        var uid = [];\n        if (this.selectionModule) {\n            this.selectionModule.selectedColumnsIndexes.filter(function (i) { return uid.push(_this.getColumns()[i].uid); });\n        }\n        return uid;\n    };\n    /**\n     * Gets the data module.\n     *\n     * @returns {Data} Returns the data\n     */\n    Grid.prototype.getDataModule = function () {\n        return this.renderModule.data;\n    };\n    /**\n     * Shows a column by its column name.\n     *\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} showBy - Defines the column key either as field name or header text.\n     * @returns {void}\n     */\n    Grid.prototype.showColumns = function (keys, showBy) {\n        showBy = showBy ? showBy : 'headerText';\n        this.showHider.show(keys, showBy);\n    };\n    /**\n     * Hides a column by column name.\n     *\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} hideBy - Defines the column key either as field name or header text.\n     * @returns {void}\n     */\n    Grid.prototype.hideColumns = function (keys, hideBy) {\n        hideBy = hideBy ? hideBy : 'headerText';\n        this.showHider.hide(keys, hideBy);\n    };\n    /**\n     * @hidden\n     * @returns {number} Returns the Frozen column\n     */\n    Grid.prototype.getFrozenColumns = function () {\n        return this.frozenColumns + this.getFrozenCount(this.columns, 0, 0);\n    };\n    /**\n     * @hidden\n     * @returns {number} Returns the Frozen Right column count\n     */\n    Grid.prototype.getFrozenRightColumnsCount = function () {\n        return this.frozenRightCount;\n    };\n    /**\n     * @hidden\n     * @returns {number} Returns the Frozen Left column\n     */\n    Grid.prototype.getFrozenLeftColumnsCount = function () {\n        return this.frozenLeftCount;\n    };\n    /**\n     * @hidden\n     * @returns {number} Returns the movable column count\n     */\n    Grid.prototype.getMovableColumnsCount = function () {\n        return this.movableCount;\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.setFrozenCount = function () {\n        this.frozenLeftCount = this.frozenRightCount = this.movableCount = 0;\n        this.visibleFrozenLeft = this.visibleFrozenRight = this.visibleMovable = 0;\n        this.frozenLeftColumns = [];\n        this.frozenRightColumns = [];\n        this.movableColumns = [];\n        this.splitFrozenCount(this.columns);\n        if (this.frozenColumns && (this.frozenLeftCount || this.frozenRightCount)) {\n            this.setProperties({ frozenColumns: 0 }, true);\n        }\n        this.setTablesCount();\n        if (this.frozenLeftCount && !this.frozenRightCount) {\n            this.frozenName = 'Left';\n        }\n        else if (this.frozenRightCount && !this.frozenLeftCount) {\n            this.frozenName = 'Right';\n        }\n        else if (this.frozenLeftCount && this.frozenRightCount) {\n            this.frozenName = 'Left-Right';\n        }\n        else {\n            this.frozenName = undefined;\n        }\n    };\n    /**\n     * @hidden\n     * @returns {number} Returns the visible Frozen left count\n     */\n    Grid.prototype.getVisibleFrozenLeftCount = function () {\n        return this.visibleFrozenLeft;\n    };\n    /**\n     * @hidden\n     * @returns {number} Returns the visible Frozen Right count\n     */\n    Grid.prototype.getVisibleFrozenRightCount = function () {\n        return this.visibleFrozenRight;\n    };\n    /**\n     * @hidden\n     * @returns {number} Returns the visible movable count\n     */\n    Grid.prototype.getVisibleMovableCount = function () {\n        return this.visibleMovable;\n    };\n    /**\n     * @hidden\n     * @returns {Column[]} Returns the column\n     */\n    Grid.prototype.getFrozenRightColumns = function () {\n        return this.frozenRightColumns;\n    };\n    /**\n     * @hidden\n     * @returns {Column[]} Returns the column\n     */\n    Grid.prototype.getFrozenLeftColumns = function () {\n        return this.frozenLeftColumns;\n    };\n    /**\n     * @hidden\n     * @returns {Column[]} Returns the column\n     */\n    Grid.prototype.getMovableColumns = function () {\n        return this.movableColumns;\n    };\n    Grid.prototype.splitFrozenCount = function (columns) {\n        for (var i = 0; i < columns.length; i++) {\n            if (columns[i].columns) {\n                this.splitFrozenCount(columns[i].columns);\n            }\n            else {\n                if (columns[i].freeze === 'Right') {\n                    if (columns[i].visible !== false) {\n                        this.visibleFrozenRight++;\n                    }\n                    this.frozenRightColumns.push(columns[i]);\n                    this.frozenRightCount++;\n                }\n                else if (columns[i].freeze === 'Left') {\n                    if (columns[i].visible !== false) {\n                        this.visibleFrozenLeft++;\n                    }\n                    this.frozenLeftColumns.push(columns[i]);\n                    this.frozenLeftCount++;\n                }\n                else {\n                    if (columns[i].visible !== false) {\n                        this.visibleMovable++;\n                    }\n                    this.movableColumns.push(columns[i]);\n                    this.movableCount++;\n                }\n            }\n        }\n    };\n    /**\n     * @hidden\n     * @returns {number} Returns the visible frozen columns count\n     */\n    Grid.prototype.getVisibleFrozenColumns = function () {\n        return this.getVisibleFrozenColumnsCount() + this.getVisibleFrozenCount(this.columns, 0);\n    };\n    /**\n     * Get the current Filter operator and field.\n     *\n     * @returns {FilterUI} Returns the filter UI\n     */\n    Grid.prototype.getFilterUIInfo = function () {\n        return this.filterModule ? this.filterModule.getFilterUIInfo() : {};\n    };\n    Grid.prototype.getVisibleFrozenColumnsCount = function () {\n        var visibleFrozenColumns = 0;\n        var columns = this.columnModel;\n        for (var i = 0; i < this.frozenColumns; i++) {\n            if (columns[i].visible) {\n                visibleFrozenColumns++;\n            }\n        }\n        if (this.frozenLeftCount || this.frozenRightCount) {\n            for (var i = 0; i < columns.length; i++) {\n                if (columns[i].visible && (columns[i].freeze === 'Left' || columns[i].freeze === 'Right')) {\n                    visibleFrozenColumns++;\n                }\n            }\n        }\n        return visibleFrozenColumns;\n    };\n    Grid.prototype.getVisibleFrozenCount = function (cols, cnt) {\n        if (!this.frozenLeftCount && !this.frozenRightCount) {\n            for (var i = 0, len = cols.length; i < len; i++) {\n                if (cols[i].columns) {\n                    cnt = this.getVisibleFrozenCount(cols[i].columns, cnt);\n                }\n                else {\n                    if (cols[i].isFrozen && cols[i].visible) {\n                        cnt++;\n                    }\n                }\n            }\n        }\n        return cnt;\n    };\n    Grid.prototype.getFrozenCount = function (cols, cnt, index) {\n        for (var i = 0, len = cols.length; i < len; i++) {\n            if (cols[i].columns) {\n                cnt = this.getFrozenCount(cols[i].columns, cnt, index);\n            }\n            else {\n                if (cols[i].isFrozen && index > this.frozenColumns - 1) {\n                    cnt++;\n                }\n                index++;\n            }\n        }\n        return cnt;\n    };\n    /**\n     * Navigates to the specified target page.\n     *\n     * @param  {number} pageNo - Defines the page number to navigate.\n     * @returns {void}\n     */\n    Grid.prototype.goToPage = function (pageNo) {\n        if (this.pagerModule) {\n            this.pagerModule.goToPage(pageNo);\n        }\n    };\n    /**\n     * Defines the text of external message.\n     *\n     * @param  {string} message - Defines the message to update.\n     * @returns {void}\n     */\n    Grid.prototype.updateExternalMessage = function (message) {\n        if (this.pagerModule) {\n            this.pagerModule.updateExternalMessage(message);\n        }\n    };\n    /**\n     * Sorts a column with the given options.\n     *\n     * @param {string} columnName - Defines the column name to be sorted.\n     * @param {SortDirection} direction - Defines the direction of sorting field.\n     * @param {boolean} isMultiSort - Specifies whether the previous sorted columns are to be maintained.\n     * @returns {void}\n     */\n    Grid.prototype.sortColumn = function (columnName, direction, isMultiSort) {\n        if (this.sortModule) {\n            this.sortModule.sortColumn(columnName, direction, isMultiSort);\n        }\n    };\n    /**\n     * Clears all the sorted columns of the Grid.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.clearSorting = function () {\n        if (this.sortModule) {\n            this.sortModule.clearSorting();\n        }\n    };\n    /**\n     * Remove sorted column by field name.\n     *\n     * @param {string} field - Defines the column field name to remove sort.\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.removeSortColumn = function (field) {\n        if (this.sortModule) {\n            this.sortModule.removeSortColumn(field);\n        }\n    };\n    /**\n    * @hidden\n    * @returns {void}\n    */\n    Grid.prototype.clearGridActions = function () {\n        this.setProperties({ sortSettings: { columns: [] } }, true);\n        this.setProperties({ filterSettings: { columns: [] } }, true);\n        this.setProperties({ searchSettings: { key: '' } }, true);\n        if (this.allowGrouping) {\n            this.setProperties({ groupSettings: { columns: [] } }, false);\n        }\n        else {\n            this.freezeRefresh();\n        }\n    };\n    /**\n     * Filters grid row by column name with the given options.\n     *\n     * @param  {string} fieldName - Defines the field name of the column.\n     * @param  {string} filterOperator - Defines the operator to filter records.\n     * @param  {string | number | Date | boolean} filterValue - Defines the value used to filter records.\n     * @param  {string} predicate - Defines the relationship between one filter query and another by using AND or OR predicate.\n     * @param  {boolean} matchCase - If match case is set to true, the grid filters the records with exact match. if false, it filters case\n     * insensitive records (uppercase and lowercase letters treated the same).\n     * @param  {boolean} ignoreAccent - If ignoreAccent set to true,\n     * then filter ignores the diacritic characters or accents while filtering.\n     * @param  {string} actualFilterValue - Defines the actual filter value for the filter column.\n     * @param  {string} actualOperator - Defines the actual filter operator for the filter column.\n     * @returns {void}\n     */\n    Grid.prototype.filterByColumn = function (fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent, actualFilterValue, actualOperator) {\n        if (this.filterModule) {\n            this.filterModule.filterByColumn(fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent, actualFilterValue, actualOperator);\n        }\n    };\n    /**\n     * Clears all the filtered rows of the Grid.\n     *\n     * @param {string[]} fields - Defines the Fields\n     * @returns {void}\n     */\n    Grid.prototype.clearFiltering = function (fields) {\n        if (this.filterModule) {\n            this.filterModule.clearFiltering(fields);\n        }\n    };\n    /**\n     * Removes filtered column by field name.\n     *\n     * @param  {string} field - Defines column field name to remove filter.\n     * @param  {boolean} isClearFilterBar -  Specifies whether the filter bar value needs to be cleared.\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.removeFilteredColsByField = function (field, isClearFilterBar) {\n        if (this.filterModule) {\n            this.filterModule.removeFilteredColsByField(field, isClearFilterBar);\n        }\n    };\n    /**\n     * Selects a row by given index.\n     *\n     * @param  {number} index - Defines the row index.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void}\n     */\n    Grid.prototype.selectRow = function (index, isToggle) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRow(index, isToggle);\n        }\n    };\n    /**\n     * Selects a collection of rows by indexes.\n     *\n     * @param  {number[]} rowIndexes - Specifies the row indexes.\n     * @returns {void}\n     */\n    Grid.prototype.selectRows = function (rowIndexes) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRows(rowIndexes);\n        }\n    };\n    /**\n     * Deselects the current selected rows and cells.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.clearSelection = function () {\n        if (this.selectionModule) {\n            this.selectionModule.clearSelection();\n        }\n    };\n    /**\n     * Selects a cell by the given index.\n     *\n     * @param  {IIndex} cellIndex - Defines the row and column indexes.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void}\n     */\n    Grid.prototype.selectCell = function (cellIndex, isToggle) {\n        if (this.selectionModule) {\n            this.selectionModule.selectCell(cellIndex, isToggle);\n        }\n    };\n    /**\n     * Selects a range of cells from start and end indexes.\n     *\n     * @param  {IIndex} startIndex - Specifies the row and column's start index.\n     * @param  {IIndex} endIndex - Specifies the row and column's end index.\n     * @returns {void}\n     */\n    Grid.prototype.selectCellsByRange = function (startIndex, endIndex) {\n        this.selectionModule.selectCellsByRange(startIndex, endIndex);\n    };\n    /**\n     * Searches Grid records using the given key.\n     * You can customize the default search option by using the\n     * [`searchSettings`](./#searchsettings/).\n     *\n     * @param  {string} searchString - Defines the key.\n     * @returns {void}\n     */\n    Grid.prototype.search = function (searchString) {\n        if (this.searchModule) {\n            this.searchModule.search(searchString);\n        }\n    };\n    /**\n     * By default, prints all the pages of the Grid and hides the pager.\n     * > You can customize print options using the\n     * [`printMode`](./#printmode).\n     *\n     * @returns {void}\n     */\n    Grid.prototype.print = function () {\n        if (this.printModule) {\n            this.printModule.print();\n        }\n    };\n    /**\n     * Delete a record with Given options. If fieldname and data is not given then grid will delete the selected record.\n     * > `editSettings.allowDeleting` should be true.\n     *\n     * @param {string} fieldname - Defines the primary key field, 'Name of the column'.\n     * @param {Object} data - Defines the JSON data of the record to be deleted.\n     * @returns {void}\n     */\n    Grid.prototype.deleteRecord = function (fieldname, data) {\n        if (this.editModule) {\n            this.editModule.deleteRecord(fieldname, data);\n        }\n    };\n    /**\n     * Starts edit the selected row. At least one row must be selected before invoking this method.\n     * `editSettings.allowEditing` should be true.\n     * {% codeBlock src='grid/startEdit/index.md' %}{% endcodeBlock %}\n     *\n     * @returns {void}\n     */\n    Grid.prototype.startEdit = function () {\n        if (this.editModule) {\n            this.editModule.startEdit();\n        }\n    };\n    /**\n     * If Grid is in editable state, you can save a record by invoking endEdit.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.endEdit = function () {\n        if (this.editModule) {\n            this.editModule.endEdit();\n        }\n    };\n    /**\n     * Cancels edited state.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.closeEdit = function () {\n        if (this.editModule) {\n            this.editModule.closeEdit();\n        }\n    };\n    /**\n     * Adds a new record to the Grid. Without passing parameters, it adds empty rows.\n     * > `editSettings.allowEditing` should be true.\n     *\n     * @param {Object} data - Defines the new add record data.\n     * @param {number} index - Defines the row index to be added\n     * @returns {void}\n     */\n    Grid.prototype.addRecord = function (data, index) {\n        if (this.editModule) {\n            this.editModule.addRecord(data, index);\n        }\n    };\n    /**\n     * Delete any visible row by TR element.\n     *\n     * @param {HTMLTableRowElement} tr - Defines the table row element.\n     * @returns {void}\n     */\n    Grid.prototype.deleteRow = function (tr) {\n        if (this.editModule) {\n            this.editModule.deleteRow(tr);\n        }\n    };\n    /**\n     * Changes a particular cell into edited state based on the row index and field name provided in the `batch` mode.\n     *\n     * @param {number} index - Defines row index to edit a particular cell.\n     * @param {string} field - Defines the field name of the column to perform batch edit.\n     * @returns {void}\n     */\n    Grid.prototype.editCell = function (index, field) {\n        if (this.editModule) {\n            this.editModule.editCell(index, field);\n        }\n    };\n    /**\n     * Saves the cell that is currently edited. It does not save the value to the DataSource.\n     *\n     * @returns {void}\n     * {% codeBlock src='grid/saveCell/index.md' %}{% endcodeBlock %}\n     */\n    Grid.prototype.saveCell = function () {\n        if (this.editModule) {\n            this.editModule.saveCell();\n        }\n    };\n    /**\n     * To update the specified cell by given value without changing into edited state.\n     *\n     * @param {number} rowIndex Defines the row index.\n     * @param {string} field Defines the column field.\n     * @param {string | number | boolean | Date} value - Defines the value to be changed.\n     * @returns {void}\n     */\n    Grid.prototype.updateCell = function (rowIndex, field, value) {\n        if (this.editModule) {\n            this.editModule.updateCell(rowIndex, field, value);\n        }\n    };\n    /**\n     * To update the specified row by given values without changing into edited state.\n     *\n     * {% codeBlock src='grid/updateRow/index.md' %}{% endcodeBlock %}\n     *\n     * @param {number} index Defines the row index.\n     * @param {Object} data Defines the data object to be updated.\n     * @returns {void}\n     */\n    Grid.prototype.updateRow = function (index, data) {\n        if (this.editModule) {\n            this.editModule.updateRow(index, data);\n        }\n    };\n    /**\n     * Gets the added, edited,and deleted data before bulk save to the DataSource in batch mode.\n     *\n     * @returns {Object} Returns the batch changes\n     */\n    Grid.prototype.getBatchChanges = function () {\n        if (this.editModule) {\n            return this.editModule.getBatchChanges();\n        }\n        return {};\n    };\n    /**\n     * Enables or disables ToolBar items.\n     *\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @returns {void}\n     */\n    Grid.prototype.enableToolbarItems = function (items, isEnable) {\n        if (this.toolbarModule) {\n            this.toolbarModule.enableItems(items, isEnable);\n        }\n    };\n    /**\n     * Copy the selected rows or cells data into clipboard.\n     *\n     * @param {boolean} withHeader - Specifies whether the column header text needs to be copied along with rows or cells.\n     * @returns {void}\n     */\n    Grid.prototype.copy = function (withHeader) {\n        if (this.clipboardModule) {\n            this.clipboardModule.copy(withHeader);\n        }\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.recalcIndentWidth = function () {\n        var _this = this;\n        if (!this.getHeaderTable().querySelector('.e-emptycell')) {\n            return;\n        }\n        if ((!this.groupSettings.columns.length && !this.isDetail() && !this.isRowDragable()) ||\n            this.getHeaderTable().querySelector('.e-emptycell').getAttribute('indentRefreshed') ||\n            !this.getContentTable()) {\n            return;\n        }\n        var indentWidth = this.getHeaderTable().querySelector('.e-emptycell').parentElement.offsetWidth;\n        var headerCol = [].slice.call(this.getHeaderTable().querySelector(literals.colGroup).childNodes);\n        var contentCol = [].slice.call(this.getContentTable().querySelector(literals.colGroup).childNodes);\n        var perPixel = indentWidth / 30;\n        var i = this.getFrozenMode() === 'Right' ? this.frozenRightCount : 0;\n        var parentOffset = this.element.offsetWidth;\n        var applyWidth = function (index, width) {\n            if (ispercentageWidth(_this)) {\n                var newWidth = (width / parentOffset * 100).toFixed(1) + '%';\n                headerCol[index].style.width = newWidth;\n                contentCol[index].style.width = newWidth;\n            }\n            else {\n                headerCol[index].style.width = width + 'px';\n                contentCol[index].style.width = width + 'px';\n            }\n            _this.notify(events.columnWidthChanged, { index: index, width: width });\n        };\n        if (perPixel >= 1) {\n            indentWidth = (30 / perPixel);\n        }\n        if (indentWidth < 1) {\n            indentWidth = 1;\n        }\n        if (this.enableColumnVirtualization || this.isAutoGen) {\n            indentWidth = 30;\n        }\n        while (i < this.groupSettings.columns.length) {\n            applyWidth(i, indentWidth);\n            i++;\n        }\n        if (this.isDetail()) {\n            applyWidth(i, indentWidth);\n            i++;\n        }\n        if (this.isRowDragable()) {\n            applyWidth(i, indentWidth);\n        }\n        this.isAutoGen = false;\n        this.getHeaderTable().querySelector('.e-emptycell').setAttribute('indentRefreshed', 'true');\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.resetIndentWidth = function () {\n        if (ispercentageWidth(this)) {\n            this.getHeaderTable().querySelector('.e-emptycell').removeAttribute('indentRefreshed');\n            this.widthService.setWidthToColumns();\n            this.recalcIndentWidth();\n        }\n        if ((this.width === 'auto' || typeof (this.width) === 'string' && this.width.indexOf('%') !== -1)\n            && this.getColumns().filter(function (col) { return (!col.width || col.width === 'auto') && col.minWidth; }).length > 0) {\n            var tgridWidth = this.widthService.getTableWidth(this.getColumns());\n            this.widthService.setMinwidthBycalculation(tgridWidth);\n        }\n        if (this.isFrozenGrid() && this.widthService) {\n            this.widthService.refreshFrozenScrollbar();\n        }\n        if (this.allowTextWrap && this.textWrapSettings.wrapMode !== 'Content') {\n            this.notify(events.refreshHandlers, {});\n        }\n    };\n    /**\n     * @hidden\n     * @returns {boolean} Returns isRowDragable\n     */\n    Grid.prototype.isRowDragable = function () {\n        return this.allowRowDragAndDrop && !this.rowDropSettings.targetID;\n    };\n    /**\n     * Changes the Grid column positions by field names.\n     *\n     * @param  {string} fromFName - Defines the origin field name.\n     * @param  {string} toFName - Defines the destination field name.\n     * @returns {void}\n     */\n    Grid.prototype.reorderColumns = function (fromFName, toFName) {\n        if (this.reorderModule) {\n            this.reorderModule.reorderColumns(fromFName, toFName);\n        }\n    };\n    /**\n     * Changes the Grid column positions by field index. If you invoke reorderColumnByIndex multiple times,\n     * then you won't get the same results every time.\n     *\n     * @param  {number} fromIndex - Defines the origin field index.\n     * @param  {number} toIndex - Defines the destination field index.\n     * @returns {void}\n     */\n    Grid.prototype.reorderColumnByIndex = function (fromIndex, toIndex) {\n        if (this.reorderModule) {\n            this.reorderModule.reorderColumnByIndex(fromIndex, toIndex);\n        }\n    };\n    /**\n     * Changes the Grid column positions by field index. If you invoke reorderColumnByTargetIndex multiple times,\n     * then you will get the same results every time.\n     *\n     * @param  {string} fieldName - Defines the field name.\n     * @param  {number} toIndex - Defines the destination field index.\n     * @returns {void}\n     */\n    Grid.prototype.reorderColumnByTargetIndex = function (fieldName, toIndex) {\n        if (this.reorderModule) {\n            this.reorderModule.reorderColumnByTargetIndex(fieldName, toIndex);\n        }\n    };\n    /**\n     * Changes the Grid Row position with given indexes.\n     *\n     * @param  {number} fromIndexes - Defines the origin Indexes.\n     * @param  {number} toIndex - Defines the destination Index.\n     * @returns {void}\n     */\n    Grid.prototype.reorderRows = function (fromIndexes, toIndex) {\n        if (this.rowDragAndDropModule) {\n            this.rowDragAndDropModule.reorderRows(fromIndexes, toIndex);\n        }\n    };\n    /**\n     * @param {ReturnType} e - Defines the Return type\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.refreshDataSource = function (e) {\n        this.notify('refreshdataSource', e);\n    };\n    /**\n     * @param {boolean} enable -Defines the enable\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.disableRowDD = function (enable) {\n        var headerTable = this.getHeaderTable();\n        var contentTable = this.getContentTable();\n        var headerRows = headerTable.querySelectorAll('th.e-rowdragheader, th.e-mastercell');\n        var rows = this.getRows();\n        var disValue = enable ? 'none' : '';\n        setStyleAttribute(headerTable.querySelector(literals.colGroup).childNodes[0], { 'display': disValue });\n        setStyleAttribute(contentTable.querySelector(literals.colGroup).childNodes[0], { 'display': disValue });\n        for (var i = 0; i < this.getRows().length; i++) {\n            var ele = rows[i].firstElementChild;\n            if (enable) {\n                addClass([ele], 'e-hide');\n            }\n            else {\n                removeClass([ele], ['e-hide']);\n            }\n        }\n        for (var j = 0; j < headerTable.querySelectorAll('th.e-rowdragheader, th.e-mastercell').length; j++) {\n            var ele = headerRows[j];\n            if (enable) {\n                addClass([ele], 'e-hide');\n            }\n            else {\n                removeClass([ele], ['e-hide']);\n            }\n        }\n    };\n    /**\n     * Changes the column width to automatically fit its content to ensure that the width shows the content without wrapping/hiding.\n     * > * This method ignores the hidden columns.\n     * > * Uses the `autoFitColumns` method in the `dataBound` event to resize at initial rendering.\n     *\n     * @param  {string |string[]} fieldNames - Defines the column names.\n     * @returns {void}\n     *\n     *\n     * ```typescript\n     * <div id=\"Grid\"></div>\n     * <script>\n     * let gridObj: Grid = new Grid({\n     *     dataSource: employeeData,\n     *     columns: [\n     *         { field: 'OrderID', headerText: 'Order ID', width:100 },\n     *         { field: 'EmployeeID', headerText: 'Employee ID' }],\n     *     dataBound: () => gridObj.autoFitColumns('EmployeeID')\n     * });\n     * gridObj.appendTo('#Grid');\n     * </script>\n     * ```\n     *\n     */\n    Grid.prototype.autoFitColumns = function (fieldNames) {\n        if (this.resizeModule) {\n            this.resizeModule.autoFitColumns(fieldNames);\n        }\n    };\n    /**\n     * @param {number} x - Defines the number\n     * @param {number} y - Defines the number\n     * @param {Element} target - Defines the Element\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.createColumnchooser = function (x, y, target) {\n        if (this.columnChooserModule) {\n            this.columnChooserModule.renderColumnChooser(x, y, target);\n        }\n    };\n    Grid.prototype.initializeServices = function () {\n        this.serviceLocator.register('widthService', this.widthService = new ColumnWidthService(this));\n        this.serviceLocator.register('cellRendererFactory', new CellRendererFactory);\n        this.serviceLocator.register('rendererFactory', new RendererFactory);\n        this.serviceLocator.register('localization', this.localeObj = new L10n(this.getModuleName(), this.defaultLocale, this.locale));\n        this.serviceLocator.register('valueFormatter', this.valueFormatterService = new ValueFormatter(this.locale));\n        this.serviceLocator.register('showHideService', this.showHider = new ShowHide(this));\n        this.serviceLocator.register('ariaService', this.ariaService = new AriaService());\n        this.serviceLocator.register('focus', this.focusModule = new FocusStrategy(this));\n    };\n    Grid.prototype.processModel = function () {\n        var gCols = this.groupSettings.columns;\n        var sCols = this.sortSettings.columns;\n        var flag;\n        var j;\n        if (this.allowGrouping) {\n            var _loop_1 = function (i, len) {\n                j = 0;\n                for (var sLen = sCols.length; j < sLen; j++) {\n                    if (sCols[j].field === gCols[i]) {\n                        flag = true;\n                        break;\n                    }\n                }\n                if (!flag) {\n                    sCols.push({ field: gCols[i], direction: 'Ascending', isFromGroup: true });\n                }\n                else {\n                    if (this_1.allowSorting) {\n                        this_1.sortedColumns.push(sCols[j].field);\n                    }\n                    else {\n                        sCols[j].direction = 'Ascending';\n                    }\n                }\n                if (!this_1.groupSettings.showGroupedColumn) {\n                    var column = this_1.enableColumnVirtualization ?\n                        this_1.columns.filter(function (c) { return c.field === gCols[i]; })[0] : this_1.getColumnByField(gCols[i]);\n                    if (column) {\n                        column.visible = false;\n                    }\n                    else {\n                        this_1.log('initial_action', { moduleName: 'group', columnName: gCols[i] });\n                    }\n                }\n            };\n            var this_1 = this;\n            for (var i = 0, len = gCols.length; i < len; i++) {\n                _loop_1(i, len);\n            }\n        }\n        if (!gCols.length) {\n            for (var i = 0; i < sCols.length; i++) {\n                this.sortedColumns.push(sCols[i].field);\n            }\n        }\n        this.rowTemplateFn = templateCompiler(this.rowTemplate);\n        this.detailTemplateFn = templateCompiler(this.detailTemplate);\n        this.editTemplateFn = templateCompiler(this.editSettings.template);\n        this.editHeaderTemplateFn = templateCompiler(this.editSettings.headerTemplate);\n        this.editFooterTemplateFn = templateCompiler(this.editSettings.footerTemplate);\n        if (!isNullOrUndefined(this.parentDetails)) {\n            var value = isNullOrUndefined(this.parentDetails.parentKeyFieldValue) ? 'undefined' :\n                this.parentDetails.parentKeyFieldValue;\n            this.query.where(this.queryString, 'equal', value, true);\n        }\n        this.initForeignColumn();\n    };\n    Grid.prototype.initForeignColumn = function () {\n        if (this.isForeignKeyEnabled(this.getColumns())) {\n            this.notify(events.initForeignKeyColumn, this.getForeignKeyColumns());\n        }\n    };\n    Grid.prototype.enableVerticalRendering = function () {\n        if (this.rowRenderingMode === 'Vertical') {\n            this.element.classList.add('e-row-responsive');\n        }\n        else {\n            this.element.classList.remove('e-row-responsive');\n        }\n    };\n    Grid.prototype.gridRender = function () {\n        this.updateRTL();\n        if (this.rowRenderingMode === 'Vertical') {\n            this.element.classList.add('e-row-responsive');\n        }\n        if (this.enableHover) {\n            this.element.classList.add('e-gridhover');\n        }\n        if (Browser.isDevice) {\n            this.element.classList.add('e-device');\n        }\n        if (this.rowHeight) {\n            this.element.classList.add('e-grid-min-height');\n        }\n        classList(this.element, ['e-responsive', 'e-default'], []);\n        var rendererFactory = this.serviceLocator.getService('rendererFactory');\n        this.headerModule = rendererFactory.getRenderer(RenderType.Header);\n        this.contentModule = rendererFactory.getRenderer(RenderType.Content);\n        this.printModule = new Print(this, this.scrollModule);\n        this.clipboardModule = new Clipboard(this);\n        this.renderModule.render();\n        this.eventInitializer();\n        this.createGridPopUpElement();\n        this.widthService.setWidthToColumns();\n        this.updateGridLines();\n        this.applyTextWrap();\n        this.createTooltip(); //for clip mode ellipsis\n        this.enableBoxSelection();\n    };\n    Grid.prototype.dataReady = function () {\n        this.scrollModule.setWidth();\n        this.scrollModule.setHeight();\n        if (this.height !== 'auto') {\n            this.scrollModule.setPadding();\n        }\n    };\n    Grid.prototype.updateRTL = function () {\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        else {\n            this.element.classList.remove('e-rtl');\n        }\n    };\n    Grid.prototype.createGridPopUpElement = function () {\n        var popup = this.createElement('div', { className: 'e-gridpopup', styles: 'display:none;' });\n        var content = this.createElement('div', { className: literals.content, attrs: { tabIndex: '-1' } });\n        append([content, this.createElement('div', { className: 'e-uptail e-tail' })], popup);\n        content.appendChild(this.createElement('span'));\n        append([content, this.createElement('div', { className: 'e-downtail e-tail' })], popup);\n        this.element.appendChild(popup);\n    };\n    Grid.prototype.updateGridLines = function () {\n        classList(this.element, [], ['e-verticallines', 'e-horizontallines', 'e-hidelines', 'e-bothlines']);\n        switch (this.gridLines) {\n            case 'Horizontal':\n                this.element.classList.add('e-horizontallines');\n                break;\n            case 'Vertical':\n                this.element.classList.add('e-verticallines');\n                break;\n            case 'None':\n                this.element.classList.add('e-hidelines');\n                break;\n            case 'Both':\n                this.element.classList.add('e-bothlines');\n                break;\n        }\n        this.updateResizeLines();\n    };\n    Grid.prototype.updateResizeLines = function () {\n        if (this.allowResizing &&\n            !(this.gridLines === 'Vertical' || this.gridLines === 'Both')) {\n            this.element.classList.add('e-resize-lines');\n        }\n        else {\n            this.element.classList.remove('e-resize-lines');\n        }\n    };\n    /**\n     * The function is used to apply text wrap\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.applyTextWrap = function () {\n        if (this.allowTextWrap) {\n            var headerRows = [].slice.call(this.element.getElementsByClassName('e-columnheader'));\n            switch (this.textWrapSettings.wrapMode) {\n                case 'Header':\n                    wrap(this.element, false);\n                    wrap(this.getContent(), false);\n                    wrap(headerRows, true);\n                    break;\n                case 'Content':\n                    wrap(this.getContent(), true);\n                    wrap(this.element, false);\n                    wrap(headerRows, false);\n                    break;\n                default:\n                    wrap(this.element, true);\n                    wrap(this.getContent(), false);\n                    wrap(headerRows, false);\n            }\n            if (this.textWrapSettings.wrapMode !== 'Content') {\n                this.notify(events.refreshHandlers, {});\n            }\n        }\n    };\n    /**\n     * The function is used to remove text wrap\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.removeTextWrap = function () {\n        wrap(this.element, false);\n        var headerRows = [].slice.call(this.element.getElementsByClassName('e-columnheader'));\n        wrap(headerRows, false);\n        wrap(this.getContent(), false);\n        if (this.textWrapSettings.wrapMode !== 'Content') {\n            this.notify(events.refreshHandlers, {});\n        }\n    };\n    /**\n     * The function is used to add Tooltip to the grid cell that has ellipsiswithtooltip clip mode.\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.createTooltip = function () {\n        this.toolTipObj = new Tooltip({ opensOn: 'custom', content: '' }, this.element);\n    };\n    /** @hidden\n     * @returns {void}\n     */\n    Grid.prototype.freezeRefresh = function () {\n        this.isFreezeRefresh = true;\n        if (this.enableVirtualization) {\n            this.pageSettings.currentPage = 1;\n        }\n        this.componentRefresh();\n    };\n    Grid.prototype.getTooltipStatus = function (element) {\n        var headerTable = this.getHeaderTable();\n        var headerDivTag = 'e-gridheader';\n        var htable = this.createTable(headerTable, headerDivTag, 'header');\n        var ctable = this.createTable(headerTable, headerDivTag, 'content');\n        var table = element.classList.contains('e-headercell') ? htable : ctable;\n        var ele = element.classList.contains('e-headercell') ? 'th' : 'tr';\n        table.querySelector(ele).className = element.className;\n        table.querySelector(ele).innerHTML = element.innerHTML;\n        var width = table.querySelector(ele).getBoundingClientRect().width;\n        document.body.removeChild(htable);\n        document.body.removeChild(ctable);\n        if (width > element.getBoundingClientRect().width) {\n            return true;\n        }\n        return false;\n    };\n    Grid.prototype.mouseMoveHandler = function (e) {\n        if (this.isEllipsisTooltip()) {\n            var element = parentsUntil(e.target, 'e-ellipsistooltip');\n            if (this.prevElement !== element || e.type === 'mouseout') {\n                this.toolTipObj.close();\n            }\n            var tagName = e.target.tagName;\n            var elemNames = ['A', 'BUTTON', 'INPUT'];\n            if (element && e.type !== 'mouseout' && !(Browser.isDevice && elemNames.indexOf(tagName) !== -1)) {\n                if (element.getAttribute('aria-describedby')) {\n                    return;\n                }\n                if (this.getTooltipStatus(element)) {\n                    if (element.getElementsByClassName('e-headertext').length) {\n                        this.toolTipObj.content = element.getElementsByClassName('e-headertext')[0].innerText;\n                    }\n                    else {\n                        this.toolTipObj.content = element.innerText;\n                    }\n                    this.prevElement = element;\n                    var col = this.getColumns()[parseInt(element.getAttribute(literals.ariaColIndex), 10)];\n                    if (col.disableHtmlEncode) {\n                        this.toolTipObj.enableHtmlParse = false;\n                    }\n                    this.toolTipObj.open(element);\n                }\n            }\n        }\n        this.hoverFrozenRows(e);\n    };\n    /**\n     * @param {MouseEvent} e - Defines the mouse event\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.hoverFrozenRows = function (e) {\n        if (this.isFrozenGrid()) {\n            var row = parentsUntil(e.target, literals.row);\n            if ([].slice.call(this.element.getElementsByClassName('e-frozenhover')).length && e.type === 'mouseout') {\n                var rows = [].slice.call(this.element.getElementsByClassName('e-frozenhover'));\n                for (var i = 0; i < rows.length; i++) {\n                    rows[i].classList.remove('e-frozenhover');\n                }\n            }\n            else if (row) {\n                var rows = [].slice.call(this.element.querySelectorAll('tr[aria-rowindex=\"' + row.getAttribute(literals.ariaRowIndex) + '\"]'));\n                rows.splice(rows.indexOf(row), 1);\n                for (var i = 0; i < rows.length; i++) {\n                    if (row.getAttribute('aria-selected') !== 'true' && rows[i]) {\n                        rows[i].classList.add('e-frozenhover');\n                    }\n                    else if (rows[i]) {\n                        rows[i].classList.remove('e-frozenhover');\n                    }\n                }\n            }\n        }\n    };\n    Grid.prototype.isEllipsisTooltip = function () {\n        var cols = this.getColumns();\n        if (this.clipMode === 'EllipsisWithTooltip') {\n            return true;\n        }\n        for (var i = 0; i < cols.length; i++) {\n            if (cols[i].clipMode === 'EllipsisWithTooltip') {\n                return true;\n            }\n        }\n        return false;\n    };\n    Grid.prototype.scrollHandler = function () {\n        if (this.isEllipsisTooltip()) {\n            this.toolTipObj.close();\n        }\n    };\n    /**\n     * To create table for ellipsiswithtooltip\n     *\n     * @param {Element} table - Defines the table\n     * @param {string} tag - Defines the tag\n     * @param {string} type - Defines the type\n     * @returns {HTMLDivElement} Returns the HTML div ELement\n     * @hidden\n     */\n    Grid.prototype.createTable = function (table, tag, type) {\n        var myTableDiv = this.createElement('div');\n        myTableDiv.className = this.element.className;\n        myTableDiv.style.cssText = 'display: inline-block;visibility:hidden;position:absolute';\n        var mySubDiv = this.createElement('div');\n        mySubDiv.className = tag;\n        var myTable = this.createElement('table', { attrs: { role: 'grid' } });\n        myTable.className = table.className;\n        myTable.style.cssText = 'table-layout: auto;width: auto';\n        var ele = (type === 'header') ? 'th' : 'td';\n        var myTr = this.createElement('tr', { attrs: { role: 'row' } });\n        var mytd = this.createElement(ele);\n        myTr.appendChild(mytd);\n        myTable.appendChild(myTr);\n        mySubDiv.appendChild(myTable);\n        myTableDiv.appendChild(mySubDiv);\n        document.body.appendChild(myTableDiv);\n        return myTableDiv;\n    };\n    Grid.prototype.onKeyPressed = function (e) {\n        if (e.action === 'tab' || e.action === 'shiftTab') {\n            this.toolTipObj.close();\n        }\n    };\n    /**\n     * Binding events to the element while component creation.\n     *\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.mouseClickHandler, this);\n        EventHandler.add(this.element, 'touchend', this.mouseClickHandler, this);\n        EventHandler.add(this.element, 'focusout', this.focusOutHandler, this);\n        EventHandler.add(this.element, 'dblclick', this.dblClickHandler, this);\n        EventHandler.add(this.element, 'keydown', this.keyPressHandler, this);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        EventHandler.add(window, 'resize', this.resetIndentWidth, this);\n        if (this.allowKeyboard) {\n            this.element.tabIndex = this.element.tabIndex === -1 ? 0 : this.element.tabIndex;\n        }\n        this.keyboardModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n        EventHandler.add(this.getContent().firstElementChild, 'scroll', this.scrollHandler, this);\n        EventHandler.add(this.element, 'mousemove', this.mouseMoveHandler, this);\n        EventHandler.add(this.element, 'mouseout', this.mouseMoveHandler, this);\n        EventHandler.add(this.getContent(), 'touchstart', this.tapEvent, this);\n        EventHandler.add(document.body, 'keydown', this.keyDownHandler, this);\n    };\n    /**\n     * Unbinding events from the element while component destroy.\n     *\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.mouseClickHandler);\n        EventHandler.remove(this.element, 'touchend', this.mouseClickHandler);\n        EventHandler.remove(this.element, 'focusout', this.focusOutHandler);\n        EventHandler.remove(this.element, 'dblclick', this.dblClickHandler);\n        EventHandler.remove(this.getContent().firstElementChild, 'scroll', this.scrollHandler);\n        EventHandler.remove(this.element, 'mousemove', this.mouseMoveHandler);\n        EventHandler.remove(this.element, 'mouseout', this.mouseMoveHandler);\n        EventHandler.remove(this.element, 'keydown', this.keyPressHandler);\n        EventHandler.remove(this.getContent(), 'touchstart', this.tapEvent);\n        EventHandler.remove(document.body, 'keydown', this.keyDownHandler);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        EventHandler.remove(window, 'resize', this.resetIndentWidth);\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.addListener = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        this.on(events.dataReady, this.dataReady, this);\n        this.on(events.contentReady, this.recalcIndentWidth, this);\n        this.on(events.headerRefreshed, this.recalcIndentWidth, this);\n        this.dataBoundFunction = this.refreshMediaCol.bind(this);\n        this.addEventListener(events.dataBound, this.dataBoundFunction);\n        this.on(events.keyPressed, this.onKeyPressed, this);\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.removeListener = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        this.off(events.dataReady, this.dataReady);\n        this.off(events.contentReady, this.recalcIndentWidth);\n        this.off(events.headerRefreshed, this.recalcIndentWidth);\n        this.removeEventListener(events.dataBound, this.dataBoundFunction);\n        this.off(events.keyPressed, this.onKeyPressed);\n    };\n    /**\n     * Get current visible data of grid.\n     *\n     * @returns {Object[]} Returns the current view records\n     * @isGenericType true\n     */\n    Grid.prototype.getCurrentViewRecords = function () {\n        if (isGroupAdaptive(this)) {\n            return isNullOrUndefined(this.currentViewData.records) ?\n                this.currentViewData : this.currentViewData.records;\n        }\n        if (this.groupSettings.enableLazyLoading) {\n            return this.currentViewData;\n        }\n        return (this.allowGrouping && this.groupSettings.columns.length && this.currentViewData.length\n            && this.currentViewData.records) ? this.currentViewData.records\n            : this.currentViewData;\n    };\n    Grid.prototype.mouseClickHandler = function (e) {\n        if (this.isChildGrid(e) || (parentsUntil(e.target, 'e-gridpopup') && e.touches) ||\n            this.element.getElementsByClassName('e-cloneproperties').length || this.checkEdit(e)) {\n            return;\n        }\n        if (((!this.allowRowDragAndDrop && (parentsUntil(e.target, literals.gridContent) ||\n            e.target.tagName === 'TD')) || (!(this.allowGrouping || this.allowReordering) &&\n            parentsUntil(e.target, 'e-gridheader'))) && e.touches) {\n            return;\n        }\n        if (parentsUntil(e.target, 'e-gridheader') && this.allowRowDragAndDrop &&\n            !(parentsUntil(e.target, 'e-filterbarcell'))) {\n            e.preventDefault();\n        }\n        var args = this.getRowInfo(e.target);\n        var cancel = 'cancel';\n        args[cancel] = false;\n        var isDataRow = false;\n        var tr = closest(e.target, 'tr');\n        if (tr && tr.getAttribute('data-uid')) {\n            var rowObj = this.getRowObjectFromUID(tr.getAttribute('data-uid'));\n            isDataRow = rowObj ? rowObj.isDataRow : false;\n        }\n        if (isDataRow) {\n            this.trigger(events.recordClick, args);\n        }\n        this.notify(events.click, e);\n    };\n    Grid.prototype.checkEdit = function (e) {\n        var tr = parentsUntil(e.target, literals.row);\n        var isEdit = this.editSettings.mode !== 'Batch' &&\n            this.isEdit && tr && (tr.classList.contains(literals.editedRow) || tr.classList.contains(literals.addedRow));\n        return !parentsUntil(e.target, 'e-unboundcelldiv') && (isEdit || (parentsUntil(e.target, literals.rowCell) &&\n            parentsUntil(e.target, literals.rowCell).classList.contains('e-editedbatchcell')));\n    };\n    Grid.prototype.dblClickHandler = function (e) {\n        var grid = parentsUntil(e.target, 'e-grid');\n        if (isNullOrUndefined(grid) || grid.id !== this.element.id || closest(e.target, '.e-unboundcelldiv')) {\n            return;\n        }\n        var dataRow = false;\n        var tr = closest(e.target, 'tr');\n        if (tr && tr.getAttribute('data-uid')) {\n            var rowObj = this.getRowObjectFromUID(tr.getAttribute('data-uid'));\n            dataRow = rowObj ? rowObj.isDataRow : false;\n        }\n        var args = this.getRowInfo(e.target);\n        args.target = e.target;\n        if (dataRow) {\n            this.trigger(events.recordDoubleClick, args);\n        }\n        this.notify(events.dblclick, e);\n    };\n    Grid.prototype.focusOutHandler = function (e) {\n        if (this.isChildGrid(e)) {\n            return;\n        }\n        if (!parentsUntil(e.target, 'e-grid')) {\n            this.element.querySelector('.e-gridpopup').style.display = 'None';\n        }\n        var filterClear = this.element.querySelector('.e-cancel:not(.e-hide)');\n        if (filterClear) {\n            filterClear.classList.add('e-hide');\n        }\n        var relatedTarget = e.relatedTarget;\n        var ariaOwns = relatedTarget ? relatedTarget.getAttribute('aria-owns') : null;\n        if ((!relatedTarget || (!parentsUntil(relatedTarget, 'e-grid') &&\n            (!isNullOrUndefined(ariaOwns) &&\n                (ariaOwns)) !== e.target.getAttribute('aria-owns')))\n            && !this.keyPress && this.isEdit && !Browser.isDevice) {\n            if (this.editSettings.mode === 'Batch' && !((parentsUntil(relatedTarget, 'e-ddl') || parentsUntil(relatedTarget, 'e-ddt')) &&\n                parentsUntil(relatedTarget, 'e-input-group'))) {\n                this.editModule.saveCell();\n                this.notify(events.editNextValCell, {});\n            }\n            if (this.editSettings.mode === 'Normal') {\n                this.editModule.editFormValidate();\n            }\n        }\n        this.keyPress = false;\n    };\n    Grid.prototype.isChildGrid = function (e) {\n        var gridElement = parentsUntil(e.target, 'e-grid');\n        if ((gridElement && gridElement.id !== this.element.id) || (parentsUntil(e.target, 'e-unboundcelldiv') &&\n            isNullOrUndefined(gridElement))) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * @param {Object} persistedData - Defines the persisted data\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.mergePersistGridData = function (persistedData) {\n        var data = this.getLocalData();\n        if (!(isNullOrUndefined(data) || (data === '')) || !isNullOrUndefined(persistedData)) {\n            var dataObj = !isNullOrUndefined(persistedData) ? persistedData : JSON.parse(data);\n            if (this.enableVirtualization) {\n                dataObj.pageSettings.currentPage = 1;\n            }\n            var keys = Object.keys(dataObj);\n            this.isProtectedOnChange = true;\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                if ((typeof this[key] === 'object') && !isNullOrUndefined(this[key])) {\n                    if (Array.isArray(this[key]) && key === 'columns') {\n                        setColumnIndex(this[key]);\n                        this.mergeColumns(dataObj[key], this[key]);\n                        this[key] = dataObj[key];\n                    }\n                    else {\n                        extend(this[key], dataObj[key]);\n                    }\n                }\n                else {\n                    this[key] = dataObj[key];\n                }\n            }\n            this.isProtectedOnChange = false;\n        }\n    };\n    Grid.prototype.mergeColumns = function (storedColumn, columns) {\n        var storedColumns = storedColumn;\n        var _loop_2 = function (i) {\n            var localCol = columns.filter(function (tCol) { return tCol.index === storedColumns[i].index; })[0];\n            if (!isNullOrUndefined(localCol)) {\n                if (localCol.columns && localCol.columns.length) {\n                    this_2.mergeColumns(storedColumns[i].columns, localCol.columns);\n                    storedColumns[i] = extend(localCol, storedColumns[i], {}, true);\n                }\n                else {\n                    storedColumns[i] = extend(localCol, storedColumns[i], {}, true);\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < storedColumns.length; i++) {\n            _loop_2(i);\n        }\n    };\n    /**\n     * @hidden\n     * @returns {boolean} Returns the isDetail\n     */\n    Grid.prototype.isDetail = function () {\n        return !isNullOrUndefined(this.detailTemplate) || !isNullOrUndefined(this.childGrid);\n    };\n    Grid.prototype.isCommandColumn = function (columns) {\n        var _this = this;\n        return columns.some(function (col) {\n            if (col.columns) {\n                return _this.isCommandColumn(col.columns);\n            }\n            return !!(col.commands || col.commandsTemplate);\n        });\n    };\n    Grid.prototype.isForeignKeyEnabled = function (columns) {\n        var _this = this;\n        return columns.some(function (col) {\n            if (col.columns) {\n                return _this.isForeignKeyEnabled(col.columns);\n            }\n            return !!(col.dataSource && col.foreignKeyValue);\n        });\n    };\n    Grid.prototype.keyPressHandler = function (e) {\n        var presskey = extend(e, { cancel: false });\n        this.trigger('keyPressed', presskey);\n        if (presskey.cancel === true) {\n            e.stopImmediatePropagation();\n        }\n    };\n    Grid.prototype.keyDownHandler = function (e) {\n        if (e.altKey) {\n            if (e.keyCode === 74) { //alt j\n                if (this.keyA) { //alt A J\n                    this.notify(events.groupCollapse, { target: e.target, collapse: false });\n                    this.keyA = false;\n                }\n                else {\n                    this.focusModule.focusHeader();\n                    this.focusModule.addOutline();\n                }\n            }\n            if (e.keyCode === 87) { //alt w\n                this.focusModule.focusContent();\n                this.focusModule.addOutline();\n            }\n            if (e.keyCode === 65) { //alt A\n                this.keyA = true;\n            }\n            if (e.keyCode === 72 && this.keyA) { //alt A H\n                this.notify(events.groupCollapse, { target: e.target, collapse: true });\n                this.keyA = false;\n            }\n        }\n        if (e.keyCode === 13) {\n            this.notify(events.enterKeyHandler, e);\n        }\n    };\n    Grid.prototype.keyActionHandler = function (e) {\n        if (this.isChildGrid(e) ||\n            (this.isEdit && e.action !== 'escape' && e.action !== 'enter' && e.action !== 'shiftEnter'\n                && e.action !== 'tab' && e.action !== 'shiftTab')) {\n            return;\n        }\n        else {\n            this.keyPress = true;\n        }\n        if (this.allowKeyboard) {\n            if (e.action === 'ctrlPlusP') {\n                e.preventDefault();\n                this.print();\n            }\n            this.notify(events.keyPressed, e);\n        }\n    };\n    /**\n     * @param {Function[]} modules - Defines the modules\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.setInjectedModules = function (modules) {\n        this.injectedModules = modules;\n    };\n    Grid.prototype.updateColumnObject = function () {\n        prepareColumns(this.columns, this.enableColumnVirtualization, this);\n        setColumnIndex(this.columns);\n        this.initForeignColumn();\n        this.notify(events.autoCol, {});\n    };\n    /**\n     * Gets the foreign columns from Grid.\n     *\n     * @returns {Column[]} Returns Foreign key column\n     */\n    Grid.prototype.getForeignKeyColumns = function () {\n        return this.getColumns().filter(function (col) {\n            return col.isForeignColumn();\n        });\n    };\n    /**\n     * @hidden\n     * @returns {number} Returns row height\n     */\n    Grid.prototype.getRowHeight = function () {\n        return this.rowHeight ? this.rowHeight : getRowHeight(this.element);\n    };\n    /**\n     * Refreshes the Grid column changes.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.refreshColumns = function () {\n        this.setFrozenCount();\n        var fCnt = this.getContent().querySelector('.e-frozen-left-content');\n        var frCnt = this.getContent().querySelector('.e-frozen-right-content');\n        var isColFrozen = !this.frozenRightCount && !this.frozenLeftCount;\n        var isFrozen = this.getFrozenColumns() !== 0;\n        if (!isFrozen && ((!fCnt && this.frozenLeftCount) || (!frCnt && this.frozenRightCount) || (fCnt && !this.frozenLeftCount)\n            || (frCnt && !this.frozenRightCount))) {\n            this.tableIndex = 0;\n            this.tablesCount = 1;\n            if (this.enableColumnVirtualization) {\n                this.columnModel = [];\n                this.updateColumnModel(this.columns);\n            }\n            this.freezeRefresh();\n        }\n        else if (isColFrozen && ((this.getFrozenColumns() === 1 && !fCnt) || (this.getFrozenColumns() === 0 && fCnt))) {\n            this.tableIndex = 0;\n            this.tablesCount = 1;\n            if (this.enableColumnVirtualization) {\n                this.columnModel = [];\n                this.updateColumnModel(this.columns);\n            }\n            this.freezeRefresh();\n        }\n        else {\n            this.isPreventScrollEvent = true;\n            this.updateColumnObject();\n            this.checkLockColumns(this.getColumns());\n            this.refresh();\n            if (this.isFrozenGrid()) {\n                var mTbl = this.contentModule.getMovableContent().querySelector('.' + literals.table);\n                remove(mTbl.querySelector(literals.colGroup));\n                var colGroup = ((this.getHeaderContent()\n                    .querySelector('.' + literals.movableHeader).querySelector(literals.colGroup)).cloneNode(true));\n                mTbl.insertBefore(colGroup, mTbl.querySelector(literals.tbody));\n                if (this.getFrozenMode() === 'Left-Right') {\n                    var frTbl = this.contentModule.getFrozenRightContent().querySelector('.' + literals.table);\n                    remove(frTbl.querySelector(literals.colGroup));\n                    var colGrp = ((this.getHeaderContent()\n                        .querySelector('.e-frozen-right-header').querySelector(literals.colGroup)).cloneNode(true));\n                    frTbl.insertBefore(colGrp, frTbl.querySelector(literals.tbody));\n                }\n            }\n        }\n        if (this.isFrozenGrid()) {\n            var left = this.getContent().querySelector('.e-movablescrollbar').scrollLeft;\n            this.headerModule.getMovableHeader().scrollLeft = left;\n            this.contentModule.getMovableContent().scrollLeft = left;\n        }\n    };\n    /**\n     * Export Grid data to Excel file(.xlsx).\n     *\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Grid.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {Workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} Returns the excelexport\n     */\n    Grid.prototype.excelExport = function (excelExportProperties, isMultipleExport, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    workbook, isBlob) {\n        return this.excelExportModule ?\n            this.excelExportModule.Map(this, excelExportProperties, isMultipleExport, workbook, false, isBlob) : null;\n    };\n    /**\n     * Export Grid data to CSV file.\n     *\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Grid.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {Workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} Returns csv export\n     */\n    Grid.prototype.csvExport = function (excelExportProperties, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    isMultipleExport, workbook, isBlob) {\n        return this.excelExportModule ?\n            this.excelExportModule.Map(this, excelExportProperties, isMultipleExport, workbook, true, isBlob) : null;\n    };\n    /**\n     * Export Grid data to PDF document.\n     *\n     * @param {pdfExportProperties} pdfExportProperties - Defines the export properties of the Grid.\n     * @param {isMultipleExport} isMultipleExport - Define to enable multiple export.\n     * @param {pdfDoc} pdfDoc - Defined the Pdf Document if multiple export is enabled.\n     * @param {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} Returns pdfexport\n     */\n    Grid.prototype.pdfExport = function (pdfExportProperties, isMultipleExport, pdfDoc, isBlob) {\n        return this.pdfExportModule ? this.pdfExportModule.Map(this, pdfExportProperties, isMultipleExport, pdfDoc, isBlob) : null;\n    };\n    /**\n     * Groups a column by column name.\n     *\n     * @param  {string} columnName - Defines the column name to group.\n     * @returns {void}\n     */\n    Grid.prototype.groupColumn = function (columnName) {\n        if (this.groupModule) {\n            this.groupModule.groupColumn(columnName);\n        }\n    };\n    /**\n     * Expands all the grouped rows of the Grid.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.groupExpandAll = function () {\n        if (this.groupModule) {\n            this.groupModule.expandAll();\n        }\n    };\n    /**\n     * Collapses all the grouped rows of the Grid.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.groupCollapseAll = function () {\n        if (this.groupModule) {\n            this.groupModule.collapseAll();\n        }\n    };\n    /**\n     * Expands or collapses grouped rows by target element.\n     *\n     * @param  {Element} target - Defines the target element of the grouped row.\n     * @returns {void}\n     */\n    // public expandCollapseRows(target: Element): void {\n    //     if (this.groupModule) {\n    //         this.groupModule.expandCollapseRows(target);\n    //     }\n    // }\n    /**\n     * Clears all the grouped columns of the Grid.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.clearGrouping = function () {\n        if (this.groupModule) {\n            this.groupModule.clearGrouping();\n        }\n    };\n    /**\n     * Ungroups a column by column name.\n     *\n     * {% codeBlock src='grid/ungroupColumn/index.md' %}{% endcodeBlock %}\n     *\n     * @param  {string} columnName - Defines the column name to ungroup.\n     * @returns {void}\n     */\n    Grid.prototype.ungroupColumn = function (columnName) {\n        if (this.groupModule) {\n            this.groupModule.ungroupColumn(columnName);\n        }\n    };\n    /**\n     * Column chooser can be displayed on screen by given position(X and Y axis).\n     *\n     * @param {number} x - Defines the X axis.\n     * @param {number} y - Defines the Y axis.\n     * @returns {void}\n     */\n    Grid.prototype.openColumnChooser = function (x, y) {\n        if (this.columnChooserModule) {\n            this.columnChooserModule.openColumnChooser(x, y);\n        }\n    };\n    Grid.prototype.scrollRefresh = function () {\n        var _this = this;\n        var refresh = function () {\n            _this.scrollModule.refresh();\n            _this.off(events.contentReady, refresh);\n        };\n        this.on(events.contentReady, refresh, this);\n    };\n    /**\n     * Collapses a detail row with the given target.\n     *\n     * @param  {Element} target - Defines the expanded element to collapse.\n     * @returns {void}\n     */\n    // public detailCollapse(target: number | Element): void {\n    //     if (this.detailRowModule) {\n    //         this.detailRowModule.collapse(target);\n    //     }\n    // }\n    /**\n     * Collapses all the detail rows of the Grid.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.detailCollapseAll = function () {\n        if (this.detailRowModule) {\n            this.detailRowModule.collapseAll();\n        }\n    };\n    /**\n     * Expands a detail row with the given target.\n     *\n     * @param  {Element} target - Defines the collapsed element to expand.\n     * @returns {void}\n     */\n    // public detailExpand(target: number | Element): void {\n    //     if (this.detailRowModule) {\n    //         this.detailRowModule.expand(target);\n    //     }\n    // }\n    /**\n     * Expands all the detail rows of the Grid.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.detailExpandAll = function () {\n        if (this.detailRowModule) {\n            this.detailRowModule.expandAll();\n        }\n    };\n    /**\n     * Deselects the currently selected cells.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.clearCellSelection = function () {\n        if (this.selectionModule) {\n            this.selectionModule.clearCellSelection();\n        }\n    };\n    /**\n     * Deselects the currently selected rows.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.clearRowSelection = function () {\n        if (this.selectionModule) {\n            this.selectionModule.clearRowSelection();\n        }\n    };\n    /**\n     * Selects a collection of cells by row and column indexes.\n     *\n     * @param  {ISelectedCell[]} rowCellIndexes - Specifies the row and column indexes.\n     * @returns {void}\n     */\n    Grid.prototype.selectCells = function (rowCellIndexes) {\n        if (this.selectionModule) {\n            this.selectionModule.selectCells(rowCellIndexes);\n        }\n    };\n    /**\n     * Selects a range of rows from start and end row indexes.\n     *\n     * @param  {number} startIndex - Specifies the start row index.\n     * @param  {number} endIndex - Specifies the end row index.\n     * @returns {void}\n     */\n    Grid.prototype.selectRowsByRange = function (startIndex, endIndex) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRowsByRange(startIndex, endIndex);\n        }\n    };\n    /**\n     * @hidden\n     * @returns {boolean} Returns whether context menu is open or not\n     */\n    Grid.prototype.isContextMenuOpen = function () {\n        return this.contextMenuModule && this.contextMenuModule.isOpen;\n    };\n    /**\n     * @param {Function} module - Defines the module\n     * @returns {boolean} return the injected modules\n     * @hidden\n     */\n    Grid.prototype.ensureModuleInjected = function (module) {\n        return this.getInjectedModules().indexOf(module) >= 0;\n    };\n    /**\n     * Destroys the given template reference.\n     *\n     * @param {string[]} propertyNames - Defines the collection of template name.\n     * @param {any} index - specifies the index\n     */\n    // eslint-disable-next-line\n    Grid.prototype.destroyTemplate = function (propertyNames, index) {\n        this.clearTemplate(propertyNames, index);\n    };\n    /**\n     * @param {string | string[]} type - Defines the type\n     * @param {Object} args - Defines the arguments\n     * @returns {void}\n     * @hidden\n     * @private\n     */\n    Grid.prototype.log = function (type, args) {\n        // eslint-disable-next-line\n        this.loggerModule ? this.loggerModule.log(type, args) : (function () { return 0; })();\n    };\n    /**\n     * @param {Element} element - Defines the element\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.applyBiggerTheme = function (element) {\n        if (this.element.classList.contains('e-bigger')) {\n            element.classList.add('e-bigger');\n        }\n    };\n    /**\n     * @hidden\n     * @returns {Object} Returns the previous row data\n     */\n    Grid.prototype.getPreviousRowData = function () {\n        var previousRowData = this.getRowsObject()[this.getRows().length - 1].data;\n        return previousRowData;\n    };\n    /**\n     * Hides the scrollbar placeholder of Grid content when grid content is not overflown.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.hideScroll = function () {\n        var content = this.getContent().querySelector('.' + literals.content);\n        var scrollBar = this.getContent().querySelector('.e-scrollbar');\n        if (content.scrollHeight <= content.clientHeight) {\n            this.scrollModule.removePadding();\n            content.style.overflowY = 'auto';\n        }\n        if (this.isFrozenGrid() && scrollBar) {\n            var mvblScrollBar = this.getContent().querySelector('.e-movablescrollbar');\n            var mvblChild = this.getContent().querySelector('.e-movablechild');\n            scrollBar.style.display = 'flex';\n            if (mvblScrollBar.offsetWidth >= mvblChild.offsetWidth) {\n                scrollBar.style.display = 'none';\n                this.notify(events.frozenHeight, 0);\n            }\n        }\n    };\n    /**\n     * Get row index by primary key or row data.\n     *\n     * @param  {string | Object} value - Defines the primary key value.\n     * @returns {number} Returns the index\n     */\n    Grid.prototype.getRowIndexByPrimaryKey = function (value) {\n        var pkName = this.getPrimaryKeyFieldNames()[0];\n        value = typeof value === 'object' ? value[pkName] : value;\n        var rows = this.getRowsObject();\n        for (var i = 0; i < rows.length; i++) {\n            if (rows[i].isDetailRow || rows[i].isCaptionRow) {\n                continue;\n            }\n            var pKvalue = rows[i].data[pkName];\n            if (pkName.split('.').length > 1) {\n                pKvalue = performComplexDataOperation(pkName, rows[i].data);\n            }\n            if (pKvalue === value) {\n                return rows[i].index;\n            }\n        }\n        return -1;\n    };\n    /**\n     * @param {string} field - Defines the field name\n     * @returns {Column} returns the column\n     * @hidden\n     */\n    // Need to have all columns while filtering with ColumnVirtualization.\n    Grid.prototype.grabColumnByFieldFromAllCols = function (field) {\n        var column;\n        this.columnModel = [];\n        this.updateColumnModel(this.columns);\n        var gCols = this.columnModel;\n        for (var i = 0; i < gCols.length; i++) {\n            if (field === gCols[i].field) {\n                column = gCols[i];\n            }\n        }\n        return column;\n    };\n    /**\n     * @param {string} uid - Defines the uid\n     * @returns {Column} returns the column\n     * @hidden\n     */\n    // Need to have all columns while filtering with ColumnVirtualization.\n    Grid.prototype.grabColumnByUidFromAllCols = function (uid) {\n        var column;\n        this.columnModel = [];\n        this.updateColumnModel(this.columns);\n        var gCols = this.columnModel;\n        for (var i = 0; i < gCols.length; i++) {\n            if (uid === gCols[i].uid) {\n                column = gCols[i];\n            }\n        }\n        return column;\n    };\n    /**\n     * Get all filtered records from the Grid and it returns array of objects for the local dataSource, returns a promise object if the Grid has remote data.\n     *\n     * @returns {Object[] | Promise<Object>} Returns the filtered records\n     */\n    Grid.prototype.getFilteredRecords = function () {\n        if (this.allowFiltering && this.filterSettings.columns.length) {\n            var query = this.renderModule.data.generateQuery(true);\n            if (this.dataSource && this.renderModule.data.isRemote() && this.dataSource instanceof DataManager) {\n                return this.renderModule.data.getData(this.dataSource, query);\n            }\n            else {\n                if (this.dataSource instanceof DataManager) {\n                    return this.dataSource.executeLocal(query);\n                }\n                else {\n                    return new DataManager(this.dataSource, query).executeLocal(query);\n                }\n            }\n        }\n        return [];\n    };\n    Grid.prototype.getUserAgent = function () {\n        var userAgent = Browser.userAgent.toLowerCase();\n        return /iphone|ipod|ipad/.test(userAgent);\n    };\n    /**\n     * @param {TouchEventArgs} e - Defines the TouchEventArgs\n     * @returns {void}\n     * @hidden\n     */\n    // Need to have all columns while filtering with ColumnVirtualization.\n    // eslint-disable-next-line\n    Grid.prototype.tapEvent = function (e) {\n        if (this.getUserAgent()) {\n            if (!Global.timer) {\n                Global.timer = setTimeout(function () {\n                    Global.timer = null;\n                }, 300);\n            }\n            else {\n                clearTimeout(Global.timer);\n                Global.timer = null;\n                this.dblClickHandler(e);\n                this.notify(events.doubleTap, e);\n            }\n        }\n    };\n    /**\n     * @param {string} prefix - specifies the prefix\n     * @returns {string} returns the row uid\n     * @hidden\n     */\n    Grid.prototype.getRowUid = function (prefix) {\n        return \"\" + prefix + this.rowUid++;\n    };\n    /**\n     * @hidden\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getMovableVirtualContent = function () {\n        return this.getContent().querySelector('.' + literals.movableContent);\n    };\n    /**\n     * @hidden\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getFrozenVirtualContent = function () {\n        return this.getContent().querySelector('.' + literals.frozenContent);\n    };\n    /**\n     * @hidden\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getMovableVirtualHeader = function () {\n        return this.getHeaderContent().querySelector('.' + literals.movableHeader);\n    };\n    /**\n     * @hidden\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getFrozenVirtualHeader = function () {\n        return this.getHeaderContent().querySelector('.' + literals.frozenHeader);\n    };\n    /**\n     * @param {string} uid - specifies the uid\n     * @returns {Element} returns the element\n     * @hidden\n     */\n    Grid.prototype.getRowElementByUID = function (uid) {\n        var rowEle;\n        var rows = [];\n        if (this.isFrozenGrid()) {\n            var fRows = [].slice.call(this.getFrozenVirtualContent().querySelector(literals.tbody).children);\n            var mRows = [].slice.call(this.getMovableVirtualContent().querySelector(literals.tbody).children);\n            var frozenRigtRows = [];\n            if (this.tablesCount === 3) {\n                frozenRigtRows = [].slice.call(this.getContent().querySelector('.e-frozen-right-content').querySelector(literals.tbody).children);\n            }\n            if (this.frozenRows) {\n                rows = [].slice.call(this.getFrozenVirtualHeader().querySelector(literals.tbody).children);\n                rows = rows.concat([].slice.call(this.getMovableVirtualHeader().querySelector(literals.tbody).children));\n                if (this.tablesCount === 3) {\n                    var frHdr = this.getHeaderContent().querySelector('.e-frozen-right-header');\n                    rows = rows.concat([].slice.call(frHdr.querySelector(literals.tbody).children)).concat(frozenRigtRows);\n                }\n                rows = rows.concat(fRows).concat(mRows);\n            }\n            else {\n                rows = fRows.concat(mRows).concat(frozenRigtRows);\n            }\n        }\n        else {\n            var cntRows = [].slice.call(this.getContent().querySelector(literals.tbody).children);\n            if (this.frozenRows) {\n                rows = [].slice.call(this.getHeaderContent().querySelector(literals.tbody).children);\n                rows = rows.concat(cntRows);\n            }\n            else {\n                rows = cntRows;\n            }\n        }\n        for (var _i = 0, rows_2 = rows; _i < rows_2.length; _i++) {\n            var row = rows_2[_i];\n            if (row.getAttribute('data-uid') === uid) {\n                rowEle = row;\n                break;\n            }\n        }\n        return rowEle;\n    };\n    /**\n     * Gets the hidden columns from the Grid.\n     *\n     * @returns {Column[]} Returns the Column\n     */\n    Grid.prototype.getHiddenColumns = function () {\n        var cols = [];\n        for (var _i = 0, _a = this.columnModel; _i < _a.length; _i++) {\n            var col = _a[_i];\n            if (col.visible === false) {\n                cols.push(col);\n            }\n        }\n        return cols;\n    };\n    /**\n     * calculatePageSizeByParentHeight\n     *\n     * @param {number | string } containerHeight - specifies the container height\n     * @returns {number} returns the page size\n     */\n    Grid.prototype.calculatePageSizeByParentHeight = function (containerHeight) {\n        if (this.allowPaging) {\n            if ((this.allowTextWrap && this.textWrapSettings.wrapMode === 'Header') || (!this.allowTextWrap)) {\n                var pagesize = 0;\n                if (containerHeight.indexOf('%') !== -1) {\n                    containerHeight = parseInt(containerHeight, 10) / 100 * this.element.clientHeight;\n                }\n                var nonContentHeight = this.getNoncontentHeight() + this.getRowHeight();\n                if (containerHeight > nonContentHeight) {\n                    var contentHeight = 0;\n                    contentHeight = containerHeight - this.getNoncontentHeight();\n                    pagesize = (contentHeight / this.getRowHeight());\n                }\n                if (pagesize > 0) {\n                    return Math.floor(pagesize);\n                }\n            }\n        }\n        return 0;\n    };\n    Grid.prototype.getNoncontentHeight = function () {\n        var height = 0;\n        if (!isNullOrUndefined(this.getHeaderContent().clientHeight)) {\n            height += this.getHeaderContent().clientHeight;\n        }\n        if (this.toolbar && !isNullOrUndefined(this.element.querySelector('.e-toolbar').clientHeight)) {\n            height += this.element.querySelector('.e-toolbar').clientHeight;\n        }\n        if (this.allowPaging && !isNullOrUndefined(this.element.querySelector('.e-gridpager').clientHeight)) {\n            height += this.element.querySelector('.e-gridpager').clientHeight;\n        }\n        if (this.showColumnChooser && !isNullOrUndefined(this.element.querySelector('.e-columnheader').clientHeight)) {\n            height += this.element.querySelector('.e-columnheader').clientHeight;\n        }\n        if (this.allowGrouping && this.groupSettings.showDropArea && !isNullOrUndefined(this.element.querySelector('.e-groupdroparea').clientHeight)) {\n            height += this.element.querySelector('.e-groupdroparea').clientHeight;\n        }\n        if (this.aggregates.length > 0 && !isNullOrUndefined(this.element.querySelector('.e-summaryrow').clientHeight)) {\n            for (var i = 0; i < this.element.getElementsByClassName('e-summaryrow').length; i++) {\n                height += this.element.getElementsByClassName('e-summaryrow')[i].clientHeight;\n            }\n        }\n        return height;\n    };\n    /**\n     *To perform aggregate operation on a column.\n     *\n     * @param  {AggregateColumnModel} summaryCol - Pass Aggregate Column details.\n     * @param  {Object} summaryData - Pass JSON Array for which its field values to be calculated.\n     * @returns {number} returns the summary values\n     */\n    Grid.prototype.getSummaryValues = function (summaryCol, summaryData) {\n        return DataUtil.aggregates[summaryCol.type.toLowerCase()](summaryData, summaryCol.field);\n    };\n    /**\n     * Sends a Post request to export Grid to Excel file in server side.\n     *\n     * @param  {string} url - Pass Url for server side excel export action.\n     * @returns {void}\n     */\n    Grid.prototype.serverExcelExport = function (url) {\n        this.isExcel = true;\n        this.exportGrid(url);\n    };\n    /**\n     * Sends a Post request to export Grid to Pdf file in server side.\n     *\n     * @param  {string} url - Pass Url for server side pdf export action.\n     * @returns {void}\n     */\n    Grid.prototype.serverPdfExport = function (url) {\n        this.isExcel = false;\n        this.exportGrid(url);\n    };\n    /**\n     * Sends a Post request to export Grid to CSV file in server side.\n     *\n     * @param  {string} url - Pass Url for server side pdf export action.\n     * @returns {void}\n     */\n    Grid.prototype.serverCsvExport = function (url) {\n        this.isExcel = true;\n        this.exportGrid(url);\n    };\n    /**\n     * @param {string} url - Defines exporting url\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.exportGrid = function (url) {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var grid = this;\n        var query = grid.getDataModule().generateQuery(true);\n        var state = new UrlAdaptor().processQuery(new DataManager({ url: '' }), query);\n        var queries = JSON.parse(state.data);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var gridModel = JSON.parse(this.addOnPersist(['allowGrouping', 'allowPaging', 'pageSettings', 'sortSettings', 'allowPdfExport', 'allowExcelExport', 'aggregates',\n            'filterSettings', 'groupSettings', 'columns', 'locale', 'searchSettings']));\n        var include = ['field', 'headerText', 'type', 'format', 'visible', 'foreignKeyValue', 'foreignKeyField',\n            'template', 'index', 'width', 'textAlign', 'headerTextAlign', 'columns'];\n        gridModel.filterSettings.columns = queries.where;\n        gridModel.searchSettings.fields = queries.search && queries.search[0]['fields'] || [];\n        gridModel.sortSettings.columns = queries.sorted;\n        gridModel.columns = this.setHeaderText(gridModel.columns, include);\n        var form = this.createElement('form', { id: 'ExportForm', styles: 'display:none;' });\n        var gridInput = this.createElement('input', { id: 'gridInput', attrs: { name: 'gridModel' } });\n        gridInput.value = JSON.stringify(gridModel);\n        form.method = 'POST';\n        form.action = url;\n        form.appendChild(gridInput);\n        document.body.appendChild(form);\n        form.submit();\n        form.remove();\n    };\n    /**\n     * @param {Column[]} columns - Defines array of columns\n     * @param {string[]} include - Defines array of sting\n     * @returns {Column[]} returns array of columns\n     * @hidden\n     */\n    Grid.prototype.setHeaderText = function (columns, include) {\n        for (var i = 0; i < columns.length; i++) {\n            var column = this.getColumnByUid(columns[i].uid);\n            columns[i].headerText = column.headerText;\n            if (!isNullOrUndefined(column.template)) {\n                columns[i].template = 'true';\n            }\n            if (columns[i].format) {\n                columns[i].format = getNumberFormat(this.getFormat(columns[i].format), columns[i].type, this.isExcel);\n            }\n            if (columns[i].columns) {\n                this.setHeaderText(columns[i].columns, include);\n            }\n            var keys = Object.keys(columns[i]);\n            for (var j = 0; j < keys.length; j++) {\n                if (include.indexOf(keys[j]) < 0) {\n                    delete columns[i][keys[j]];\n                }\n            }\n        }\n        return columns;\n    };\n    Grid.prototype.getFormat = function (format) {\n        return typeof (format) === 'object' ? !isNullOrUndefined(format.format) ?\n            format.format : format.skeleton : format;\n    };\n    /**\n     * @hidden\n     * @returns {boolean} returns the isCollapseStateEnabled\n     */\n    Grid.prototype.isCollapseStateEnabled = function () {\n        var isExpanded = 'isExpanded';\n        return this[isExpanded] === false;\n    };\n    /**\n     * @param {number} key - Defines the primary key value.\n     * @param {Object} rowData - Defines the rowData\n     * @returns {void}\n     */\n    Grid.prototype.updateRowValue = function (key, rowData) {\n        var args = {\n            requestType: 'save', data: rowData\n        };\n        this.showSpinner();\n        this.notify(events.updateData, args);\n        this.refresh();\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.setForeignKeyData = function () {\n        this.dataBind();\n        var colpending = this.getDataModule().getForeignKeyDataState();\n        if (colpending.isPending) {\n            this.getDataModule().setForeignKeyDataState({});\n            colpending.resolver();\n        }\n        else {\n            this.getDataModule().setForeignKeyDataState({ isDataChanged: false });\n            if (this.contentModule || this.headerModule) {\n                this.renderModule.render();\n            }\n        }\n    };\n    /**\n     * @param {string} field - specifies the field\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.resetFilterDlgPosition = function (field) {\n        var header = this.getColumnHeaderByField(field);\n        if (header) {\n            var target = header.querySelector('.e-filtermenudiv');\n            var filterDlg = this.element.querySelector('.e-filter-popup');\n            if (target && filterDlg) {\n                var gClient = this.element.getBoundingClientRect();\n                var fClient = target.getBoundingClientRect();\n                if (filterDlg) {\n                    if ((filterDlg.offsetWidth + fClient.right) > gClient.right) {\n                        filterDlg.style.left = ((fClient.right - filterDlg.offsetWidth) - gClient.left).toString() + 'px';\n                    }\n                    else {\n                        filterDlg.style.left = (fClient.right - gClient.left).toString() + 'px';\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.renderTemplates = function () {\n        var portals = 'portals';\n        this.notify('reactTemplateRender', this[portals]);\n        this.renderReactTemplates();\n    };\n    /**\n     * Apply the changes to the Grid without refreshing the rows.\n     *\n     * @param  {BatchChanges} changes - Defines changes to be updated.\n     * @returns {void}\n     */\n    Grid.prototype.batchUpdate = function (changes) {\n        this.processRowChanges(changes);\n    };\n    /**\n     * Apply the changes to the Grid in one batch after 50ms without refreshing the rows.\n     *\n     * @param  {BatchChanges} changes - Defines changes to be updated.\n     * @returns {void}\n     */\n    Grid.prototype.batchAsyncUpdate = function (changes) {\n        this.processBulkRowChanges(changes);\n    };\n    Grid.prototype.processBulkRowChanges = function (changes) {\n        var _this = this;\n        if (!this.dataToBeUpdated) {\n            this.dataToBeUpdated = Object.assign({ addedRecords: [], changedRecords: [], deletedRecords: [] }, changes);\n            setTimeout(function () {\n                _this.processRowChanges(_this.dataToBeUpdated);\n                _this.dataToBeUpdated = null;\n            }, this.asyncTimeOut);\n        }\n        else {\n            var loopstring = [literals.addedRecords, literals.changedRecords, literals.deletedRecords];\n            var keyField = this.getPrimaryKeyFieldNames()[0];\n            for (var i = 0; i < loopstring.length; i++) {\n                if (changes[loopstring[i]]) {\n                    compareChanges(this, changes, loopstring[i], keyField);\n                }\n            }\n        }\n    };\n    Grid.prototype.processRowChanges = function (changes) {\n        var _this = this;\n        var keyField = this.getPrimaryKeyFieldNames()[0];\n        changes = Object.assign({ addedRecords: [], changedRecords: [], deletedRecords: [] }, changes);\n        var promise = this.getDataModule().saveChanges(changes, keyField, {}, this.getDataModule().generateQuery().requiresCount());\n        if (this.getDataModule().isRemote()) {\n            promise.then(function () {\n                _this.setNewData();\n            });\n        }\n        else {\n            this.setNewData();\n        }\n    };\n    Grid.prototype.setNewData = function () {\n        var _this = this;\n        var oldValues = JSON.parse(JSON.stringify(this.getCurrentViewRecords()));\n        var getData = this.getDataModule().getData({}, this.getDataModule().generateQuery().requiresCount());\n        getData.then(function (e) {\n            _this.bulkRefresh(e.result, oldValues, e.count);\n        });\n    };\n    Grid.prototype.deleteRowElement = function (row) {\n        var tr = this.getRowElementByUID(row.uid);\n        var index = parseInt(tr.getAttribute(literals.ariaRowIndex), 10);\n        remove(tr);\n        if (this.getFrozenColumns()) {\n            var mtr = this.getMovableRows()[index];\n            remove(mtr);\n        }\n    };\n    Grid.prototype.bulkRefresh = function (result, oldValues, count) {\n        var _this = this;\n        var rowObj = this.getRowsObject();\n        var keyField = this.getPrimaryKeyFieldNames()[0];\n        var _loop_3 = function (i) {\n            if (!result.filter(function (e) { return e[keyField] === rowObj[i].data[keyField]; }).length) {\n                this_3.deleteRowElement(rowObj[i]);\n                rowObj.splice(i, 1);\n                i--;\n            }\n            out_i_1 = i;\n        };\n        var this_3 = this, out_i_1;\n        for (var i = 0; i < rowObj.length; i++) {\n            _loop_3(i);\n            i = out_i_1;\n        }\n        var _loop_4 = function (i) {\n            var isRowExist;\n            oldValues.filter(function (e) {\n                if (e[keyField] === result[i][keyField]) {\n                    if (e !== result[i]) {\n                        _this.setRowData(result[i][keyField], result[i]);\n                    }\n                    isRowExist = true;\n                }\n            });\n            if (!isRowExist) {\n                this_4.renderRowElement(result[i], i);\n            }\n        };\n        var this_4 = this;\n        for (var i = 0; i < result.length; i++) {\n            _loop_4(i);\n        }\n        this.currentViewData = result;\n        var rows = [].slice.call(this.getContentTable().getElementsByClassName(literals.row));\n        resetRowIndex(this, this.getRowsObject(), rows);\n        setRowElements(this);\n        if (this.allowPaging) {\n            this.notify(events.inBoundModelChanged, { module: 'pager', properties: { totalRecordsCount: count } });\n        }\n    };\n    Grid.prototype.renderRowElement = function (data, index) {\n        var row = new RowRenderer(this.serviceLocator, null, this);\n        var model = new RowModelGenerator(this);\n        var modelData = model.generateRows([data]);\n        var tr = row.render(modelData[0], this.getColumns());\n        var mTr;\n        var mTbody;\n        this.addRowObject(modelData[0], index);\n        var tbody = this.getContentTable().querySelector(literals.tbody);\n        if (tbody.querySelector('.e-emptyrow')) {\n            var emptyRow = tbody.querySelector('.e-emptyrow');\n            emptyRow.parentNode.removeChild(emptyRow);\n            if (this.getFrozenColumns()) {\n                var moveTbody = this.getContent().querySelector('.' + literals.movableContent).querySelector(literals.tbody);\n                (moveTbody.firstElementChild).parentNode.removeChild(moveTbody.firstElementChild);\n            }\n        }\n        if (this.getFrozenColumns()) {\n            mTr = renderMovable(tr, this.getFrozenColumns(), this);\n            if (this.frozenRows && index < this.frozenRows) {\n                mTbody = this.getHeaderContent().querySelector('.' + literals.movableHeader).querySelector(literals.tbody);\n            }\n            else {\n                mTbody = this.getContent().querySelector('.' + literals.movableContent).querySelector(literals.tbody);\n            }\n            mTbody.appendChild(mTr);\n            if (this.height === 'auto') {\n                this.notify(events.frozenHeight, {});\n            }\n        }\n        if (this.frozenRows && index < this.frozenRows) {\n            tbody = this.getHeaderContent().querySelector(literals.tbody);\n        }\n        else {\n            tbody = this.getContent().querySelector(literals.tbody);\n        }\n        tbody = this.getContent().querySelector(literals.tbody);\n        tbody.appendChild(tr);\n    };\n    Grid.prototype.addRowObject = function (row, index) {\n        var frzCols = this.getFrozenColumns();\n        if (frzCols) {\n            var mRows = this.getMovableRowsObject();\n            var mRow = row.clone();\n            mRow.cells = mRow.cells.slice(frzCols);\n            row.cells = row.cells.slice(0, frzCols);\n            mRows.splice(index, 1, mRow);\n        }\n        this.getRowsObject().splice(index, 1, row);\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.updateVisibleExpandCollapseRows = function () {\n        var rows = this.getRowsObject();\n        for (var i = 0, len = rows.length; i < len; i++) {\n            if ((rows[i].isDataRow || rows[i].isAggregateRow) && this.getRowElementByUID(rows[i].uid).style.display === 'none') {\n                rows[i].visible = false;\n            }\n            else {\n                rows[i].visible = true;\n            }\n        }\n    };\n    /**\n     * @param {string | number} height - specifies the height\n     * @returns {number | string} - specifies the height number\n     * @hidden\n     */\n    Grid.prototype.getHeight = function (height) {\n        if (!Number.isInteger(height) && height.indexOf('%') !== -1) {\n            height = parseInt(height, 10) / 100 * this.element.clientHeight;\n        }\n        else if (!Number.isInteger(height) && this.height !== 'auto') {\n            height = parseInt(height, 10);\n        }\n        else {\n            height = this.height;\n        }\n        return height;\n    };\n    /**\n     * @hidden\n     * @returns {Element} - returns frozen right content\n     */\n    Grid.prototype.getFrozenRightContent = function () {\n        return this.getContent().querySelector('.e-frozen-right-content');\n    };\n    /**\n     * @hidden\n     * @returns {Element} - returns frozen right header\n     */\n    Grid.prototype.getFrozenRightHeader = function () {\n        return this.getHeaderContent().querySelector('.e-frozen-right-header');\n    };\n    /**\n     * @hidden\n     * @returns {Element} - returns movable header tbody\n     */\n    Grid.prototype.getMovableHeaderTbody = function () {\n        return this.getMovableVirtualHeader().querySelector(literals.tbody);\n    };\n    /**\n     * @hidden\n     * @returns {Element} - returns movable content tbody\n     */\n    Grid.prototype.getMovableContentTbody = function () {\n        return this.getMovableVirtualContent().querySelector(literals.tbody);\n    };\n    /**\n     * @hidden\n     * @returns {Element} - returns frozen header tbody\n     */\n    Grid.prototype.getFrozenHeaderTbody = function () {\n        return this.getFrozenVirtualHeader().querySelector(literals.tbody);\n    };\n    /**\n     * @hidden\n     * @returns {Element} - returns frozen left content tbody\n     */\n    Grid.prototype.getFrozenLeftContentTbody = function () {\n        return this.getFrozenVirtualContent().querySelector(literals.tbody);\n    };\n    /**\n     * @hidden\n     * @returns {Element} - returns frozen right header tbody\n     */\n    Grid.prototype.getFrozenRightHeaderTbody = function () {\n        return this.getFrozenRightHeader().querySelector(literals.tbody);\n    };\n    /**\n     * @returns {Element} returns frozen right content tbody\n     * @hidden\n     */\n    Grid.prototype.getFrozenRightContentTbody = function () {\n        var cnt = this.getFrozenRightContent();\n        var tbody;\n        if (cnt) {\n            tbody = this.getFrozenRightContent().querySelector(literals.tbody);\n        }\n        return tbody;\n    };\n    /**\n     * @param {boolean} isCustom - Defines custom filter dialog open\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.showResponsiveCustomFilter = function (isCustom) {\n        if (this.filterModule) {\n            this.filterModule.showCustomFilter(isCustom || this.rowRenderingMode === 'Vertical');\n        }\n    };\n    /**\n     * @param {boolean} isCustom - Defines custom sort dialog open\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.showResponsiveCustomSort = function (isCustom) {\n        if (this.sortModule) {\n            this.sortModule.showCustomSort(isCustom || this.rowRenderingMode === 'Vertical');\n        }\n    };\n    /**\n     * To manually show the vertical row mode filter dialog\n     *\n     * @returns {void}\n     */\n    Grid.prototype.showAdaptiveFilterDialog = function () {\n        if (this.enableAdaptiveUI) {\n            this.showResponsiveCustomFilter(true);\n        }\n    };\n    /**\n     * To manually show the vertical row sort filter dialog\n     *\n     * @returns {void}\n     */\n    Grid.prototype.showAdaptiveSortDialog = function () {\n        if (this.enableAdaptiveUI) {\n            this.showResponsiveCustomSort(true);\n        }\n    };\n    /**\n     * @param {boolean} isColVirtualization - Defines column virtualization\n     * @returns {Column[]} returns array of column models\n     * @hidden\n     */\n    Grid.prototype.getCurrentVisibleColumns = function (isColVirtualization) {\n        var cols = [];\n        var gridCols = isColVirtualization ? this.getColumns() : this.columnModel;\n        for (var _i = 0, gridCols_1 = gridCols; _i < gridCols_1.length; _i++) {\n            var col = gridCols_1[_i];\n            if (col.visible) {\n                cols.push(col);\n            }\n        }\n        return cols;\n    };\n    Grid.prototype.enableInfiniteAggrgate = function () {\n        if (this.enableInfiniteScrolling && this.groupSettings.columns.length && !this.groupSettings.disablePageWiseAggregates) {\n            this.setProperties({ groupSettings: { disablePageWiseAggregates: true } }, true);\n        }\n    };\n    var Grid_1;\n    __decorate([\n        Property()\n    ], Grid.prototype, \"parentDetails\", void 0);\n    __decorate([\n        Property([])\n    ], Grid.prototype, \"columns\", void 0);\n    __decorate([\n        Property(true)\n    ], Grid.prototype, \"enableAltRow\", void 0);\n    __decorate([\n        Property(true)\n    ], Grid.prototype, \"enableHover\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"enableAutoFill\", void 0);\n    __decorate([\n        Property(true)\n    ], Grid.prototype, \"allowKeyboard\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"enableStickyHeader\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowTextWrap\", void 0);\n    __decorate([\n        Complex({}, TextWrapSettings)\n    ], Grid.prototype, \"textWrapSettings\", void 0);\n    __decorate([\n        Complex({}, ResizeSettings)\n    ], Grid.prototype, \"resizeSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowPaging\", void 0);\n    __decorate([\n        Complex({}, PageSettings)\n    ], Grid.prototype, \"pageSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"enableVirtualization\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"enableColumnVirtualization\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"enableInfiniteScrolling\", void 0);\n    __decorate([\n        Complex({}, SearchSettings)\n    ], Grid.prototype, \"searchSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowSorting\", void 0);\n    __decorate([\n        Property('Ellipsis')\n    ], Grid.prototype, \"clipMode\", void 0);\n    __decorate([\n        Property(true)\n    ], Grid.prototype, \"allowMultiSorting\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowExcelExport\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowPdfExport\", void 0);\n    __decorate([\n        Complex({}, SortSettings)\n    ], Grid.prototype, \"sortSettings\", void 0);\n    __decorate([\n        Complex({}, InfiniteScrollSettings)\n    ], Grid.prototype, \"infiniteScrollSettings\", void 0);\n    __decorate([\n        Property(true)\n    ], Grid.prototype, \"allowSelection\", void 0);\n    __decorate([\n        Property(-1)\n    ], Grid.prototype, \"selectedRowIndex\", void 0);\n    __decorate([\n        Complex({}, SelectionSettings)\n    ], Grid.prototype, \"selectionSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property('Horizontal')\n    ], Grid.prototype, \"rowRenderingMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"enableAdaptiveUI\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowReordering\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowResizing\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowRowDragAndDrop\", void 0);\n    __decorate([\n        Complex({}, RowDropSettings)\n    ], Grid.prototype, \"rowDropSettings\", void 0);\n    __decorate([\n        Complex({}, FilterSettings)\n    ], Grid.prototype, \"filterSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowGrouping\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"enableImmutableMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"showColumnMenu\", void 0);\n    __decorate([\n        Complex({}, GroupSettings)\n    ], Grid.prototype, \"groupSettings\", void 0);\n    __decorate([\n        Complex({}, EditSettings)\n    ], Grid.prototype, \"editSettings\", void 0);\n    __decorate([\n        Collection([], AggregateRow)\n    ], Grid.prototype, \"aggregates\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"showColumnChooser\", void 0);\n    __decorate([\n        Complex({}, ColumnChooserSettings)\n    ], Grid.prototype, \"columnChooserSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"enableHeaderFocus\", void 0);\n    __decorate([\n        Property('auto')\n    ], Grid.prototype, \"height\", void 0);\n    __decorate([\n        Property('auto')\n    ], Grid.prototype, \"width\", void 0);\n    __decorate([\n        Property('Default')\n    ], Grid.prototype, \"gridLines\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"rowTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"detailTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"childGrid\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"queryString\", void 0);\n    __decorate([\n        Property('AllPages')\n    ], Grid.prototype, \"printMode\", void 0);\n    __decorate([\n        Property('Expanded')\n    ], Grid.prototype, \"hierarchyPrintMode\", void 0);\n    __decorate([\n        Property([])\n    ], Grid.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property(null)\n    ], Grid.prototype, \"rowHeight\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"query\", void 0);\n    __decorate([\n        Property('USD')\n    ], Grid.prototype, \"currencyCode\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"toolbar\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"contextMenuItems\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"columnMenuItems\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"toolbarTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"pagerTemplate\", void 0);\n    __decorate([\n        Property(0)\n    ], Grid.prototype, \"frozenRows\", void 0);\n    __decorate([\n        Property(0)\n    ], Grid.prototype, \"frozenColumns\", void 0);\n    __decorate([\n        Property('All')\n    ], Grid.prototype, \"columnQueryMode\", void 0);\n    __decorate([\n        Property({})\n    ], Grid.prototype, \"currentAction\", void 0);\n    __decorate([\n        Property('20.1.47')\n    ], Grid.prototype, \"ej2StatePersistenceVersion\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"rowDataBound\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"queryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"headerCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"recordDoubleClick\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"recordClick\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"rowSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"rowSelected\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"rowDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"rowDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"cellSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"cellSelected\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"cellDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"cellDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnSelected\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnDragStart\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnDrag\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnDrop\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"printComplete\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforePrint\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"pdfQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"pdfHeaderQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"pdfAggregateQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"excelAggregateQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"exportDetailDataBound\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"excelQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"excelHeaderQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforeExcelExport\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"excelExportComplete\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforePdfExport\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"pdfExportComplete\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"rowDragStartHelper\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"detailDataBound\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"rowDragStart\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"rowDrag\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"rowDrop\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"toolbarClick\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforeOpenColumnChooser\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforeOpenAdaptiveDialog\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"batchAdd\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"batchDelete\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"batchCancel\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforeBatchAdd\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforeBatchDelete\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforeBatchSave\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beginEdit\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"commandClick\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"cellEdit\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"cellSave\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"cellSaved\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"resizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"resizing\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"resizeStop\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"keyPressed\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforeDataBound\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"contextMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"contextMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"checkBoxChange\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforeCopy\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforePaste\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforeAutoFill\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnDataStateChange\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"dataStateChange\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"dataSourceChanged\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"exportGroupCaption\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"lazyLoadGroupExpand\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"lazyLoadGroupCollapse\", void 0);\n    Grid = Grid_1 = __decorate([\n        NotifyPropertyChanges\n    ], Grid);\n    return Grid;\n}(Component));\nexport { Grid };\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","/* eslint-disable valid-jsdoc, jsdoc/require-jsdoc, jsdoc/require-returns, jsdoc/require-param */\nimport { createElement, attributes, addClass, removeClass, detach, classList } from '@syncfusion/ej2-base';\nimport { closest, formatUnit, isNullOrUndefined, remove } from '@syncfusion/ej2-base';\nvar CLASSNAMES = {\n    RTL: 'e-rtl',\n    DISABLE: 'e-disabled',\n    INPUT: 'e-input',\n    TEXTAREA: 'e-multi-line-input',\n    INPUTGROUP: 'e-input-group',\n    FLOATINPUT: 'e-float-input',\n    FLOATLINE: 'e-float-line',\n    FLOATTEXT: 'e-float-text',\n    CLEARICON: 'e-clear-icon',\n    CLEARICONHIDE: 'e-clear-icon-hide',\n    LABELTOP: 'e-label-top',\n    LABELBOTTOM: 'e-label-bottom',\n    NOFLOATLABEL: 'e-no-float-label',\n    INPUTCUSTOMTAG: 'e-input-custom-tag',\n    FLOATCUSTOMTAG: 'e-float-custom-tag'\n};\n/**\n * Base for Input creation through util methods.\n */\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport var Input;\n(function (Input) {\n    var privateInputObj = {\n        container: null,\n        buttons: [],\n        clearButton: null\n    };\n    var floatType;\n    var isBindClearAction = true;\n    /**\n     * Create a wrapper to input element with multiple span elements and set the basic properties to input based components.\n     * ```\n     * E.g : Input.createInput({ element: element, floatLabelType : \"Auto\", properties: { placeholder: 'Search' } });\n     * ```\n     *\n     */\n    function createInput(args, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var inputObject = { container: null, buttons: [], clearButton: null };\n        floatType = args.floatLabelType;\n        isBindClearAction = args.bindClearAction;\n        if (isNullOrUndefined(args.floatLabelType) || args.floatLabelType === 'Never') {\n            inputObject.container = createInputContainer(args, CLASSNAMES.INPUTGROUP, CLASSNAMES.INPUTCUSTOMTAG, 'span', makeElement);\n            args.element.parentNode.insertBefore(inputObject.container, args.element);\n            addClass([args.element], CLASSNAMES.INPUT);\n            inputObject.container.appendChild(args.element);\n        }\n        else {\n            createFloatingInput(args, inputObject, makeElement);\n        }\n        bindInitialEvent(args);\n        if (!isNullOrUndefined(args.properties) && !isNullOrUndefined(args.properties.showClearButton) &&\n            args.properties.showClearButton && args.element.tagName !== 'TEXTAREA') {\n            setClearButton(args.properties.showClearButton, args.element, inputObject, true, makeElement);\n            inputObject.clearButton.setAttribute('role', 'button');\n            if (inputObject.container.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                addClass([inputObject.container], CLASSNAMES.INPUTGROUP);\n            }\n        }\n        if (!isNullOrUndefined(args.buttons) && args.element.tagName !== 'TEXTAREA') {\n            for (var i = 0; i < args.buttons.length; i++) {\n                inputObject.buttons.push(appendSpan(args.buttons[i], inputObject.container, makeElement));\n            }\n        }\n        if (!isNullOrUndefined(args.element) && args.element.tagName === 'TEXTAREA') {\n            addClass([inputObject.container], CLASSNAMES.TEXTAREA);\n        }\n        validateInputType(inputObject.container, args.element);\n        inputObject = setPropertyValue(args, inputObject);\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        privateInputObj = inputObject;\n        return inputObject;\n    }\n    Input.createInput = createInput;\n    function bindInitialEvent(args) {\n        checkInputValue(args.floatLabelType, args.element);\n        args.element.addEventListener('focus', function () {\n            var parent = getParentNode(this);\n            if (parent.classList.contains('e-input-group') || parent.classList.contains('e-outline')\n                || parent.classList.contains('e-filled')) {\n                parent.classList.add('e-input-focus');\n            }\n        });\n        args.element.addEventListener('blur', function () {\n            var parent = getParentNode(this);\n            if (parent.classList.contains('e-input-group') || parent.classList.contains('e-outline')\n                || parent.classList.contains('e-filled')) {\n                parent.classList.remove('e-input-focus');\n            }\n        });\n        args.element.addEventListener('input', function () {\n            checkInputValue(floatType, args.element);\n        });\n    }\n    Input.bindInitialEvent = bindInitialEvent;\n    function checkInputValue(floatLabelType, inputElement) {\n        var inputValue = inputElement.value;\n        if (inputValue !== '' && !isNullOrUndefined(inputValue) && inputElement.parentElement) {\n            inputElement.parentElement.classList.add('e-valid-input');\n        }\n        else if (floatLabelType !== 'Always' && inputElement.parentElement) {\n            inputElement.parentElement.classList.remove('e-valid-input');\n        }\n    }\n    function _focusFn() {\n        var label = getParentNode(this).getElementsByClassName('e-float-text')[0];\n        if (!isNullOrUndefined(label)) {\n            addClass([label], CLASSNAMES.LABELTOP);\n            if (label.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n                removeClass([label], CLASSNAMES.LABELBOTTOM);\n            }\n        }\n    }\n    function _blurFn() {\n        var parent = getParentNode(this);\n        if ((parent.getElementsByTagName('textarea')[0]) ? parent.getElementsByTagName('textarea')[0].value === '' :\n            parent.getElementsByTagName('input')[0].value === '') {\n            var label = parent.getElementsByClassName('e-float-text')[0];\n            if (!isNullOrUndefined(label)) {\n                if (label.classList.contains(CLASSNAMES.LABELTOP)) {\n                    removeClass([label], CLASSNAMES.LABELTOP);\n                }\n                addClass([label], CLASSNAMES.LABELBOTTOM);\n            }\n        }\n    }\n    function wireFloatingEvents(element) {\n        element.addEventListener('focus', _focusFn);\n        element.addEventListener('blur', _blurFn);\n    }\n    Input.wireFloatingEvents = wireFloatingEvents;\n    function unwireFloatingEvents(element) {\n        element.removeEventListener('focus', _focusFn);\n        element.removeEventListener('blur', _blurFn);\n    }\n    function createFloatingInput(args, inputObject, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        if (args.floatLabelType === 'Auto') {\n            wireFloatingEvents(args.element);\n        }\n        if (isNullOrUndefined(inputObject.container)) {\n            inputObject.container = createInputContainer(args, CLASSNAMES.FLOATINPUT, CLASSNAMES.FLOATCUSTOMTAG, 'div', makeElement);\n            if (args.element.parentNode) {\n                args.element.parentNode.insertBefore(inputObject.container, args.element);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(args.customTag)) {\n                inputObject.container.classList.add(CLASSNAMES.FLOATCUSTOMTAG);\n            }\n            inputObject.container.classList.add(CLASSNAMES.FLOATINPUT);\n        }\n        var floatLinelement = makeElement('span', { className: CLASSNAMES.FLOATLINE });\n        var floatLabelElement = makeElement('label', { className: CLASSNAMES.FLOATTEXT });\n        if (!isNullOrUndefined(args.element.id) && args.element.id !== '') {\n            floatLabelElement.id = 'label_' + args.element.id.replace(/ /g, '_');\n            attributes(args.element, { 'aria-labelledby': floatLabelElement.id });\n        }\n        if (!isNullOrUndefined(args.element.placeholder) && args.element.placeholder !== '') {\n            floatLabelElement.innerText = encodePlaceHolder(args.element.placeholder);\n            args.element.removeAttribute('placeholder');\n        }\n        if (!isNullOrUndefined(args.properties) && !isNullOrUndefined(args.properties.placeholder) &&\n            args.properties.placeholder !== '') {\n            floatLabelElement.innerText = encodePlaceHolder(args.properties.placeholder);\n        }\n        if (!floatLabelElement.innerText) {\n            inputObject.container.classList.add(CLASSNAMES.NOFLOATLABEL);\n        }\n        if (inputObject.container.classList.contains('e-float-icon-left')) {\n            var inputWrap = inputObject.container.querySelector('.e-input-in-wrap');\n            inputWrap.appendChild(args.element);\n            inputWrap.appendChild(floatLinelement);\n            inputWrap.appendChild(floatLabelElement);\n        }\n        else {\n            inputObject.container.appendChild(args.element);\n            inputObject.container.appendChild(floatLinelement);\n            inputObject.container.appendChild(floatLabelElement);\n        }\n        updateLabelState(args.element.value, floatLabelElement);\n        if (args.floatLabelType === 'Always') {\n            if (floatLabelElement.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n                removeClass([floatLabelElement], CLASSNAMES.LABELBOTTOM);\n            }\n            addClass([floatLabelElement], CLASSNAMES.LABELTOP);\n        }\n        if (args.floatLabelType === 'Auto') {\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            args.element.addEventListener('input', function (event) {\n                updateLabelState(args.element.value, floatLabelElement, args.element);\n            });\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            args.element.addEventListener('blur', function (event) {\n                updateLabelState(args.element.value, floatLabelElement);\n            });\n        }\n        if (!isNullOrUndefined(args.element.getAttribute('id'))) {\n            floatLabelElement.setAttribute('for', args.element.getAttribute('id'));\n        }\n    }\n    function checkFloatLabelType(type, container) {\n        if (type === 'Always' && container.classList.contains('e-outline')) {\n            container.classList.add('e-valid-input');\n        }\n    }\n    function setPropertyValue(args, inputObject) {\n        if (!isNullOrUndefined(args.properties)) {\n            for (var _i = 0, _a = Object.keys(args.properties); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'cssClass':\n                        setCssClass(args.properties.cssClass, [inputObject.container]);\n                        checkFloatLabelType(args.floatLabelType, inputObject.container);\n                        break;\n                    case 'enabled':\n                        setEnabled(args.properties.enabled, args.element, args.floatLabelType, inputObject.container);\n                        break;\n                    case 'enableRtl':\n                        setEnableRtl(args.properties.enableRtl, [inputObject.container]);\n                        break;\n                    case 'placeholder':\n                        setPlaceholder(args.properties.placeholder, args.element);\n                        break;\n                    case 'readonly':\n                        setReadonly(args.properties.readonly, args.element);\n                        break;\n                }\n            }\n        }\n        return inputObject;\n    }\n    function updateIconState(value, button) {\n        if (value) {\n            removeClass([button], CLASSNAMES.CLEARICONHIDE);\n        }\n        else {\n            addClass([button], CLASSNAMES.CLEARICONHIDE);\n        }\n    }\n    function updateLabelState(value, label, element) {\n        if (element === void 0) { element = null; }\n        if (value) {\n            addClass([label], CLASSNAMES.LABELTOP);\n            if (label.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n                removeClass([label], CLASSNAMES.LABELBOTTOM);\n            }\n        }\n        else {\n            var isNotFocused = element != null ? element !== document.activeElement : true;\n            if (isNotFocused) {\n                if (label.classList.contains(CLASSNAMES.LABELTOP)) {\n                    removeClass([label], CLASSNAMES.LABELTOP);\n                }\n                addClass([label], CLASSNAMES.LABELBOTTOM);\n            }\n        }\n    }\n    function getParentNode(element) {\n        var parentNode = isNullOrUndefined(element.parentNode) ? element\n            : element.parentNode;\n        if (parentNode && parentNode.classList.contains('e-input-in-wrap')) {\n            parentNode = parentNode.parentNode;\n        }\n        return parentNode;\n    }\n    /**\n     * To create clear button.\n     */\n    function createClearButton(element, inputObject, initial, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var button = makeElement('span', { className: CLASSNAMES.CLEARICON });\n        var container = inputObject.container;\n        if (!isNullOrUndefined(initial)) {\n            container.appendChild(button);\n        }\n        else {\n            var baseElement = inputObject.container.classList.contains(CLASSNAMES.FLOATINPUT) ?\n                inputObject.container.querySelector('.' + CLASSNAMES.FLOATTEXT) : element;\n            baseElement.insertAdjacentElement('afterend', button);\n        }\n        if (!isNullOrUndefined(container) &&\n            container.classList.contains(CLASSNAMES.FLOATINPUT)) {\n            addClass([container], CLASSNAMES.INPUTGROUP);\n        }\n        addClass([button], CLASSNAMES.CLEARICONHIDE);\n        wireClearBtnEvents(element, button, container);\n        button.setAttribute('aria-label', 'close');\n        return button;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    function wireClearBtnEvents(element, button, container) {\n        if (isBindClearAction == undefined || isBindClearAction) {\n            button.addEventListener('click', function (event) {\n                if (!(element.classList.contains(CLASSNAMES.DISABLE) || element.readOnly)) {\n                    event.preventDefault();\n                    if (element !== document.activeElement) {\n                        element.focus();\n                    }\n                    element.value = '';\n                    addClass([button], CLASSNAMES.CLEARICONHIDE);\n                }\n            });\n        }\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        element.addEventListener('input', function (event) {\n            updateIconState(element.value, button);\n        });\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        element.addEventListener('focus', function (event) {\n            updateIconState(element.value, button);\n        });\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        element.addEventListener('blur', function (event) {\n            setTimeout(function () {\n                addClass([button], CLASSNAMES.CLEARICONHIDE);\n            }, 200);\n        });\n    }\n    Input.wireClearBtnEvents = wireClearBtnEvents;\n    function validateLabel(element, floatLabelType) {\n        var parent = getParentNode(element);\n        if (parent.classList.contains(CLASSNAMES.FLOATINPUT) && floatLabelType === 'Auto') {\n            var label = getParentNode(element).getElementsByClassName('e-float-text')[0];\n            updateLabelState(element.value, label, element);\n        }\n    }\n    /**\n     * To create input box contianer.\n     */\n    function createInputContainer(args, className, tagClass, tag, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var container;\n        if (!isNullOrUndefined(args.customTag)) {\n            container = makeElement(args.customTag, { className: className });\n            container.classList.add(tagClass);\n        }\n        else {\n            container = makeElement(tag, { className: className });\n        }\n        container.classList.add('e-control-wrapper');\n        return container;\n    }\n    function encodePlaceHolder(placeholder) {\n        var result = '';\n        if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n            var spanEle = document.createElement('span');\n            spanEle.innerHTML = '<input  placeholder=\"' + placeholder + '\"/>';\n            var hiddenInput = (spanEle.children[0]);\n            result = hiddenInput.placeholder;\n        }\n        return result;\n    }\n    /**\n     * Sets the value to the input element.\n     * ```\n     * E.g : Input.setValue('content', element, \"Auto\", true );\n     * ```\n     *\n     * @param {string} value - Specify the value of the input element.\n     * @param {HTMLInputElement | HTMLTextAreaElement} element - The element on which the specified value is updated.\n     * @param {string} floatLabelType - Specify the float label type of the input element.\n     * @param {boolean} clearButton - Boolean value to specify whether the clear icon is enabled / disabled on the input.\n     */\n    function setValue(value, element, floatLabelType, clearButton) {\n        element.value = value;\n        if ((!isNullOrUndefined(floatLabelType)) && floatLabelType === 'Auto') {\n            validateLabel(element, floatLabelType);\n        }\n        if (!isNullOrUndefined(clearButton) && clearButton) {\n            var parentElement = getParentNode(element);\n            if (!isNullOrUndefined(parentElement)) {\n                var button = parentElement.getElementsByClassName(CLASSNAMES.CLEARICON)[0];\n                if (!isNullOrUndefined(button)) {\n                    if (element.value && parentElement.classList.contains('e-input-focus')) {\n                        removeClass([button], CLASSNAMES.CLEARICONHIDE);\n                    }\n                    else {\n                        addClass([button], CLASSNAMES.CLEARICONHIDE);\n                    }\n                }\n            }\n        }\n        checkInputValue(floatLabelType, element);\n    }\n    Input.setValue = setValue;\n    /**\n     * Sets the single or multiple cssClass to wrapper of input element.\n     * ```\n     * E.g : Input.setCssClass('e-custom-class', [element]);\n     * ```\n     *\n     * @param {string} cssClass - Css class names which are needed to add.\n     * @param {Element[] | NodeList} elements - The elements which are needed to add / remove classes.\n     * @param {string} oldClass\n     * - Css class names which are needed to remove. If old classes are need to remove, can give this optional parameter.\n     */\n    function setCssClass(cssClass, elements, oldClass) {\n        if (!isNullOrUndefined(oldClass) && oldClass !== '') {\n            removeClass(elements, oldClass.split(' '));\n        }\n        if (!isNullOrUndefined(cssClass) && cssClass !== '') {\n            addClass(elements, cssClass.split(' '));\n        }\n    }\n    Input.setCssClass = setCssClass;\n    /**\n     * Set the width to the wrapper of input element.\n     * ```\n     * E.g : Input.setWidth('200px', container);\n     * ```\n     *\n     * @param {number | string} width - Width value which is need to add.\n     * @param {HTMLElement} container - The element on which the width is need to add.\n     */\n    function setWidth(width, container) {\n        if (typeof width === 'number') {\n            container.style.width = formatUnit(width);\n        }\n        else if (typeof width === 'string') {\n            container.style.width = (width.match(/px|%|em/)) ? (width) : (formatUnit(width));\n        }\n    }\n    Input.setWidth = setWidth;\n    /**\n     * Set the placeholder attribute to the input element.\n     * ```\n     * E.g : Input.setPlaceholder('Search here', element);\n     * ```\n     *\n     * @param {string} placeholder - Placeholder value which is need to add.\n     * @param {HTMLInputElement | HTMLTextAreaElement} element - The element on which the placeholder is need to add.\n     */\n    function setPlaceholder(placeholder, element) {\n        placeholder = encodePlaceHolder(placeholder);\n        var parentElement = getParentNode(element);\n        if (parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n            if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = placeholder;\n                parentElement.classList.remove(CLASSNAMES.NOFLOATLABEL);\n                element.removeAttribute('placeholder');\n            }\n            else {\n                parentElement.classList.add(CLASSNAMES.NOFLOATLABEL);\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = '';\n            }\n        }\n        else {\n            if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n                attributes(element, { 'placeholder': placeholder, 'aria-placeholder': placeholder });\n            }\n            else {\n                element.removeAttribute('placeholder');\n                element.removeAttribute('aria-placeholder');\n            }\n        }\n    }\n    Input.setPlaceholder = setPlaceholder;\n    /**\n     * Set the read only attribute to the input element\n     * ```\n     * E.g : Input.setReadonly(true, element);\n     * ```\n     *\n     * @param {boolean} isReadonly\n     * - Boolean value to specify whether to set read only. Setting \"True\" value enables read only.\n     * @param {HTMLInputElement | HTMLTextAreaElement} element\n     * - The element which is need to enable read only.\n     */\n    function setReadonly(isReadonly, element, floatLabelType) {\n        if (isReadonly) {\n            attributes(element, { readonly: '' });\n        }\n        else {\n            element.removeAttribute('readonly');\n        }\n        if (!isNullOrUndefined(floatLabelType)) {\n            validateLabel(element, floatLabelType);\n        }\n    }\n    Input.setReadonly = setReadonly;\n    /**\n     * Displays the element direction from right to left when its enabled.\n     * ```\n     * E.g : Input.setEnableRtl(true, [inputObj.container]);\n     * ```\n     *\n     * @param {boolean} isRtl\n     * - Boolean value to specify whether to set RTL. Setting \"True\" value enables the RTL mode.\n     * @param {Element[] | NodeList} elements\n     * - The elements that are needed to enable/disable RTL.\n     */\n    function setEnableRtl(isRtl, elements) {\n        if (isRtl) {\n            addClass(elements, CLASSNAMES.RTL);\n        }\n        else {\n            removeClass(elements, CLASSNAMES.RTL);\n        }\n    }\n    Input.setEnableRtl = setEnableRtl;\n    /**\n     * Enables or disables the given input element.\n     * ```\n     * E.g : Input.setEnabled(false, element);\n     * ```\n     *\n     * @param {boolean} isEnable\n     * - Boolean value to specify whether to enable or disable.\n     * @param {HTMLInputElement | HTMLTextAreaElement} element\n     * - Element to be enabled or disabled.\n     */\n    function setEnabled(isEnable, element, floatLabelType, inputContainer) {\n        var disabledAttrs = { 'disabled': 'disabled', 'aria-disabled': 'true' };\n        var considerWrapper = isNullOrUndefined(inputContainer) ? false : true;\n        if (isEnable) {\n            element.classList.remove(CLASSNAMES.DISABLE);\n            removeAttributes(disabledAttrs, element);\n            if (considerWrapper) {\n                removeClass([inputContainer], CLASSNAMES.DISABLE);\n            }\n        }\n        else {\n            element.classList.add(CLASSNAMES.DISABLE);\n            addAttributes(disabledAttrs, element);\n            if (considerWrapper) {\n                addClass([inputContainer], CLASSNAMES.DISABLE);\n            }\n        }\n        if (!isNullOrUndefined(floatLabelType)) {\n            validateLabel(element, floatLabelType);\n        }\n    }\n    Input.setEnabled = setEnabled;\n    function setClearButton(isClear, element, inputObject, initial, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        if (isClear) {\n            inputObject.clearButton = createClearButton(element, inputObject, initial, makeElement);\n        }\n        else {\n            remove(inputObject.clearButton);\n            inputObject.clearButton = null;\n        }\n    }\n    Input.setClearButton = setClearButton;\n    /**\n     * Removing the multiple attributes from the given element such as \"disabled\",\"id\" , etc.\n     * ```\n     * E.g : Input.removeAttributes({ 'disabled': 'disabled', 'aria-disabled': 'true' }, element);\n     * ```\n     *\n     * @param {string} attrs\n     * - Array of attributes which are need to removed from the element.\n     * @param {HTMLInputElement | HTMLElement} element\n     * - Element on which the attributes are needed to be removed.\n     */\n    function removeAttributes(attrs, element) {\n        for (var _i = 0, _a = Object.keys(attrs); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var parentElement = getParentNode(element);\n            if (key === 'disabled') {\n                element.classList.remove(CLASSNAMES.DISABLE);\n            }\n            if (key === 'disabled' && parentElement.classList.contains(CLASSNAMES.INPUTGROUP)) {\n                parentElement.classList.remove(CLASSNAMES.DISABLE);\n            }\n            if (key === 'placeholder' && parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = '';\n            }\n            else {\n                element.removeAttribute(key);\n            }\n        }\n    }\n    Input.removeAttributes = removeAttributes;\n    /**\n     * Adding the multiple attributes to the given element such as \"disabled\",\"id\" , etc.\n     * ```\n     * E.g : Input.addAttributes({ 'id': 'inputpopup' }, element);\n     * ```\n     *\n     * @param {string} attrs\n     * - Array of attributes which is added to element.\n     * @param {HTMLInputElement | HTMLElement} element\n     * - Element on which the attributes are needed to be added.\n     */\n    function addAttributes(attrs, element) {\n        for (var _i = 0, _a = Object.keys(attrs); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var parentElement = getParentNode(element);\n            if (key === 'disabled') {\n                element.classList.add(CLASSNAMES.DISABLE);\n            }\n            if (key === 'disabled' && parentElement.classList.contains(CLASSNAMES.INPUTGROUP)) {\n                parentElement.classList.add(CLASSNAMES.DISABLE);\n            }\n            if (key === 'placeholder' && parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = attrs[key];\n            }\n            else {\n                element.setAttribute(key, attrs[key]);\n            }\n        }\n    }\n    Input.addAttributes = addAttributes;\n    function removeFloating(input) {\n        var container = input.container;\n        if (!isNullOrUndefined(container) && container.classList.contains(CLASSNAMES.FLOATINPUT)) {\n            var inputEle = container.querySelector('textarea') ? container.querySelector('textarea') :\n                container.querySelector('input');\n            var placeholder = container.querySelector('.' + CLASSNAMES.FLOATTEXT).textContent;\n            var clearButton = container.querySelector('.e-clear-icon') !== null;\n            detach(container.querySelector('.' + CLASSNAMES.FLOATLINE));\n            detach(container.querySelector('.' + CLASSNAMES.FLOATTEXT));\n            classList(container, [CLASSNAMES.INPUTGROUP], [CLASSNAMES.FLOATINPUT]);\n            unwireFloatingEvents(inputEle);\n            attributes(inputEle, { 'placeholder': placeholder });\n            inputEle.classList.add(CLASSNAMES.INPUT);\n            if (!clearButton && inputEle.tagName === 'INPUT') {\n                inputEle.removeAttribute('required');\n            }\n        }\n    }\n    Input.removeFloating = removeFloating;\n    function addFloating(input, type, placeholder, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var container = closest(input, '.' + CLASSNAMES.INPUTGROUP);\n        floatType = type;\n        if (type !== 'Never') {\n            var customTag = container.tagName;\n            customTag = customTag !== 'DIV' && customTag !== 'SPAN' ? customTag : null;\n            var args = { element: input, floatLabelType: type,\n                customTag: customTag, properties: { placeholder: placeholder } };\n            var iconEle = container.querySelector('.e-clear-icon');\n            var inputObj = { container: container };\n            input.classList.remove(CLASSNAMES.INPUT);\n            createFloatingInput(args, inputObj, makeElement);\n            var isPrependIcon = container.classList.contains('e-float-icon-left');\n            if (isNullOrUndefined(iconEle)) {\n                if (isPrependIcon) {\n                    var inputWrap = container.querySelector('.e-input-in-wrap');\n                    iconEle = inputWrap.querySelector('.e-input-group-icon');\n                }\n                else {\n                    iconEle = container.querySelector('.e-input-group-icon');\n                }\n            }\n            if (isNullOrUndefined(iconEle)) {\n                if (isPrependIcon) {\n                    iconEle = container.querySelector('.e-input-group-icon');\n                }\n                if (isNullOrUndefined(iconEle)) {\n                    container.classList.remove(CLASSNAMES.INPUTGROUP);\n                }\n            }\n            else {\n                var floatLine = container.querySelector('.' + CLASSNAMES.FLOATLINE);\n                var floatText = container.querySelector('.' + CLASSNAMES.FLOATTEXT);\n                var wrapper = isPrependIcon ? container.querySelector('.e-input-in-wrap') : container;\n                wrapper.insertBefore(input, iconEle);\n                wrapper.insertBefore(floatLine, iconEle);\n                wrapper.insertBefore(floatText, iconEle);\n            }\n        }\n        checkFloatLabelType(type, input.parentElement);\n    }\n    Input.addFloating = addFloating;\n    /**\n     * Enable or Disable the ripple effect on the icons inside the Input. Ripple effect is only applicable for material theme.\n     * ```\n     * E.g : Input.setRipple(true, [inputObjects]);\n     * ```\n     *\n     * @param {boolean} isRipple\n     * - Boolean value to specify whether to enable the ripple effect.\n     * @param {InputObject[]} inputObj\n     * - Specify the collection of input objects.\n     */\n    function setRipple(isRipple, inputObj) {\n        for (var i = 0; i < inputObj.length; i++) {\n            _internalRipple(isRipple, inputObj[i].container);\n        }\n    }\n    Input.setRipple = setRipple;\n    function _internalRipple(isRipple, container, button) {\n        var argsButton = [];\n        argsButton.push(button);\n        var buttons = isNullOrUndefined(button) ?\n            container.querySelectorAll('.e-input-group-icon') : argsButton;\n        if (isRipple && buttons.length > 0) {\n            for (var index = 0; index < buttons.length; index++) {\n                buttons[index].addEventListener('mousedown', _onMouseDownRipple, false);\n                buttons[index].addEventListener('mouseup', _onMouseUpRipple, false);\n            }\n        }\n        else if (buttons.length > 0) {\n            for (var index = 0; index < buttons.length; index++) {\n                buttons[index].removeEventListener('mousedown', _onMouseDownRipple, this);\n                buttons[index].removeEventListener('mouseup', _onMouseUpRipple, this);\n            }\n        }\n    }\n    function _onMouseRipple(container, button) {\n        if (!container.classList.contains('e-disabled') && !container.querySelector('input').readOnly) {\n            button.classList.add('e-input-btn-ripple');\n        }\n    }\n    function _onMouseDownRipple() {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var ele = this;\n        var parentEle = this.parentElement;\n        while (!parentEle.classList.contains('e-input-group')) {\n            parentEle = parentEle.parentElement;\n        }\n        _onMouseRipple(parentEle, ele);\n    }\n    function _onMouseUpRipple() {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var ele = this;\n        setTimeout(function () {\n            ele.classList.remove('e-input-btn-ripple');\n        }, 500);\n    }\n    function createIconEle(iconClass, makeElement) {\n        var button = makeElement('span', { className: iconClass });\n        button.classList.add('e-input-group-icon');\n        return button;\n    }\n    /**\n     * Creates a new span element with the given icons added and append it in container element.\n     * ```\n     * E.g : Input.addIcon('append', 'e-icon-spin', inputObj.container, inputElement);\n     * ```\n     *\n     * @param {string} position - Specify the icon placement on the input.Possible values are append and prepend.\n     * @param {string | string[]} icons - Icon classes which are need to add to the span element which is going to created.\n     * Span element acts as icon or button element for input.\n     * @param {HTMLElement} container - The container on which created span element is going to append.\n     * @param {HTMLElement} input - The inputElement on which created span element is going to prepend.\n     */\n    /* eslint-disable @typescript-eslint/indent */\n    function addIcon(position, icons, container, input, internalCreate) {\n        /* eslint-enable @typescript-eslint/indent */\n        var result = typeof (icons) === 'string' ? icons.split(',')\n            : icons;\n        if (position.toLowerCase() === 'append') {\n            for (var _i = 0, result_1 = result; _i < result_1.length; _i++) {\n                var icon = result_1[_i];\n                appendSpan(icon, container, internalCreate);\n            }\n        }\n        else {\n            for (var _a = 0, result_2 = result; _a < result_2.length; _a++) {\n                var icon = result_2[_a];\n                prependSpan(icon, container, input, internalCreate);\n            }\n        }\n    }\n    Input.addIcon = addIcon;\n    /**\n     * Creates a new span element with the given icons added and prepend it in input element.\n     * ```\n     * E.g : Input.prependSpan('e-icon-spin', inputObj.container, inputElement);\n     * ```\n     *\n     * @param {string} iconClass - Icon classes which are need to add to the span element which is going to created.\n     * Span element acts as icon or button element for input.\n     * @param {HTMLElement} container - The container on which created span element is going to append.\n     * @param {HTMLElement} inputElement - The inputElement on which created span element is going to prepend.\n     */\n    /* eslint-disable @typescript-eslint/indent */\n    function prependSpan(iconClass, container, inputElement, internalCreateElement) {\n        /* eslint-enable @typescript-eslint/indent */\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var button = createIconEle(iconClass, makeElement);\n        container.classList.add('e-float-icon-left');\n        var innerWrapper = container.querySelector('.e-input-in-wrap');\n        if (isNullOrUndefined(innerWrapper)) {\n            innerWrapper = makeElement('span', { className: 'e-input-in-wrap' });\n            inputElement.parentNode.insertBefore(innerWrapper, inputElement);\n            var result = container.querySelectorAll(inputElement.tagName + ' ~ *');\n            innerWrapper.appendChild(inputElement);\n            for (var i = 0; i < result.length; i++) {\n                innerWrapper.appendChild(result[i]);\n            }\n        }\n        innerWrapper.parentNode.insertBefore(button, innerWrapper);\n        if (!container.classList.contains(CLASSNAMES.INPUTGROUP)) {\n            container.classList.add(CLASSNAMES.INPUTGROUP);\n        }\n        _internalRipple(true, container, button);\n        return button;\n    }\n    Input.prependSpan = prependSpan;\n    /**\n     * Creates a new span element with the given icons added and append it in container element.\n     * ```\n     * E.g : Input.appendSpan('e-icon-spin', inputObj.container);\n     * ```\n     *\n     * @param {string} iconClass - Icon classes which are need to add to the span element which is going to created.\n     * Span element acts as icon or button element for input.\n     * @param {HTMLElement} container - The container on which created span element is going to append.\n     */\n    function appendSpan(iconClass, container, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var button = createIconEle(iconClass, makeElement);\n        if (!container.classList.contains(CLASSNAMES.INPUTGROUP)) {\n            container.classList.add(CLASSNAMES.INPUTGROUP);\n        }\n        var wrap = (container.classList.contains('e-float-icon-left')) ? container.querySelector('.e-input-in-wrap') :\n            container;\n        wrap.appendChild(button);\n        _internalRipple(true, container, button);\n        return button;\n    }\n    Input.appendSpan = appendSpan;\n    function validateInputType(containerElement, input) {\n        if (input.type === 'hidden') {\n            containerElement.classList.add('e-hidden');\n        }\n        else if (containerElement.classList.contains('e-hidden')) {\n            containerElement.classList.remove('e-hidden');\n        }\n    }\n    Input.validateInputType = validateInputType;\n})(Input || (Input = {}));\n/* eslint-enable valid-jsdoc, jsdoc/require-jsdoc, jsdoc/require-returns, jsdoc/require-param */\n","/* tslint:disable-next-line:max-line-length */\nimport { EventHandler, isNullOrUndefined, extend, classList, addClass, removeClass, Browser, getValue, setValue } from '@syncfusion/ej2-base';\nimport { parentsUntil, getUid, appendChildren, getDatePredicate, getObject, extendObjWithFn, eventPromise, setChecked, clearReactVueTemplates } from '../base/util';\nimport { remove, debounce, Internationalization } from '@syncfusion/ej2-base';\nimport { DataUtil, Query, DataManager, Predicate } from '@syncfusion/ej2-data';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport * as events from '../base/constant';\nimport { ValueFormatter } from '../services/value-formatter';\nimport { getForeignData } from '../base/util';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { createSpinner, hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nimport { getFilterMenuPostion, toogleCheckbox, createCboxWithWrap, removeAddCboxClasses, getColumnByForeignKeyValue } from '../base/util';\n/**\n * @hidden\n * `CheckBoxFilterBase` module is used to handle filtering action.\n */\nvar CheckBoxFilterBase = /** @class */ (function () {\n    /**\n     * Constructor for checkbox filtering module\n     *\n     * @param {IXLFilter} parent - specifies the IXLFilter\n     * @hidden\n     */\n    function CheckBoxFilterBase(parent) {\n        this.existingPredicate = {};\n        this.foreignKeyQuery = new Query();\n        /** @hidden */\n        this.filterState = true;\n        this.values = {};\n        this.renderEmpty = false;\n        this.parent = parent;\n        this.id = this.parent.element.id;\n        this.valueFormatter = new ValueFormatter(this.parent.locale);\n        this.cBoxTrue = createCheckBox(this.parent.createElement, false, { checked: true, label: ' ' });\n        this.cBoxFalse = createCheckBox(this.parent.createElement, false, { checked: false, label: ' ' });\n        this.cBoxTrue.insertBefore(this.parent.createElement('input', {\n            className: 'e-chk-hidden', attrs: { type: 'checkbox' }\n        }), this.cBoxTrue.firstChild);\n        this.cBoxFalse.insertBefore(this.parent.createElement('input', {\n            className: 'e-chk-hidden', attrs: { 'type': 'checkbox' }\n        }), this.cBoxFalse.firstChild);\n        this.cBoxFalse.querySelector('.e-frame').classList.add('e-uncheck');\n        if (this.parent.enableRtl) {\n            addClass([this.cBoxTrue, this.cBoxFalse], ['e-rtl']);\n        }\n    }\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    CheckBoxFilterBase.prototype.destroy = function () {\n        this.closeDialog();\n    };\n    CheckBoxFilterBase.prototype.wireEvents = function () {\n        EventHandler.add(this.dlg, 'click', this.clickHandler, this);\n        EventHandler.add(this.dlg, 'keyup', this.keyupHandler, this);\n        this.searchHandler = debounce(this.searchBoxKeyUp, 200);\n        var elem = this.dialogObj.element.querySelector('.e-searchinput');\n        if (elem) {\n            EventHandler.add(elem, 'keyup', this.searchHandler, this);\n        }\n    };\n    CheckBoxFilterBase.prototype.unWireEvents = function () {\n        EventHandler.remove(this.dlg, 'click', this.clickHandler);\n        EventHandler.remove(this.dlg, 'keyup', this.keyupHandler);\n        var elem = this.dialogObj.element.querySelector('.e-searchinput');\n        if (elem) {\n            EventHandler.remove(elem, 'keyup', this.searchHandler);\n        }\n    };\n    CheckBoxFilterBase.prototype.foreignKeyFilter = function (args, fColl, mPredicate) {\n        var _this = this;\n        var fPredicate = {};\n        var filterCollection = [];\n        var query = this.foreignKeyQuery.clone();\n        this.options.column.dataSource.\n            executeQuery(query.where(mPredicate)).then(function (e) {\n            _this.options.column.columnData = e.result;\n            _this.parent.notify(events.generateQuery, { predicate: fPredicate, column: _this.options.column });\n            args.ejpredicate = fPredicate.predicate.predicates;\n            var fpred = fPredicate.predicate.predicates;\n            for (var i = 0; i < fpred.length; i++) {\n                filterCollection.push({\n                    field: fpred[i].field,\n                    predicate: 'or',\n                    matchCase: fpred[i].ignoreCase,\n                    ignoreAccent: fpred[i].ignoreAccent,\n                    operator: fpred[i].operator,\n                    value: fpred[i].value,\n                    type: _this.options.type\n                });\n            }\n            args.filterCollection = filterCollection.length ? filterCollection :\n                fColl.filter(function (col) { return col.field = _this.options.field; });\n            _this.options.handler(args);\n        });\n    };\n    CheckBoxFilterBase.prototype.foreignFilter = function (args, value) {\n        var operator = this.options.isRemote ?\n            (this.options.column.type === 'string' ? 'contains' : 'equal') : (this.options.column.type ? 'contains' : 'equal');\n        var initalPredicate = new Predicate(this.options.column.foreignKeyValue, operator, value, true, this.options.ignoreAccent);\n        this.foreignKeyFilter(args, [args.filterCollection], initalPredicate);\n    };\n    CheckBoxFilterBase.prototype.searchBoxClick = function (e) {\n        var target = e.target;\n        if (target.classList.contains('e-searchclear')) {\n            this.sInput.value = '';\n            this.refreshCheckboxes();\n            this.updateSearchIcon();\n            this.sInput.focus();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CheckBoxFilterBase.prototype.searchBoxKeyUp = function (e) {\n        this.refreshCheckboxes();\n        this.updateSearchIcon();\n    };\n    CheckBoxFilterBase.prototype.updateSearchIcon = function () {\n        if (this.sInput.value.length) {\n            classList(this.sIcon, ['e-chkcancel-icon'], ['e-search-icon']);\n        }\n        else {\n            classList(this.sIcon, ['e-search-icon'], ['e-chkcancel-icon']);\n        }\n    };\n    /**\n     * Gets the localized label by locale keyword.\n     *\n     * @param {string} key - Defines localization key\n     * @returns {string} - returns localization label\n     */\n    CheckBoxFilterBase.prototype.getLocalizedLabel = function (key) {\n        return this.localeObj.getConstant(key);\n    };\n    CheckBoxFilterBase.prototype.updateDataSource = function () {\n        var dataSource = this.options.dataSource;\n        var str = 'object';\n        if (!(dataSource instanceof DataManager)) {\n            for (var i = 0; i < dataSource.length; i++) {\n                // eslint-disable-next-line valid-typeof\n                if (typeof dataSource !== str) {\n                    var obj = {};\n                    obj[this.options.field] = dataSource[i];\n                    dataSource[i] = obj;\n                }\n            }\n        }\n    };\n    CheckBoxFilterBase.prototype.updateModel = function (options) {\n        this.options = options;\n        this.existingPredicate = options.actualPredicate || {};\n        this.options.dataSource = options.dataSource;\n        this.options.dataManager = options.dataManager ? options.dataManager : options.dataSource;\n        this.updateDataSource();\n        this.options.type = options.type;\n        this.options.format = options.format || '';\n        this.options.ignoreAccent = options.ignoreAccent || false;\n        this.options.filteredColumns = options.filteredColumns || this.parent.filterSettings.columns;\n        this.options.query = options.query || new Query();\n        this.options.allowCaseSensitive = options.allowCaseSensitive || false;\n        this.options.uid = options.column.uid;\n        this.values = {};\n        this.localeObj = options.localeObj;\n        this.isFiltered = options.filteredColumns.length;\n    };\n    CheckBoxFilterBase.prototype.getAndSetChkElem = function (options) {\n        this.dlg = this.parent.createElement('div', {\n            id: this.id + this.options.type + '_excelDlg',\n            attrs: { uid: this.options.column.uid },\n            className: 'e-checkboxfilter e-filter-popup'\n        });\n        this.sBox = this.parent.createElement('div', { className: 'e-searchcontainer' });\n        if (!options.hideSearchbox) {\n            this.sInput = this.parent.createElement('input', {\n                id: this.id + '_SearchBox',\n                className: 'e-searchinput'\n            });\n            this.sIcon = this.parent.createElement('span', {\n                className: 'e-searchclear e-search-icon e-icons e-input-group-icon', attrs: {\n                    type: 'text', title: this.getLocalizedLabel('Search')\n                }\n            });\n            this.searchBox = this.parent.createElement('span', { className: 'e-searchbox e-fields' });\n            this.searchBox.appendChild(this.sInput);\n            this.sBox.appendChild(this.searchBox);\n            var inputargs = {\n                element: this.sInput, floatLabelType: 'Never', properties: {\n                    placeholder: this.getLocalizedLabel('Search')\n                }\n            };\n            Input.createInput(inputargs, this.parent.createElement);\n            this.searchBox.querySelector('.e-input-group').appendChild(this.sIcon);\n        }\n        this.spinner = this.parent.createElement('div', { className: 'e-spinner' }); //for spinner\n        this.cBox = this.parent.createElement('div', {\n            id: this.id + this.options.type + '_CheckBoxList',\n            className: 'e-checkboxlist e-fields'\n        });\n        this.spinner.appendChild(this.cBox);\n        this.sBox.appendChild(this.spinner);\n        return this.sBox;\n    };\n    CheckBoxFilterBase.prototype.showDialog = function (options) {\n        var args = {\n            requestType: events.filterBeforeOpen,\n            columnName: this.options.field, columnType: this.options.type, cancel: false\n        };\n        var filterModel = 'filterModel';\n        args[filterModel] = this;\n        this.parent.notify(events.cBoxFltrBegin, args);\n        if (args.cancel) {\n            options.cancel = args.cancel;\n            return;\n        }\n        this.dialogObj = new Dialog({\n            visible: false, content: this.sBox,\n            close: this.closeDialog.bind(this),\n            enableRtl: this.parent.enableRtl,\n            width: (!isNullOrUndefined(parentsUntil(options.target, 'e-bigger')))\n                || this.parent.element.classList.contains('e-device') ? 260 : 255,\n            target: this.parent.element, animationSettings: { effect: 'None' },\n            buttons: [{\n                    click: this.btnClick.bind(this),\n                    buttonModel: {\n                        content: this.getLocalizedLabel(this.isExcel ? 'OKButton' : 'FilterButton'),\n                        cssClass: 'e-primary', isPrimary: true\n                    }\n                },\n                {\n                    click: this.btnClick.bind(this),\n                    buttonModel: { cssClass: 'e-flat', content: this.getLocalizedLabel(this.isExcel ? 'CancelButton' : 'ClearButton') }\n                }],\n            created: this.dialogCreated.bind(this),\n            open: this.dialogOpen.bind(this)\n        });\n        var isStringTemplate = 'isStringTemplate';\n        this.dialogObj[isStringTemplate] = true;\n        this.renderResponsiveFilter(options);\n        this.dlg.setAttribute('aria-label', this.getLocalizedLabel('ExcelFilterDialogARIA'));\n        if (options.isResponsiveFilter) {\n            var responsiveCnt = document.querySelector('.e-responsive-dialog > .e-dlg-content > .e-mainfilterdiv');\n            responsiveCnt.appendChild(this.dlg);\n        }\n        else {\n            this.parent.element.appendChild(this.dlg);\n        }\n        this.dialogObj.appendTo(this.dlg);\n        this.dialogObj.element.style.maxHeight = options.isResponsiveFilter ? 'none' : this.options.height + 'px';\n        this.dialogObj.show();\n        var content = this.dialogObj.element.querySelector('.e-dlg-content');\n        content.appendChild(this.sBox);\n        this.wireEvents();\n        createSpinner({ target: this.spinner }, this.parent.createElement);\n        showSpinner(this.spinner);\n        this.getAllData();\n    };\n    CheckBoxFilterBase.prototype.renderResponsiveFilter = function (options) {\n        if (options.isResponsiveFilter) {\n            this.dialogObj.buttons = [{}];\n            this.dialogObj.position = { X: '', Y: '' };\n            this.dialogObj.target = document.querySelector('.e-resfilter > .e-dlg-content > .e-mainfilterdiv');\n            this.dialogObj.width = '100%';\n        }\n    };\n    CheckBoxFilterBase.prototype.dialogCreated = function (e) {\n        if (this.options.isResponsiveFilter) {\n            this.dialogObj.element.style.left = '0px';\n        }\n        else {\n            if (!Browser.isDevice) {\n                getFilterMenuPostion(this.options.target, this.dialogObj);\n            }\n            else {\n                this.dialogObj.position = { X: 'center', Y: 'center' };\n            }\n        }\n        if (this.options.column.showColumnMenu) {\n            this.parent.notify(events.filterDialogCreated, e);\n        }\n    };\n    CheckBoxFilterBase.prototype.openDialog = function (options) {\n        this.updateModel(options);\n        this.getAndSetChkElem(options);\n        this.showDialog(options);\n    };\n    CheckBoxFilterBase.prototype.closeDialog = function () {\n        if (this.dialogObj && !this.dialogObj.isDestroyed) {\n            this.isBlanks = false;\n            var filterTemplateCol = this.options.columns.filter(function (col) { return col.getFilterItemTemplate(); });\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var registeredTemplate = this.parent.registeredTemplate;\n            if (filterTemplateCol.length && !isNullOrUndefined(registeredTemplate) && registeredTemplate.filterItemTemplate) {\n                this.parent.destroyTemplate(['filterItemTemplate']);\n            }\n            if ((this.parent.isReact || this.parent.isVue) && this.parent.destroyTemplate !== undefined) {\n                clearReactVueTemplates(this.parent, ['filterItemTemplate']);\n            }\n            this.parent.notify(events.filterMenuClose, { field: this.options.field });\n            this.dialogObj.destroy();\n            this.unWireEvents();\n            remove(this.dlg);\n            this.dlg = null;\n            this.parent.notify(events.filterDialogClose, {});\n        }\n    };\n    /**\n     * @param {Column} col - Defines column details\n     * @returns {void}\n     * @hidden\n     */\n    CheckBoxFilterBase.prototype.clearFilter = function (col) {\n        // eslint-disable-next-line max-len\n        var args = { instance: this, handler: this.clearFilter, cancel: false };\n        this.parent.notify(events.fltrPrevent, args);\n        if (args.cancel) {\n            return;\n        }\n        this.options.handler({ action: 'clear-filter', field: col ? col.field : this.options.field });\n    };\n    CheckBoxFilterBase.prototype.btnClick = function (e) {\n        if (this.filterState) {\n            if ((e.target.tagName.toLowerCase() === 'input' && e.target.classList.contains('e-searchinput')) ||\n                e.keyCode === 13) {\n                this.fltrBtnHandler();\n            }\n            else {\n                var text = e.target.firstChild.textContent.toLowerCase();\n                if (this.getLocalizedLabel(this.isExcel ? 'OKButton' : 'FilterButton').toLowerCase() === text) {\n                    this.fltrBtnHandler();\n                }\n                else if (this.getLocalizedLabel('ClearButton').toLowerCase() === text) {\n                    this.clearFilter();\n                }\n            }\n            this.closeDialog();\n        }\n        else if (!(e.target.tagName.toLowerCase() === 'input')) {\n            this.clearFilter();\n            this.closeDialog();\n        }\n        if (this.options.column.showColumnMenu) {\n            this.parent.notify(events.afterFilterColumnMenuClose, {});\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    CheckBoxFilterBase.prototype.fltrBtnHandler = function () {\n        var _this = this;\n        var checked = [].slice.call(this.cBox.querySelectorAll('.e-check:not(.e-selectall)'));\n        var check = checked;\n        var optr = 'equal';\n        var ddlValue = this.dialogObj.element.querySelector('.e-dropdownlist');\n        if (ddlValue) {\n            this.options.operator = optr = ddlValue.ej2_instances[0].value;\n        }\n        this.isMenuNotEqual = this.options.operator === 'notequal';\n        var searchInput;\n        if (!this.options.hideSearchbox) {\n            searchInput = this.searchBox.querySelector('.e-searchinput');\n        }\n        var caseSen = this.options.allowCaseSensitive;\n        var defaults = {\n            field: this.options.field, predicate: this.isMenuNotEqual ? 'and' : 'or', uid: this.options.uid,\n            operator: optr, type: this.options.type, matchCase: caseSen, ignoreAccent: this.options.ignoreAccent\n        };\n        var isNotEqual = this.itemsCnt !== checked.length && this.itemsCnt - checked.length < checked.length;\n        if (isNotEqual && searchInput && searchInput.value === '') {\n            optr = this.isMenuNotEqual ? 'equal' : 'notequal';\n            checked = [].slice.call(this.cBox.querySelectorAll('.e-uncheck:not(.e-selectall)'));\n            defaults.predicate = this.isMenuNotEqual ? 'or' : 'and';\n            defaults.operator = optr;\n        }\n        var value;\n        var val;\n        var length;\n        var fObj;\n        var coll = [];\n        if (checked.length !== this.itemsCnt || (searchInput && searchInput.value && searchInput.value !== '')) {\n            for (var i = 0; i < checked.length; i++) {\n                value = this.values[parentsUntil(checked[i], 'e-ftrchk').getAttribute('uid')];\n                fObj = extend({}, { value: value }, defaults);\n                if (value && !value.toString().length) {\n                    fObj.operator = isNotEqual ? 'notequal' : 'equal';\n                }\n                if (value === '' || isNullOrUndefined(value)) {\n                    coll = coll.concat(CheckBoxFilterBase.generateNullValuePredicates(defaults));\n                }\n                else {\n                    coll.push(fObj);\n                }\n                var args = {\n                    instance: this, handler: this.fltrBtnHandler, arg1: fObj.field, arg2: fObj.predicate, arg3: fObj.operator,\n                    arg4: fObj.matchCase, arg5: fObj.ignoreAccent, arg6: fObj.value, cancel: false\n                };\n                this.parent.notify(events.fltrPrevent, args);\n                if (args.cancel) {\n                    return;\n                }\n            }\n            if (this.options.type === 'date' || this.options.type === 'datetime') {\n                length = check.length - 1;\n                val = this.values[parentsUntil(check[length], 'e-ftrchk').getAttribute('uid')];\n                if (isNullOrUndefined(val) && isNotEqual) {\n                    coll.push({\n                        field: defaults.field, matchCase: defaults.matchCase, operator: 'equal',\n                        predicate: 'and', value: null\n                    });\n                }\n            }\n            this.initiateFilter(coll);\n        }\n        else {\n            var isClearFilter = this.options.filteredColumns.some(function (value) {\n                return _this.options.field === value.field;\n            });\n            if (isClearFilter) {\n                this.clearFilter();\n            }\n        }\n    };\n    // eslint-disable-next-line\n    /** @hidden */\n    CheckBoxFilterBase.generateNullValuePredicates = function (defaults) {\n        var coll = [];\n        if (defaults.type === 'string') {\n            coll.push({\n                field: defaults.field, ignoreAccent: defaults.ignoreAccent, matchCase: defaults.matchCase,\n                operator: defaults.operator, predicate: defaults.predicate, value: ''\n            });\n        }\n        coll.push({\n            field: defaults.field,\n            matchCase: defaults.matchCase, operator: defaults.operator, predicate: defaults.predicate, value: null\n        });\n        coll.push({\n            field: defaults.field, matchCase: defaults.matchCase, operator: defaults.operator,\n            predicate: defaults.predicate, value: undefined\n        });\n        return coll;\n    };\n    CheckBoxFilterBase.prototype.initiateFilter = function (fColl) {\n        var firstVal = fColl[0];\n        var predicate;\n        if (!isNullOrUndefined(firstVal)) {\n            predicate = firstVal.ejpredicate ? firstVal.ejpredicate :\n                new Predicate(firstVal.field, firstVal.operator, firstVal.value, !firstVal.matchCase, firstVal.ignoreAccent);\n            for (var j = 1; j < fColl.length; j++) {\n                predicate = fColl[j].ejpredicate !== undefined ?\n                    predicate[fColl[j].predicate](fColl[j].ejpredicate) :\n                    predicate[fColl[j].predicate](fColl[j].field, fColl[j].operator, fColl[j].value, !fColl[j].matchCase, fColl[j].ignoreAccent);\n            }\n            var args = {\n                action: 'filtering', filterCollection: fColl, field: this.options.field,\n                ejpredicate: Predicate.or(predicate)\n            };\n            this.options.handler(args);\n        }\n    };\n    CheckBoxFilterBase.prototype.isForeignColumn = function (col) {\n        return col.isForeignColumn ? col.isForeignColumn() : false;\n    };\n    CheckBoxFilterBase.prototype.refreshCheckboxes = function () {\n        var _this = this;\n        var val = this.sInput.value;\n        var column = this.options.column;\n        var query = this.isForeignColumn(column) ? this.foreignKeyQuery.clone() : this.options.query.clone();\n        var foreignQuery = this.options.query.clone();\n        var pred = query.queries.filter(function (e) { return e && e.fn === 'onWhere'; })[0];\n        query.queries = [];\n        foreignQuery.queries = [];\n        var parsed = (this.options.type !== 'string' && parseFloat(val)) ? parseFloat(val) : val;\n        var operator = this.options.isRemote ?\n            (this.options.type === 'string' ? 'contains' : 'equal') : (this.options.type ? 'contains' : 'equal');\n        var matchCase = true;\n        var ignoreAccent = this.options.ignoreAccent;\n        var field = this.isForeignColumn(column) ? column.foreignKeyValue : column.field;\n        parsed = (parsed === '' || parsed === undefined) ? undefined : parsed;\n        var coll = [];\n        var defaults = {\n            field: field, predicate: 'or', uid: this.options.uid,\n            operator: 'equal', type: this.options.type, matchCase: matchCase, ignoreAccent: ignoreAccent\n        };\n        var predicte;\n        var moduleName = this.options.dataManager.adaptor.getModuleName;\n        if (this.options.type === 'boolean') {\n            if (parsed !== undefined &&\n                this.getLocalizedLabel('FilterTrue').toLowerCase().indexOf(parsed.toLowerCase()) !== -1) {\n                parsed = 'true';\n            }\n            else if (parsed !== undefined &&\n                this.getLocalizedLabel('FilterFalse').toLowerCase().indexOf(parsed.toLowerCase()) !== -1) {\n                parsed = 'false';\n            }\n            if (parsed !== undefined &&\n                this.getLocalizedLabel('FilterTrue').toLowerCase().indexOf(parsed.toLowerCase()) !== -1 && moduleName) {\n                // eslint-disable-next-line no-constant-condition\n                parsed = (moduleName() === 'ODataAdaptor' || 'ODataV4Adaptor') ? true : 'true';\n            }\n            else if (parsed !== undefined &&\n                this.getLocalizedLabel('FilterFalse').toLowerCase().indexOf(parsed.toLowerCase()) !== -1 && moduleName) {\n                // eslint-disable-next-line no-constant-condition\n                parsed = (moduleName() === 'ODataAdaptor' || 'ODataV4Adaptor') ? false : 'false';\n            }\n            operator = 'equal';\n        }\n        if ((this.options.type === 'date' || this.options.type === 'datetime') && this.options.format) {\n            var intl = new Internationalization();\n            var format = typeof (this.options.format) === 'string' ? this.options.format :\n                this.options.format.format;\n            if (format) {\n                parsed = intl.parseDate(val, { format: format }) || new Date(val);\n            }\n            else {\n                parsed = new Date(val);\n            }\n        }\n        this.addDistinct(query);\n        var args = {\n            requestType: events.filterSearchBegin,\n            filterModel: this, columnName: field, column: column,\n            operator: operator, matchCase: matchCase, ignoreAccent: ignoreAccent, filterChoiceCount: null,\n            query: query, value: parsed\n        };\n        this.parent.trigger(events.actionBegin, args, function (filterargs) {\n            // eslint-disable-next-line no-self-assign\n            filterargs.operator = filterargs.operator;\n            predicte = new Predicate(field, filterargs.operator, parsed, filterargs.matchCase, filterargs.ignoreAccent);\n            if (_this.options.type === 'date' || _this.options.type === 'datetime') {\n                operator = 'equal';\n                var filterObj = {\n                    field: field, operator: operator, value: parsed, matchCase: matchCase,\n                    ignoreAccent: ignoreAccent\n                };\n                if (!isNullOrUndefined(parsed)) {\n                    predicte = getDatePredicate(filterObj, _this.options.type);\n                }\n            }\n            if (val && typeof val === 'string' && _this.isBlanks &&\n                _this.getLocalizedLabel('Blanks').toLowerCase().indexOf(val.toLowerCase()) >= 0) {\n                coll = coll.concat(CheckBoxFilterBase.generateNullValuePredicates(defaults));\n                var emptyValPredicte = CheckBoxFilterBase.generatePredicate(coll);\n                emptyValPredicte.predicates.push(predicte);\n                query.where(emptyValPredicte);\n            }\n            else if (val.length) {\n                predicte = !isNullOrUndefined(pred) ? predicte.and(pred.e) : predicte;\n                query.where(predicte);\n            }\n            else if (!isNullOrUndefined(pred)) {\n                query.where(pred.e);\n            }\n            filterargs.filterChoiceCount = !isNullOrUndefined(filterargs.filterChoiceCount) ? filterargs.filterChoiceCount : 1000;\n            var fPredicate = {};\n            showSpinner(_this.spinner);\n            _this.renderEmpty = false;\n            if (_this.isForeignColumn(column) && val.length) {\n                var colData = ('result' in column.dataSource) ? new DataManager(column.dataSource.result) :\n                    column.dataSource;\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                colData.executeQuery(query).then(function (e) {\n                    var columnData = _this.options.column.columnData;\n                    _this.options.column.columnData = e.result;\n                    _this.parent.notify(events.generateQuery, { predicate: fPredicate, column: column });\n                    if (fPredicate.predicate.predicates.length) {\n                        foreignQuery.where(fPredicate.predicate);\n                    }\n                    else {\n                        _this.renderEmpty = true;\n                    }\n                    _this.options.column.columnData = columnData;\n                    foreignQuery.take(filterargs.filterChoiceCount);\n                    _this.search(filterargs, foreignQuery);\n                });\n            }\n            else {\n                query.take(filterargs.filterChoiceCount);\n                _this.search(filterargs, query);\n            }\n        });\n    };\n    CheckBoxFilterBase.prototype.search = function (args, query) {\n        if (this.parent.dataSource && 'result' in this.parent.dataSource) {\n            this.filterEvent(args, query);\n        }\n        else {\n            this.processSearch(query);\n        }\n    };\n    CheckBoxFilterBase.prototype.getPredicateFromCols = function (columns) {\n        var predicates = CheckBoxFilterBase.getPredicate(columns);\n        var predicateList = [];\n        var fPredicate = {};\n        var isGrid = this.parent.getForeignKeyColumns !== undefined;\n        var foreignColumn = isGrid ? this.parent.getForeignKeyColumns() : [];\n        for (var _i = 0, _a = Object.keys(predicates); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            var col = void 0;\n            if (isGrid && this.parent.getColumnByField(prop).isForeignColumn()) {\n                col = getColumnByForeignKeyValue(prop, foreignColumn);\n            }\n            if (col) {\n                this.parent.notify(events.generateQuery, { predicate: fPredicate, column: col });\n                if (fPredicate.predicate.predicates.length) {\n                    predicateList.push(Predicate.or(fPredicate.predicate.predicates));\n                }\n            }\n            else {\n                predicateList.push(predicates[prop]);\n            }\n        }\n        return predicateList.length && Predicate.and(predicateList);\n    };\n    CheckBoxFilterBase.prototype.getQuery = function () {\n        return this.parent.getQuery ? this.parent.getQuery().clone() : new Query();\n    };\n    CheckBoxFilterBase.prototype.getAllData = function () {\n        var _this = this;\n        var query = this.getQuery();\n        query.requiresCount(); //consider take query\n        this.addDistinct(query);\n        var args = {\n            requestType: events.filterChoiceRequest, query: query, filterChoiceCount: null\n        };\n        var filterModel = 'filterModel';\n        args[filterModel] = this;\n        this.parent.trigger(events.actionBegin, args, function (args) {\n            args.filterChoiceCount = !isNullOrUndefined(args.filterChoiceCount) ? args.filterChoiceCount : 1000;\n            query.take(args.filterChoiceCount);\n            if (_this.parent.dataSource && 'result' in _this.parent.dataSource) {\n                _this.filterEvent(args, query);\n            }\n            else {\n                _this.processDataOperation(query, true);\n            }\n        });\n    };\n    CheckBoxFilterBase.prototype.addDistinct = function (query) {\n        var filteredColumn = DataUtil.distinct(this.options.filteredColumns, 'field');\n        if (filteredColumn.indexOf(this.options.column.field) <= -1) {\n            filteredColumn = filteredColumn.concat(this.options.column.field);\n        }\n        query.distinct(filteredColumn);\n        return query;\n    };\n    CheckBoxFilterBase.prototype.filterEvent = function (args, query) {\n        var _this = this;\n        var defObj = eventPromise(args, query);\n        this.parent.trigger(events.dataStateChange, defObj.state);\n        var def = defObj.deffered;\n        def.promise.then(function (e) {\n            _this.dataSuccess(e);\n        });\n    };\n    CheckBoxFilterBase.prototype.processDataOperation = function (query, isInitial) {\n        var _this = this;\n        this.options.dataSource = this.options.dataSource instanceof DataManager ?\n            this.options.dataSource : new DataManager(this.options.dataSource);\n        var allPromise = [];\n        var runArray = [];\n        if (this.isForeignColumn(this.options.column) && isInitial) {\n            var colData = ('result' in this.options.column.dataSource) ?\n                new DataManager(this.options.column.dataSource.result) :\n                this.options.column.dataSource;\n            this.foreignKeyQuery.params = query.params;\n            allPromise.push(colData.executeQuery(this.foreignKeyQuery));\n            runArray.push(function (data) { return _this.foreignKeyData = data; });\n        }\n        allPromise.push(this.options.dataSource.executeQuery(query));\n        runArray.push(this.dataSuccess.bind(this));\n        var i = 0;\n        Promise.all(allPromise).then(function (e) {\n            for (var j = 0; j < e.length; j++) {\n                runArray[i++](e[j].result);\n            }\n        });\n    };\n    CheckBoxFilterBase.prototype.dataSuccess = function (e) {\n        this.fullData = e;\n        var args1 = { dataSource: this.fullData, executeQuery: true, field: this.options.field };\n        this.parent.notify(events.beforeCheckboxRenderer, args1);\n        if (args1.executeQuery) {\n            var query = new Query();\n            if (this.parent.searchSettings && this.parent.searchSettings.key.length) {\n                var sSettings = this.parent.searchSettings;\n                var fields = sSettings.fields.length ? sSettings.fields : this.options.columns.map(function (f) { return f.field; });\n                query.search(sSettings.key, fields, sSettings.operator, sSettings.ignoreCase, sSettings.ignoreAccent);\n            }\n            if ((this.options.filteredColumns.length)) {\n                var cols = [];\n                for (var i = 0; i < this.options.filteredColumns.length; i++) {\n                    var filterColumn = this.options.filteredColumns[i];\n                    if (this.options.uid) {\n                        filterColumn.uid = filterColumn.uid || this.parent.getColumnByField(filterColumn.field).uid;\n                        if (filterColumn.uid !== this.options.uid) {\n                            cols.push(this.options.filteredColumns[i]);\n                        }\n                    }\n                    else {\n                        if (filterColumn.field !== this.options.field) {\n                            cols.push(this.options.filteredColumns[i]);\n                        }\n                    }\n                }\n                var predicate = this.getPredicateFromCols(cols);\n                if (predicate) {\n                    query.where(predicate);\n                }\n            }\n            // query.select(this.options.field);\n            var result = new DataManager(args1.dataSource).executeLocal(query);\n            var col = this.options.column;\n            this.filteredData = CheckBoxFilterBase.getDistinct(result, this.options.field, col, this.foreignKeyData).records || [];\n        }\n        var data = args1.executeQuery ? this.filteredData : args1.dataSource;\n        this.processDataSource(null, true, data, args1);\n        if (this.sInput) {\n            this.sInput.focus();\n        }\n        var args = {\n            requestType: events.filterAfterOpen,\n            columnName: this.options.field, columnType: this.options.type\n        };\n        var filterModel = 'filterModel';\n        args[filterModel] = this;\n        this.parent.notify(events.cBoxFltrComplete, args);\n    };\n    CheckBoxFilterBase.prototype.processDataSource = function (query, isInitial, dataSource, args) {\n        showSpinner(this.spinner);\n        // query = query ? query : this.options.query.clone();\n        // query.requiresCount();\n        // let result: Object = new DataManager(dataSource as JSON[]).executeLocal(query);\n        // let res: { result: Object[] } = result as { result: Object[] };\n        this.updateResult();\n        this.createFilterItems(dataSource, isInitial, args);\n    };\n    CheckBoxFilterBase.prototype.processSearch = function (query) {\n        this.processDataOperation(query);\n    };\n    CheckBoxFilterBase.prototype.updateResult = function () {\n        this.result = {};\n        var predicate = this.getPredicateFromCols(this.options.filteredColumns);\n        var query = new Query();\n        if (predicate) {\n            query.where(predicate);\n        }\n        this.parent.notify(events.beforeCheckboxRendererQuery, { query: query });\n        var result = new DataManager(this.fullData).executeLocal(query);\n        for (var _i = 0, result_1 = result; _i < result_1.length; _i++) {\n            var res = result_1[_i];\n            this.result[getObject(this.options.field, res)] = true;\n        }\n    };\n    CheckBoxFilterBase.prototype.clickHandler = function (e) {\n        var target = e.target;\n        var elem = parentsUntil(target, 'e-checkbox-wrapper');\n        if (parentsUntil(target, 'e-searchbox')) {\n            this.searchBoxClick(e);\n        }\n        if (elem) {\n            var selectAll = elem.querySelector('.e-selectall');\n            if (selectAll) {\n                this.updateAllCBoxes(!selectAll.classList.contains('e-check'));\n            }\n            else {\n                toogleCheckbox(elem.parentElement);\n            }\n            this.updateIndeterminatenBtn();\n            elem.querySelector('.e-chk-hidden').focus();\n        }\n        this.setFocus(parentsUntil(elem, 'e-ftrchk'));\n    };\n    CheckBoxFilterBase.prototype.keyupHandler = function (e) {\n        this.setFocus(parentsUntil(e.target, 'e-ftrchk'));\n    };\n    CheckBoxFilterBase.prototype.setFocus = function (elem) {\n        var prevElem = this.dlg.querySelector('.e-chkfocus');\n        if (prevElem) {\n            prevElem.classList.remove('e-chkfocus');\n        }\n        if (elem) {\n            elem.classList.add('e-chkfocus');\n        }\n    };\n    CheckBoxFilterBase.prototype.updateAllCBoxes = function (checked) {\n        var cBoxes = [].slice.call(this.cBox.getElementsByClassName('e-frame'));\n        for (var _i = 0, cBoxes_1 = cBoxes; _i < cBoxes_1.length; _i++) {\n            var cBox = cBoxes_1[_i];\n            removeAddCboxClasses(cBox, checked);\n            setChecked(cBox.previousSibling, checked);\n        }\n    };\n    CheckBoxFilterBase.prototype.dialogOpen = function () {\n        if (this.parent.element.classList.contains('e-device')) {\n            this.dialogObj.element.querySelector('.e-input-group').classList.remove('e-input-focus');\n            if (!this.options.isResponsiveFilter) {\n                this.dialogObj.element.querySelector('.e-btn').focus();\n            }\n        }\n    };\n    CheckBoxFilterBase.prototype.createCheckbox = function (value, checked, data) {\n        var elem = checked ? this.cBoxTrue.cloneNode(true) :\n            this.cBoxFalse.cloneNode(true);\n        setChecked(elem.querySelector('input'), checked);\n        var label = elem.querySelector('.e-label');\n        var dummyData = extendObjWithFn({}, data, { column: this.options.column, parent: this.parent });\n        label.innerHTML = !isNullOrUndefined(value) && value.toString().length ? value :\n            this.getLocalizedLabel('Blanks');\n        if (label.innerHTML === this.getLocalizedLabel('Blanks')) {\n            this.isBlanks = true;\n        }\n        if (typeof value === 'boolean') {\n            label.innerHTML = value === true ? this.getLocalizedLabel('FilterTrue') : this.getLocalizedLabel('FilterFalse');\n        }\n        addClass([label], ['e-checkboxfiltertext']);\n        if (this.options.template && data[this.options.column.field] !== this.getLocalizedLabel('SelectAll')) {\n            label.innerHTML = '';\n            var isReactCompiler = this.parent.isReact && this.options.column.filter\n                && typeof (this.options.column.filter.itemTemplate) !== 'string';\n            if (isReactCompiler) {\n                this.options.template(dummyData, this.parent, 'filterItemTemplate', null, null, null, label);\n                this.parent.renderTemplates();\n            }\n            else {\n                appendChildren(label, this.options.template(dummyData, this.parent, 'filterItemTemplate'));\n            }\n        }\n        return elem;\n    };\n    CheckBoxFilterBase.prototype.updateIndeterminatenBtn = function () {\n        var cnt = this.cBox.children.length - 1;\n        var className = [];\n        var disabled = false;\n        var elem = this.cBox.querySelector('.e-selectall');\n        var selected = this.cBox.querySelectorAll('.e-check:not(.e-selectall)').length;\n        var btn;\n        if (!this.options.isResponsiveFilter) {\n            btn = this.dialogObj.btnObj[0];\n            btn.disabled = false;\n        }\n        var input = elem.previousSibling;\n        setChecked(input, false);\n        input.indeterminate = false;\n        if (cnt === selected) {\n            className = ['e-check'];\n            setChecked(input, true);\n        }\n        else if (selected) {\n            className = ['e-stop'];\n            input.indeterminate = true;\n        }\n        else {\n            className = ['e-uncheck'];\n            disabled = true;\n            if (btn) {\n                btn.disabled = true;\n            }\n        }\n        if (btn) {\n            this.filterState = !btn.disabled;\n            btn.dataBind();\n        }\n        removeClass([elem], ['e-check', 'e-stop', 'e-uncheck']);\n        addClass([elem], className);\n        this.parent.notify(events.refreshCustomFilterOkBtn, { disabled: disabled });\n    };\n    CheckBoxFilterBase.prototype.createFilterItems = function (data, isInitial, args1) {\n        var _a;\n        var cBoxes = this.parent.createElement('div');\n        var btn;\n        var disabled = false;\n        if (!this.options.isResponsiveFilter) {\n            btn = this.dialogObj.btnObj[0];\n        }\n        var nullCounter = -1;\n        var key = 'ejValue';\n        if (!args1.executeQuery) {\n            key = args1.field;\n        }\n        for (var i = 0; i < data.length; i++) {\n            var val = getValue(key, data[i]);\n            if (val === '' || isNullOrUndefined(val)) {\n                nullCounter = nullCounter + 1;\n            }\n        }\n        this.itemsCnt = nullCounter !== -1 ? data.length - nullCounter : data.length;\n        if (data.length && !this.renderEmpty) {\n            var selectAllValue = this.getLocalizedLabel('SelectAll');\n            var innerDiv = this.cBox.querySelector('.e-checkfltrnmdiv');\n            if (innerDiv) {\n                innerDiv.classList.remove('e-checkfltrnmdiv');\n            }\n            var checkBox = this.createCheckbox(selectAllValue, false, (_a = {}, _a[this.options.field] = selectAllValue, _a));\n            var selectAll = createCboxWithWrap(getUid('cbox'), checkBox, 'e-ftrchk');\n            selectAll.querySelector('.e-frame').classList.add('e-selectall');\n            cBoxes.appendChild(selectAll);\n            var predicate = new Predicate('field', 'equal', this.options.field);\n            if (this.options.foreignKeyValue) {\n                predicate = predicate.or('field', 'equal', this.options.foreignKeyValue);\n            }\n            var isColFiltered = new DataManager(this.options.filteredColumns).executeLocal(new Query().where(predicate)).length;\n            var isRndere = void 0;\n            for (var i = 0; i < data.length; i++) {\n                var uid = getUid('cbox');\n                this.values[uid] = getValue(key, data[i]);\n                var value = getValue(this.options.field, data[i]);\n                if (this.options.formatFn) {\n                    value = this.valueFormatter.toView(value, this.options.formatFn);\n                }\n                var args_1 = { value: value, column: this.options.column, data: data[i] };\n                this.parent.notify(events.filterCboxValue, args_1);\n                value = args_1.value;\n                if ((value === '' || isNullOrUndefined(value))) {\n                    if (isRndere) {\n                        continue;\n                    }\n                    isRndere = true;\n                }\n                var checkbox = this.createCheckbox(value, this.getCheckedState(isColFiltered, this.values[uid]), getValue('dataObj', data[i]));\n                cBoxes.appendChild(createCboxWithWrap(uid, checkbox, 'e-ftrchk'));\n            }\n            this.cBox.innerHTML = '';\n            appendChildren(this.cBox, [].slice.call(cBoxes.children));\n            this.updateIndeterminatenBtn();\n            if (btn) {\n                btn.disabled = false;\n            }\n            disabled = false;\n        }\n        else {\n            cBoxes.appendChild(this.parent.createElement('span', { innerHTML: this.getLocalizedLabel('NoResult') }));\n            this.cBox.innerHTML = '';\n            this.cBox.appendChild(this.parent.createElement('div', { className: 'e-checkfltrnmdiv' }));\n            appendChildren(this.cBox.children[0], [].slice.call(cBoxes.children));\n            if (btn) {\n                btn.disabled = true;\n            }\n            disabled = true;\n        }\n        if (btn) {\n            this.filterState = !btn.disabled;\n            btn.dataBind();\n        }\n        var args = { requestType: events.filterChoiceRequest, dataSource: this.renderEmpty ? [] : data };\n        var filterModel = 'filterModel';\n        args[filterModel] = this;\n        this.parent.notify(events.cBoxFltrComplete, args);\n        this.parent.notify(events.refreshCustomFilterOkBtn, { disabled: disabled });\n        hideSpinner(this.spinner);\n    };\n    CheckBoxFilterBase.prototype.getCheckedState = function (isColFiltered, value) {\n        if (!this.isFiltered || !isColFiltered) {\n            return true;\n        }\n        else {\n            var checkState = this.result[value];\n            return this.options.operator === 'notequal' ? !checkState : checkState;\n        }\n    };\n    CheckBoxFilterBase.getDistinct = function (json, field, column, foreignKeyData) {\n        var len = json.length;\n        var result = [];\n        var value;\n        var ejValue = 'ejValue';\n        var lookup = {};\n        var isForeignKey = column && column.isForeignColumn ? column.isForeignColumn() : false;\n        while (len--) {\n            value = json[len];\n            value = getObject(field, value); //local remote diff, check with mdu\n            if (!(value in lookup)) {\n                var obj = {};\n                obj[ejValue] = value;\n                lookup[value] = true;\n                if (isForeignKey) {\n                    var foreignDataObj = getForeignData(column, {}, value, foreignKeyData)[0];\n                    setValue(events.foreignKeyData, foreignDataObj, json[len]);\n                    value = getValue(column.foreignKeyValue, foreignDataObj);\n                }\n                setValue(field, isNullOrUndefined(value) ? null : value, obj);\n                setValue('dataObj', json[len], obj);\n                result.push(obj);\n            }\n        }\n        return DataUtil.group(DataUtil.sort(result, field, DataUtil.fnAscending), 'ejValue');\n    };\n    CheckBoxFilterBase.getPredicate = function (columns) {\n        var cols = DataUtil.distinct(columns, 'field', true) || [];\n        var collection = [];\n        var pred = {};\n        for (var i = 0; i < cols.length; i++) {\n            collection = new DataManager(columns).executeLocal(new Query().where('field', 'equal', cols[i].field));\n            if (collection.length !== 0) {\n                pred[cols[i].field] = CheckBoxFilterBase.generatePredicate(collection);\n            }\n        }\n        return pred;\n    };\n    CheckBoxFilterBase.generatePredicate = function (cols) {\n        var len = cols ? cols.length : 0;\n        var predicate;\n        var operate = 'or';\n        var first = CheckBoxFilterBase.updateDateFilter(cols[0]);\n        first.ignoreAccent = !isNullOrUndefined(first.ignoreAccent) ? first.ignoreAccent : false;\n        if (first.type === 'date' || first.type === 'datetime') {\n            predicate = getDatePredicate(first, first.type);\n        }\n        else {\n            predicate = first.ejpredicate ? first.ejpredicate :\n                new Predicate(first.field, first.operator, first.value, !CheckBoxFilterBase.getCaseValue(first), first.ignoreAccent);\n        }\n        for (var p = 1; p < len; p++) {\n            cols[p] = CheckBoxFilterBase.updateDateFilter(cols[p]);\n            if (len > 2 && p > 1 && cols[p].predicate === 'or') {\n                if (cols[p].type === 'date' || cols[p].type === 'datetime') {\n                    predicate.predicates.push(getDatePredicate(cols[p], cols[p].type));\n                }\n                else {\n                    predicate.predicates.push(new Predicate(cols[p].field, cols[p].operator, cols[p].value, !CheckBoxFilterBase.getCaseValue(cols[p]), cols[p].ignoreAccent));\n                }\n            }\n            else {\n                if (cols[p].type === 'date' || cols[p].type === 'datetime') {\n                    if (cols[p].predicate === 'and' && cols[p].operator === 'equal') {\n                        predicate = predicate[operate](getDatePredicate(cols[p], cols[p].type), cols[p].type, cols[p].ignoreAccent);\n                    }\n                    else {\n                        predicate = predicate[(cols[p].predicate)](getDatePredicate(cols[p], cols[p].type), cols[p].type, cols[p].ignoreAccent);\n                    }\n                }\n                else {\n                    predicate = cols[p].ejpredicate ?\n                        predicate[cols[p].predicate](cols[p].ejpredicate) :\n                        predicate[(cols[p].predicate)](cols[p].field, cols[p].operator, cols[p].value, !CheckBoxFilterBase.getCaseValue(cols[p]), cols[p].ignoreAccent);\n                }\n            }\n        }\n        return predicate || null;\n    };\n    CheckBoxFilterBase.getCaseValue = function (filter) {\n        if (isNullOrUndefined(filter.matchCase)) {\n            if (filter.type === 'string' || isNullOrUndefined(filter.type) && typeof (filter.value) === 'string') {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        else {\n            return filter.matchCase;\n        }\n    };\n    CheckBoxFilterBase.updateDateFilter = function (filter) {\n        if ((filter.type === 'date' || filter.type === 'datetime' || filter.value instanceof Date)) {\n            filter.type = filter.type || 'date';\n        }\n        return filter;\n    };\n    return CheckBoxFilterBase;\n}());\nexport { CheckBoxFilterBase };\n","/**\n * Vue Component Base\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined, extend, getValue } from '@syncfusion/ej2-base';\n\nimport * as Vue2 from 'vue';\nimport Vue from 'vue';\nexport var aVue = _interopRequireWildcard(Vue2);\nexport function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n        return obj;\n    }\n    else {\n        var newObj = {};\n        if (obj != null) {\n            for (var key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key))\n                    newObj[key] = obj[key];\n            }\n        }\n        newObj.default = obj;\n        return newObj;\n    }\n}\nexport var allVue = aVue;\nexport var gh = allVue.h;\nexport var isExecute = gh ? false : true;\nvar vueImport;\nif (!isExecute || parseInt(allVue.version) < 3) {\n    vueImport = Vue;\n}\nelse {\n    vueImport = Vue;\n}\nvar ComponentBase = /** @class */ (function (_super) {\n    __extends(ComponentBase, _super);\n    function ComponentBase() {\n        var _this = _super.call(this, arguments) || this;\n        _this.hasInjectedModules = false;\n        _this.hasChildDirective = false;\n        _this.childDirObjects = '';\n        return _this;\n    }\n    ComponentBase.prototype.created = function () {\n        var _this = this;\n        if (!this.propKeys) {\n            return;\n        }\n        var _loop_1 = function (prop) {\n            this_1.ej2Instances.addEventListener(prop, function (args) {\n                _this.$emit(prop, args);\n            });\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = this.propKeys; _i < _a.length; _i++) {\n            var prop = _a[_i];\n            _loop_1(prop);\n        }\n        var injectables = getValue('$root.$options.provide', this);\n        var vueInjectables = getValue('$parent.$options.provide', this);\n        if (this.hasInjectedModules && !isExecute) {\n            var prevModule = [];\n            if (injectables) {\n                prevModule = injectables[this.ej2Instances.getModuleName()] || [];\n            }\n            else if (vueInjectables) {\n                prevModule = this.getInjectedServices() || [];\n            }\n            var curModule = this.ej2Instances.getInjectedModules() || [];\n            for (var _b = 0, curModule_1 = curModule; _b < curModule_1.length; _b++) {\n                var mod = curModule_1[_b];\n                if (prevModule.indexOf(mod) === -1) {\n                    prevModule.push(mod);\n                }\n            }\n            this.ej2Instances.injectedModules = prevModule;\n        }\n    };\n    ComponentBase.prototype.mounted = function () {\n        var cusEle = this.$el ? this.$el.querySelectorAll(\"div.e-directive\") : null;\n        if (gh && cusEle) {\n            for (var i = 0; i < cusEle.length; i++) {\n                cusEle[i].parentElement && cusEle[i].parentElement.removeChild(cusEle[i]);\n            }\n        }\n        this.ej2Instances.isVue = true;\n        this.ej2Instances.isVue3 = this.isVue3;\n        this.ej2Instances.vueInstance = this;\n        if (this.isVue3) {\n            this.ej2Instances.ej2Instances = this.ej2Instances;\n            this.ej2Instances.referModels = this.models;\n        }\n        this.ej2Instances.appendTo(this.$el);\n    };\n    ComponentBase.prototype.getInjectedServices = function () {\n        var ret = [];\n        var provide;\n        if (this.$vnode) {\n            provide = getValue('$vnode.context.$options.provide', this);\n        }\n        else if (this.$parent) {\n            provide = getValue('$parent.$options.provide', this);\n        }\n        if (provide) {\n            // tslint:disable:no-any\n            var injectables = provide;\n            if (typeof provide === 'function') {\n                // tslint:disable:no-any\n                if (this.$vnode) {\n                    injectables = this.$vnode.context.$options.provide();\n                }\n                else if (this.$parent) {\n                    injectables = this.$parent.$options.provide();\n                }\n            }\n            ret = injectables[this.ej2Instances.getModuleName()] || [];\n        }\n        return ret;\n    };\n    ComponentBase.prototype.updated = function () {\n        if (this.hasChildDirective) {\n            var childKey = {};\n            this.fetchChildPropValues(childKey);\n            var curChildDir = JSON.stringify(childKey);\n            if (this.childDirObjects !== curChildDir) {\n                this.childDirObjects = curChildDir;\n                this.assignValueToWrapper(childKey, false);\n            }\n        }\n    };\n    ComponentBase.prototype.beforeDestroy = function () {\n        var tempBeforeDestroyThis = this;\n        tempBeforeDestroyThis.ej2Instances.destroy();\n        tempBeforeDestroyThis.$el.style.visibility = 'hidden';\n        tempBeforeDestroyThis = null;\n    };\n    ComponentBase.prototype.bindProperties = function () {\n        var options = {};\n        for (var _i = 0, _a = this.propKeys; _i < _a.length; _i++) {\n            var prop = _a[_i];\n            if ((!isNullOrUndefined(this[prop]) && !this.isVue3) || (this[0] && !isNullOrUndefined(this[0][0]) && !isNullOrUndefined(this[0][0][prop]))) {\n                options[prop] = !this.isVue3 ? this[prop] : this[0][0][prop];\n            }\n        }\n        if (this.hasChildDirective) {\n            this.fetchChildPropValues(options);\n        }\n        if (this.hasInjectedModules) {\n            var prevModule = this.getInjectedServices() || [];\n            var curModule = this.ej2Instances.getInjectedModules() || [];\n            for (var _b = 0, curModule_2 = curModule; _b < curModule_2.length; _b++) {\n                var mod = curModule_2[_b];\n                if (prevModule.indexOf(mod) === -1) {\n                    prevModule.push(mod);\n                }\n            }\n            this.ej2Instances.injectedModules = prevModule;\n        }\n        this.assignValueToWrapper(options);\n    };\n    ComponentBase.prototype.assignValueToWrapper = function (option, silent) {\n        this.ej2Instances.setProperties(extend({}, {}, option, true), isNullOrUndefined(silent) ? true : silent);\n    };\n    ComponentBase.prototype.fetchChildPropValues = function (childOption) {\n        var dirProps = {};\n        if (!this.isVue3) {\n            dirProps = this.getDirectiveValues(this.$slots.default, this.tagMapper || {}, this.tagNameMapper || {});\n        }\n        else {\n            var propRef = void 0;\n            if (this[0] && this[0][1].slots.default) {\n                propRef = this[0][1].slots.default();\n            }\n            else if (this && this.$) {\n                if (this.$.slots) {\n                    propRef = this.$.slots.default();\n                }\n            }\n            if (propRef) {\n                for (var i = 0; i < propRef.length; i++) {\n                    if (propRef[i].type.methods) {\n                        var key = propRef[i].type.methods.getTag().replace(\"e-\", \"\");\n                        var ref = this.resolveArrayDirectives(propRef[i].children, key);\n                        var splitKeys = key.split('-');\n                        var controlName = this.ej2Instances.getModuleName().toLowerCase();\n                        var keyRef = (splitKeys.length > 1 && controlName.indexOf(splitKeys[0]) > -1) ? splitKeys[1] : splitKeys[0];\n                        keyRef = keyRef.replace(controlName, '');\n                        if (controlName == \"splitter\" && keyRef == \"panes\") {\n                            keyRef = \"paneSettings\";\n                        }\n                        else if (controlName == \"bulletchart\" && keyRef == \"range\") {\n                            keyRef = \"ranges\";\n                        }\n                        dirProps[keyRef] = ref[key];\n                    }\n                }\n            }\n            else {\n                return;\n            }\n        }\n        if (!this.childDirObjects) {\n            this.childDirObjects = JSON.stringify(dirProps);\n        }\n        for (var _i = 0, _a = Object.keys(dirProps); _i < _a.length; _i++) {\n            var dirProp = _a[_i];\n            childOption[dirProp] = dirProps[dirProp];\n        }\n    };\n    ComponentBase.prototype.resolveArrayDirectives = function (slots, tagName) {\n        var slot = [];\n        var innerDirValues;\n        slot = slots.default ? slots.default() : slots;\n        var items = {};\n        items[tagName] = [];\n        var _loop_2 = function (childSlot) {\n            var tempObj = {};\n            var tagRef = childSlot.type.methods ? childSlot.type.methods.getTag() : tagName;\n            if (childSlot.children) {\n                var key = void 0;\n                innerDirValues = this_2.resolveComplexDirs(childSlot.children, this_2.tagMapper[\"e-\" + tagName], tagRef);\n                if (innerDirValues.length) {\n                    tempObj = innerDirValues;\n                }\n                else {\n                    for (var i = 0; i < Object.keys(innerDirValues).length; i++) {\n                        key = Object.keys(innerDirValues)[i];\n                        tempObj[key] = innerDirValues[key];\n                    }\n                    ;\n                }\n            }\n            if (childSlot.props) {\n                Object.keys(childSlot.props).forEach(function (key) {\n                    tempObj[key] = childSlot.props[key];\n                });\n            }\n            if ((/[s]\\b/).test(tagRef) && innerDirValues) {\n                if (!(/[s]\\b/).test(tagName) || innerDirValues.length) {\n                    items[tagName] = tempObj;\n                }\n                else {\n                    items[tagName].push(tempObj);\n                }\n            }\n            else {\n                items[tagName].push(tempObj);\n            }\n        };\n        var this_2 = this;\n        for (var _i = 0, slot_1 = slot; _i < slot_1.length; _i++) {\n            var childSlot = slot_1[_i];\n            _loop_2(childSlot);\n        }\n        return items;\n    };\n    ComponentBase.prototype.resolveComplexDirs = function (slots, tagObject, tagName) {\n        var slot = [];\n        var innerDirValues;\n        slot = slots.default ? slots.default() : slots;\n        var items = {};\n        var _loop_3 = function (childSlot) {\n            var tagRef = void 0;\n            var tag = void 0;\n            if (tagObject[tagName]) {\n                tagRef = Object.keys(tagObject[tagName]);\n                tag = tagRef.find(function (key) {\n                    return tagObject[tagName][key] ===\n                        childSlot.type.methods.getTag().replace(/[s]\\b/, \"\");\n                });\n                tag = tag\n                    ? tag.replace(\"e-\", \"\")\n                    : childSlot.type.methods.getTag().replace(\"e-\", \"\");\n                if (this_3.ej2Instances.getModuleName().toLowerCase() == \"diagram\" && tag.indexOf('annotations') != -1) {\n                    tag = 'annotations';\n                }\n            }\n            if (childSlot.children) {\n                innerDirValues = this_3.resolveComplexInnerDirs(childSlot.children, tagObject[tagName], childSlot.type.methods.getTag());\n                if (!items[tag]) {\n                    items[tag] = [];\n                }\n                if (innerDirValues.length > 1) {\n                    items[tag] = innerDirValues;\n                }\n                else {\n                    items[tag].push(innerDirValues);\n                }\n            }\n            if (slot.length > 1) {\n                items = Object.keys(items).length == 0 && !items.length ? [] : items;\n                if (childSlot.props) {\n                    items.push(childSlot.props);\n                }\n            }\n            else {\n                items = childSlot.props ? Object.assign(items, childSlot.props) : items;\n            }\n        };\n        var this_3 = this;\n        for (var _i = 0, slot_2 = slot; _i < slot_2.length; _i++) {\n            var childSlot = slot_2[_i];\n            _loop_3(childSlot);\n        }\n        return items;\n    };\n    ComponentBase.prototype.resolveComplexInnerDirs = function (slots, tagObject, tagName) {\n        var slot = [];\n        var innerDirValues;\n        slot = slots.default ? slots.default() : slots;\n        var items = slot.length > 1 ? [] : {};\n        for (var _i = 0, slot_3 = slot; _i < slot_3.length; _i++) {\n            var childSlot = slot_3[_i];\n            var tag = childSlot.type.methods.getTag().replace(\"e-\", \"\");\n            if (childSlot.children) {\n                innerDirValues = this.resolveMultilevelComplexInnerDirs(childSlot.children, tagObject[tagName], childSlot.type.methods.getTag());\n                if ((/[s]\\b/).test(tag) || slot.length > 1) {\n                    if ((/[s]\\b/).test(tag)) {\n                        items[tag] = !items[tag] ? [] : items[tag];\n                        if (innerDirValues.length) {\n                            items[tag] = innerDirValues;\n                        }\n                        else {\n                            items[tag].push(innerDirValues);\n                        }\n                    }\n                    else if (innerDirValues) {\n                        items.push(innerDirValues);\n                    }\n                }\n                else {\n                    items = innerDirValues ? innerDirValues : items;\n                }\n            }\n            if (slot.length > 1 && childSlot.props) {\n                if (items.length >= 0) {\n                    items.push(childSlot.props);\n                }\n                else {\n                    items = childSlot.props ? Object.assign(items, childSlot.props) : items;\n                }\n            }\n            else {\n                items = childSlot.props ? Object.assign(items, childSlot.props) : items;\n            }\n        }\n        return items;\n    };\n    ComponentBase.prototype.resolveMultilevelComplexInnerDirs = function (slots, tagObject, tagName) {\n        var slot = [];\n        var innerDirValues;\n        slot = slots.default ? slots.default() : slots;\n        var items = slot.length > 1 ? [] : {};\n        for (var _i = 0, slot_4 = slot; _i < slot_4.length; _i++) {\n            var childSlot = slot_4[_i];\n            var tag = childSlot.type.methods.getTag().replace(\"e-\", \"\");\n            if (childSlot.children) {\n                innerDirValues = this.resolveComplexInnerDirs(childSlot.children, tagObject[tagName], childSlot.type.methods.getTag());\n            }\n            if ((/[s]\\b/).test(tag)) {\n                items[tag] = !items[tag] ? [] : items[tag];\n                if (innerDirValues.length) {\n                    items[tag] = innerDirValues;\n                }\n                else {\n                    items[tag].push(innerDirValues);\n                }\n                if (childSlot.props) {\n                    items[tag].push(childSlot.props);\n                }\n            }\n            else {\n                items = innerDirValues;\n                items = childSlot.props ? Object.assign(items, childSlot.props) : items;\n            }\n        }\n        return items;\n    };\n    ComponentBase.prototype.getDirectiveValues = function (tagDirectives, tagMapper, tagNameMapper) {\n        var keyTags = Object.keys(tagMapper);\n        var dir = {};\n        if (tagDirectives) {\n            for (var _i = 0, tagDirectives_1 = tagDirectives; _i < tagDirectives_1.length; _i++) {\n                var tagDirective = tagDirectives_1[_i];\n                if (tagDirective.componentOptions && tagDirective.componentOptions.children && tagDirective.componentOptions.tag) {\n                    var dirTag = tagDirective.componentOptions.tag;\n                    if (keyTags.indexOf(dirTag) !== -1) {\n                        var tagName = tagNameMapper[dirTag] ? tagNameMapper[dirTag] : dirTag;\n                        dir[tagName.replace('e-', '')] = [];\n                        for (var _a = 0, _b = tagDirective.componentOptions.children; _a < _b.length; _a++) {\n                            var tagDirChild = _b[_a];\n                            var retObj = this.getVNodeValue(tagDirChild, tagMapper[dirTag], tagNameMapper);\n                            if (Object.keys(retObj).length !== 0) {\n                                dir[tagName.replace('e-', '')].push(retObj);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return dir;\n    };\n    ComponentBase.prototype.getMultiLevelDirValue = function (tagDirectories, tagKey, tagNameMapper) {\n        var mulObj = {};\n        for (var _i = 0, tagDirectories_1 = tagDirectories; _i < tagDirectories_1.length; _i++) {\n            var tagDir = tagDirectories_1[_i];\n            if (tagDir.componentOptions) {\n                var key = tagDir.componentOptions.tag;\n                var tagName = tagNameMapper[key] ? tagNameMapper[key] : key;\n                mulObj[tagName.replace('e-', '')] = [];\n                if (tagDir.componentOptions && tagDir.componentOptions.children) {\n                    for (var _a = 0, _b = tagDir.componentOptions.children; _a < _b.length; _a++) {\n                        var tagDirChild = _b[_a];\n                        var mulLevObj = this.getVNodeValue(tagDirChild, tagKey[key], tagNameMapper);\n                        if (Object.keys(mulLevObj).length !== 0) {\n                            mulObj[tagName.replace('e-', '')].push(mulLevObj);\n                        }\n                    }\n                }\n            }\n        }\n        return mulObj;\n    };\n    ComponentBase.prototype.getVNodeValue = function (tagDirective, tagKey, tagNameMapper) {\n        var ret = {};\n        if (tagDirective.componentOptions) {\n            var dirTag = tagDirective.componentOptions.tag;\n            if (typeof tagKey === 'string' && dirTag === tagKey && tagDirective.data) {\n                ret = tagDirective.data.attrs ? this.getCamelCaseProps(tagDirective.data.attrs) : this.getCamelCaseProps(tagDirective.data);\n            }\n            else if (typeof tagKey === 'object') {\n                if (tagDirective.componentOptions.children && (Object.keys(tagKey).indexOf(dirTag) !== -1)) {\n                    ret = this.getMultiLevelDirValue(tagDirective.componentOptions.children, tagKey[dirTag], tagNameMapper);\n                }\n                if (tagDirective.data && tagDirective.data.attrs) {\n                    ret = extend(ret, this.getCamelCaseProps(tagDirective.data.attrs));\n                }\n            }\n        }\n        return ret;\n    };\n    /**\n     * convert kebab case directive props to camel case\n     */\n    ComponentBase.prototype.getCamelCaseProps = function (props) {\n        var retProps = {};\n        for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            retProps[prop.replace(/-[a-z]/g, function (e) { return e[1].toUpperCase(); })] = props[prop];\n        }\n        return retProps;\n    };\n    ComponentBase.prototype.dataBind = function () {\n        this.ej2Instances.dataBind();\n    };\n    ComponentBase.prototype.setProperties = function (arg, muteOnChange) {\n        return this.ej2Instances.setProperties(arg, muteOnChange);\n    };\n    return ComponentBase;\n}(vueImport));\nexport { ComponentBase };\n","/**\n * Vue Component Base\n */\nimport Vue from 'vue';\n// import { Base, Component as EJ2Component, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ComponentBase } from './component-base';\nexport var $internalHooks = [\n    'data',\n    'beforeCreate',\n    'created',\n    'beforeMount',\n    'mounted',\n    'beforeDestroy',\n    'destroyed',\n    'beforeUpdate',\n    'updated',\n    'activated',\n    'deactivated',\n    'render',\n    'errorCaptured' // 2.5\n];\nexport function getProps(options) {\n    if (options === void 0) { options = {}; }\n    if (options.props) {\n        var _loop_1 = function (prop) {\n            (options.newprops || (options.newprops = {}))[prop] = {};\n            (options.watch || (options.watch = {}))[prop] = function (newVal) {\n                this.ej2Instances[prop] = newVal;\n                if (this.dataBind && (options.name !== 'DateRangePickerComponent')) {\n                    this.dataBind();\n                }\n            };\n        };\n        for (var _i = 0, _a = options.props; _i < _a.length; _i++) {\n            var prop = _a[_i];\n            _loop_1(prop);\n        }\n    }\n    return [options.newprops, options.watch];\n}\nexport function EJComponentDecorator(options, isExecute) {\n    if (!isExecute) {\n        return;\n    }\n    return function (Component) {\n        return EJcomponentFactory(Component, options);\n    };\n}\nexport function EJcomponentFactory(Component, options) {\n    if (options === void 0) { options = {}; }\n    options.name = options.name || Component._componentTag || Component.name;\n    // prototype props.\n    var proto = Component.prototype;\n    if (options.props) {\n        var _loop_2 = function (prop) {\n            (options.props || (options.props = {}))[prop] = {};\n            (options.watch || (options.watch = {}))[prop] = function (newVal) {\n                this.ej2Instances[prop] = newVal;\n                if (this.dataBind && (options.name !== 'DateRangePickerComponent')) {\n                    this.dataBind();\n                }\n            };\n        };\n        for (var _i = 0, _a = options.props; _i < _a.length; _i++) {\n            var prop = _a[_i];\n            _loop_2(prop);\n        }\n    }\n    Object.getOwnPropertyNames(proto).forEach(function (key) {\n        // hooks\n        if (key === 'constructor') {\n            return;\n        }\n        if ($internalHooks.indexOf(key) > -1) {\n            options[key] = proto[key];\n            return;\n        }\n        var descriptor = Object.getOwnPropertyDescriptor(proto, key);\n        if (typeof descriptor.value === 'function') {\n            // methods\n            (options.methods || (options.methods = {}))[key] = descriptor.value;\n        }\n        else if (descriptor.get || descriptor.set) {\n            // computed properties\n            (options.computed || (options.computed = {}))[key] = {\n                get: descriptor.get,\n                set: descriptor.set\n            };\n        }\n    });\n    Object.getOwnPropertyNames(ComponentBase.prototype).forEach(function (key) {\n        if ($internalHooks.indexOf(key) > -1) {\n            options[key] = proto[key];\n            return;\n        }\n    });\n    (options.mixins || (options.mixins = [])).push({\n        data: function () {\n            return collectDataFromConstructor(this, Component);\n        }\n    });\n    //  decorate options\n    var decorators = Component.__decorators__;\n    if (decorators) {\n        decorators.forEach(Function(options));\n        delete Component.__decorators__;\n    }\n    // find super\n    var superProto = Object.getPrototypeOf(Component.prototype);\n    var Super = superProto instanceof Vue\n        ? superProto.constructor\n        : Vue;\n    var Extended = Super.extend(options);\n    return Extended;\n}\nfunction collectDataFromConstructor(vm, Component) {\n    Component.prototype._init = function () {\n        var _this = this;\n        var keys = Object.getOwnPropertyNames(vm);\n        if (vm.$options.props) {\n            for (var key in vm.$options.props) {\n                if (!vm.hasOwnProperty(key)) {\n                    keys.push(key);\n                }\n            }\n        }\n        keys.forEach(function (key) {\n            if (key.charAt(0) !== '_') {\n                Object.defineProperty(_this, key, {\n                    get: function () { return vm[key]; },\n                    set: function (value) { return vm[key] = value; }\n                });\n            }\n        });\n    };\n    var data = new Component();\n    var plainData = {};\n    Object.keys(data).forEach(function (key) {\n        if (data[key] !== undefined) {\n            plainData[key] = data[key];\n        }\n    });\n    return plainData;\n}\n","import Vue from \"vue\";\nimport { setTemplateEngine, getTemplateEngine, getUniqueID, createElement, detach, extend, getValue, } from \"@syncfusion/ej2-base\";\nimport { allVue, gh } from \"./component-base\";\n// tslint:disable:no-any\nvar stringCompiler = getTemplateEngine();\nexport function compile(templateElement, helper) {\n    var that = this;\n    return function (data, context, propName, element, root) {\n        var returnEle;\n        if (context) {\n            var pid = getUniqueID(\"templateParentDiv\");\n            var id = getUniqueID(\"templateDiv\");\n            var ele = createElement(\"div\", {\n                id: pid,\n                innerHTML: '<div id=\"' + id + '\"></div>',\n            });\n            document.body.appendChild(ele);\n            if (gh && typeof templateElement === \"string\") {\n                var vue3Slots_1 = getVue3Slot(context.vueInstance, templateElement, root);\n                if (vue3Slots_1) {\n                    // Compilation for Vue 3 slot template\n                    allVue\n                        .createApp({\n                        render: function () {\n                            return vue3Slots_1[templateElement]({ data: data });\n                        }\n                    })\n                        .mount(\"#\" + id);\n                    returnEle = ele.childNodes;\n                    detach(ele);\n                }\n                else {\n                    // Compilation for Vue 3 string template\n                    detach(ele);\n                    return stringCompiler(templateElement, helper)(data);\n                }\n            }\n            else if (gh) {\n                // Compilation for Vue 3 functional template\n                var tempObj = templateElement.call(that, {});\n                var object = tempObj;\n                var propsData = getValue(\"template.propsData\", tempObj);\n                var dataObj = {\n                    data: { data: extend(tempObj.data || {}, data) },\n                    parent: context.vueInstance,\n                };\n                if (!object.template) {\n                    object.template = object[Object.keys(object)[0]];\n                }\n                var templateCompRef = void 0;\n                if (object.template.extends) {\n                    templateCompRef = object.template.extends._context.components.template;\n                }\n                else {\n                    templateCompRef = object.template._context.components[templateElement.name];\n                    if (!templateCompRef) {\n                        var key = Object.keys(object.template._context.components)[0];\n                        templateCompRef = object.template._context.components[key];\n                    }\n                }\n                var tempRef_1;\n                if (propsData) {\n                    tempRef_1 = Object.assign(templateCompRef.data(), propsData);\n                }\n                else {\n                    tempRef_1 = Object.assign(templateCompRef.data(), dataObj.data);\n                    if (templateCompRef.components) {\n                        var objkeys = Object.keys(templateCompRef.components) || [];\n                        var _loop_1 = function (objstring) {\n                            var intComponent = templateCompRef.components[objstring];\n                            if (intComponent && intComponent.data) {\n                                var tempRef2_1 = Object.assign(intComponent.data(), dataObj.data);\n                                intComponent.data = function () { return tempRef2_1; };\n                            }\n                        };\n                        for (var _i = 0, objkeys_1 = objkeys; _i < objkeys_1.length; _i++) {\n                            var objstring = objkeys_1[_i];\n                            _loop_1(objstring);\n                        }\n                    }\n                }\n                templateCompRef.data = function () { return tempRef_1; };\n                allVue\n                    .createApp(templateCompRef)\n                    .mount(\"#\" + id);\n                returnEle = ele.childNodes;\n                detach(ele);\n            }\n            else if (typeof templateElement === \"string\") {\n                var vue2Slots_1 = getVue2Slot(context.vueInstance, templateElement, root);\n                if (vue2Slots_1) {\n                    // Compilation for Vue 2 slot template\n                    var vueTemplate = new Vue({\n                        render: function () {\n                            return vue2Slots_1[templateElement]({ data: data });\n                        }\n                    });\n                    vueTemplate.$mount(\"#\" + id);\n                    returnEle = ele.childNodes;\n                    detach(ele);\n                }\n                else {\n                    // Compilation for Vue 2 string template\n                    detach(ele);\n                    return stringCompiler(templateElement, helper)(data);\n                }\n            }\n            else {\n                // Compilation for Vue 2 functional template\n                var tempObj = templateElement.call(that, {});\n                var templateFunction = tempObj.template;\n                var propsData = getValue(\"template.propsData\", tempObj);\n                var dataObj = {\n                    data: { data: extend(tempObj.data || {}, data) },\n                    parent: context.vueInstance,\n                };\n                if (propsData) {\n                    templateFunction = tempObj.template.extends;\n                    dataObj.propsData = propsData;\n                }\n                if (typeof templateFunction !== \"function\") {\n                    templateFunction = Vue.extend(templateFunction);\n                }\n                var templateVue = new templateFunction(dataObj);\n                // let templateVue = new Vue(tempObj.template);\n                // templateVue.$data.data = extend(tempObj.data, data);\n                templateVue.$mount(\"#\" + id);\n                returnEle = ele.childNodes;\n                if (context.vueInstance) {\n                    var templateInstance = context.vueInstance.templateCollection;\n                    if (!templateInstance) {\n                        context.vueInstance.templateCollection = {};\n                        templateInstance = context.vueInstance.templateCollection;\n                    }\n                    if (propName) {\n                        if (!templateInstance[propName]) {\n                            templateInstance[propName] = [];\n                        }\n                        templateInstance[propName].push(returnEle[0]);\n                    }\n                }\n                detach(ele);\n            }\n        }\n        return returnEle || [];\n    };\n}\nsetTemplateEngine({ compile: compile });\n// Get the Vue2 slot template from the root or current Vue component.\nfunction getVue2Slot(vueInstance, templateElement, root) {\n    if (!vueInstance && !(root && root.vueInstance)) {\n        return undefined;\n    }\n    var instance = (root && root.vueInstance) ? root.vueInstance : vueInstance;\n    return getVue2ChildSlot(instance, templateElement);\n}\nfunction getVue2ChildSlot(vueInstance, templateElement) {\n    if (!vueInstance) {\n        return undefined;\n    }\n    var slots = vueInstance.$slots;\n    var scopedSlots = vueInstance.$scopedSlots;\n    var vSlots = vueInstance.scopedSlots;\n    var children = vueInstance.children;\n    if (scopedSlots && scopedSlots[templateElement]) {\n        return scopedSlots;\n    }\n    else if (slots && slots.default) {\n        var childSlots = slots.default;\n        for (var i = 0; i < childSlots.length; i++) {\n            var slot = getVue2ChildSlot(getSlot(childSlots[i]), templateElement);\n            if (slot) {\n                return slot;\n            }\n        }\n    }\n    else if (vSlots && vSlots[templateElement]) {\n        return vSlots;\n    }\n    else if (children) {\n        for (var i = 0; i < children.length; i++) {\n            var slot = getVue2ChildSlot(getSlot(children[i]), templateElement);\n            if (slot) {\n                return slot;\n            }\n        }\n    }\n    return undefined;\n}\nfunction getSlot(vnode) {\n    var slot = (vnode.componentOptions && vnode.componentOptions.children) ? vnode.componentOptions : vnode.data;\n    return vnode.componentInstance ? vnode.componentInstance : slot;\n}\n// Get the Vue3 slot template from the root or current Vue component.\nfunction getVue3Slot(vueInstance, templateElement, root) {\n    if (!vueInstance && !(root && root.vueInstance)) {\n        return undefined;\n    }\n    var slots = (root && root.vueInstance) ? root.vueInstance.$slots : vueInstance.$slots;\n    return getVue3ChildSlot(slots, templateElement);\n}\nfunction getVue3ChildSlot(slots, templateElement) {\n    if (slots && slots[templateElement]) {\n        return slots;\n    }\n    else if (slots && slots.default) {\n        var childSlots = slots.default();\n        for (var i = 0; i < childSlots.length; i++) {\n            var slot = getVue3ChildSlot(childSlots[i].children, templateElement);\n            if (slot) {\n                return slot;\n            }\n        }\n    }\n    return undefined;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { EJComponentDecorator, allVue, gh } from '@syncfusion/ej2-vue-base';\n\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport Vue from 'vue';\n\nexport var isExecute = gh ? false : true;\nvar vueImport;\nif (!isExecute || parseInt(allVue.version) < 3) {\n    vueImport = Vue;\n}\nelse {\n    vueImport = Vue;\n}\nvar StackedColumnsDirective = /** @class */ (function (_super) {\n    __extends(StackedColumnsDirective, _super);\n    function StackedColumnsDirective() {\n        return _super.call(this, arguments) || this;\n    }\n    StackedColumnsDirective.prototype.render = function (createElement) {\n        if (gh) {\n            var h = gh || createElement;\n            var slots = null;\n            if (!isNullOrUndefined(this.$slots.default)) {\n                slots = gh ? this.$slots.default() : this.$slots.default;\n            }\n            return h('div', { class: 'e-directive' }, slots);\n        }\n        return;\n    };\n    StackedColumnsDirective.prototype.updated = function () {\n        if (gh && this.custom) {\n            this.custom();\n        }\n    };\n    StackedColumnsDirective.prototype.getTag = function () {\n        return 'e-stacked-columns';\n    };\n    StackedColumnsDirective = __decorate([\n        EJComponentDecorator({}, isExecute)\n        \n    ], StackedColumnsDirective);\n    return StackedColumnsDirective;\n}(vueImport));\nexport { StackedColumnsDirective };\nexport var StackedColumnsPlugin = {\n    name: 'e-stacked-columns',\n    install: function (Vue) {\n        Vue.component(StackedColumnsPlugin.name, StackedColumnsDirective);\n    }\n};\nvar StackedColumnDirective = /** @class */ (function (_super) {\n    __extends(StackedColumnDirective, _super);\n    function StackedColumnDirective() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StackedColumnDirective.prototype.render = function () {\n        return;\n    };\n    StackedColumnDirective.prototype.getTag = function () {\n        return 'e-stacked-column';\n    };\n    StackedColumnDirective = __decorate([\n        EJComponentDecorator({}, isExecute)\n    ], StackedColumnDirective);\n    return StackedColumnDirective;\n}(vueImport));\nexport { StackedColumnDirective };\nexport var StackedColumnPlugin = {\n    name: 'e-stacked-column',\n    install: function (Vue) {\n        Vue.component(StackedColumnPlugin.name, StackedColumnDirective);\n    }\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { EJComponentDecorator, allVue, gh } from '@syncfusion/ej2-vue-base';\n\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport Vue from 'vue';\n\nexport var isExecute = gh ? false : true;\nvar vueImport;\nif (!isExecute || parseInt(allVue.version) < 3) {\n    vueImport = Vue;\n}\nelse {\n    vueImport = Vue;\n}\nvar ColumnsDirective = /** @class */ (function (_super) {\n    __extends(ColumnsDirective, _super);\n    function ColumnsDirective() {\n        return _super.call(this, arguments) || this;\n    }\n    ColumnsDirective.prototype.render = function (createElement) {\n        if (gh) {\n            var h = gh || createElement;\n            var slots = null;\n            if (!isNullOrUndefined(this.$slots.default)) {\n                slots = gh ? this.$slots.default() : this.$slots.default;\n            }\n            return h('div', { class: 'e-directive' }, slots);\n        }\n        return;\n    };\n    ColumnsDirective.prototype.updated = function () {\n        if (gh && this.custom) {\n            this.custom();\n        }\n    };\n    ColumnsDirective.prototype.getTag = function () {\n        return 'e-columns';\n    };\n    ColumnsDirective = __decorate([\n        EJComponentDecorator({}, isExecute)\n        \n    ], ColumnsDirective);\n    return ColumnsDirective;\n}(vueImport));\nexport { ColumnsDirective };\nexport var ColumnsPlugin = {\n    name: 'e-columns',\n    install: function (Vue) {\n        Vue.component(ColumnsPlugin.name, ColumnsDirective);\n    }\n};\n/**\n * `e-column` directive represent a column of the VueJS Grid.\n * It must be contained in a Grid component(`ejs-grid`).\n * ```vue\n * <ejs-grid :dataSource='data' allowPaging='true' allowSorting='true'>\n *   <e-columns>\n *    <e-column field='ID' width='100'/>\n *    <e-column field='name' headerText='Name' width='100'/>\n *   </e-columns>\n * </ejs-grid>\n * ```\n */\nvar ColumnDirective = /** @class */ (function (_super) {\n    __extends(ColumnDirective, _super);\n    function ColumnDirective() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ColumnDirective.prototype.render = function () {\n        return;\n    };\n    ColumnDirective.prototype.getTag = function () {\n        return 'e-column';\n    };\n    ColumnDirective = __decorate([\n        EJComponentDecorator({}, isExecute)\n    ], ColumnDirective);\n    return ColumnDirective;\n}(vueImport));\nexport { ColumnDirective };\nexport var ColumnPlugin = {\n    name: 'e-column',\n    install: function (Vue) {\n        Vue.component(ColumnPlugin.name, ColumnDirective);\n    }\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { EJComponentDecorator, allVue, gh } from '@syncfusion/ej2-vue-base';\n\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport Vue from 'vue';\n\nexport var isExecute = gh ? false : true;\nvar vueImport;\nif (!isExecute || parseInt(allVue.version) < 3) {\n    vueImport = Vue;\n}\nelse {\n    vueImport = Vue;\n}\nvar AggregateColumnsDirective = /** @class */ (function (_super) {\n    __extends(AggregateColumnsDirective, _super);\n    function AggregateColumnsDirective() {\n        return _super.call(this, arguments) || this;\n    }\n    AggregateColumnsDirective.prototype.render = function (createElement) {\n        if (gh) {\n            var h = gh || createElement;\n            var slots = null;\n            if (!isNullOrUndefined(this.$slots.default)) {\n                slots = gh ? this.$slots.default() : this.$slots.default;\n            }\n            return h('div', { class: 'e-directive' }, slots);\n        }\n        return;\n    };\n    AggregateColumnsDirective.prototype.updated = function () {\n        if (gh && this.custom) {\n            this.custom();\n        }\n    };\n    AggregateColumnsDirective.prototype.getTag = function () {\n        return 'e-columns';\n    };\n    AggregateColumnsDirective = __decorate([\n        EJComponentDecorator({}, isExecute)\n        \n    ], AggregateColumnsDirective);\n    return AggregateColumnsDirective;\n}(vueImport));\nexport { AggregateColumnsDirective };\nexport var AggregateColumnsPlugin = {\n    name: 'e-columns',\n    install: function (Vue) {\n        Vue.component(AggregateColumnsPlugin.name, AggregateColumnsDirective);\n    }\n};\n/**\n * `e-aggregate->e-column` directive represent a aggregate column of the VueJS Grid.\n * ```vue\n * <ejs-grid :dataSource='data' allowPaging='true' allowSorting='true'>\n *   <e-columns>\n *     <e-column field='ID' width='100'/>\n *     <e-column field='name' headerText='Name' width='100'/>\n *   </e-columns>\n *   <e-aggregates>\n *     <e-aggregate>\n *       <e-columns>\n *         <e-column field='ID' type='Min'/>\n *       </e-columns>\n *      </e-aggregate>\n *    </e-aggregates>\n * </ejs-grid>\n * ```\n */\nvar AggregateColumnDirective = /** @class */ (function (_super) {\n    __extends(AggregateColumnDirective, _super);\n    function AggregateColumnDirective() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AggregateColumnDirective.prototype.render = function () {\n        return;\n    };\n    AggregateColumnDirective.prototype.getTag = function () {\n        return 'e-column';\n    };\n    AggregateColumnDirective = __decorate([\n        EJComponentDecorator({}, isExecute)\n    ], AggregateColumnDirective);\n    return AggregateColumnDirective;\n}(vueImport));\nexport { AggregateColumnDirective };\nexport var AggregateColumnPlugin = {\n    name: 'e-column',\n    install: function (Vue) {\n        Vue.component(AggregateColumnPlugin.name, AggregateColumnDirective);\n    }\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { EJComponentDecorator, allVue, gh } from '@syncfusion/ej2-vue-base';\n\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport Vue from 'vue';\n\nexport var isExecute = gh ? false : true;\nvar vueImport;\nif (!isExecute || parseInt(allVue.version) < 3) {\n    vueImport = Vue;\n}\nelse {\n    vueImport = Vue;\n}\nvar AggregatesDirective = /** @class */ (function (_super) {\n    __extends(AggregatesDirective, _super);\n    function AggregatesDirective() {\n        return _super.call(this, arguments) || this;\n    }\n    AggregatesDirective.prototype.render = function (createElement) {\n        if (gh) {\n            var h = gh || createElement;\n            var slots = null;\n            if (!isNullOrUndefined(this.$slots.default)) {\n                slots = gh ? this.$slots.default() : this.$slots.default;\n            }\n            return h('div', { class: 'e-directive' }, slots);\n        }\n        return;\n    };\n    AggregatesDirective.prototype.updated = function () {\n        if (gh && this.custom) {\n            this.custom();\n        }\n    };\n    AggregatesDirective.prototype.getTag = function () {\n        return 'e-aggregates';\n    };\n    AggregatesDirective = __decorate([\n        EJComponentDecorator({}, isExecute)\n        \n    ], AggregatesDirective);\n    return AggregatesDirective;\n}(vueImport));\nexport { AggregatesDirective };\nexport var AggregatesPlugin = {\n    name: 'e-aggregates',\n    install: function (Vue) {\n        Vue.component(AggregatesPlugin.name, AggregatesDirective);\n    }\n};\n/**\n * `e-aggregate` directive represent a aggregate row of the VueJS Grid.\n * It must be contained in a Grid component(`ejs-grid`).\n * ```vue\n * <ejs-grid :dataSource]='data' allowPaging='true' allowSorting='true'>\n *   <e-columns>\n *     <e-column field='ID' width='100'/>\n *     <e-column field='name' headerText='Name' width='100'/>\n *   </e-columns>\n *   <e-aggregates>\n *     <e-aggregate>\n *       <e-columns>\n *         <e-column field='ID' type='Min'/>\n *       </e-columns>\n *      </e-aggregate>\n *    </e-aggregates>\n * </ejs-grid>\n * ```\n */\nvar AggregateDirective = /** @class */ (function (_super) {\n    __extends(AggregateDirective, _super);\n    function AggregateDirective() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AggregateDirective.prototype.render = function () {\n        return;\n    };\n    AggregateDirective.prototype.getTag = function () {\n        return 'e-aggregate';\n    };\n    AggregateDirective = __decorate([\n        EJComponentDecorator({}, isExecute)\n    ], AggregateDirective);\n    return AggregateDirective;\n}(vueImport));\nexport { AggregateDirective };\nexport var AggregatePlugin = {\n    name: 'e-aggregate',\n    install: function (Vue) {\n        Vue.component(AggregatePlugin.name, AggregateDirective);\n    }\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { isUndefined } from '@syncfusion/ej2-base';\nimport { ComponentBase, EJComponentDecorator, getProps, gh } from '@syncfusion/ej2-vue-base';\nimport { isNullOrUndefined, getValue } from '@syncfusion/ej2-base';\nimport { Grid } from '@syncfusion/ej2-grids';\nimport { StackedColumnsDirective, StackedColumnDirective, StackedColumnsPlugin, StackedColumnPlugin } from './stacked-column.directive';\nimport { ColumnsDirective, ColumnDirective, ColumnsPlugin, ColumnPlugin } from './columns.directive';\nimport { AggregateColumnsDirective, AggregateColumnDirective, AggregateColumnsPlugin, AggregateColumnPlugin } from './aggregate-columns.directive';\nimport { AggregatesDirective, AggregateDirective, AggregatesPlugin, AggregatePlugin } from './aggregates.directive';\n\nexport var properties = ['isLazyUpdate', 'aggregates', 'allowExcelExport', 'allowFiltering', 'allowGrouping', 'allowKeyboard', 'allowMultiSorting', 'allowPaging', 'allowPdfExport', 'allowReordering', 'allowResizing', 'allowRowDragAndDrop', 'allowSelection', 'allowSorting', 'allowTextWrap', 'childGrid', 'clipMode', 'columnChooserSettings', 'columnMenuItems', 'columnQueryMode', 'columns', 'contextMenuItems', 'currencyCode', 'currentAction', 'dataSource', 'detailTemplate', 'editSettings', 'ej2StatePersistenceVersion', 'enableAdaptiveUI', 'enableAltRow', 'enableAutoFill', 'enableColumnVirtualization', 'enableHeaderFocus', 'enableHover', 'enableImmutableMode', 'enableInfiniteScrolling', 'enablePersistence', 'enableRtl', 'enableStickyHeader', 'enableVirtualization', 'filterSettings', 'frozenColumns', 'frozenRows', 'gridLines', 'groupSettings', 'height', 'hierarchyPrintMode', 'infiniteScrollSettings', 'locale', 'pageSettings', 'pagerTemplate', 'parentDetails', 'printMode', 'query', 'queryString', 'resizeSettings', 'rowDropSettings', 'rowHeight', 'rowRenderingMode', 'rowTemplate', 'searchSettings', 'selectedRowIndex', 'selectionSettings', 'showColumnChooser', 'showColumnMenu', 'sortSettings', 'textWrapSettings', 'toolbar', 'toolbarTemplate', 'width', 'actionBegin', 'actionComplete', 'actionFailure', 'batchAdd', 'batchCancel', 'batchDelete', 'beforeAutoFill', 'beforeBatchAdd', 'beforeBatchDelete', 'beforeBatchSave', 'beforeCopy', 'beforeDataBound', 'beforeExcelExport', 'beforeOpenAdaptiveDialog', 'beforeOpenColumnChooser', 'beforePaste', 'beforePdfExport', 'beforePrint', 'beginEdit', 'cellDeselected', 'cellDeselecting', 'cellEdit', 'cellSave', 'cellSaved', 'cellSelected', 'cellSelecting', 'checkBoxChange', 'columnDataStateChange', 'columnDeselected', 'columnDeselecting', 'columnDrag', 'columnDragStart', 'columnDrop', 'columnMenuClick', 'columnMenuOpen', 'columnSelected', 'columnSelecting', 'commandClick', 'contextMenuClick', 'contextMenuOpen', 'created', 'dataBound', 'dataSourceChanged', 'dataStateChange', 'destroyed', 'detailDataBound', 'excelAggregateQueryCellInfo', 'excelExportComplete', 'excelHeaderQueryCellInfo', 'excelQueryCellInfo', 'exportDetailDataBound', 'exportGroupCaption', 'headerCellInfo', 'keyPressed', 'lazyLoadGroupCollapse', 'lazyLoadGroupExpand', 'load', 'pdfAggregateQueryCellInfo', 'pdfExportComplete', 'pdfHeaderQueryCellInfo', 'pdfQueryCellInfo', 'printComplete', 'queryCellInfo', 'recordClick', 'recordDoubleClick', 'resizeStart', 'resizeStop', 'resizing', 'rowDataBound', 'rowDeselected', 'rowDeselecting', 'rowDrag', 'rowDragStart', 'rowDragStartHelper', 'rowDrop', 'rowSelected', 'rowSelecting', 'toolbarClick'];\nexport var modelProps = ['dataSource'];\nexport var testProp = getProps({ props: properties });\nexport var props = testProp[0];\nexport var watch = testProp[1];\nexport var emitProbs = Object.keys(watch);\nemitProbs.push('modelchanged');\nfor (var _i = 0, modelProps_1 = modelProps; _i < modelProps_1.length; _i++) {\n    var props_1 = modelProps_1[_i];\n    emitProbs.push('update:' + props_1);\n}\nexport var isExecute = gh ? false : true;\n/**\n * `ejs-grid` represents the VueJS Grid Component.\n * ```vue\n * <ejs-grid :dataSource='data' allowPaging='true' allowSorting='true'></ejs-grid>\n * ```\n */\nvar GridComponent = /** @class */ (function (_super) {\n    __extends(GridComponent, _super);\n    function GridComponent() {\n        var _this = _super.call(this, arguments) || this;\n        _this.propKeys = properties;\n        _this.models = modelProps;\n        _this.hasChildDirective = true;\n        _this.hasInjectedModules = true;\n        _this.tagMapper = { \"e-columns\": { \"e-column\": { \"e-stacked-columns\": \"e-stacked-column\" } }, \"e-aggregates\": { \"e-aggregate\": { \"e-columns\": \"e-column\" } } };\n        _this.tagNameMapper = { \"e-stacked-columns\": \"e-columns\" };\n        _this.isVue3 = !isExecute;\n        _this.ej2Instances = new Grid({});\n        _this.ej2Instances._trigger = _this.ej2Instances.trigger;\n        _this.ej2Instances.trigger = _this.trigger;\n        _this.bindProperties();\n        _this.ej2Instances._setProperties = _this.ej2Instances.setProperties;\n        _this.ej2Instances.setProperties = _this.setProperties;\n        _this.ej2Instances.clearTemplate = _this.clearTemplate;\n        _this.updated = _this.updated;\n        return _this;\n    }\n    GridComponent.prototype.clearTemplate = function (templateNames) {\n        if (!templateNames) {\n            templateNames = Object.keys(this.templateCollection || {});\n        }\n        if (templateNames.length && this.templateCollection) {\n            for (var _i = 0, templateNames_1 = templateNames; _i < templateNames_1.length; _i++) {\n                var tempName = templateNames_1[_i];\n                var elementCollection = this.templateCollection[tempName];\n                if (elementCollection && elementCollection.length) {\n                    for (var _a = 0, elementCollection_1 = elementCollection; _a < elementCollection_1.length; _a++) {\n                        var ele = elementCollection_1[_a];\n                        var destroy = getValue('__vue__.$destroy', ele);\n                        if (destroy) {\n                            ele.__vue__.$destroy();\n                        }\n                        if (ele.innerHTML) {\n                            ele.innerHTML = '';\n                        }\n                    }\n                    delete this.templateCollection[tempName];\n                }\n            }\n        }\n    };\n    GridComponent.prototype.setProperties = function (prop, muteOnChange) {\n        var _this = this;\n        if (this.isVue3) {\n            this.models = !this.models ? this.ej2Instances.referModels : this.models;\n        }\n        if (this.ej2Instances && this.ej2Instances._setProperties) {\n            this.ej2Instances._setProperties(prop, muteOnChange);\n        }\n        if (prop && this.models && this.models.length) {\n            Object.keys(prop).map(function (key) {\n                _this.models.map(function (model) {\n                    if ((key === model) && !(/datasource/i.test(key))) {\n                        if (_this.isVue3) {\n                            _this.ej2Instances.vueInstance.$emit('update:' + key, prop[key]);\n                        }\n                        else {\n                            _this.$emit('update:' + key, prop[key]);\n                            _this.$emit('modelchanged', prop[key]);\n                        }\n                    }\n                });\n            });\n        }\n    };\n    GridComponent.prototype.trigger = function (eventName, eventProp, successHandler) {\n        if (!isExecute) {\n            this.models = !this.models ? this.ej2Instances.referModels : this.models;\n        }\n        if ((eventName === 'change' || eventName === 'input') && this.models && (this.models.length !== 0)) {\n            var key = this.models.toString().match(/checked|value/) || [];\n            var propKey = key[0];\n            if (eventProp && key && !isUndefined(eventProp[propKey])) {\n                if (!isExecute) {\n                    this.ej2Instances.vueInstance.$emit('update:' + propKey, eventProp[propKey]);\n                    this.ej2Instances.vueInstance.$emit('modelchanged', eventProp[propKey]);\n                }\n                else {\n                    if (eventName === 'change' || (this.$props && !this.$props.isLazyUpdate)) {\n                        this.$emit('update:' + propKey, eventProp[propKey]);\n                        this.$emit('modelchanged', eventProp[propKey]);\n                    }\n                }\n            }\n        }\n        else if ((eventName === 'actionBegin' && eventProp.requestType === 'dateNavigate') && this.models && (this.models.length !== 0)) {\n            var key = this.models.toString().match(/currentView|selectedDate/) || [];\n            var propKey = key[0];\n            if (eventProp && key && !isUndefined(eventProp[propKey])) {\n                if (!isExecute) {\n                    this.ej2Instances.vueInstance.$emit('update:' + propKey, eventProp[propKey]);\n                    this.ej2Instances.vueInstance.$emit('modelchanged', eventProp[propKey]);\n                }\n                else {\n                    this.$emit('update:' + propKey, eventProp[propKey]);\n                    this.$emit('modelchanged', eventProp[propKey]);\n                }\n            }\n        }\n        if ((this.ej2Instances && this.ej2Instances._trigger)) {\n            this.ej2Instances._trigger(eventName, eventProp, successHandler);\n        }\n    };\n    GridComponent.prototype.render = function (createElement) {\n        var h = gh || createElement;\n        var slots = null;\n        if (!isNullOrUndefined(this.$slots.default)) {\n            slots = gh ? this.$slots.default() : this.$slots.default;\n        }\n        return h('div', slots);\n    };\n    GridComponent.prototype.custom = function () {\n        this.updated();\n    };\n    GridComponent.prototype.addRecord = function (data, index) {\n        return this.ej2Instances.addRecord(data, index);\n    };\n    GridComponent.prototype.autoFitColumns = function (fieldNames) {\n        return this.ej2Instances.autoFitColumns(fieldNames);\n    };\n    GridComponent.prototype.batchAsyncUpdate = function (changes) {\n        return this.ej2Instances.batchAsyncUpdate(changes);\n    };\n    GridComponent.prototype.batchUpdate = function (changes) {\n        return this.ej2Instances.batchUpdate(changes);\n    };\n    GridComponent.prototype.calculatePageSizeByParentHeight = function (containerHeight) {\n        return this.ej2Instances.calculatePageSizeByParentHeight(containerHeight);\n    };\n    GridComponent.prototype.clearCellSelection = function () {\n        return this.ej2Instances.clearCellSelection();\n    };\n    GridComponent.prototype.clearFiltering = function (fields) {\n        return this.ej2Instances.clearFiltering(fields);\n    };\n    GridComponent.prototype.clearGrouping = function () {\n        return this.ej2Instances.clearGrouping();\n    };\n    GridComponent.prototype.clearRowSelection = function () {\n        return this.ej2Instances.clearRowSelection();\n    };\n    GridComponent.prototype.clearSelection = function () {\n        return this.ej2Instances.clearSelection();\n    };\n    GridComponent.prototype.clearSorting = function () {\n        return this.ej2Instances.clearSorting();\n    };\n    GridComponent.prototype.closeEdit = function () {\n        return this.ej2Instances.closeEdit();\n    };\n    GridComponent.prototype.copy = function (withHeader) {\n        return this.ej2Instances.copy(withHeader);\n    };\n    GridComponent.prototype.csvExport = function (excelExportProperties, isMultipleExport, workbook, isBlob) {\n        return this.ej2Instances.csvExport(excelExportProperties, isMultipleExport, workbook, isBlob);\n    };\n    GridComponent.prototype.dataReady = function () {\n        return this.ej2Instances.dataReady();\n    };\n    GridComponent.prototype.deleteRecord = function (fieldname, data) {\n        return this.ej2Instances.deleteRecord(fieldname, data);\n    };\n    GridComponent.prototype.deleteRow = function (tr) {\n        return this.ej2Instances.deleteRow(tr);\n    };\n    GridComponent.prototype.destroyTemplate = function (propertyNames, index) {\n        return this.ej2Instances.destroyTemplate(propertyNames, index);\n    };\n    GridComponent.prototype.detailCollapseAll = function () {\n        return this.ej2Instances.detailCollapseAll();\n    };\n    GridComponent.prototype.detailExpandAll = function () {\n        return this.ej2Instances.detailExpandAll();\n    };\n    GridComponent.prototype.editCell = function (index, field) {\n        return this.ej2Instances.editCell(index, field);\n    };\n    GridComponent.prototype.enableToolbarItems = function (items, isEnable) {\n        return this.ej2Instances.enableToolbarItems(items, isEnable);\n    };\n    GridComponent.prototype.endEdit = function () {\n        return this.ej2Instances.endEdit();\n    };\n    GridComponent.prototype.excelExport = function (excelExportProperties, isMultipleExport, workbook, isBlob) {\n        return this.ej2Instances.excelExport(excelExportProperties, isMultipleExport, workbook, isBlob);\n    };\n    GridComponent.prototype.extendRequiredModules = function (modules) {\n        return this.ej2Instances.extendRequiredModules(modules);\n    };\n    GridComponent.prototype.filterByColumn = function (fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent, actualFilterValue, actualOperator) {\n        return this.ej2Instances.filterByColumn(fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent, actualFilterValue, actualOperator);\n    };\n    GridComponent.prototype.getBatchChanges = function () {\n        return this.ej2Instances.getBatchChanges();\n    };\n    GridComponent.prototype.getCellFromIndex = function (rowIndex, columnIndex) {\n        return this.ej2Instances.getCellFromIndex(rowIndex, columnIndex);\n    };\n    GridComponent.prototype.getColumnByField = function (field) {\n        return this.ej2Instances.getColumnByField(field);\n    };\n    GridComponent.prototype.getColumnByUid = function (uid) {\n        return this.ej2Instances.getColumnByUid(uid);\n    };\n    GridComponent.prototype.getColumnFieldNames = function () {\n        return this.ej2Instances.getColumnFieldNames();\n    };\n    GridComponent.prototype.getColumnHeaderByField = function (field) {\n        return this.ej2Instances.getColumnHeaderByField(field);\n    };\n    GridComponent.prototype.getColumnHeaderByIndex = function (index) {\n        return this.ej2Instances.getColumnHeaderByIndex(index);\n    };\n    GridComponent.prototype.getColumnHeaderByUid = function (uid) {\n        return this.ej2Instances.getColumnHeaderByUid(uid);\n    };\n    GridComponent.prototype.getColumnIndexByField = function (field) {\n        return this.ej2Instances.getColumnIndexByField(field);\n    };\n    GridComponent.prototype.getColumnIndexByUid = function (uid) {\n        return this.ej2Instances.getColumnIndexByUid(uid);\n    };\n    GridComponent.prototype.getColumns = function (isRefresh) {\n        return this.ej2Instances.getColumns(isRefresh);\n    };\n    GridComponent.prototype.getContent = function () {\n        return this.ej2Instances.getContent();\n    };\n    GridComponent.prototype.getContentTable = function () {\n        return this.ej2Instances.getContentTable();\n    };\n    GridComponent.prototype.getCurrentViewRecords = function () {\n        return this.ej2Instances.getCurrentViewRecords();\n    };\n    GridComponent.prototype.getDataModule = function () {\n        return this.ej2Instances.getDataModule();\n    };\n    GridComponent.prototype.getDataRows = function () {\n        return this.ej2Instances.getDataRows();\n    };\n    GridComponent.prototype.getFilterUIInfo = function () {\n        return this.ej2Instances.getFilterUIInfo();\n    };\n    GridComponent.prototype.getFilteredRecords = function () {\n        return this.ej2Instances.getFilteredRecords();\n    };\n    GridComponent.prototype.getFooterContent = function () {\n        return this.ej2Instances.getFooterContent();\n    };\n    GridComponent.prototype.getFooterContentTable = function () {\n        return this.ej2Instances.getFooterContentTable();\n    };\n    GridComponent.prototype.getForeignKeyColumns = function () {\n        return this.ej2Instances.getForeignKeyColumns();\n    };\n    GridComponent.prototype.getFrozenDataRows = function () {\n        return this.ej2Instances.getFrozenDataRows();\n    };\n    GridComponent.prototype.getFrozenLeftColumnHeaderByIndex = function (index) {\n        return this.ej2Instances.getFrozenLeftColumnHeaderByIndex(index);\n    };\n    GridComponent.prototype.getFrozenLeftCount = function () {\n        return this.ej2Instances.getFrozenLeftCount();\n    };\n    GridComponent.prototype.getFrozenMode = function () {\n        return this.ej2Instances.getFrozenMode();\n    };\n    GridComponent.prototype.getFrozenRightCellFromIndex = function (rowIndex, columnIndex) {\n        return this.ej2Instances.getFrozenRightCellFromIndex(rowIndex, columnIndex);\n    };\n    GridComponent.prototype.getFrozenRightColumnHeaderByIndex = function (index) {\n        return this.ej2Instances.getFrozenRightColumnHeaderByIndex(index);\n    };\n    GridComponent.prototype.getFrozenRightDataRows = function () {\n        return this.ej2Instances.getFrozenRightDataRows();\n    };\n    GridComponent.prototype.getFrozenRightRowByIndex = function (index) {\n        return this.ej2Instances.getFrozenRightRowByIndex(index);\n    };\n    GridComponent.prototype.getFrozenRightRows = function () {\n        return this.ej2Instances.getFrozenRightRows();\n    };\n    GridComponent.prototype.getFrozenRowByIndex = function (index) {\n        return this.ej2Instances.getFrozenRowByIndex(index);\n    };\n    GridComponent.prototype.getHeaderContent = function () {\n        return this.ej2Instances.getHeaderContent();\n    };\n    GridComponent.prototype.getHeaderTable = function () {\n        return this.ej2Instances.getHeaderTable();\n    };\n    GridComponent.prototype.getHiddenColumns = function () {\n        return this.ej2Instances.getHiddenColumns();\n    };\n    GridComponent.prototype.getMediaColumns = function () {\n        return this.ej2Instances.getMediaColumns();\n    };\n    GridComponent.prototype.getMovableCellFromIndex = function (rowIndex, columnIndex) {\n        return this.ej2Instances.getMovableCellFromIndex(rowIndex, columnIndex);\n    };\n    GridComponent.prototype.getMovableColumnHeaderByIndex = function (index) {\n        return this.ej2Instances.getMovableColumnHeaderByIndex(index);\n    };\n    GridComponent.prototype.getMovableDataRows = function () {\n        return this.ej2Instances.getMovableDataRows();\n    };\n    GridComponent.prototype.getMovableRowByIndex = function (index) {\n        return this.ej2Instances.getMovableRowByIndex(index);\n    };\n    GridComponent.prototype.getMovableRows = function () {\n        return this.ej2Instances.getMovableRows();\n    };\n    GridComponent.prototype.getPager = function () {\n        return this.ej2Instances.getPager();\n    };\n    GridComponent.prototype.getPrimaryKeyFieldNames = function () {\n        return this.ej2Instances.getPrimaryKeyFieldNames();\n    };\n    GridComponent.prototype.getRowByIndex = function (index) {\n        return this.ej2Instances.getRowByIndex(index);\n    };\n    GridComponent.prototype.getRowIndexByPrimaryKey = function (value) {\n        return this.ej2Instances.getRowIndexByPrimaryKey(value);\n    };\n    GridComponent.prototype.getRowInfo = function (target) {\n        return this.ej2Instances.getRowInfo(target);\n    };\n    GridComponent.prototype.getRows = function () {\n        return this.ej2Instances.getRows();\n    };\n    GridComponent.prototype.getSelectedColumnsUid = function () {\n        return this.ej2Instances.getSelectedColumnsUid();\n    };\n    GridComponent.prototype.getSelectedRecords = function () {\n        return this.ej2Instances.getSelectedRecords();\n    };\n    GridComponent.prototype.getSelectedRowCellIndexes = function () {\n        return this.ej2Instances.getSelectedRowCellIndexes();\n    };\n    GridComponent.prototype.getSelectedRowIndexes = function () {\n        return this.ej2Instances.getSelectedRowIndexes();\n    };\n    GridComponent.prototype.getSelectedRows = function () {\n        return this.ej2Instances.getSelectedRows();\n    };\n    GridComponent.prototype.getSummaryValues = function (summaryCol, summaryData) {\n        return this.ej2Instances.getSummaryValues(summaryCol, summaryData);\n    };\n    GridComponent.prototype.getUidByColumnField = function (field) {\n        return this.ej2Instances.getUidByColumnField(field);\n    };\n    GridComponent.prototype.getVisibleColumns = function () {\n        return this.ej2Instances.getVisibleColumns();\n    };\n    GridComponent.prototype.goToPage = function (pageNo) {\n        return this.ej2Instances.goToPage(pageNo);\n    };\n    GridComponent.prototype.groupCollapseAll = function () {\n        return this.ej2Instances.groupCollapseAll();\n    };\n    GridComponent.prototype.groupColumn = function (columnName) {\n        return this.ej2Instances.groupColumn(columnName);\n    };\n    GridComponent.prototype.groupExpandAll = function () {\n        return this.ej2Instances.groupExpandAll();\n    };\n    GridComponent.prototype.hideColumns = function (keys, hideBy) {\n        return this.ej2Instances.hideColumns(keys, hideBy);\n    };\n    GridComponent.prototype.hideScroll = function () {\n        return this.ej2Instances.hideScroll();\n    };\n    GridComponent.prototype.hideSpinner = function () {\n        return this.ej2Instances.hideSpinner();\n    };\n    GridComponent.prototype.isFrozenGrid = function () {\n        return this.ej2Instances.isFrozenGrid();\n    };\n    GridComponent.prototype.openColumnChooser = function (x, y) {\n        return this.ej2Instances.openColumnChooser(x, y);\n    };\n    GridComponent.prototype.pdfExport = function (pdfExportProperties, isMultipleExport, pdfDoc, isBlob) {\n        return this.ej2Instances.pdfExport(pdfExportProperties, isMultipleExport, pdfDoc, isBlob);\n    };\n    GridComponent.prototype.print = function () {\n        return this.ej2Instances.print();\n    };\n    GridComponent.prototype.refresh = function () {\n        return this.ej2Instances.refresh();\n    };\n    GridComponent.prototype.refreshColumns = function () {\n        return this.ej2Instances.refreshColumns();\n    };\n    GridComponent.prototype.refreshHeader = function () {\n        return this.ej2Instances.refreshHeader();\n    };\n    GridComponent.prototype.reorderColumnByIndex = function (fromIndex, toIndex) {\n        return this.ej2Instances.reorderColumnByIndex(fromIndex, toIndex);\n    };\n    GridComponent.prototype.reorderColumnByTargetIndex = function (fieldName, toIndex) {\n        return this.ej2Instances.reorderColumnByTargetIndex(fieldName, toIndex);\n    };\n    GridComponent.prototype.reorderColumns = function (fromFName, toFName) {\n        return this.ej2Instances.reorderColumns(fromFName, toFName);\n    };\n    GridComponent.prototype.reorderRows = function (fromIndexes, toIndex) {\n        return this.ej2Instances.reorderRows(fromIndexes, toIndex);\n    };\n    GridComponent.prototype.saveCell = function () {\n        return this.ej2Instances.saveCell();\n    };\n    GridComponent.prototype.search = function (searchString) {\n        return this.ej2Instances.search(searchString);\n    };\n    GridComponent.prototype.selectCell = function (cellIndex, isToggle) {\n        return this.ej2Instances.selectCell(cellIndex, isToggle);\n    };\n    GridComponent.prototype.selectCells = function (rowCellIndexes) {\n        return this.ej2Instances.selectCells(rowCellIndexes);\n    };\n    GridComponent.prototype.selectCellsByRange = function (startIndex, endIndex) {\n        return this.ej2Instances.selectCellsByRange(startIndex, endIndex);\n    };\n    GridComponent.prototype.selectRow = function (index, isToggle) {\n        return this.ej2Instances.selectRow(index, isToggle);\n    };\n    GridComponent.prototype.selectRows = function (rowIndexes) {\n        return this.ej2Instances.selectRows(rowIndexes);\n    };\n    GridComponent.prototype.selectRowsByRange = function (startIndex, endIndex) {\n        return this.ej2Instances.selectRowsByRange(startIndex, endIndex);\n    };\n    GridComponent.prototype.serverCsvExport = function (url) {\n        return this.ej2Instances.serverCsvExport(url);\n    };\n    GridComponent.prototype.serverExcelExport = function (url) {\n        return this.ej2Instances.serverExcelExport(url);\n    };\n    GridComponent.prototype.serverPdfExport = function (url) {\n        return this.ej2Instances.serverPdfExport(url);\n    };\n    GridComponent.prototype.setCellValue = function (key, field, value) {\n        return this.ej2Instances.setCellValue(key, field, value);\n    };\n    GridComponent.prototype.setGridContent = function (element) {\n        return this.ej2Instances.setGridContent(element);\n    };\n    GridComponent.prototype.setGridContentTable = function (element) {\n        return this.ej2Instances.setGridContentTable(element);\n    };\n    GridComponent.prototype.setGridHeaderContent = function (element) {\n        return this.ej2Instances.setGridHeaderContent(element);\n    };\n    GridComponent.prototype.setGridHeaderTable = function (element) {\n        return this.ej2Instances.setGridHeaderTable(element);\n    };\n    GridComponent.prototype.setGridPager = function (element) {\n        return this.ej2Instances.setGridPager(element);\n    };\n    GridComponent.prototype.setRowData = function (key, rowData) {\n        return this.ej2Instances.setRowData(key, rowData);\n    };\n    GridComponent.prototype.showAdaptiveFilterDialog = function () {\n        return this.ej2Instances.showAdaptiveFilterDialog();\n    };\n    GridComponent.prototype.showAdaptiveSortDialog = function () {\n        return this.ej2Instances.showAdaptiveSortDialog();\n    };\n    GridComponent.prototype.showColumns = function (keys, showBy) {\n        return this.ej2Instances.showColumns(keys, showBy);\n    };\n    GridComponent.prototype.showSpinner = function () {\n        return this.ej2Instances.showSpinner();\n    };\n    GridComponent.prototype.sortColumn = function (columnName, direction, isMultiSort) {\n        return this.ej2Instances.sortColumn(columnName, direction, isMultiSort);\n    };\n    GridComponent.prototype.startEdit = function () {\n        return this.ej2Instances.startEdit();\n    };\n    GridComponent.prototype.ungroupColumn = function (columnName) {\n        return this.ej2Instances.ungroupColumn(columnName);\n    };\n    GridComponent.prototype.updateCell = function (rowIndex, field, value) {\n        return this.ej2Instances.updateCell(rowIndex, field, value);\n    };\n    GridComponent.prototype.updateExternalMessage = function (message) {\n        return this.ej2Instances.updateExternalMessage(message);\n    };\n    GridComponent.prototype.updateRow = function (index, data) {\n        return this.ej2Instances.updateRow(index, data);\n    };\n    GridComponent.prototype.updateRowValue = function (key, rowData) {\n        return this.ej2Instances.updateRowValue(key, rowData);\n    };\n    GridComponent = __decorate([\n        EJComponentDecorator({\n            props: properties,\n            model: {\n                event: 'modelchanged'\n            }\n        }, isExecute)\n        \n    ], GridComponent);\n    return GridComponent;\n}(ComponentBase));\nexport { GridComponent };\nexport var GridPlugin = {\n    name: 'ejs-grid',\n    install: function (Vue) {\n        Vue.component(GridPlugin.name, GridComponent);\n        Vue.component(ColumnPlugin.name, ColumnDirective);\n        Vue.component(ColumnsPlugin.name, ColumnsDirective);\n        Vue.component(StackedColumnPlugin.name, StackedColumnDirective);\n        Vue.component(StackedColumnsPlugin.name, StackedColumnsDirective);\n        Vue.component(AggregatePlugin.name, AggregateDirective);\n        Vue.component(AggregatesPlugin.name, AggregatesDirective);\n        Vue.component(AggregateColumnPlugin.name, AggregateColumnDirective);\n        Vue.component(AggregateColumnsPlugin.name, AggregateColumnsDirective);\n    }\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { EventHandler, getValue, closest, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, extend, Browser } from '@syncfusion/ej2-base';\nimport { CellType } from '../base/enum';\nimport * as event from '../base/constant';\nimport { Row } from '../models/row';\nimport { RowModelGenerator } from './row-model-generator';\nimport { parentsUntil, addRemoveEventListener } from '../base/util';\nimport * as literals from '../base/string-literals';\n/**\n * FocusStrategy class\n *\n * @hidden\n */\nvar FocusStrategy = /** @class */ (function () {\n    function FocusStrategy(parent) {\n        this.currentInfo = {};\n        this.oneTime = true;\n        this.swap = {};\n        /** @hidden */\n        this.isInfiniteScroll = false;\n        this.forget = false;\n        this.skipFocus = true;\n        this.focusByClick = false;\n        this.prevIndexes = {};\n        this.refMatrix = this.refreshMatrix(true);\n        this.actions = ['downArrow', 'upArrow'];\n        this.isVirtualScroll = false;\n        this.parent = parent;\n        this.rowModelGen = new RowModelGenerator(this.parent);\n        this.addEventListener();\n    }\n    FocusStrategy.prototype.focusCheck = function (e) {\n        var target = e.target;\n        this.focusByClick = true;\n        this.skipFocus = target.classList.contains('e-grid');\n    };\n    FocusStrategy.prototype.onFocus = function (e) {\n        if (this.parent.isDestroyed || Browser.isDevice || this.parent.enableVirtualization) {\n            return;\n        }\n        this.setActive(!this.parent.enableHeaderFocus && this.parent.frozenRows === 0, this.parent.isFrozenGrid());\n        if (!this.parent.enableHeaderFocus && !this.parent.getCurrentViewRecords().length && ((this.parent.editSettings.mode !== 'Batch')\n            || (this.parent.editSettings.mode === 'Batch' && !this.parent.editModule.getBatchChanges()[literals.addedRecords].length))) {\n            this.getContent().matrix.\n                generate(this.rowModelGen.generateRows({ rows: [new Row({ isDataRow: true })] }), this.getContent().selector, false);\n        }\n        var current = this.getContent().matrix.get(0, -1, [0, 1], null, this.getContent().validator());\n        this.getContent().matrix.select(current[0], current[1]);\n        if (this.skipFocus) {\n            this.focus(e);\n            this.skipFocus = false;\n        }\n    };\n    FocusStrategy.prototype.passiveFocus = function (e) {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        if (e.target && e.target.classList.contains('e-detailcell')) {\n            this.currentInfo.skipAction = false;\n            addClass([this.currentInfo.element], ['e-focused', 'e-focus']);\n        }\n    };\n    FocusStrategy.prototype.onBlur = function (e) {\n        if ((this.parent.isEdit || e && (!e.relatedTarget || closest(e.relatedTarget, '.e-grid')))\n            && !(isNullOrUndefined(e.relatedTarget) && parseInt(e.target.getAttribute('aria-colindex'), 10) === 0 &&\n                parseInt(e.target.getAttribute('index'), 10) === 0)) {\n            return;\n        }\n        this.removeFocus();\n        this.skipFocus = true;\n        this.currentInfo.skipAction = false;\n        this.parent.element.tabIndex = 0;\n    };\n    FocusStrategy.prototype.onClick = function (e, force) {\n        if (parentsUntil(e.target, 'e-filterbarcell') && (parentsUntil(e.target, 'e-multiselect') ||\n            e.target.classList.contains('e-input-group-icon'))) {\n            return;\n        }\n        var isContent = !isNullOrUndefined(closest(e.target, '.' + literals.gridContent));\n        var isHeader = !isNullOrUndefined(closest(e.target, '.' + literals.gridHeader));\n        isContent = isContent && isHeader ? !isContent : isContent;\n        var isFrozen = !isNullOrUndefined(closest(e.target, '.' + literals.frozenContent)) ||\n            !isNullOrUndefined(closest(e.target, '.' + literals.frozenHeader));\n        var isFrozenRight = false;\n        if (this.parent.getFrozenMode() === literals.leftRight) {\n            isFrozenRight = !isNullOrUndefined(closest(e.target, '.e-frozen-right-content')) ||\n                !isNullOrUndefined(closest(e.target, '.e-frozen-right-header'));\n            isFrozen = isFrozen && !isFrozenRight;\n        }\n        if (!isContent && isNullOrUndefined(closest(e.target, '.' + literals.gridHeader)) ||\n            e.target.classList.contains(literals.content) ||\n            !isNullOrUndefined(closest(e.target, '.e-unboundcell'))) {\n            return;\n        }\n        this.setActive(isContent, isFrozen, isFrozenRight);\n        if (!isContent && isNullOrUndefined(closest(e.target, '.' + literals.gridHeader))) {\n            this.clearOutline();\n            return;\n        }\n        var beforeArgs = { cancel: false, byKey: false, byClick: !isNullOrUndefined(e.target), clickArgs: e };\n        this.parent.notify(event.beforeCellFocused, beforeArgs);\n        if (beforeArgs.cancel || closest(e.target, '.e-inline-edit')) {\n            return;\n        }\n        this.setActive(isContent, isFrozen, isFrozenRight);\n        if (this.getContent()) {\n            var returnVal = this.getContent().onClick(e, force);\n            if (returnVal === false) {\n                return;\n            }\n            this.focus();\n        }\n    };\n    FocusStrategy.prototype.onKeyPress = function (e) {\n        if (this.parent.allowPaging) {\n            if (this.parent.pagerModule.pagerObj.checkPagerHasFocus()) {\n                this.parent.pagerModule.pagerObj.changePagerFocus(e);\n                return;\n            }\n            if (this.parent.pagerModule.pagerObj.element.tabIndex === 0 && (e.keyCode === 38 || (e.shiftKey && e.keyCode === 9))) {\n                e.preventDefault();\n                this.getFocusedElement().focus();\n                return;\n            }\n            else if (this.parent.pagerModule.pagerObj.element.tabIndex === 0 && e.keyCode === 9) {\n                e.preventDefault();\n                this.parent.pagerModule.pagerObj.setPagerFocus();\n                return;\n            }\n            if (this.parent.pagerModule.pagerObj.checkFirstPagerFocus()) {\n                var lastRow = this.getContent().matrix.rows;\n                var lastColumn = this.getContent().matrix.columns;\n                this.getContent().matrix.current = [lastRow, lastColumn];\n            }\n        }\n        if (this.skipOn(e)) {\n            return;\n        }\n        this.activeKey = e.action;\n        var beforeArgs = { cancel: false, byKey: true, byClick: false, keyArgs: e };\n        this.parent.notify(event.beforeCellFocused, beforeArgs);\n        if (beforeArgs.cancel) {\n            return;\n        }\n        var bValue = this.getContent().matrix.current;\n        this.currentInfo.outline = true;\n        var swapInfo = this.getContent().jump(e.action, bValue);\n        this.swap = swapInfo;\n        if (swapInfo.swap) {\n            this.setActive(!swapInfo.toHeader, swapInfo.toFrozen, swapInfo.toFrozenRight);\n            this.getContent().matrix.current = this.getContent().getNextCurrent(bValue, swapInfo, this.active, e.action);\n            this.prevIndexes = {};\n        }\n        this.setActiveByKey(e.action, this.getContent());\n        var returnVal = this.content.lastIdxCell ? false : this.getContent().onKeyPress(e);\n        if (returnVal === false) {\n            this.clearIndicator();\n            if (e.action === 'shiftTab' && bValue.toString() === [0, 0].toString()) {\n                this.parent.element.tabIndex = -1;\n            }\n            if (this.parent.allowPaging && !this.parent.pagerModule.pagerObj.checkPagerHasFocus() && this.allowToPaging(e)\n                && bValue.toString() !== [0, 0].toString()) {\n                e.preventDefault();\n                if (e.keyCode === 40) {\n                    this.parent.pagerModule.pagerObj.setPagerContainerFocus();\n                }\n                else if (e.keyCode === 9) {\n                    this.parent.pagerModule.pagerObj.setPagerFocus();\n                }\n            }\n            return;\n        }\n        e.preventDefault();\n        this.focus(e);\n    };\n    FocusStrategy.prototype.allowToPaging = function (e) {\n        if (this.parent.editSettings.mode === 'Batch' && this.parent.editSettings.allowAdding && e.keyCode !== 40) {\n            return false;\n        }\n        return true;\n    };\n    FocusStrategy.prototype.skipOn = function (e) {\n        var target = e.target;\n        if (!target) {\n            return false;\n        }\n        if (this.currentInfo.skipAction) {\n            this.clearIndicator();\n            return true;\n        }\n        if (['pageUp', 'pageDown', 'altDownArrow'].indexOf(e.action) > -1) {\n            this.clearIndicator();\n            return true;\n        }\n        var th = closest(target, 'th') && !closest(target, 'th').tabIndex;\n        if (e.target.classList.contains('e-filterbaroperator') && (e.keyCode === 13 || e.keyCode === 27)) {\n            var inputTarget = closest(e.target, '.e-filterbarcell');\n            inputTarget.querySelector('input').focus();\n        }\n        if (th && closest(document.activeElement, '.e-filterbarcell') !== null) {\n            this.removeFocus();\n        }\n        var filterCell = closest(document.activeElement, '.e-filterbarcell') !== null;\n        if (this.parent.enableHeaderFocus && filterCell) {\n            var matrix = this.active.matrix;\n            var current = matrix.current;\n            filterCell = matrix.matrix[current[0]].lastIndexOf(1) !== current[1];\n        }\n        return (e.action === 'delete'\n            || (this.parent.editSettings.mode !== 'Batch' && (this.parent.isEdit || ['insert', 'f2'].indexOf(e.action) > -1))\n            || (filterCell ||\n                closest(document.activeElement, '#' + this.parent.element.id + '_searchbar') !== null\n                    && ['enter', 'leftArrow', 'rightArrow',\n                        'shiftLeft', 'shiftRight', 'ctrlPlusA'].indexOf(e.action) > -1)\n            || (closest(target, '.' + literals.gridContent) === null && closest(target, '.' + literals.gridHeader) === null)\n            || (e.action === 'space' && (!target.classList.contains(literals.gridChkBox) && closest(target, '.' + literals.gridChkBox) === null\n                && closest(target, '.e-headerchkcelldiv') === null))) || closest(target, '.e-filter-popup') !== null;\n    };\n    FocusStrategy.prototype.focusVirtualElement = function (e) {\n        var _this = this;\n        if (this.parent.enableVirtualization || this.parent.enableInfiniteScrolling) {\n            var data = { virtualData: {}, isAdd: false, isCancel: false };\n            this.parent.notify(event.getVirtualData, data);\n            var isKeyFocus = this.actions.some(function (value) { return value === _this.activeKey; });\n            var isSelected = this.parent.contentModule ?\n                this.parent.contentModule.selectedRowIndex > -1 : false;\n            if (data.isAdd || Object.keys(data.virtualData).length || isKeyFocus || data.isCancel || isSelected) {\n                this.parent.notify(event.resetVirtualFocus, { isCancel: false });\n                data.isCancel = false;\n                this.parent.contentModule.selectedRowIndex = -1;\n                if (isKeyFocus) {\n                    this.activeKey = this.empty;\n                    this.parent.notify('virtaul-key-handler', e);\n                }\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.currentInfo.elementToFocus.focus({ preventScroll: true });\n            }\n            else {\n                if (this.isVirtualScroll || this.isInfiniteScroll) {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.currentInfo.elementToFocus.focus({ preventScroll: true });\n                }\n                else {\n                    this.currentInfo.elementToFocus.focus();\n                }\n            }\n        }\n        this.isVirtualScroll = this.isInfiniteScroll = false;\n    };\n    FocusStrategy.prototype.getFocusedElement = function () {\n        return this.currentInfo.elementToFocus;\n    };\n    FocusStrategy.prototype.getContent = function () {\n        return this.active || this.content;\n    };\n    FocusStrategy.prototype.setActive = function (content, isFrozen, isFrozenRight) {\n        this.active = content ? isFrozen ? this.fContent : isFrozenRight ? this.frContent : this.content :\n            isFrozen ? this.fHeader : isFrozenRight ? this.frHeader : this.header;\n    };\n    FocusStrategy.prototype.setFocusedElement = function (element, e) {\n        var _this = this;\n        this.currentInfo.elementToFocus = element;\n        setTimeout(function () {\n            if (!isNullOrUndefined(_this.currentInfo.elementToFocus)) {\n                if (_this.parent.enableVirtualization || _this.parent.enableInfiniteScrolling) {\n                    _this.focusVirtualElement(e);\n                }\n                else {\n                    _this.currentInfo.elementToFocus.focus();\n                }\n            }\n        }, 0);\n    };\n    FocusStrategy.prototype.focus = function (e) {\n        this.parent.notify(event.virtaulCellFocus, e);\n        this.removeFocus();\n        this.addFocus(this.getContent().getFocusInfo(), e);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    FocusStrategy.prototype.removeFocus = function (e) {\n        if (!this.currentInfo.element) {\n            return;\n        }\n        removeClass([this.currentInfo.element, this.currentInfo.elementToFocus], ['e-focused', 'e-focus']);\n        this.currentInfo.element.tabIndex = -1;\n    };\n    /**\n     * @returns {void}\n     * @hidden */\n    FocusStrategy.prototype.addOutline = function () {\n        var info = this.getContent().getFocusInfo();\n        if (info.element) {\n            addClass([info.element], ['e-focused']);\n            addClass([info.elementToFocus], ['e-focus']);\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden */\n    FocusStrategy.prototype.focusHeader = function () {\n        this.setActive(false, this.parent.isFrozenGrid());\n        this.resetFocus();\n    };\n    /**\n     * @returns {void}\n     * @hidden */\n    FocusStrategy.prototype.focusContent = function () {\n        this.setActive(true, this.parent.isFrozenGrid());\n        this.resetFocus();\n    };\n    FocusStrategy.prototype.resetFocus = function () {\n        var current = this.getContent().matrix.get(0, -1, [0, 1], null, this.getContent().validator());\n        this.getContent().matrix.select(current[0], current[1]);\n        this.focus();\n    };\n    FocusStrategy.prototype.addFocus = function (info, e) {\n        this.currentInfo = info;\n        this.currentInfo.outline = info.outline && !isNullOrUndefined(e);\n        if (this.isInfiniteScroll) {\n            this.currentInfo.outline = true;\n        }\n        if (!info.element) {\n            return;\n        }\n        var isFocused = info.elementToFocus.classList.contains('e-focus');\n        if (isFocused) {\n            return;\n        }\n        if (this.currentInfo.outline) {\n            addClass([info.element], ['e-focused']);\n        }\n        addClass([info.elementToFocus], ['e-focus']);\n        info.element.tabIndex = 0;\n        if (!isFocused) {\n            this.setFocusedElement(info.elementToFocus, e);\n        }\n        this.parent.notify(event.cellFocused, {\n            element: info.elementToFocus,\n            parent: info.element,\n            indexes: this.getContent().matrix.current,\n            byKey: !isNullOrUndefined(e),\n            byClick: isNullOrUndefined(e),\n            keyArgs: e,\n            isJump: this.swap.swap,\n            container: this.getContent().getInfo(e),\n            outline: !isNullOrUndefined(e),\n            swapInfo: this.swap\n        });\n        var _a = this.getContent().matrix.current, rowIndex = _a[0], cellIndex = _a[1];\n        this.prevIndexes = { rowIndex: rowIndex, cellIndex: cellIndex };\n        this.focusedColumnUid = this.parent.getColumnByIndex(cellIndex).uid;\n        this.focusByClick = false;\n    };\n    FocusStrategy.prototype.refreshMatrix = function (content) {\n        var _this = this;\n        return function (e) {\n            if (content && (e.args && e.args.isFrozen) && !_this.fContent) {\n                _this.fContent = new FixedContentFocus(_this.parent);\n            }\n            else if (content && !_this.frContent && (e.args && e.args.renderFrozenRightContent)) {\n                _this.frContent = new FixedRightContentFocus(_this.parent);\n            }\n            else if (content && !_this.content) {\n                _this.content = new ContentFocus(_this.parent);\n            }\n            if (!content && (e.args && e.args.isFrozen) && !_this.fHeader) {\n                _this.fHeader = new FixedHeaderFocus(_this.parent);\n            }\n            else if (!content && (e.args && e.args.renderFrozenRightContent) && !_this.frHeader) {\n                _this.frHeader = new FixedRightHeaderFocus(_this.parent);\n            }\n            else if (!content && !_this.header) {\n                _this.header = new HeaderFocus(_this.parent);\n            }\n            var cFocus = content ? (e.args && e.args.isFrozen) ? _this.fContent : (e.args && e.args.renderFrozenRightContent)\n                ? _this.frContent : _this.content : (e.args && e.args.isFrozen) ? _this.fHeader : (e.args && e.args.renderFrozenRightContent)\n                ? _this.frHeader : _this.header;\n            var rows = content ? e.rows.slice(_this.parent.frozenRows) : e.rows;\n            var updateRow = content ? e.rows.slice(0, _this.parent.frozenRows) : e.rows;\n            if (_this.parent.isCollapseStateEnabled() && content) {\n                rows = rows.filter(function (x) { return x.visible !== false; });\n            }\n            var isRowTemplate = !isNullOrUndefined(_this.parent.rowTemplate);\n            var matrix = cFocus.matrix.generate(updateRow, cFocus.selector, isRowTemplate);\n            if (e.name === 'batchAdd' && _this.parent.isFrozenGrid()) {\n                var mRows = _this.parent.getMovableRowsObject();\n                var newMovableRows = mRows.map(function (row) { return row.clone(); });\n                var newFrozenRows = rows.map(function (row) { return row.clone(); });\n                _this.fContent.matrix.generate(newFrozenRows, _this.fContent.selector, isRowTemplate);\n                _this.content.matrix.generate(newMovableRows, _this.content.selector, isRowTemplate);\n                if (_this.parent.getFrozenMode() === literals.leftRight) {\n                    var frRows = _this.parent.getFrozenRightRowsObject();\n                    var newfrRows = frRows.map(function (row) { return row.clone(); });\n                    _this.frContent.matrix.generate(newfrRows, _this.frContent.selector, isRowTemplate);\n                }\n            }\n            else {\n                cFocus.matrix.generate(rows, cFocus.selector, isRowTemplate);\n            }\n            cFocus.generateRows(updateRow, {\n                matrix: matrix, handlerInstance: (e.args && e.args.isFrozen) ? _this.fHeader\n                    : (e.args && e.args.renderFrozenRightContent) ? _this.frHeader : _this.header\n            });\n            if (!Browser.isDevice && e && e.args) {\n                if (!_this.focusByClick && e.args.requestType === 'paging' && !_this.parent.pagerModule.pagerObj.checkPagerHasFocus()) {\n                    _this.skipFocus = false;\n                    _this.parent.element.focus();\n                }\n                if (e.args.requestType === 'grouping') {\n                    _this.skipFocus = true;\n                }\n            }\n            if (e && e.args && e.args.requestType === 'virtualscroll') {\n                if (_this.currentInfo.uid) {\n                    var index_1;\n                    var bool = e.rows.some(function (row, i) {\n                        index_1 = i;\n                        return row.uid === _this.currentInfo.uid;\n                    });\n                    if (bool) {\n                        _this.content.matrix.current[0] = index_1;\n                        _this.content.matrix.current[1] = _this.parent.getColumnIndexByUid(_this.focusedColumnUid) || 0;\n                        var focusElement = _this.getContent().getFocusInfo().elementToFocus;\n                        if (focusElement) {\n                            var cellPosition = focusElement.getBoundingClientRect();\n                            var gridPosition = _this.parent.element.getBoundingClientRect();\n                            if (cellPosition.top >= 0 && cellPosition.left >= 0 &&\n                                cellPosition.right <= Math.min(gridPosition.right, window.innerWidth ||\n                                    document.documentElement.clientWidth) &&\n                                cellPosition.bottom <= Math.min(gridPosition.bottom, window.innerHeight ||\n                                    document.documentElement.clientHeight)) {\n                                _this.isVirtualScroll = true;\n                                _this.focus();\n                            }\n                        }\n                    }\n                }\n                else if (e.args.focusElement && e.args.focusElement.classList.contains('e-filtertext')) {\n                    var focusElement = _this.parent.element.querySelector('#' + e.args.focusElement.id);\n                    if (focusElement) {\n                        focusElement.focus();\n                    }\n                }\n            }\n        };\n    };\n    FocusStrategy.prototype.addEventListener = function () {\n        var _this = this;\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        EventHandler.add(this.parent.element, 'mousedown', this.focusCheck, this);\n        EventHandler.add(this.parent.element, 'focus', this.onFocus, this);\n        this.parent.element.addEventListener('focus', this.passiveHandler = function (e) { return _this.passiveFocus(e); }, true);\n        EventHandler.add(this.parent.element, 'focusout', this.onBlur, this);\n        this.evtHandlers = [{ event: event.keyPressed, handler: this.onKeyPress },\n            { event: event.click, handler: this.onClick },\n            { event: event.contentReady, handler: this.refMatrix },\n            { event: event.partialRefresh, handler: this.refMatrix },\n            { event: event.refreshExpandandCollapse, handler: this.refMatrix },\n            { event: event.headerRefreshed, handler: this.refreshMatrix() },\n            { event: event.closeEdit, handler: this.restoreFocus },\n            { event: event.restoreFocus, handler: this.restoreFocus },\n            { event: 'start-edit', handler: this.clearIndicator },\n            { event: 'start-add', handler: this.clearIndicator },\n            { event: 'sorting-complete', handler: this.restoreFocus },\n            { event: 'filtering-complete', handler: this.filterfocus },\n            { event: 'grouping-complete', handler: this.restoreFocusWithAction },\n            { event: 'ungrouping-complete', handler: this.restoreFocusWithAction },\n            { event: event.batchAdd, handler: this.refMatrix },\n            { event: event.batchCancel, handler: this.refMatrix },\n            { event: event.batchDelete, handler: this.refMatrix },\n            { event: event.detailDataBound, handler: this.refMatrix },\n            { event: event.onEmpty, handler: this.refMatrix },\n            { event: event.cellFocused, handler: this.internalCellFocus }];\n        addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n    };\n    FocusStrategy.prototype.filterfocus = function () {\n        if (this.parent.filterSettings.type !== 'FilterBar') {\n            this.restoreFocus();\n        }\n    };\n    FocusStrategy.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        EventHandler.remove(this.parent.element, 'mousedown', this.focusCheck);\n        EventHandler.remove(this.parent.element, 'focus', this.onFocus);\n        EventHandler.remove(this.parent.element, 'focusout', this.onBlur);\n        this.parent.element.removeEventListener('focus', this.passiveHandler, true);\n        addRemoveEventListener(this.parent, this.evtHandlers, false);\n    };\n    FocusStrategy.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    FocusStrategy.prototype.restoreFocus = function () {\n        this.addFocus(this.getContent().getFocusInfo());\n    };\n    FocusStrategy.prototype.restoreFocusWithAction = function (e) {\n        if (!this.parent.enableInfiniteScrolling) {\n            var matrix = this.getContent().matrix;\n            var current = matrix.current;\n            switch (e.requestType) {\n                case 'grouping':\n                case 'ungrouping':\n                    current[1] = current.length &&\n                        !this.parent.groupSettings.showGroupedColumn && !isNullOrUndefined(matrix.matrix[current[0]]) ?\n                        matrix.matrix[current[0]].indexOf(1) : e.requestType === 'grouping' ? current[1] + 1 : current[1] - 1;\n                    break;\n            }\n            this.getContent().matrix.current = current;\n            this.addFocus(this.getContent().getFocusInfo());\n        }\n    };\n    FocusStrategy.prototype.clearOutline = function () {\n        this.getContent().matrix.current = this.getContent().matrix.get(0, -1, [0, 1], 'downArrow', this.getContent().validator());\n        this.clearIndicator();\n    };\n    FocusStrategy.prototype.clearIndicator = function () {\n        if (!this.currentInfo.element || !this.currentInfo.elementToFocus) {\n            return;\n        }\n        removeClass([this.currentInfo.element, this.currentInfo.elementToFocus], ['e-focus', 'e-focused']);\n    };\n    FocusStrategy.prototype.getPrevIndexes = function () {\n        var forget = this.forget;\n        this.forget = false;\n        return forget || !Object.keys(this.prevIndexes).length ? { rowIndex: null, cellIndex: null } : this.prevIndexes;\n    };\n    FocusStrategy.prototype.forgetPrevious = function () {\n        this.forget = true;\n    };\n    FocusStrategy.prototype.setActiveByKey = function (action, active) {\n        var _this = this;\n        if (!this.parent.isFrozenGrid() && this.parent.frozenRows === 0) {\n            return;\n        }\n        // eslint-disable-next-line prefer-const\n        var info;\n        var actions = {\n            'home': function () { return ({ toHeader: !info.isContent, toFrozen: true }); },\n            'end': function () { return ({ toHeader: !info.isContent, toFrozen: false }); },\n            'ctrlHome': function () { return ({ toHeader: true, toFrozen: _this.parent.isFrozenGrid() }); },\n            'ctrlEnd': function () { return ({ toHeader: false, toFrozen: false }); }\n        };\n        if (!(action in actions)) {\n            return;\n        }\n        info = active.getInfo();\n        var swap = actions[action]();\n        this.setActive(!swap.toHeader, swap.toFrozen);\n        this.getContent().matrix.current = active.matrix.current;\n    };\n    FocusStrategy.prototype.internalCellFocus = function (e) {\n        if (!(e.byKey && e.container.isContent && e.keyArgs.action === 'enter'\n            && (e.parent.classList.contains('e-detailcell') ||\n                e.parent.classList.contains('e-unboundcell') || e.parent.classList.contains('e-templatecell')))) {\n            return;\n        }\n        this.clearIndicator();\n        var focusEle = this.getContent().getFocusable(this.getFocusedElement());\n        this.setFocusedElement(focusEle);\n        this.currentInfo.skipAction = true;\n    };\n    return FocusStrategy;\n}());\nexport { FocusStrategy };\n/**\n * Create matrix from row collection which act as mental model for cell navigation\n *\n * @hidden\n */\nvar Matrix = /** @class */ (function () {\n    function Matrix() {\n        this.matrix = [];\n        this.current = [];\n    }\n    Matrix.prototype.set = function (rowIndex, columnIndex, allow) {\n        rowIndex = Math.max(0, Math.min(rowIndex, this.rows));\n        columnIndex = Math.max(0, Math.min(columnIndex, this.columns));\n        this.matrix[rowIndex] = this.matrix[rowIndex] || [];\n        this.matrix[rowIndex][columnIndex] = allow ? 1 : 0;\n    };\n    Matrix.prototype.get = function (rowIndex, columnIndex, navigator, action, validator) {\n        var tmp = columnIndex;\n        if (rowIndex + navigator[0] < 0) {\n            return [rowIndex, columnIndex];\n        }\n        rowIndex = Math.max(0, Math.min(rowIndex + navigator[0], this.rows));\n        var emptyTable = true;\n        if (isNullOrUndefined(this.matrix[rowIndex])) {\n            return null;\n        }\n        columnIndex = Math.max(0, Math.min(columnIndex + navigator[1], this.matrix[rowIndex].length - 1));\n        if (tmp + navigator[1] > this.matrix[rowIndex].length - 1 && validator(rowIndex, columnIndex, action)) {\n            return [rowIndex, tmp];\n        }\n        var first = this.first(this.matrix[rowIndex], columnIndex, navigator, true, action);\n        columnIndex = first === null ? tmp : first;\n        var val = getValue(rowIndex + \".\" + columnIndex, this.matrix);\n        if (rowIndex === this.rows && (action === 'downArrow' || action === 'enter')) {\n            navigator[0] = -1;\n        }\n        if (first === null) {\n            for (var i = 0; i < this.rows; i++) {\n                if (this.matrix[i].some(function (v) { return v === 1; })) {\n                    emptyTable = false;\n                    break;\n                }\n            }\n            if (emptyTable) {\n                rowIndex = this.current[0];\n                return [rowIndex, columnIndex];\n            }\n        }\n        return this.inValid(val) || !validator(rowIndex, columnIndex, action) ?\n            this.get(rowIndex, tmp, navigator, action, validator) : [rowIndex, columnIndex];\n    };\n    Matrix.prototype.first = function (vector, index, navigator, moveTo, action) {\n        if (((index < 0 || index === vector.length) && this.inValid(vector[index])\n            && (action !== 'upArrow' && action !== 'downArrow')) || !vector.some(function (v) { return v === 1; })) {\n            return null;\n        }\n        return !this.inValid(vector[index]) ? index :\n            this.first(vector, (['upArrow', 'downArrow', 'shiftUp', 'shiftDown'].indexOf(action) !== -1) ? moveTo ? 0 : ++index : index + navigator[1], navigator, false, action);\n    };\n    Matrix.prototype.select = function (rowIndex, columnIndex) {\n        rowIndex = Math.max(0, Math.min(rowIndex, this.rows));\n        columnIndex = Math.max(0, Math.min(columnIndex, this.matrix[rowIndex].length - 1));\n        this.current = [rowIndex, columnIndex];\n    };\n    Matrix.prototype.generate = function (rows, selector, isRowTemplate) {\n        this.rows = rows.length - 1;\n        this.matrix = [];\n        for (var i = 0; i < rows.length; i++) {\n            var cells = rows[i].cells.filter(function (c) { return c.isSpanned !== true; });\n            this.columns = Math.max(cells.length - 1, this.columns | 0);\n            for (var j = 0; j < cells.length; j++) {\n                this.set(i, j, rows[i].visible === false ? false : selector(rows[i], cells[j], isRowTemplate));\n            }\n        }\n        return this.matrix;\n    };\n    Matrix.prototype.inValid = function (value) {\n        return value === 0 || value === undefined;\n    };\n    return Matrix;\n}());\nexport { Matrix };\n/**\n * @hidden\n */\nvar ContentFocus = /** @class */ (function () {\n    function ContentFocus(parent) {\n        var _this = this;\n        this.matrix = new Matrix();\n        this.lastIdxCell = false;\n        this.parent = parent;\n        this.keyActions = {\n            'rightArrow': [0, 1],\n            'tab': [0, 1],\n            'leftArrow': [0, -1],\n            'shiftTab': [0, -1],\n            'upArrow': [-1, 0],\n            'downArrow': [1, 0],\n            'shiftUp': [-1, 0],\n            'shiftDown': [1, 0],\n            'shiftRight': [0, 1],\n            'shiftLeft': [0, -1],\n            'enter': [1, 0],\n            'shiftEnter': [-1, 0]\n        };\n        this.indexesByKey = function (action) {\n            var opt = {\n                'home': [_this.matrix.current[0], -1, 0, 1],\n                'end': [_this.matrix.current[0], _this.matrix.columns + 1, 0, -1],\n                'ctrlHome': [0, -1, 0, 1],\n                'ctrlEnd': [_this.matrix.rows, _this.matrix.columns + 1, 0, -1]\n            };\n            return opt[action] || null;\n        };\n    }\n    ContentFocus.prototype.getTable = function () {\n        return (this.parent.isFrozenGrid() ?\n            this.parent.getContent().querySelector('.e-movablecontent .e-table') :\n            this.parent.getContentTable());\n    };\n    ContentFocus.prototype.onKeyPress = function (e) {\n        var navigator = this.keyActions[e.action];\n        var current = this.getCurrentFromAction(e.action, navigator, e.action in this.keyActions, e);\n        if (!current) {\n            return;\n        }\n        if (((['tab', 'shiftTab'].indexOf(e.action) > -1 && this.matrix.current || []).toString() === current.toString())\n            || (this.parent.allowPaging && !this.parent.pagerModule.pagerObj.checkPagerHasFocus()\n                && this.matrix.current[0] === this.matrix.rows && ((this.parent.editSettings.mode === 'Batch'\n                && this.parent.editSettings.allowAdding && e.keyCode === 40) || (e.keyCode === 40)))) {\n            if (current.toString() === [this.matrix.rows, this.matrix.columns].toString() ||\n                current.toString() === [0, 0].toString() || (this.matrix.current[0] === this.matrix.rows &&\n                this.matrix.current.toString() === current.toString())) {\n                return false;\n            }\n            else {\n                current = this.editNextRow(current[0], current[1], e.action);\n            }\n        }\n        this.matrix.select(current[0], current[1]);\n    };\n    ContentFocus.prototype.editNextRow = function (rowIndex, cellIndex, action) {\n        var gObj = this.parent;\n        var editNextRow = gObj.editSettings.allowNextRowEdit && (gObj.isEdit || gObj.isLastCellPrimaryKey);\n        var visibleIndex = gObj.getColumnIndexByField(gObj.getVisibleColumns()[0].field);\n        var cell = this.getTable().rows[rowIndex].cells[cellIndex];\n        if (action === 'tab' && editNextRow) {\n            rowIndex++;\n            var index = (this.getTable().rows[rowIndex].getElementsByClassName('e-indentcell').length +\n                this.getTable().rows[rowIndex].getElementsByClassName('e-detailrowcollapse').length);\n            cellIndex = visibleIndex + index;\n        }\n        if (action === 'shiftTab' && editNextRow) {\n            rowIndex--;\n            cellIndex = gObj.getColumnIndexByField(gObj.getVisibleColumns()[gObj.getVisibleColumns().length - 1].field);\n        }\n        return !cell.classList.contains(literals.rowCell) && !cell.classList.contains('e-headercell') &&\n            !cell.classList.contains('e-groupcaption') ?\n            this.editNextRow(rowIndex, cellIndex, action) : [rowIndex, cellIndex];\n    };\n    ContentFocus.prototype.getCurrentFromAction = function (action, navigator, isPresent, e) {\n        if (navigator === void 0) { navigator = [0, 0]; }\n        if (!isPresent && !this.indexesByKey(action) || (this.matrix.current.length === 0)) {\n            return null;\n        }\n        if (!this.shouldFocusChange(e)) {\n            return this.matrix.current;\n        }\n        var _a = this.indexesByKey(action) || this.matrix.current.concat(navigator), rowIndex = _a[0], cellIndex = _a[1], rN = _a[2], cN = _a[3];\n        var current = this.matrix.get(rowIndex, cellIndex, [rN, cN], action, this.validator());\n        return current;\n    };\n    ContentFocus.prototype.onClick = function (e, force) {\n        var target = e.target;\n        this.target = target;\n        target = (target.classList.contains(literals.rowCell) ? target : closest(target, 'td'));\n        target = target ? target : closest(e.target, 'td.e-detailrowcollapse')\n            || closest(e.target, 'td.e-detailrowexpand');\n        target = closest(e.target, 'td.e-detailcell') ?\n            isNullOrUndefined(closest(closest(e.target, '.e-grid'), 'td.e-detailcell')) ? null : target : target;\n        target = target && closest(target, 'table').classList.contains(literals.table) ? target : null;\n        if (!target) {\n            return false;\n        }\n        var _a = [target.parentElement.rowIndex, target.cellIndex], rowIndex = _a[0], cellIndex = _a[1];\n        var _b = this.matrix.current, oRowIndex = _b[0], oCellIndex = _b[1];\n        var val = getValue(rowIndex + \".\" + cellIndex, this.matrix.matrix);\n        if (this.matrix.inValid(val) || (!force && oRowIndex === rowIndex && oCellIndex === cellIndex) ||\n            (!parentsUntil(e.target, literals.rowCell) && !parentsUntil(e.target, 'e-groupcaption'))) {\n            return false;\n        }\n        this.matrix.select(rowIndex, cellIndex);\n    };\n    ContentFocus.prototype.getFocusInfo = function () {\n        var info = {};\n        var _a = this.matrix.current, _b = _a[0], rowIndex = _b === void 0 ? 0 : _b, _c = _a[1], cellIndex = _c === void 0 ? 0 : _c;\n        this.matrix.current = [rowIndex, cellIndex];\n        info.element = !isNullOrUndefined(this.getTable().rows[rowIndex]) ? this.getTable().rows[rowIndex].cells[cellIndex] : null;\n        if (!info.element) {\n            return info;\n        }\n        info.elementToFocus = !info.element.classList.contains('e-unboundcell') && !info.element.classList.contains('e-detailcell')\n            ? this.getFocusable(info.element) : info.element;\n        info.outline = true;\n        info.uid = info.element.parentElement.getAttribute('data-uid');\n        return info;\n    };\n    ContentFocus.prototype.getFocusable = function (element) {\n        var query = 'button, [href], input:not([type=\"hidden\"]), select, textarea, [tabindex]:not([tabindex=\"-1\"])';\n        var isTemplate = !isNullOrUndefined(closest(element, '.e-templatecell'));\n        if (this.parent.isEdit) {\n            query = 'input:not([type=\"hidden\"]), select:not([aria-hidden=\"true\"]), textarea';\n        }\n        var child = [].slice.call(element.querySelectorAll(query));\n        /* Select the first focusable child element\n         * if no child found then select the cell itself.\n         * if Grid is in editable state, check for editable control inside child.\n         */\n        return child.length ? isTemplate && child.length > 1 ? this.target : child[0] : element;\n    };\n    ContentFocus.prototype.selector = function (row, cell, isRowTemplate) {\n        var types = [CellType.Expand, CellType.GroupCaption, CellType.CaptionSummary, CellType.GroupSummary];\n        return ((row.isDataRow && cell.visible && (cell.isDataCell || cell.isTemplate))\n            || (row.isDataRow && cell.cellType === CellType.DetailExpand && isNullOrUndefined(cell.visible))\n            || (!row.isDataRow && types.indexOf(cell.cellType) > -1)\n            || (cell.column && cell.visible && cell.column.type === 'checkbox')\n            || (cell.cellType === CellType.CommandColumn)\n            || (row.isDataRow && isRowTemplate))\n            && !(row.edit === 'delete' && row.isDirty);\n    };\n    ContentFocus.prototype.nextRowFocusValidate = function (index) {\n        var lastIndex = index;\n        for (var i = index, len = this.matrix.rows; i <= len; i++) {\n            if (this.matrix.matrix[index].indexOf(1) === -1) {\n                index = index + 1;\n            }\n            else {\n                return index;\n            }\n        }\n        this.lastIdxCell = true;\n        return lastIndex;\n    };\n    ContentFocus.prototype.previousRowFocusValidate = function (index) {\n        var firstIndex = index;\n        for (var i = index, len = 0; i >= len; i--) {\n            if (this.matrix.matrix[index].indexOf(1) === -1) {\n                index = index - 1;\n                if (index < 0) {\n                    this.lastIdxCell = true;\n                    return firstIndex;\n                }\n            }\n            else {\n                return index;\n            }\n        }\n        return firstIndex;\n    };\n    ContentFocus.prototype.jump = function (action, current) {\n        var frozenSwap = this.parent.getFrozenLeftCount() &&\n            ((action === 'leftArrow' || action === 'shiftTab') && current[1] === 0);\n        var right = ((action === 'rightArrow' || action === 'tab') && current[1] === this.matrix.columns);\n        var frSwap = this.parent.getFrozenMode() === literals.leftRight && right;\n        if (this.parent.getFrozenMode() === 'Right') {\n            frozenSwap = right;\n        }\n        this.lastIdxCell = false;\n        var enterFrozen = this.parent.frozenRows !== 0 && action === 'shiftEnter';\n        if (action === 'tab' && !this.parent.isEdit &&\n            current[1] === this.matrix.matrix[current[0]].lastIndexOf(1) && this.matrix.matrix.length - 1 !== current[0]) {\n            this.matrix.current[0] = this.nextRowFocusValidate(this.matrix.current[0] + 1);\n            this.matrix.current[1] = -1;\n            frozenSwap = this.parent.isFrozenGrid();\n        }\n        if (action === 'shiftTab' && !this.parent.isEdit &&\n            current[0] !== 0 && this.matrix.matrix[current[0]].indexOf(1) === current[1]) {\n            this.matrix.current[0] = this.previousRowFocusValidate(this.matrix.current[0] - 1);\n            this.matrix.current[1] = this.matrix.matrix[current[0]].length;\n        }\n        var isHeaderFocus = false;\n        var row = document.activeElement.parentElement;\n        if ((this.parent.enableVirtualization || this.parent.infiniteScrollSettings.enableCache)\n            && row.classList.contains(literals.row)) {\n            var rowIndex = parseInt(row.getAttribute(literals.ariaRowIndex), 10);\n            isHeaderFocus = rowIndex > 0;\n        }\n        var info = {\n            swap: !isHeaderFocus ? ((action === 'upArrow' || enterFrozen) && current[0] === 0) || frozenSwap || frSwap : false,\n            toHeader: (action === 'upArrow' || enterFrozen) && current[0] === 0,\n            toFrozen: frozenSwap,\n            toFrozenRight: frSwap\n        };\n        return info;\n    };\n    ContentFocus.prototype.getNextCurrent = function (previous, swap, active, action) {\n        if (previous === void 0) { previous = []; }\n        var current = [];\n        if (this.parent.getFrozenMode() === 'Right' || this.parent.getFrozenMode() === literals.leftRight) {\n            if (action === 'leftArrow' || action === 'shiftTab') {\n                current[0] = previous[0];\n                current[1] = active.matrix.columns + 1;\n            }\n            if (this.parent.getFrozenMode() === literals.leftRight && (action === 'rightArrow' || action === 'tab')) {\n                current[0] = previous[0];\n                current[1] = -1;\n            }\n        }\n        else if (action === 'rightArrow' || action === 'tab') {\n            current[0] = previous[0];\n            current[1] = -1;\n        }\n        if (action === 'downArrow' || action === 'enter') {\n            current[0] = -1;\n            current[1] = previous[1];\n        }\n        return current;\n    };\n    ContentFocus.prototype.generateRows = function (rows, optionals) {\n        var _a;\n        var matrix = optionals.matrix, handlerInstance = optionals.handlerInstance;\n        var len = handlerInstance.matrix.matrix.length;\n        var defaultLen = this.parent.allowFiltering && this.parent.filterSettings.type === 'FilterBar' ? len + 1 : len;\n        handlerInstance.matrix.matrix = handlerInstance.matrix.matrix.slice(0, defaultLen); //Header matrix update.\n        handlerInstance.matrix.rows = defaultLen;\n        (_a = handlerInstance.matrix.matrix).push.apply(_a, matrix);\n        handlerInstance.matrix.rows += matrix.length;\n    };\n    ContentFocus.prototype.getInfo = function (e) {\n        var info = this.getFocusInfo();\n        var _a = this.matrix.current, rIndex = _a[0], cIndex = _a[1];\n        var isData = info.element.classList.contains(literals.rowCell);\n        var isSelectable = isData || (e && e.action !== 'enter' && (info.element.classList.contains('e-detailrowcollapse')\n            || info.element.classList.contains('e-detailrowexpand')));\n        // eslint-disable-next-line max-len\n        var _b = [Math.min(parseInt(info.element.parentElement.getAttribute(literals.ariaRowIndex), 10), rIndex),\n            Math.min(parseInt(info.element.getAttribute(literals.ariaColIndex), 10), cIndex)], rowIndex = _b[0], cellIndex = _b[1];\n        return { isContent: true, isDataCell: isData, indexes: [rowIndex, cellIndex], isSelectable: isSelectable };\n    };\n    ContentFocus.prototype.validator = function () {\n        var table = this.getTable();\n        return function (rowIndex, cellIndex, action) {\n            if (!isNullOrUndefined(table.rows[rowIndex])) {\n                var cell = void 0;\n                cellIndex = table.querySelector('.e-emptyrow') ? 0 : cellIndex;\n                if (table.rows[rowIndex].cells[0].classList.contains('e-editcell')) {\n                    cell = table.rows[rowIndex].cells[0].querySelectorAll('td')[cellIndex];\n                }\n                else {\n                    cell = table.rows[rowIndex].cells[cellIndex];\n                }\n                var isCellWidth = cell.getBoundingClientRect().width !== 0;\n                if (action === 'enter' || action === 'shiftEnter') {\n                    return isCellWidth && cell.classList.contains(literals.rowCell);\n                }\n                if ((action === 'shiftUp' || action === 'shiftDown') && cell.classList.contains(literals.rowCell)) {\n                    return isCellWidth;\n                }\n                else if (action !== 'shiftUp' && action !== 'shiftDown') {\n                    return isCellWidth;\n                }\n            }\n            return false;\n        };\n    };\n    ContentFocus.prototype.shouldFocusChange = function (e) {\n        var _a = this.matrix.current, _b = _a[0], rIndex = _b === void 0 ? -1 : _b, _c = _a[1], cIndex = _c === void 0 ? -1 : _c;\n        if (rIndex < 0 || cIndex < 0) {\n            return true;\n        }\n        var cell = getValue(rIndex + \".cells.\" + cIndex, this.getTable().rows);\n        if (!cell) {\n            return true;\n        }\n        return e.action === 'enter' || e.action === 'shiftEnter' ?\n            cell.classList.contains(literals.rowCell) && !cell.classList.contains('e-unboundcell')\n                && (!cell.classList.contains('e-templatecell') || cell.classList.contains('e-editedbatchcell'))\n                && !cell.classList.contains('e-detailcell') : true;\n    };\n    ContentFocus.prototype.getGridSeletion = function () {\n        return this.parent.allowSelection && this.parent.selectionSettings.allowColumnSelection;\n    };\n    return ContentFocus;\n}());\nexport { ContentFocus };\n/**\n * @hidden\n */\nvar HeaderFocus = /** @class */ (function (_super) {\n    __extends(HeaderFocus, _super);\n    function HeaderFocus(parent) {\n        return _super.call(this, parent) || this;\n    }\n    HeaderFocus.prototype.getTable = function () {\n        return (this.parent.isFrozenGrid() ?\n            this.parent.getHeaderContent().querySelector('.e-movableheader .e-table') :\n            this.parent.getHeaderTable());\n    };\n    HeaderFocus.prototype.onClick = function (e) {\n        var target = e.target;\n        this.target = target;\n        target = (target.classList.contains('e-headercell') ? target : closest(target, 'th'));\n        if (!target && this.parent.frozenRows !== 0) {\n            target = (e.target.classList.contains(literals.rowCell) ? e.target :\n                closest(e.target, 'td'));\n        }\n        if (e.target.classList.contains('e-columnheader') ||\n            e.target.querySelector('.e-stackedheadercell')) {\n            return false;\n        }\n        if (!target) {\n            return;\n        }\n        var _a = [target.parentElement.rowIndex, target.cellIndex], rowIndex = _a[0], cellIndex = _a[1];\n        var val = getValue(rowIndex + \".\" + cellIndex, this.matrix.matrix);\n        if (this.matrix.inValid(val)) {\n            return false;\n        }\n        this.matrix.select(target.parentElement.rowIndex, target.cellIndex);\n    };\n    HeaderFocus.prototype.getFocusInfo = function () {\n        var info = {};\n        var _a = this.matrix.current, _b = _a[0], rowIndex = _b === void 0 ? 0 : _b, _c = _a[1], cellIndex = _c === void 0 ? 0 : _c;\n        info.element = this.getTable().rows[rowIndex].cells[cellIndex];\n        if (!isNullOrUndefined(info.element)) {\n            info.elementToFocus = this.getFocusable(info.element);\n            info.outline = !info.element.classList.contains('e-filterbarcell');\n        }\n        return info;\n    };\n    HeaderFocus.prototype.selector = function (row, cell) {\n        return (cell.visible && (cell.column.field !== undefined || cell.isTemplate || !isNullOrUndefined(cell.column.template))) ||\n            cell.column.type === 'checkbox' || cell.cellType === CellType.StackedHeader;\n    };\n    HeaderFocus.prototype.jump = function (action, current) {\n        var frozenSwap = this.parent.getFrozenLeftCount() &&\n            (action === 'leftArrow' || (action === 'shiftLeft' && this.getGridSeletion()) || action === 'shiftTab') && current[1] === 0;\n        var right = (action === 'rightArrow' || (action === 'shiftRight' && this.getGridSeletion())\n            || action === 'tab') && current[1] === this.matrix.columns;\n        var frSwap = this.parent.getFrozenMode() === literals.leftRight && right;\n        if (this.parent.getFrozenMode() === 'Right') {\n            frozenSwap = right;\n        }\n        var enterFrozen = this.parent.frozenRows !== 0 && action === 'enter';\n        var isLastCell;\n        var lastRow;\n        var headerSwap = frozenSwap || frSwap;\n        var fMatrix = this.parent.focusModule.fHeader && this.parent.focusModule.fHeader.matrix.matrix;\n        var isPresent = fMatrix && !isNullOrUndefined(fMatrix[current[0]]);\n        if (this.parent.enableHeaderFocus && action === 'tab') {\n            lastRow = this.matrix.matrix.length - 1 === current[0];\n            isLastCell = current[1] === this.matrix.matrix[current[0]].lastIndexOf(1);\n            if (isLastCell) {\n                if (!lastRow) {\n                    this.matrix.current[0] = this.matrix.current[0] + 1;\n                }\n                else {\n                    this.matrix.current[0] = 0;\n                }\n                this.matrix.current[1] = -1;\n            }\n            if (this.parent.isFrozenGrid() && lastRow && isLastCell) {\n                frozenSwap = true;\n                headerSwap = false;\n            }\n        }\n        return {\n            swap: ((action === 'downArrow' || enterFrozen) && current[0] === this.matrix.matrix.length - 1) ||\n                (isPresent && (frozenSwap || frSwap)) || (action === 'tab' && lastRow && isLastCell),\n            toHeader: headerSwap,\n            toFrozen: frozenSwap,\n            toFrozenRight: frSwap\n        };\n    };\n    HeaderFocus.prototype.getNextCurrent = function (previous, swap, active, action) {\n        if (previous === void 0) { previous = []; }\n        var current1 = [];\n        if (this.parent.getFrozenMode() === 'Right' || this.parent.getFrozenMode() === literals.leftRight) {\n            if (action === 'leftArrow' || (action === 'shiftLeft' && this.getGridSeletion()) || action === 'shiftTab') {\n                current1[0] = previous[0];\n                current1[1] = active.matrix.columns + 1;\n            }\n            if (this.parent.getFrozenMode() === literals.leftRight\n                && (action === 'rightArrow' || (action === 'shiftRight' && this.getGridSeletion()) || action === 'tab')) {\n                current1[0] = previous[0];\n                current1[1] = -1;\n            }\n        }\n        else if (action === 'rightArrow' || (action === 'shiftRight' && this.getGridSeletion()) || action === 'tab') {\n            current1[0] = previous[0];\n            current1[1] = -1;\n        }\n        if (action === 'upArrow' || action === 'shiftEnter') {\n            current1[0] = this.matrix.matrix.length;\n            current1[1] = previous[1];\n        }\n        return current1;\n    };\n    HeaderFocus.prototype.generateRows = function (rows) {\n        var length = this.matrix.matrix.length;\n        if (this.parent.allowFiltering && this.parent.filterSettings.type === 'FilterBar') {\n            this.matrix.rows = ++this.matrix.rows;\n            var cells = rows[0].cells;\n            for (var i = 0; i < cells.length; i++) {\n                this.matrix.set(length, i, cells[i].visible && cells[i].column.allowFiltering !== false);\n            }\n        }\n    };\n    HeaderFocus.prototype.getInfo = function (e) {\n        return extend(_super.prototype.getInfo.call(this, e), { isContent: false, isHeader: true });\n    };\n    HeaderFocus.prototype.validator = function () {\n        return function () { return true; };\n    };\n    HeaderFocus.prototype.shouldFocusChange = function (e) {\n        var _a = this.matrix.current, rowIndex = _a[0], columnIndex = _a[1];\n        if (rowIndex < 0 || columnIndex < 0) {\n            return true;\n        }\n        var cell = getValue(rowIndex + \".cells.\" + columnIndex, this.getTable().rows);\n        if (!cell) {\n            return true;\n        }\n        return e.action === 'enter' || e.action === 'altDownArrow' ? !cell.classList.contains('e-headercell') : true;\n    };\n    return HeaderFocus;\n}(ContentFocus));\nexport { HeaderFocus };\nvar FixedContentFocus = /** @class */ (function (_super) {\n    __extends(FixedContentFocus, _super);\n    function FixedContentFocus() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FixedContentFocus.prototype.getTable = function () {\n        return this.parent.getContent().querySelector('.e-frozencontent .e-table');\n    };\n    FixedContentFocus.prototype.jump = function (action, current) {\n        var enterFrozen = this.parent.frozenRows !== 0 && action === 'shiftEnter';\n        var toHeader = (action === 'upArrow' || enterFrozen) && current[0] === 0;\n        if (this.parent.getFrozenMode() === 'Right') {\n            var swap = toHeader || ((action === 'shiftTab' || action === 'leftArrow') && current[1] === 0);\n            return { swap: swap, toHeader: toHeader, toFrozen: toHeader };\n        }\n        return {\n            swap: toHeader || ((action === 'tab' || action === 'rightArrow') && current[1] === this.matrix.columns),\n            toHeader: toHeader,\n            toFrozen: toHeader\n        };\n    };\n    FixedContentFocus.prototype.getNextCurrent = function (previous, swap, active, action) {\n        if (previous === void 0) { previous = []; }\n        var current2 = [];\n        if (this.parent.getFrozenMode() === 'Right') {\n            if (action === 'rightArrow' || action === 'tab') {\n                current2[0] = previous[0];\n                current2[1] = -1;\n            }\n        }\n        else {\n            if (action === 'tab' && this.parent.enableHeaderFocus) {\n                current2[0] = previous[0];\n                current2[1] = -1;\n            }\n            if (action === 'leftArrow' || action === 'shiftTab') {\n                current2[0] = previous[0];\n                current2[1] = active.matrix.columns + 1;\n            }\n        }\n        if (action === 'downArrow' || action === 'enter') {\n            current2[0] = -1;\n            current2[1] = previous[1];\n        }\n        return current2;\n    };\n    return FixedContentFocus;\n}(ContentFocus));\nexport { FixedContentFocus };\nvar FixedHeaderFocus = /** @class */ (function (_super) {\n    __extends(FixedHeaderFocus, _super);\n    function FixedHeaderFocus() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FixedHeaderFocus.prototype.jump = function (action, current) {\n        var enterFrozen = this.parent.frozenRows !== 0 && action === 'enter';\n        var hMatrix = this.parent.focusModule.header && this.parent.focusModule.header.matrix.matrix;\n        var isPresent = hMatrix && !isNullOrUndefined(hMatrix[current[0]]);\n        if (this.parent.getFrozenMode() === 'Right') {\n            var frSwap = (action === 'leftArrow' || (action === 'shiftLeft' && this.getGridSeletion())\n                || action === 'shiftTab') && current[1] === 0;\n            var swap = ((action === 'downArrow' || enterFrozen) && current[0] === this.matrix.matrix.length - 1) ||\n                (isPresent && frSwap);\n            var toFrozen = (action === 'downArrow' || enterFrozen) && current[0] === this.matrix.matrix.length - 1;\n            return { swap: swap, toHeader: frSwap, toFrozen: toFrozen };\n        }\n        return {\n            swap: (action === 'downArrow' || enterFrozen) && current[0] === this.matrix.matrix.length - 1 || ((action === 'rightArrow' ||\n                (action === 'shiftRight' && this.getGridSeletion()) || action === 'tab') &&\n                current[1] === this.matrix.columns && isPresent),\n            toHeader: (action === 'rightArrow' || (action === 'shiftRight' && this.getGridSeletion()) || action === 'tab') &&\n                current[1] === this.matrix.columns,\n            toFrozen: (action === 'downArrow' || enterFrozen) && current[0] === this.matrix.matrix.length - 1\n        };\n    };\n    FixedHeaderFocus.prototype.getTable = function () {\n        return (this.parent.getHeaderContent().querySelector('.e-frozenheader .e-table'));\n    };\n    FixedHeaderFocus.prototype.getNextCurrent = function (previous, swap, active, action) {\n        if (previous === void 0) { previous = []; }\n        var current3 = [];\n        if (this.parent.getFrozenMode() === 'Right') {\n            if (action === 'rightArrow' || (action === 'shiftRight' && this.getGridSeletion()) || action === 'tab') {\n                current3[0] = previous[0];\n                current3[1] = -1;\n            }\n        }\n        else {\n            if (action === 'leftArrow' || (action === 'shiftLeft' && this.getGridSeletion()) || action === 'shiftTab') {\n                current3[0] = previous[0];\n                current3[1] = active.matrix.columns + 1;\n            }\n        }\n        if (action === 'upArrow' || action === 'shiftEnter') {\n            current3[0] = this.matrix.matrix.length;\n            current3[1] = previous[1];\n        }\n        return current3;\n    };\n    return FixedHeaderFocus;\n}(HeaderFocus));\nexport { FixedHeaderFocus };\n/** @hidden */\nvar SearchBox = /** @class */ (function () {\n    function SearchBox(searchBox) {\n        this.searchBox = searchBox;\n    }\n    SearchBox.prototype.searchFocus = function (args) {\n        args.target.parentElement.classList.add('e-input-focus');\n    };\n    SearchBox.prototype.searchBlur = function (args) {\n        args.target.parentElement.classList.remove('e-input-focus');\n    };\n    SearchBox.prototype.wireEvent = function () {\n        if (this.searchBox) {\n            EventHandler.add(this.searchBox, 'focus', this.searchFocus, this);\n            EventHandler.add(this.searchBox, 'blur', this.searchBlur, this);\n        }\n    };\n    SearchBox.prototype.unWireEvent = function () {\n        if (this.searchBox) {\n            EventHandler.remove(this.searchBox, 'focus', this.searchFocus);\n            EventHandler.remove(this.searchBox, 'blur', this.searchBlur);\n        }\n    };\n    return SearchBox;\n}());\nexport { SearchBox };\nvar FixedRightContentFocus = /** @class */ (function (_super) {\n    __extends(FixedRightContentFocus, _super);\n    function FixedRightContentFocus() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FixedRightContentFocus.prototype.getTable = function () {\n        return this.parent.getContent().querySelector('.e-frozen-right-content .e-table');\n    };\n    FixedRightContentFocus.prototype.jump = function (action, current) {\n        var enterFrozen = this.parent.frozenRows !== 0 && action === 'shiftEnter';\n        var toHeader = (action === 'upArrow' || enterFrozen) && current[0] === 0;\n        return {\n            swap: toHeader || ((action === 'shiftTab' || action === 'leftArrow') && current[1] === 0),\n            toHeader: toHeader,\n            toFrozenRight: toHeader\n        };\n    };\n    FixedRightContentFocus.prototype.getNextCurrent = function (previous, swap, active, action) {\n        if (previous === void 0) { previous = []; }\n        var current2 = [];\n        if (action === 'rightArrow' || action === 'tab') {\n            current2[0] = previous[0];\n            current2[1] = -1;\n        }\n        if (action === 'downArrow' || action === 'enter') {\n            current2[0] = -1;\n            current2[1] = previous[1];\n        }\n        return current2;\n    };\n    return FixedRightContentFocus;\n}(ContentFocus));\nexport { FixedRightContentFocus };\nvar FixedRightHeaderFocus = /** @class */ (function (_super) {\n    __extends(FixedRightHeaderFocus, _super);\n    function FixedRightHeaderFocus() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FixedRightHeaderFocus.prototype.jump = function (action, current) {\n        var headerMat = this.parent.focusModule.header && this.parent.focusModule.header.matrix.matrix;\n        var isPresent = headerMat && !isNullOrUndefined(headerMat[current[0]]);\n        var enterFrozen = this.parent.frozenRows !== 0 && action === 'enter';\n        var frozenSwap = (action === 'leftArrow' || (action === 'shiftLeft' && this.getGridSeletion())\n            || action === 'shiftTab') && current[1] === 0;\n        var swap = ((action === 'downArrow' || enterFrozen) && current[0] === this.matrix.matrix.length - 1) ||\n            (isPresent && frozenSwap);\n        var toFrozen = (action === 'downArrow' || enterFrozen) && current[0] === this.matrix.matrix.length - 1;\n        return { swap: swap, toHeader: frozenSwap, toFrozenRight: toFrozen };\n    };\n    FixedRightHeaderFocus.prototype.getTable = function () {\n        return (this.parent.getHeaderContent().querySelector('.e-frozen-right-header .e-table'));\n    };\n    FixedRightHeaderFocus.prototype.getNextCurrent = function (previous, swap, active, action) {\n        if (previous === void 0) { previous = []; }\n        var current3 = [];\n        if (action === 'rightArrow' || (action === 'shiftRight' && this.getGridSeletion()) || action === 'tab') {\n            current3[0] = previous[0];\n            current3[1] = 0;\n        }\n        if (action === 'upArrow' || action === 'shiftEnter') {\n            current3[0] = this.matrix.matrix.length;\n            current3[1] = previous[1];\n        }\n        return current3;\n    };\n    return FixedRightHeaderFocus;\n}(HeaderFocus));\nexport { FixedRightHeaderFocus };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { setStyleAttribute, addClass, removeClass, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit } from '@syncfusion/ej2-base';\nimport { Browser } from '@syncfusion/ej2-base';\nimport { calculatePosition, calculateRelativeBasedPosition } from '../common/position';\nimport { Animation, Property, Event, Component } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { EventHandler } from '@syncfusion/ej2-base';\nimport { flip, fit, isCollide } from '../common/collision';\n/**\n * Specifies the offset position values.\n */\nvar PositionData = /** @class */ (function (_super) {\n    __extends(PositionData, _super);\n    function PositionData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('left')\n    ], PositionData.prototype, \"X\", void 0);\n    __decorate([\n        Property('top')\n    ], PositionData.prototype, \"Y\", void 0);\n    return PositionData;\n}(ChildProperty));\nexport { PositionData };\n// don't use space in classNames\nvar CLASSNAMES = {\n    ROOT: 'e-popup',\n    RTL: 'e-rtl',\n    OPEN: 'e-popup-open',\n    CLOSE: 'e-popup-close'\n};\n/**\n * Represents the Popup Component\n * ```html\n * <div id=\"popup\" style=\"position:absolute;height:100px;width:100px;\">\n * <div style=\"margin:35px 25px;\">Popup Content</div></div>\n * ```\n * ```typescript\n * <script>\n *   var popupObj = new Popup();\n *   popupObj.appendTo(\"#popup\");\n * </script>\n * ```\n */\nvar Popup = /** @class */ (function (_super) {\n    __extends(Popup, _super);\n    function Popup(element, options) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {PopupModel} newProp - specifies the new property\n     * @param {PopupModel} oldProp - specifies the old property\n     * @private\n     * @returns {void}\n     */\n    Popup.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'zIndex':\n                    setStyleAttribute(this.element, { 'zIndex': newProp.zIndex });\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'position':\n                case 'relateTo':\n                    this.refreshPosition();\n                    break;\n                case 'offsetX':\n                    // eslint-disable-next-line\n                    var x = newProp.offsetX - oldProp.offsetX;\n                    this.element.style.left = (parseInt(this.element.style.left, 10) + (x)).toString() + 'px';\n                    break;\n                case 'offsetY':\n                    // eslint-disable-next-line\n                    var y = newProp.offsetY - oldProp.offsetY;\n                    this.element.style.top = (parseInt(this.element.style.top, 10) + (y)).toString() + 'px';\n                    break;\n                case 'content':\n                    this.setContent();\n                    break;\n                case 'actionOnScroll':\n                    if (newProp.actionOnScroll !== 'none') {\n                        this.wireScrollEvents();\n                    }\n                    else {\n                        this.unwireScrollEvents();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * gets the Component module name.\n     *\n     * @returns {void}\n     * @private\n     */\n    Popup.prototype.getModuleName = function () {\n        return 'popup';\n    };\n    /**\n     * To resolve if any collision occurs.\n     *\n     * @returns {void}\n     */\n    Popup.prototype.resolveCollision = function () {\n        this.checkCollision();\n    };\n    /**\n     * gets the persisted state properties of the Component.\n     *\n     * @returns {void}\n     */\n    Popup.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To destroy the control.\n     *\n     * @returns {void}\n     */\n    Popup.prototype.destroy = function () {\n        this.element.classList.remove(CLASSNAMES.ROOT, CLASSNAMES.RTL, CLASSNAMES.OPEN, CLASSNAMES.CLOSE);\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    Popup.prototype.render = function () {\n        this.element.classList.add(CLASSNAMES.ROOT);\n        var styles = {};\n        if (this.zIndex !== 1000) {\n            styles.zIndex = this.zIndex;\n        }\n        if (this.width !== 'auto') {\n            styles.width = formatUnit(this.width);\n        }\n        if (this.height !== 'auto') {\n            styles.height = formatUnit(this.height);\n        }\n        setStyleAttribute(this.element, styles);\n        this.fixedParent = false;\n        this.setEnableRtl();\n        this.setContent();\n    };\n    Popup.prototype.wireEvents = function () {\n        if (Browser.isDevice) {\n            EventHandler.add(window, 'orientationchange', this.orientationOnChange, this);\n        }\n        if (this.actionOnScroll !== 'none') {\n            this.wireScrollEvents();\n        }\n    };\n    Popup.prototype.wireScrollEvents = function () {\n        if (this.getRelateToElement()) {\n            for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n                var parent_1 = _a[_i];\n                EventHandler.add(parent_1, 'scroll', this.scrollRefresh, this);\n            }\n        }\n    };\n    Popup.prototype.unwireEvents = function () {\n        if (Browser.isDevice) {\n            EventHandler.remove(window, 'orientationchange', this.orientationOnChange);\n        }\n        if (this.actionOnScroll !== 'none') {\n            this.unwireScrollEvents();\n        }\n    };\n    Popup.prototype.unwireScrollEvents = function () {\n        if (this.getRelateToElement()) {\n            for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n                var parent_2 = _a[_i];\n                EventHandler.remove(parent_2, 'scroll', this.scrollRefresh);\n            }\n        }\n    };\n    Popup.prototype.getRelateToElement = function () {\n        var relateToElement = this.relateTo === '' || isNullOrUndefined(this.relateTo) ?\n            document.body : this.relateTo;\n        this.setProperties({ relateTo: relateToElement }, true);\n        return ((typeof this.relateTo) === 'string') ?\n            document.querySelector(this.relateTo) : this.relateTo;\n    };\n    Popup.prototype.scrollRefresh = function (e) {\n        if (this.actionOnScroll === 'reposition') {\n            if (!isNullOrUndefined(this.element) && !(this.element.offsetParent === e.target ||\n                (this.element.offsetParent && this.element.offsetParent.tagName === 'BODY' &&\n                    e.target.parentElement == null))) {\n                this.refreshPosition();\n            }\n        }\n        else if (this.actionOnScroll === 'hide') {\n            this.hide();\n        }\n        if (this.actionOnScroll !== 'none') {\n            if (this.getRelateToElement()) {\n                var targetVisible = this.isElementOnViewport(this.getRelateToElement(), e.target);\n                if (!targetVisible && !this.targetInvisibleStatus) {\n                    this.trigger('targetExitViewport');\n                    this.targetInvisibleStatus = true;\n                }\n                else if (targetVisible) {\n                    this.targetInvisibleStatus = false;\n                }\n            }\n        }\n    };\n    /**\n     * This method is to get the element visibility on viewport when scroll\n     * the page. This method will returns true even though 1 px of element\n     * part is in visible.\n     *\n     * @param {HTMLElement} relateToElement - specifies the element\n     * @param {HTMLElement} scrollElement - specifies the scroll element\n     * @returns {boolean} - retruns the boolean\n     */\n    // eslint-disable-next-line\n    Popup.prototype.isElementOnViewport = function (relateToElement, scrollElement) {\n        var scrollParents = this.getScrollableParent(relateToElement);\n        for (var parent_3 = 0; parent_3 < scrollParents.length; parent_3++) {\n            if (this.isElementVisible(relateToElement, scrollParents[parent_3])) {\n                continue;\n            }\n            else {\n                return false;\n            }\n        }\n        return true;\n    };\n    Popup.prototype.isElementVisible = function (relateToElement, scrollElement) {\n        var rect = this.checkGetBoundingClientRect(relateToElement);\n        if (!rect.height || !rect.width) {\n            return false;\n        }\n        if (!isNullOrUndefined(this.checkGetBoundingClientRect(scrollElement))) {\n            var parent_4 = scrollElement.getBoundingClientRect();\n            return !(rect.bottom < parent_4.top) &&\n                (!(rect.bottom > parent_4.bottom) &&\n                    (!(rect.right > parent_4.right) &&\n                        !(rect.left < parent_4.left)));\n        }\n        else {\n            var win = window;\n            var windowView = {\n                top: win.scrollY,\n                left: win.scrollX,\n                right: win.scrollX + win.outerWidth,\n                bottom: win.scrollY + win.outerHeight\n            };\n            var off = calculatePosition(relateToElement);\n            var ele = {\n                top: off.top,\n                left: off.left,\n                right: off.left + rect.width,\n                bottom: off.top + rect.height\n            };\n            var elementView = {\n                top: windowView.bottom - ele.top,\n                left: windowView.right - ele.left,\n                bottom: ele.bottom - windowView.top,\n                right: ele.right - windowView.left\n            };\n            return elementView.top > 0\n                && elementView.left > 0\n                && elementView.right > 0\n                && elementView.bottom > 0;\n        }\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    Popup.prototype.preRender = function () {\n        //There is no event handler\n    };\n    Popup.prototype.setEnableRtl = function () {\n        this.reposition();\n        // eslint-disable-next-line\n        this.enableRtl ? this.element.classList.add(CLASSNAMES.RTL) : this.element.classList.remove(CLASSNAMES.RTL);\n    };\n    Popup.prototype.setContent = function () {\n        if (!isNullOrUndefined(this.content)) {\n            this.element.innerHTML = '';\n            if (typeof (this.content) === 'string') {\n                this.element.textContent = this.content;\n            }\n            else {\n                var relateToElem = this.getRelateToElement();\n                // eslint-disable-next-line\n                var props = this.content.props;\n                if (!relateToElem.classList.contains('e-dropdown-btn') || isNullOrUndefined(props)) {\n                    this.element.appendChild(this.content);\n                }\n            }\n        }\n    };\n    Popup.prototype.orientationOnChange = function () {\n        var _this = this;\n        setTimeout(function () {\n            _this.refreshPosition();\n        }, 200);\n    };\n    // eslint-disable-next-line\n    /**\n     * Based on the `relative` element and `offset` values, `Popup` element position will refreshed.\n     *\n     * @returns {void}\n     */\n    Popup.prototype.refreshPosition = function (target, collision) {\n        if (!isNullOrUndefined(target)) {\n            this.checkFixedParent(target);\n        }\n        this.reposition();\n        if (!collision) {\n            this.checkCollision();\n        }\n    };\n    Popup.prototype.reposition = function () {\n        var pos;\n        var position;\n        var relateToElement = this.getRelateToElement();\n        if (typeof this.position.X === 'number' && typeof this.position.Y === 'number') {\n            pos = { left: this.position.X, top: this.position.Y };\n        }\n        else if ((typeof this.position.X === 'string' && typeof this.position.Y === 'number') ||\n            (typeof this.position.X === 'number' && typeof this.position.Y === 'string')) {\n            var parentDisplay = void 0;\n            var display = this.element.style.display;\n            this.element.style.display = 'block';\n            if (this.element.classList.contains('e-dlg-modal')) {\n                parentDisplay = this.element.parentElement.style.display;\n                this.element.parentElement.style.display = 'block';\n            }\n            position = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n            if (typeof this.position.X === 'string') {\n                pos = { left: position.left, top: this.position.Y };\n            }\n            else {\n                pos = { left: this.position.X, top: position.top };\n            }\n            this.element.style.display = display;\n            if (this.element.classList.contains('e-dlg-modal')) {\n                this.element.parentElement.style.display = parentDisplay;\n            }\n        }\n        else if (relateToElement) {\n            var display = this.element.style.display;\n            this.element.style.display = 'block';\n            pos = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n            this.element.style.display = display;\n        }\n        else {\n            pos = { left: 0, top: 0 };\n        }\n        if (!isNullOrUndefined(pos)) {\n            this.element.style.left = pos.left + 'px';\n            this.element.style.top = pos.top + 'px';\n        }\n    };\n    Popup.prototype.checkGetBoundingClientRect = function (ele) {\n        var eleRect;\n        try {\n            eleRect = ele.getBoundingClientRect();\n            return eleRect;\n        }\n        catch (error) {\n            return null;\n        }\n    };\n    Popup.prototype.getAnchorPosition = function (anchorEle, ele, position, offsetX, offsetY) {\n        var eleRect = this.checkGetBoundingClientRect(ele);\n        var anchorRect = this.checkGetBoundingClientRect(anchorEle);\n        if (isNullOrUndefined(eleRect) || isNullOrUndefined(anchorRect)) {\n            return null;\n        }\n        var anchor = anchorEle;\n        var anchorPos = { left: 0, top: 0 };\n        if (ele.offsetParent && ele.offsetParent.tagName === 'BODY' && anchorEle.tagName === 'BODY') {\n            anchorPos = calculatePosition(anchorEle);\n        }\n        else {\n            if ((ele.classList.contains('e-dlg-modal') && anchor.tagName !== 'BODY')) {\n                ele = ele.parentElement;\n            }\n            anchorPos = calculateRelativeBasedPosition(anchor, ele);\n        }\n        switch (position.X) {\n            default:\n            case 'left':\n                break;\n            case 'center':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.left += (window.innerWidth / 2 - eleRect.width / 2);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.left += (anchorRect.width / 2 - eleRect.width / 2);\n                }\n                else {\n                    anchorPos.left += (anchorRect.width / 2);\n                }\n                break;\n            case 'right':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.left += (window.innerWidth - eleRect.width);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.left += (anchorRect.width - eleRect.width);\n                }\n                else {\n                    anchorPos.left += (anchorRect.width);\n                }\n                break;\n        }\n        switch (position.Y) {\n            default:\n            case 'top':\n                break;\n            case 'center':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.top += (window.innerHeight / 2 - eleRect.height / 2);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.top += (anchorRect.height / 2 - eleRect.height / 2);\n                }\n                else {\n                    anchorPos.top += (anchorRect.height / 2);\n                }\n                break;\n            case 'bottom':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.top += (window.innerHeight - eleRect.height);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.top += (anchorRect.height - eleRect.height);\n                }\n                else {\n                    anchorPos.top += (anchorRect.height);\n                }\n                break;\n        }\n        anchorPos.left += offsetX;\n        anchorPos.top += offsetY;\n        return anchorPos;\n    };\n    Popup.prototype.callFlip = function (param) {\n        var relateToElement = this.getRelateToElement();\n        flip(this.element, relateToElement, this.offsetX, this.offsetY, this.position.X, this.position.Y, this.viewPortElement, param, this.fixedParent);\n    };\n    Popup.prototype.callFit = function (param) {\n        if (isCollide(this.element, this.viewPortElement).length !== 0) {\n            if (isNullOrUndefined(this.viewPortElement)) {\n                var data = fit(this.element, this.viewPortElement, param);\n                if (param.X) {\n                    this.element.style.left = data.left + 'px';\n                }\n                if (param.Y) {\n                    this.element.style.top = data.top + 'px';\n                }\n            }\n            else {\n                var elementRect = this.checkGetBoundingClientRect(this.element);\n                var viewPortRect = this.checkGetBoundingClientRect(this.viewPortElement);\n                if (isNullOrUndefined(elementRect) || isNullOrUndefined(viewPortRect)) {\n                    return null;\n                }\n                if (param && param.Y === true) {\n                    if (viewPortRect.top > elementRect.top) {\n                        this.element.style.top = '0px';\n                    }\n                    else if (viewPortRect.bottom < elementRect.bottom) {\n                        this.element.style.top = parseInt(this.element.style.top, 10) - (elementRect.bottom - viewPortRect.bottom) + 'px';\n                    }\n                }\n                if (param && param.X === true) {\n                    if (viewPortRect.right < elementRect.right) {\n                        this.element.style.left = parseInt(this.element.style.left, 10) - (elementRect.right - viewPortRect.right) + 'px';\n                    }\n                    else if (viewPortRect.left > elementRect.left) {\n                        this.element.style.left = parseInt(this.element.style.left, 10) + (viewPortRect.left - elementRect.left) + 'px';\n                    }\n                }\n            }\n        }\n    };\n    Popup.prototype.checkCollision = function () {\n        var horz = this.collision.X;\n        var vert = this.collision.Y;\n        if (horz === 'none' && vert === 'none') {\n            return;\n        }\n        if (horz === 'flip' && vert === 'flip') {\n            this.callFlip({ X: true, Y: true });\n        }\n        else if (horz === 'fit' && vert === 'fit') {\n            this.callFit({ X: true, Y: true });\n        }\n        else {\n            if (horz === 'flip') {\n                this.callFlip({ X: true, Y: false });\n            }\n            else if (vert === 'flip') {\n                this.callFlip({ Y: true, X: false });\n            }\n            if (horz === 'fit') {\n                this.callFit({ X: true, Y: false });\n            }\n            else if (vert === 'fit') {\n                this.callFit({ X: false, Y: true });\n            }\n        }\n    };\n    /**\n     * Shows the popup element from screen.\n     *\n     * @returns {void}\n     * @param {AnimationModel} animationOptions - specifies the model\n     * @param { HTMLElement } relativeElement - To calculate the zIndex value dynamically.\n     */\n    Popup.prototype.show = function (animationOptions, relativeElement) {\n        var _this = this;\n        this.wireEvents();\n        if (this.zIndex === 1000 || !isNullOrUndefined(relativeElement)) {\n            var zIndexElement = (isNullOrUndefined(relativeElement)) ? this.element : relativeElement;\n            this.zIndex = getZindexPartial(zIndexElement);\n            setStyleAttribute(this.element, { 'zIndex': this.zIndex });\n        }\n        animationOptions = (!isNullOrUndefined(animationOptions) && typeof animationOptions === 'object') ?\n            animationOptions : this.showAnimation;\n        if (this.collision.X !== 'none' || this.collision.Y !== 'none') {\n            removeClass([this.element], CLASSNAMES.CLOSE);\n            addClass([this.element], CLASSNAMES.OPEN);\n            this.checkCollision();\n            removeClass([this.element], CLASSNAMES.OPEN);\n            addClass([this.element], CLASSNAMES.CLOSE);\n        }\n        if (!isNullOrUndefined(animationOptions)) {\n            animationOptions.begin = function () {\n                if (!_this.isDestroyed) {\n                    removeClass([_this.element], CLASSNAMES.CLOSE);\n                    addClass([_this.element], CLASSNAMES.OPEN);\n                }\n            };\n            animationOptions.end = function () {\n                if (!_this.isDestroyed) {\n                    _this.trigger('open');\n                }\n            };\n            new Animation(animationOptions).animate(this.element);\n        }\n        else {\n            removeClass([this.element], CLASSNAMES.CLOSE);\n            addClass([this.element], CLASSNAMES.OPEN);\n            this.trigger('open');\n        }\n    };\n    /**\n     * Hides the popup element from screen.\n     *\n     * @param {AnimationModel} animationOptions - To give the animation options.\n     * @returns {void}\n     */\n    Popup.prototype.hide = function (animationOptions) {\n        var _this = this;\n        animationOptions = (!isNullOrUndefined(animationOptions) && typeof animationOptions === 'object') ?\n            animationOptions : this.hideAnimation;\n        if (!isNullOrUndefined(animationOptions)) {\n            animationOptions.end = function () {\n                if (!_this.isDestroyed) {\n                    removeClass([_this.element], CLASSNAMES.OPEN);\n                    addClass([_this.element], CLASSNAMES.CLOSE);\n                    _this.trigger('close');\n                }\n            };\n            new Animation(animationOptions).animate(this.element);\n        }\n        else {\n            removeClass([this.element], CLASSNAMES.OPEN);\n            addClass([this.element], CLASSNAMES.CLOSE);\n            this.trigger('close');\n        }\n        this.unwireEvents();\n    };\n    /**\n     * Gets scrollable parent elements for the given element.\n     *\n     * @returns {void}\n     * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n     */\n    Popup.prototype.getScrollableParent = function (element) {\n        this.checkFixedParent(element);\n        return getScrollableParent(element, this.fixedParent);\n    };\n    Popup.prototype.checkFixedParent = function (element) {\n        var parent = element.parentElement;\n        while (parent && parent.tagName !== 'HTML') {\n            var parentStyle = getComputedStyle(parent);\n            if (parentStyle.position === 'fixed' && !isNullOrUndefined(this.element) && this.element.offsetParent && this.element.offsetParent.tagName === 'BODY') {\n                this.element.style.top = window.scrollY > parseInt(this.element.style.top) ? formatUnit(window.scrollY - parseInt(this.element.style.top))\n                    : formatUnit(parseInt(this.element.style.top) - window.scrollY);\n                this.element.style.position = 'fixed';\n                this.fixedParent = true;\n            }\n            parent = parent.parentElement;\n            if (!isNullOrUndefined(this.element) && isNullOrUndefined(this.element.offsetParent) && parentStyle.position === 'fixed'\n                && this.element.style.position === 'fixed') {\n                this.fixedParent = true;\n            }\n        }\n    };\n    __decorate([\n        Property('auto')\n    ], Popup.prototype, \"height\", void 0);\n    __decorate([\n        Property('auto')\n    ], Popup.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"content\", void 0);\n    __decorate([\n        Property('container')\n    ], Popup.prototype, \"targetType\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"viewPortElement\", void 0);\n    __decorate([\n        Property({ X: 'none', Y: 'none' })\n    ], Popup.prototype, \"collision\", void 0);\n    __decorate([\n        Property('')\n    ], Popup.prototype, \"relateTo\", void 0);\n    __decorate([\n        Complex({}, PositionData)\n    ], Popup.prototype, \"position\", void 0);\n    __decorate([\n        Property(0)\n    ], Popup.prototype, \"offsetX\", void 0);\n    __decorate([\n        Property(0)\n    ], Popup.prototype, \"offsetY\", void 0);\n    __decorate([\n        Property(1000)\n    ], Popup.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], Popup.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property('reposition')\n    ], Popup.prototype, \"actionOnScroll\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"showAnimation\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"hideAnimation\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"targetExitViewport\", void 0);\n    Popup = __decorate([\n        NotifyPropertyChanges\n    ], Popup);\n    return Popup;\n}(Component));\nexport { Popup };\n/**\n * Gets scrollable parent elements for the given element.\n *\n * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n * @param {boolean} fixedParent - specifies the parent element\n * @private\n * @returns {void}\n */\nexport function getScrollableParent(element, fixedParent) {\n    var eleStyle = getComputedStyle(element);\n    var scrollParents = [];\n    var overflowRegex = /(auto|scroll)/;\n    var parent = element.parentElement;\n    while (parent && parent.tagName !== 'HTML') {\n        var parentStyle = getComputedStyle(parent);\n        if (!(eleStyle.position === 'absolute' && parentStyle.position === 'static')\n            && overflowRegex.test(parentStyle.overflow + parentStyle.overflowY + parentStyle.overflowX)) {\n            scrollParents.push(parent);\n        }\n        parent = parent.parentElement;\n    }\n    if (!fixedParent) {\n        scrollParents.push(document);\n    }\n    return scrollParents;\n}\n/**\n * Gets the maximum z-index of the given element.\n *\n * @returns {void}\n * @param { HTMLElement } element - Specify the element to get the maximum z-index of it.\n * @private\n */\nexport function getZindexPartial(element) {\n    // upto body traversal\n    var parent = element.parentElement;\n    var parentZindex = [];\n    while (parent) {\n        if (parent.tagName !== 'BODY') {\n            var index = document.defaultView.getComputedStyle(parent, null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(parent, null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                parentZindex.push(index);\n            }\n            parent = parent.parentElement;\n        }\n        else {\n            break;\n        }\n    }\n    var childrenZindex = [];\n    for (var i = 0; i < document.body.children.length; i++) {\n        if (!element.isEqualNode(document.body.children[i])) {\n            var index = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                childrenZindex.push(index);\n            }\n        }\n    }\n    childrenZindex.push('999');\n    var siblingsZindex = [];\n    if (!isNullOrUndefined(element.parentElement) && element.parentElement.tagName !== 'BODY') {\n        var childNodes = [].slice.call(element.parentElement.children);\n        for (var i = 0; i < childNodes.length; i++) {\n            if (!element.isEqualNode(childNodes[i])) {\n                var index = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('z-index');\n                var position = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('position');\n                if (index !== 'auto' && position !== 'static') {\n                    siblingsZindex.push(index);\n                }\n            }\n        }\n    }\n    var finalValue = parentZindex.concat(childrenZindex, siblingsZindex);\n    // eslint-disable-next-line\n    var currentZindexValue = Math.max.apply(Math, finalValue) + 1;\n    return currentZindexValue > 2147483647 ? 2147483647 : currentZindexValue;\n}\n/**\n * Gets the maximum z-index of the page.\n *\n * @returns {void}\n * @param { HTMLElement } tagName - Specify the tagName to get the maximum z-index of it.\n * @private\n */\nexport function getMaxZindex(tagName) {\n    if (tagName === void 0) { tagName = ['*']; }\n    var maxZindex = [];\n    for (var i = 0; i < tagName.length; i++) {\n        var elements = document.getElementsByTagName(tagName[i]);\n        for (var i_1 = 0; i_1 < elements.length; i_1++) {\n            var index = document.defaultView.getComputedStyle(elements[i_1], null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(elements[i_1], null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                maxZindex.push(index);\n            }\n        }\n    }\n    // eslint-disable-next-line\n    var currentZindexValue = Math.max.apply(Math, maxZindex) + 1;\n    return currentZindexValue > 2147483647 ? 2147483647 : currentZindexValue;\n}\n","/** @hidden */\nexport var created = 'create';\n/** @hidden */\nexport var destroyed = 'destroy';\n/** @hidden */\nexport var load = 'load';\n/** @hidden */\nexport var rowDataBound = 'rowDataBound';\n/** @hidden */\nexport var queryCellInfo = 'queryCellInfo';\n/** @hidden */\nexport var headerCellInfo = 'headerCellInfo';\n/** @hidden */\nexport var actionBegin = 'actionBegin';\n/** @hidden */\nexport var actionComplete = 'actionComplete';\n/** @hidden */\nexport var actionFailure = 'actionFailure';\n/** @hidden */\nexport var dataBound = 'dataBound';\n/** @hidden */\nexport var rowSelecting = 'rowSelecting';\n/** @hidden */\nexport var rowSelected = 'rowSelected';\n/** @hidden */\nexport var rowDeselecting = 'rowDeselecting';\n/** @hidden */\nexport var rowDeselected = 'rowDeselected';\n/** @hidden */\nexport var cellSelecting = 'cellSelecting';\n/** @hidden */\nexport var cellSelected = 'cellSelected';\n/** @hidden */\nexport var cellDeselecting = 'cellDeselecting';\n/** @hidden */\nexport var cellDeselected = 'cellDeselected';\n/** @hidden */\nexport var columnSelecting = 'columnSelecting';\n/** @hidden */\nexport var columnSelected = 'columnSelected';\n/** @hidden */\nexport var columnDeselecting = 'columnDeselecting';\n/** @hidden */\nexport var columnDeselected = 'columnDeselected';\n/** @hidden */\nexport var columnDragStart = 'columnDragStart';\n/** @hidden */\nexport var columnDrag = 'columnDrag';\n/** @hidden */\nexport var columnDrop = 'columnDrop';\n/** @hidden */\nexport var rowDragStartHelper = 'rowDragStartHelper';\n/** @hidden */\nexport var rowDragStart = 'rowDragStart';\n/** @hidden */\nexport var rowDrag = 'rowDrag';\n/** @hidden */\nexport var rowDrop = 'rowDrop';\n/** @hidden */\nexport var beforePrint = 'beforePrint';\n/** @hidden */\nexport var printComplete = 'printComplete';\n/** @hidden */\nexport var detailDataBound = 'detailDataBound';\n/** @hidden */\nexport var toolbarClick = 'toolbarClick';\n/** @hidden */\nexport var batchAdd = 'batchAdd';\n/** @hidden */\nexport var batchCancel = 'batchCancel';\n/** @hidden */\nexport var batchDelete = 'batchDelete';\n/** @hidden */\nexport var beforeBatchAdd = 'beforeBatchAdd';\n/** @hidden */\nexport var beforeBatchDelete = 'beforeBatchDelete';\n/** @hidden */\nexport var beforeBatchSave = 'beforeBatchSave';\n/** @hidden */\nexport var beginEdit = 'beginEdit';\n/** @hidden */\nexport var cellEdit = 'cellEdit';\n/** @hidden */\nexport var cellSave = 'cellSave';\n/** @hidden */\nexport var cellSaved = 'cellSaved';\n/** @hidden */\nexport var endAdd = 'endAdd';\n/** @hidden */\nexport var endDelete = 'endDelete';\n/** @hidden */\nexport var endEdit = 'endEdit';\n/** @hidden */\nexport var recordDoubleClick = 'recordDoubleClick';\n/** @hidden */\nexport var recordClick = 'recordClick';\n/** @hidden */\nexport var beforeDataBound = 'beforeDataBound';\n/** @hidden */\nexport var beforeOpenColumnChooser = 'beforeOpenColumnChooser';\n/** @hidden */\nexport var beforeOpenAdaptiveDialog = 'beforeOpenAdaptiveDialog';\n/** @hidden */\nexport var resizeStart = 'resizeStart';\n/** @hidden */\nexport var onResize = 'resizing';\n/** @hidden */\nexport var resizeStop = 'resizeStop';\n/** @hidden */\nexport var checkBoxChange = 'checkBoxChange';\n/** @hidden */\nexport var beforeCopy = 'beforeCopy';\n/** @hidden */\nexport var beforePaste = 'beforePaste';\n/** @hidden */\nexport var beforeAutoFill = 'beforeAutoFill';\n/** @hidden */\nexport var filterChoiceRequest = 'filterchoicerequest';\n/** @hidden */\nexport var filterAfterOpen = 'filterafteropen';\n/** @hidden */\nexport var filterBeforeOpen = 'filterbeforeopen';\n/** @hidden */\nexport var filterSearchBegin = 'filtersearchbegin';\n/** @hidden */\nexport var commandClick = 'commandClick';\n/** @hidden */\nexport var exportGroupCaption = 'exportGroupCaption';\n/** @hidden */\nexport var lazyLoadGroupExpand = 'lazyLoadGroupExpand';\n/** @hidden */\nexport var lazyLoadGroupCollapse = 'lazyLoadGroupCollapse';\n/**\n * Specifies grid internal events\n */\n/** @hidden */\nexport var initialLoad = 'initial-load';\n/** @hidden */\nexport var initialEnd = 'initial-end';\n/** @hidden */\nexport var dataReady = 'data-ready';\n/** @hidden */\nexport var contentReady = 'content-ready';\n/** @hidden */\nexport var uiUpdate = 'ui-update';\n/** @hidden */\nexport var onEmpty = 'on-empty';\n/** @hidden */\nexport var inBoundModelChanged = 'inbound-model-changed';\n/** @hidden */\nexport var modelChanged = 'model-changed';\n/** @hidden */\nexport var colGroupRefresh = 'colgroup-refresh';\n/** @hidden */\nexport var headerRefreshed = 'header-refreshed';\n/** @hidden */\nexport var pageBegin = 'paging-begin';\n/** @hidden */\nexport var pageComplete = 'paging-complete';\n/** @hidden */\nexport var sortBegin = 'sorting-begin';\n/** @hidden */\nexport var sortComplete = 'sorting-complete';\n/** @hidden */\nexport var filterBegin = 'filtering-begin';\n/** @hidden */\nexport var filterComplete = 'filtering-complete';\n/** @hidden */\nexport var searchBegin = 'searching-begin';\n/** @hidden */\nexport var searchComplete = 'searching-complete';\n/** @hidden */\nexport var reorderBegin = 'reorder-begin';\n/** @hidden */\nexport var reorderComplete = 'reorder-complete';\n/** @hidden */\nexport var rowDragAndDropBegin = 'rowdraganddrop-begin';\n/** @hidden */\nexport var rowDragAndDropComplete = 'rowdraganddrop-complete';\n/** @hidden */\nexport var groupBegin = 'grouping-begin';\n/** @hidden */\nexport var groupComplete = 'grouping-complete';\n/** @hidden */\nexport var ungroupBegin = 'ungrouping-begin';\n/** @hidden */\nexport var ungroupComplete = 'ungrouping-complete';\n/** @hidden */\nexport var groupAggregates = 'group-aggregates';\n/** @hidden */\nexport var refreshFooterRenderer = 'refresh-footer-rendered';\n/** @hidden */\nexport var refreshAggregateCell = 'refresh-aggregate-cell';\n/** @hidden */\nexport var refreshAggregates = 'refresh-aggregates';\n/** @hidden */\nexport var rowSelectionBegin = 'rowselecting';\n/** @hidden */\nexport var rowSelectionComplete = 'rowselected';\n/** @hidden */\nexport var columnSelectionBegin = 'columnselecting';\n/** @hidden */\nexport var columnSelectionComplete = 'columnselected';\n/** @hidden */\nexport var cellSelectionBegin = 'cellselecting';\n/** @hidden */\nexport var cellSelectionComplete = 'cellselected';\n/** @hidden */\nexport var beforeCellFocused = 'beforecellfocused';\n/** @hidden */\nexport var cellFocused = 'cellfocused';\n/** @hidden */\nexport var keyPressed = 'key-pressed';\n/** @hidden */\nexport var click = 'click';\n/** @hidden */\nexport var destroy = 'destroy';\n/** @hidden */\nexport var columnVisibilityChanged = 'column-visible-changed';\n/** @hidden */\nexport var scroll = 'scroll';\n/** @hidden */\nexport var columnWidthChanged = 'column-width-changed';\n/** @hidden */\nexport var columnPositionChanged = 'column-position-changed';\n/** @hidden */\nexport var rowDragAndDrop = 'row-drag-and-drop';\n/** @hidden */\nexport var rowsAdded = 'rows-added';\n/** @hidden */\nexport var rowsRemoved = 'rows-removed';\n/** @hidden */\nexport var columnDragStop = 'column-drag-stop';\n/** @hidden */\nexport var headerDrop = 'header-drop';\n/** @hidden */\nexport var dataSourceModified = 'datasource-modified';\n/** @hidden */\nexport var refreshComplete = 'refresh-complete';\n/** @hidden */\nexport var refreshVirtualBlock = 'refresh-virtual-block';\n/** @hidden */\nexport var dblclick = 'dblclick';\n/** @hidden */\nexport var toolbarRefresh = 'toolbar-refresh';\n/** @hidden */\nexport var bulkSave = 'bulk-save';\n/** @hidden */\nexport var autoCol = 'auto-col';\n/** @hidden */\nexport var tooltipDestroy = 'tooltip-destroy';\n/** @hidden */\nexport var updateData = 'update-data';\n/** @hidden */\nexport var editBegin = 'edit-begin';\n/** @hidden */\nexport var editComplete = 'edit-complete';\n/** @hidden */\nexport var addBegin = 'add-begin';\n/** @hidden */\nexport var addComplete = 'add-complete';\n/** @hidden */\nexport var saveComplete = 'save-complete';\n/** @hidden */\nexport var deleteBegin = 'delete-begin';\n/** @hidden */\nexport var deleteComplete = 'delete-complete';\n/** @hidden */\nexport var preventBatch = 'prevent-batch';\n/** @hidden */\nexport var dialogDestroy = 'dialog-destroy';\n/** @hidden */\nexport var crudAction = 'crud-Action';\n/** @hidden */\nexport var addDeleteAction = 'add-delete-Action';\n/** @hidden */\nexport var destroyForm = 'destroy-form';\n/** @hidden */\nexport var doubleTap = 'double-tap';\n/** @hidden */\nexport var beforeExcelExport = 'beforeExcelExport';\n/** @hidden */\nexport var excelExportComplete = 'excelExportComplete';\n/** @hidden */\nexport var excelQueryCellInfo = 'excelQueryCellInfo';\n/** @hidden */\nexport var excelHeaderQueryCellInfo = 'excelHeaderQueryCellInfo';\n/** @hidden */\nexport var exportDetailDataBound = 'exportDetailDataBound';\n/** @hidden */\nexport var beforePdfExport = 'beforePdfExport';\n/** @hidden */\nexport var pdfExportComplete = 'pdfExportComplete';\n/** @hidden */\nexport var pdfQueryCellInfo = 'pdfQueryCellInfo';\n/** @hidden */\nexport var pdfHeaderQueryCellInfo = 'pdfHeaderQueryCellInfo';\n/** @hidden */\nexport var accessPredicate = 'access-predicate';\n/** @hidden */\nexport var contextMenuClick = 'contextMenuClick';\n/** @hidden */\nexport var freezeRender = 'freezerender';\n/** @hidden */\nexport var freezeRefresh = 'freezerefresh';\n/** @hidden */\nexport var contextMenuOpen = 'contextMenuOpen';\n/** @hidden */\nexport var columnMenuClick = 'columnMenuClick';\n/** @hidden */\nexport var columnMenuOpen = 'columnMenuOpen';\n/** @hidden */\nexport var filterOpen = 'filterOpen';\n/** @hidden */\nexport var filterDialogCreated = 'filterDialogCreated';\n/** @hidden */\nexport var filterMenuClose = 'filter-menu-close';\n/** @hidden */\nexport var initForeignKeyColumn = 'initForeignKeyColumn';\n/** @hidden */\nexport var getForeignKeyData = 'getForeignKeyData';\n/** @hidden */\nexport var generateQuery = 'generateQuery';\n/** @hidden */\nexport var showEmptyGrid = 'showEmptyGrid';\n/** @hidden */\nexport var foreignKeyData = 'foreignKeyData';\n/** @hidden */\nexport var columnDataStateChange = 'columnDataStateChange';\n/** @hidden */\nexport var dataStateChange = 'dataStateChange';\n/** @hidden */\nexport var dataSourceChanged = 'dataSourceChanged';\n/** @hidden */\nexport var rtlUpdated = 'rtl-updated';\n/** @hidden */\nexport var beforeFragAppend = 'beforeFragAppend';\n/** @hidden */\nexport var frozenHeight = 'frozenHeight';\n/** @hidden */\nexport var textWrapRefresh = 'textWrapRefresh';\n/** @hidden */\nexport var recordAdded = 'recordAdded';\n/** @hidden */\nexport var cancelBegin = 'cancel-Begin';\n/** @hidden */\nexport var editNextValCell = 'editNextValCell';\n/** @hidden */\nexport var hierarchyPrint = 'hierarchyprint';\n/** @hidden */\nexport var expandChildGrid = 'expandchildgrid';\n/** @hidden */\nexport var printGridInit = 'printGrid-Init';\n/** @hidden */\nexport var exportRowDataBound = 'export-RowDataBound';\n/** @hidden */\nexport var exportDataBound = 'export-DataBound';\n/** @hidden */\nexport var rowPositionChanged = 'row-position-changed';\n/** @hidden */\nexport var columnChooserOpened = 'columnChooserOpened';\n/** @hidden */\nexport var batchForm = 'batchedit-form';\n/** @hidden */\nexport var beforeStartEdit = 'edit-form';\n/** @hidden */\nexport var beforeBatchCancel = 'before-batch-cancel';\n/** @hidden */\nexport var batchEditFormRendered = 'batcheditform-rendered';\n/** @hidden */\nexport var partialRefresh = 'partial-refresh';\n/** @hidden */\nexport var beforeCustomFilterOpen = 'beforeCustomFilterOpen';\n/** @hidden */\nexport var selectVirtualRow = 'select-virtual-Row';\n/** @hidden */\nexport var columnsPrepared = 'columns-prepared';\n/** @hidden */\nexport var cBoxFltrBegin = 'cbox-filter-begin';\n/** @hidden */\nexport var cBoxFltrComplete = 'cbox-filter-complete';\n/** @hidden */\nexport var fltrPrevent = 'filter-Prevent';\n/** @hidden */\nexport var beforeFltrcMenuOpen = 'before-filter-cmenu-open';\n/** @hidden */\nexport var valCustomPlacement = 'validation-custom-placement';\n/** @hidden */\nexport var filterCboxValue = 'filter-cbox-value';\n/** @hidden */\nexport var componentRendered = 'component-rendered';\n/** @hidden */\nexport var restoreFocus = 'restore-Focus';\n/** @hidden */\nexport var detailStateChange = 'detail-state-change';\n/** @hidden */\nexport var detailIndentCellInfo = 'detail-indentcell-info';\n/** @hidden */\nexport var virtaulKeyHandler = 'virtaul-key-handler';\n/** @hidden */\nexport var virtaulCellFocus = 'virtaul-cell-focus';\n/** @hidden */\nexport var virtualScrollEditActionBegin = 'virtual-scroll-edit-action-begin';\n/** @hidden */\nexport var virtualScrollEditSuccess = 'virtual-scroll-edit-success';\n/** @hidden */\nexport var virtualScrollEditCancel = 'virtual-scroll-edit-cancel';\n/** @hidden */\nexport var virtualScrollEdit = 'virtual-scroll-edit';\n/** @hidden */\nexport var refreshVirtualCache = 'refresh-virtual-cache';\n/** @hidden */\nexport var editReset = 'edit-reset';\n/** @hidden */\nexport var virtualScrollAddActionBegin = 'virtual-scroll-add-action-begin';\n/** @hidden */\nexport var getVirtualData = 'get-virtual-data';\n/** @hidden */\nexport var refreshInfiniteModeBlocks = 'refresh-infinite-mode-blocks';\n/** @hidden */\nexport var resetInfiniteBlocks = 'reset-infinite-blocks';\n/** @hidden */\nexport var infiniteScrollHandler = 'infinite-scroll-handler';\n/** @hidden */\nexport var infinitePageQuery = 'infinite-page-query';\n/** @hidden */\nexport var infiniteShowHide = 'infinite-show-hide';\n/** @hidden */\nexport var appendInfiniteContent = 'append-infinite-content';\n/** @hidden */\nexport var removeInfiniteRows = 'remove-infinite-rows';\n/** @hidden */\nexport var setInfiniteCache = 'set-infinite-cache';\n/** @hidden */\nexport var infiniteEditHandler = 'infinite-edit-handler';\n/** @hidden */\nexport var initialCollapse = 'initial-collapse';\n/** @hidden */\nexport var getAggregateQuery = 'get-aggregate-query';\n/** @hidden */\nexport var closeFilterDialog = 'close-filter-dialog';\n/** @hidden */\nexport var columnChooserCancelBtnClick = 'columnChooserCancelBtnClick';\n/** @hidden */\nexport var getFilterBarOperator = 'get-filterbar-operator';\n/** @hidden */\nexport var resetColumns = 'reset-columns';\n/** @hidden */\nexport var pdfAggregateQueryCellInfo = 'pdfAggregateQueryCellInfo';\n/** @hidden */\nexport var excelAggregateQueryCellInfo = 'excelAggregateQueryCellInfo';\n/** @hidden */\nexport var setGroupCache = 'group-cache';\n/** @hidden */\nexport var lazyLoadScrollHandler = 'lazy-load-scroll-handler';\n/** @hidden */\nexport var groupCollapse = 'group-collapse';\n/** @hidden */\nexport var beforeCheckboxRenderer = 'beforeCheckboxRenderer';\n/** @hidden */\nexport var refreshHandlers = 'refreshResizeHandlers';\n/** @hidden */\nexport var refreshFrozenColumns = 'refresh-frozen-columns';\n/** @hidden */\nexport var setReorderDestinationElement = 'set-reorder-destination-element';\n/** @hidden */\nexport var refreshVirtualFrozenHeight = 'refresh-virtual-frozen-height';\n/** @hidden */\nexport var setFreezeSelection = 'set-freeze-selection';\n/** @hidden */\nexport var setInfiniteFrozenHeight = 'set-infinite-frozen-height';\n/** @hidden */\nexport var setInfiniteColFrozenHeight = 'set-infinite-col-frozen-height';\n/** @hidden */\nexport var beforeRefreshOnDataChange = 'before-refresh-on-data-change';\n/** @hidden */\nexport var immutableBatchCancel = 'immutable-batch-cancel';\n/** @hidden */\nexport var refreshVirtualFrozenRows = 'refresh-virtual-frozenrows';\n/** @hidden */\nexport var checkScrollReset = 'check-scroll-reset';\n/** @hidden */\nexport var refreshFrozenHeight = 'refresh-frozen-height';\n/** @hidden */\nexport var setHeightToFrozenElement = 'set-height-to-frozen-element';\n/** @hidden */\nexport var preventFrozenScrollRefresh = 'prevent-frozen-scroll-refresh';\n/** @hidden */\nexport var nextCellIndex = 'next-cell-index';\n/** @hidden */\nexport var refreshInfiniteCurrentViewData = 'refresh-infinite-current-view-data';\n/** @hidden */\nexport var infiniteCrudCancel = 'infinite-crud-cancel';\n/** @hidden */\nexport var filterDialogClose = 'filter-dialog-close';\n/** @hidden */\nexport var refreshCustomFilterOkBtn = 'refresh-cutsom-filter-ok-button';\n/** @hidden */\nexport var refreshCustomFilterClearBtn = 'refresh-cutsom-filter-clear-button';\n/** @hidden */\nexport var renderResponsiveCmenu = 'render-responsive-cmenu';\n/** @hidden */\nexport var filterCmenuSelect = 'filter-cmenu-select';\n/** @hidden */\nexport var customFilterClose = 'custom-filter-close';\n/** @hidden */\nexport var setFullScreenDialog = 'set-fullscreen-dialog';\n/** @hidden */\nexport var refreshExpandandCollapse = 'refresh-Expand-and-Collapse';\n/** @hidden */\nexport var rowModeChange = 'row-mode-change';\n/** @hidden */\nexport var enterKeyHandler = 'enter-key-handler';\n/** @hidden */\nexport var refreshVirtualMaxPage = 'refresh-virtual-max-page';\n/** @hidden */\nexport var setVirtualPageQuery = 'set-virtual-page-query';\n/** @hidden */\nexport var selectRowOnContextOpen = 'select-row-on-context-open';\n/** @hidden */\nexport var pagerRefresh = 'pager-refresh';\n/** @hidden */\nexport var closeInline = 'closeinline';\n/** @hidden */\nexport var closeBatch = 'closebatch';\n/** @hidden */\nexport var closeEdit = 'close-edit';\n/** @hidden */\nexport var resetVirtualFocus = 'reset-virtual-focus';\n/** @hidden */\nexport var afterContentRender = 'after-content-renderer';\n/** @hidden */\nexport var refreshVirtualEditFormCells = 'refresh-virtual-editform-cells';\n/** @hidden */\nexport var scrollToEdit = 'scroll-to-edit';\n/** @hidden */\nexport var beforeCheckboxRendererQuery = 'before-checkbox-renderer-query';\n/** @hidden */\nexport var createVirtualValidationForm = 'create-virtual-validation-form';\n/** @hidden */\nexport var validateVirtualForm = 'validate-virtual-form';\n/** @hidden */\nexport var destroyChildGrid = 'destroy-child-grid';\n/** @hidden */\nexport var stickyScrollComplete = 'sticky-scroll-complete';\n/** @hidden */\nexport var captionActionComplete = 'infinite-group-collapse';\n/** @hidden */\nexport var refreshInfinitePersistSelection = 'refresh-infinite-persist-selection';\n/** @hidden */\nexport var refreshInfiniteEditrowindex = 'refresh-infinite-editrowindex';\n/** @hidden */\nexport var afterFilterColumnMenuClose = 'after-filter-column-menu-close';\n","/**\n * Resize library\n */\nimport { isNullOrUndefined as isNOU, createElement, EventHandler, detach, Browser } from '@syncfusion/ej2-base';\n/* eslint-disable */\nvar elementClass = ['north-west', 'north', 'north-east', 'west', 'east', 'south-west', 'south', 'south-east'];\nvar RESIZE_HANDLER = 'e-resize-handle';\nvar FOCUSED_HANDLER = 'e-focused-handle';\nvar DIALOG_RESIZABLE = 'e-dlg-resizable';\nvar RESTRICT_LEFT = ['e-restrict-left'];\nvar RESIZE_WITHIN_VIEWPORT = 'e-resize-viewport';\nvar dialogBorderResize = ['north', 'west', 'east', 'south'];\nvar targetElement;\nvar selectedHandler;\nvar originalWidth = 0;\nvar originalHeight = 0;\nvar originalX = 0;\nvar originalY = 0;\nvar originalMouseX = 0;\nvar originalMouseY = 0;\nvar minHeight;\nvar maxHeight;\nvar minWidth;\nvar maxWidth;\nvar containerElement;\n/* eslint-disable */\nvar resizeStart = null;\nvar resize = null;\nvar resizeEnd = null;\n/* eslint-enable */\nvar resizeWestWidth;\nvar setLeft = true;\nvar previousWidth = 0;\nvar setWidth = true;\n// eslint-disable-next-line\nvar proxy;\n/**\n *\n * @param {ResizeArgs} args - specifies the resize args\n * @returns {void}\n */\nexport function createResize(args) {\n    resizeStart = args.resizeBegin;\n    resize = args.resizing;\n    resizeEnd = args.resizeComplete;\n    targetElement = getDOMElement(args.element);\n    containerElement = getDOMElement(args.boundary);\n    var directions = args.direction.split(' ');\n    for (var i = 0; i < directions.length; i++) {\n        if (dialogBorderResize.indexOf(directions[i]) >= 0 && directions[i]) {\n            setBorderResizeElm(directions[i]);\n        }\n        else if (directions[i].trim() !== '') {\n            var resizeHandler = createElement('div', { className: 'e-icons ' + RESIZE_HANDLER + ' ' + 'e-' + directions[i] });\n            targetElement.appendChild(resizeHandler);\n        }\n    }\n    minHeight = args.minHeight;\n    minWidth = args.minWidth;\n    maxWidth = args.maxWidth;\n    maxHeight = args.maxHeight;\n    if (args.proxy && args.proxy.element && args.proxy.element.classList.contains('e-dialog')) {\n        wireEvents(args.proxy);\n    }\n    else {\n        wireEvents();\n    }\n}\n/**\n *\n * @param {string} direction - specifies the string\n * @returns {void}\n */\nfunction setBorderResizeElm(direction) {\n    calculateValues();\n    var borderBottom = createElement('span', {\n        attrs: {\n            'unselectable': 'on', 'contenteditable': 'false'\n        }\n    });\n    borderBottom.setAttribute('class', 'e-dialog-border-resize e-' + direction);\n    if (direction === 'south') {\n        borderBottom.style.height = '2px';\n        borderBottom.style.width = '100%';\n        borderBottom.style.bottom = '0px';\n        borderBottom.style.left = '0px';\n    }\n    if (direction === 'north') {\n        borderBottom.style.height = '2px';\n        borderBottom.style.width = '100%';\n        borderBottom.style.top = '0px';\n        borderBottom.style.left = '0px';\n    }\n    if (direction === 'east') {\n        borderBottom.style.height = '100%';\n        borderBottom.style.width = '2px';\n        borderBottom.style.right = '0px';\n        borderBottom.style.top = '0px';\n    }\n    if (direction === 'west') {\n        borderBottom.style.height = '100%';\n        borderBottom.style.width = '2px';\n        borderBottom.style.left = '0px';\n        borderBottom.style.top = '0px';\n    }\n    targetElement.appendChild(borderBottom);\n}\n/**\n *\n * @param {string} element - specifies the element\n * @returns {HTMLElement} - returns the element\n */\nfunction getDOMElement(element) {\n    var domElement;\n    if (!isNOU(element)) {\n        if (typeof (element) === 'string') {\n            domElement = document.querySelector(element);\n        }\n        else {\n            domElement = element;\n        }\n    }\n    return domElement;\n}\n// eslint-disable-next-line\nfunction wireEvents(args) {\n    if (isNOU(args)) {\n        args = this;\n    }\n    var resizers = targetElement.querySelectorAll('.' + RESIZE_HANDLER);\n    for (var i = 0; i < resizers.length; i++) {\n        selectedHandler = resizers[i];\n        EventHandler.add(selectedHandler, 'mousedown', onMouseDown, args);\n        var eventName = (Browser.info.name === 'msie') ? 'pointerdown' : 'touchstart';\n        EventHandler.add(selectedHandler, eventName, onTouchStart, args);\n    }\n    var borderResizers = targetElement.querySelectorAll('.e-dialog-border-resize');\n    if (!isNOU(borderResizers)) {\n        for (var i = 0; i < borderResizers.length; i++) {\n            selectedHandler = borderResizers[i];\n            EventHandler.add(selectedHandler, 'mousedown', onMouseDown, args);\n            var eventName = (Browser.info.name === 'msie') ? 'pointerdown' : 'touchstart';\n            EventHandler.add(selectedHandler, eventName, onTouchStart, args);\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n *\n * @param {string} e - specifies the string\n * @returns {string} - returns the string\n */\nfunction getEventType(e) {\n    return (e.indexOf('mouse') > -1) ? 'mouse' : 'touch';\n}\n/* istanbul ignore next */\n/**\n *\n * @param {MouseEvent} e - specifies the mouse event\n * @returns {void}\n */\nfunction onMouseDown(e) {\n    e.preventDefault();\n    targetElement = e.target.parentElement;\n    calculateValues();\n    originalMouseX = e.pageX;\n    originalMouseY = e.pageY;\n    e.target.classList.add(FOCUSED_HANDLER);\n    if (!isNOU(resizeStart)) {\n        proxy = this;\n        if (resizeStart(e, proxy) === true) {\n            return;\n        }\n    }\n    if (this.targetEle && targetElement && targetElement.querySelector('.' + DIALOG_RESIZABLE)) {\n        containerElement = this.target === 'body' || 'document.body' || document.body ? null : this.targetEle;\n        maxWidth = this.targetEle.clientWidth;\n        maxHeight = this.targetEle.clientHeight;\n    }\n    var target = (isNOU(containerElement)) ? document : containerElement;\n    EventHandler.add(target, 'mousemove', onMouseMove, this);\n    EventHandler.add(document, 'mouseup', onMouseUp, this);\n    for (var i = 0; i < RESTRICT_LEFT.length; i++) {\n        if (targetElement.classList.contains(RESTRICT_LEFT[i])) {\n            setLeft = false;\n        }\n        else {\n            setLeft = true;\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n *\n * @param {MouseEvent} e - specifies the event\n * @returns {void}\n */\nfunction onMouseUp(e) {\n    var touchMoveEvent = (Browser.info.name === 'msie') ? 'pointermove' : 'touchmove';\n    var touchEndEvent = (Browser.info.name === 'msie') ? 'pointerup' : 'touchend';\n    var target = (isNOU(containerElement)) ? document : containerElement;\n    var eventName = (Browser.info.name === 'msie') ? 'pointerdown' : 'touchstart';\n    EventHandler.remove(target, 'mousemove', onMouseMove);\n    EventHandler.remove(target, touchMoveEvent, onMouseMove);\n    EventHandler.remove(target, eventName, onMouseMove);\n    if (!isNOU(document.body.querySelector('.' + FOCUSED_HANDLER))) {\n        document.body.querySelector('.' + FOCUSED_HANDLER).classList.remove(FOCUSED_HANDLER);\n    }\n    if (!isNOU(resizeEnd)) {\n        proxy = this;\n        resizeEnd(e, proxy);\n    }\n    EventHandler.remove(document, 'mouseup', onMouseUp);\n    EventHandler.remove(document, touchEndEvent, onMouseUp);\n}\n/* istanbul ignore next */\n/**\n * @returns {void}\n */\nfunction calculateValues() {\n    originalWidth = parseFloat(getComputedStyle(targetElement, null).getPropertyValue('width').replace('px', ''));\n    originalHeight = parseFloat(getComputedStyle(targetElement, null).getPropertyValue('height').replace('px', ''));\n    originalX = targetElement.getBoundingClientRect().left;\n    originalY = targetElement.getBoundingClientRect().top;\n}\n/* istanbul ignore next */\n/**\n *\n * @param {MouseEvent} e - specifies the event\n * @returns {void}\n */\nfunction onTouchStart(e) {\n    targetElement = e.target.parentElement;\n    calculateValues();\n    var coordinates = e.touches ? e.changedTouches[0] : e;\n    originalMouseX = coordinates.pageX;\n    originalMouseY = coordinates.pageY;\n    if (!isNOU(resizeStart)) {\n        proxy = this;\n        if (resizeStart(e, proxy) === true) {\n            return;\n        }\n    }\n    var touchMoveEvent = (Browser.info.name === 'msie') ? 'pointermove' : 'touchmove';\n    var touchEndEvent = (Browser.info.name === 'msie') ? 'pointerup' : 'touchend';\n    var target = (isNOU(containerElement)) ? document : containerElement;\n    EventHandler.add(target, touchMoveEvent, onMouseMove, this);\n    EventHandler.add(document, touchEndEvent, onMouseUp);\n}\n/* istanbul ignore next */\n/**\n *\n * @param {MouseEvent} e - specifies the event\n * @returns {void}\n */\nfunction onMouseMove(e) {\n    if (e.target.classList.contains(RESIZE_HANDLER) && e.target.classList.contains(FOCUSED_HANDLER)) {\n        selectedHandler = e.target;\n    }\n    else if (!isNOU(document.body.querySelector('.' + FOCUSED_HANDLER))) {\n        selectedHandler = document.body.querySelector('.' + FOCUSED_HANDLER);\n    }\n    if (!isNOU(selectedHandler)) {\n        var resizeTowards = '';\n        for (var i = 0; i < elementClass.length; i++) {\n            if (selectedHandler.classList.contains('e-' + elementClass[i])) {\n                resizeTowards = elementClass[i];\n            }\n        }\n        if (!isNOU(resize)) {\n            proxy = this;\n            resize(e, proxy);\n        }\n        switch (resizeTowards) {\n            case 'south':\n                resizeSouth(e);\n                break;\n            case 'north':\n                resizeNorth(e);\n                break;\n            case 'west':\n                resizeWest(e);\n                break;\n            case 'east':\n                resizeEast(e);\n                break;\n            case 'south-east':\n                resizeSouth(e);\n                resizeEast(e);\n                break;\n            case 'south-west':\n                resizeSouth(e);\n                resizeWest(e);\n                break;\n            case 'north-east':\n                resizeNorth(e);\n                resizeEast(e);\n                break;\n            case 'north-west':\n                resizeNorth(e);\n                resizeWest(e);\n                break;\n            default: break;\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n *\n * @param {HTMLElement} element - specifies the eleemnt\n * @returns {ClientRect} - returns the client\n */\nfunction getClientRectValues(element) {\n    return element.getBoundingClientRect();\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\nfunction resizeSouth(e) {\n    var documentHeight = document.documentElement.clientHeight;\n    var calculateValue = false;\n    var coordinates = e.touches ? e.changedTouches[0] : e;\n    var currentpageY = coordinates.pageY;\n    var targetRectValues = getClientRectValues(targetElement);\n    var containerRectValues;\n    if (!isNOU(containerElement)) {\n        containerRectValues = getClientRectValues(containerElement);\n    }\n    if (!isNOU(containerElement)) {\n        calculateValue = true;\n    }\n    else if (isNOU(containerElement) && ((documentHeight - currentpageY) >= 0 || (targetRectValues.top < 0))) {\n        calculateValue = true;\n    }\n    var calculatedHeight = originalHeight + (currentpageY - originalMouseY);\n    calculatedHeight = (calculatedHeight > minHeight) ? calculatedHeight : minHeight;\n    var containerTop = 0;\n    if (!isNOU(containerElement)) {\n        containerTop = containerRectValues.top;\n    }\n    var borderValue = isNOU(containerElement) ? 0 : containerElement.offsetHeight - containerElement.clientHeight;\n    var topWithoutborder = (targetRectValues.top - containerTop) - (borderValue / 2);\n    topWithoutborder = (topWithoutborder < 0) ? 0 : topWithoutborder;\n    if (targetRectValues.top > 0 && (topWithoutborder + calculatedHeight) > maxHeight) {\n        calculateValue = false;\n        if (targetElement.classList.contains(RESIZE_WITHIN_VIEWPORT)) {\n            return;\n        }\n        targetElement.style.height = (maxHeight - parseInt(topWithoutborder.toString(), 10)) + 'px';\n        return;\n    }\n    var targetTop = 0;\n    if (calculateValue) {\n        if (targetRectValues.top < 0 && (documentHeight + (targetRectValues.height + targetRectValues.top) > 0)) {\n            targetTop = targetRectValues.top;\n            if ((calculatedHeight + targetTop) <= 30) {\n                calculatedHeight = (targetRectValues.height - (targetRectValues.height + targetRectValues.top)) + 30;\n            }\n        }\n        if (((calculatedHeight + targetRectValues.top) >= maxHeight)) {\n            targetElement.style.height = targetRectValues.height +\n                (documentHeight - (targetRectValues.height + targetRectValues.top)) + 'px';\n        }\n        var calculatedTop = (isNOU(containerElement)) ? targetTop : topWithoutborder;\n        if (calculatedHeight >= minHeight && ((calculatedHeight + calculatedTop) <= maxHeight)) {\n            targetElement.style.height = calculatedHeight + 'px';\n        }\n    }\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\nfunction resizeNorth(e) {\n    var calculateValue = false;\n    var boundaryRectValues;\n    var pageY = (getEventType(e.type) === 'mouse') ? e.pageY : e.touches[0].pageY;\n    var targetRectValues = getClientRectValues(targetElement);\n    if (!isNOU(containerElement)) {\n        boundaryRectValues = getClientRectValues(containerElement);\n    }\n    if (!isNOU(containerElement) && (targetRectValues.top - boundaryRectValues.top) > 0) {\n        calculateValue = true;\n    }\n    else if (isNOU(containerElement) && pageY > 0) {\n        calculateValue = true;\n    }\n    var currentHeight = originalHeight - (pageY - originalMouseY);\n    if (calculateValue) {\n        if (currentHeight >= minHeight && currentHeight <= maxHeight) {\n            var containerTop = 0;\n            if (!isNOU(containerElement)) {\n                containerTop = boundaryRectValues.top;\n            }\n            var top_1 = (originalY - containerTop) + (pageY - originalMouseY);\n            top_1 = top_1 > 0 ? top_1 : 1;\n            targetElement.style.height = currentHeight + 'px';\n            targetElement.style.top = top_1 + 'px';\n        }\n    }\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\nfunction resizeWest(e) {\n    var documentWidth = document.documentElement.clientWidth;\n    var calculateValue = false;\n    var rectValues;\n    if (!isNOU(containerElement)) {\n        rectValues = getClientRectValues(containerElement);\n    }\n    var pageX = (getEventType(e.type) === 'mouse') ? e.pageX : e.touches[0].pageX;\n    var targetRectValues = getClientRectValues(targetElement);\n    var borderValue = isNOU(containerElement) ? 0 : containerElement.offsetWidth - containerElement.clientWidth;\n    /* eslint-disable */\n    var left = isNOU(containerElement) ? 0 : rectValues.left;\n    var containerWidth = isNOU(containerElement) ? 0 : rectValues.width;\n    /* eslint-enable */\n    if (isNOU(resizeWestWidth)) {\n        if (!isNOU(containerElement)) {\n            resizeWestWidth = (((targetRectValues.left - left) - borderValue / 2)) + targetRectValues.width;\n            resizeWestWidth = resizeWestWidth + (containerWidth - borderValue - resizeWestWidth);\n        }\n        else {\n            resizeWestWidth = documentWidth;\n        }\n    }\n    if (!isNOU(containerElement) &&\n        (Math.floor((targetRectValues.left - rectValues.left) + targetRectValues.width +\n            (rectValues.right - targetRectValues.right)) - borderValue) <= maxWidth) {\n        calculateValue = true;\n    }\n    else if (isNOU(containerElement) && pageX >= 0) {\n        calculateValue = true;\n    }\n    var calculatedWidth = originalWidth - (pageX - originalMouseX);\n    if (setLeft) {\n        calculatedWidth = (calculatedWidth > resizeWestWidth) ? resizeWestWidth : calculatedWidth;\n    }\n    if (calculateValue) {\n        if (calculatedWidth >= minWidth && calculatedWidth <= maxWidth) {\n            var containerLeft = 0;\n            if (!isNOU(containerElement)) {\n                containerLeft = rectValues.left;\n            }\n            var left_1 = (originalX - containerLeft) + (pageX - originalMouseX);\n            left_1 = (left_1 > 0) ? left_1 : 1;\n            if (calculatedWidth !== previousWidth && setWidth) {\n                targetElement.style.width = calculatedWidth + 'px';\n            }\n            if (setLeft) {\n                targetElement.style.left = left_1 + 'px';\n                if (left_1 === 1) {\n                    setWidth = false;\n                }\n                else {\n                    setWidth = true;\n                }\n            }\n        }\n    }\n    previousWidth = calculatedWidth;\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\nfunction resizeEast(e) {\n    var documentWidth = document.documentElement.clientWidth;\n    var calculateValue = false;\n    var containerRectValues;\n    if (!isNOU(containerElement)) {\n        containerRectValues = getClientRectValues(containerElement);\n    }\n    var coordinates = e.touches ? e.changedTouches[0] : e;\n    var pageX = coordinates.pageX;\n    var targetRectValues = getClientRectValues(targetElement);\n    if (!isNOU(containerElement) && (((targetRectValues.left - containerRectValues.left) + targetRectValues.width) <= maxWidth\n        || (targetRectValues.right - containerRectValues.left) >= targetRectValues.width)) {\n        calculateValue = true;\n    }\n    else if (isNOU(containerElement) && (documentWidth - pageX) > 0) {\n        calculateValue = true;\n    }\n    var calculatedWidth = originalWidth + (pageX - originalMouseX);\n    var containerLeft = 0;\n    if (!isNOU(containerElement)) {\n        containerLeft = containerRectValues.left;\n    }\n    if (((targetRectValues.left - containerLeft) + calculatedWidth) > maxWidth) {\n        calculateValue = false;\n        if (targetElement.classList.contains(RESIZE_WITHIN_VIEWPORT)) {\n            return;\n        }\n        targetElement.style.width = maxWidth - (targetRectValues.left - containerLeft) + 'px';\n    }\n    if (calculateValue) {\n        if (calculatedWidth >= minWidth && calculatedWidth <= maxWidth) {\n            targetElement.style.width = calculatedWidth + 'px';\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n *\n * @param {number} minimumHeight - specifies the number\n * @returns {void}\n */\nexport function setMinHeight(minimumHeight) {\n    minHeight = minimumHeight;\n}\n/**\n *\n * @param {number} value - specifies the number value\n * @returns {void}\n */\nexport function setMaxWidth(value) {\n    maxWidth = value;\n}\n/**\n *\n * @param {number} value - specifies the number value\n * @returns {void}\n */\nexport function setMaxHeight(value) {\n    maxHeight = value;\n}\n/**\n * @returns {void}\n */\nexport function removeResize() {\n    var handlers = targetElement.querySelectorAll('.' + RESIZE_HANDLER);\n    for (var i = 0; i < handlers.length; i++) {\n        detach(handlers[i]);\n    }\n    var borderResizers = targetElement.querySelectorAll('.e-dialog-border-resize');\n    if (!isNOU(borderResizers)) {\n        for (var i = 0; i < borderResizers.length; i++) {\n            detach(borderResizers[i]);\n        }\n    }\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, Collection, L10n, Complex, compile, createElement } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, detach, attributes, prepend, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, isBlazor } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, append, EventHandler, Draggable, extend } from '@syncfusion/ej2-base';\nimport { SanitizeHtmlHelper, Browser } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { Popup, PositionData, getZindexPartial } from '../popup/popup';\nimport { createResize, removeResize, setMinHeight, setMaxWidth, setMaxHeight } from '../common/resize';\nvar ButtonProps = /** @class */ (function (_super) {\n    __extends(ButtonProps, _super);\n    function ButtonProps() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], ButtonProps.prototype, \"isFlat\", void 0);\n    __decorate([\n        Property()\n    ], ButtonProps.prototype, \"buttonModel\", void 0);\n    __decorate([\n        Property('Button')\n    ], ButtonProps.prototype, \"type\", void 0);\n    __decorate([\n        Event()\n    ], ButtonProps.prototype, \"click\", void 0);\n    return ButtonProps;\n}(ChildProperty));\nexport { ButtonProps };\n/**\n * Configures the animation properties for both open and close the dialog.\n */\nvar AnimationSettings = /** @class */ (function (_super) {\n    __extends(AnimationSettings, _super);\n    function AnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Fade')\n    ], AnimationSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], AnimationSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property(0)\n    ], AnimationSettings.prototype, \"delay\", void 0);\n    return AnimationSettings;\n}(ChildProperty));\nexport { AnimationSettings };\nvar ROOT = 'e-dialog';\nvar RTL = 'e-rtl';\nvar DLG_HEADER_CONTENT = 'e-dlg-header-content';\nvar DLG_HEADER = 'e-dlg-header';\nvar DLG_FOOTER_CONTENT = 'e-footer-content';\nvar MODAL_DLG = 'e-dlg-modal';\nvar DLG_CONTENT = 'e-dlg-content';\nvar DLG_CLOSE_ICON = 'e-icon-dlg-close';\nvar DLG_OVERLAY = 'e-dlg-overlay';\nvar DLG_TARGET = 'e-dlg-target';\nvar DLG_CONTAINER = 'e-dlg-container';\nvar SCROLL_DISABLED = 'e-scroll-disabled';\nvar DLG_PRIMARY_BUTTON = 'e-primary';\nvar ICON = 'e-icons';\nvar POPUP_ROOT = 'e-popup';\nvar DEVICE = 'e-device';\nvar FULLSCREEN = 'e-dlg-fullscreen';\nvar DLG_CLOSE_ICON_BTN = 'e-dlg-closeicon-btn';\nvar DLG_HIDE = 'e-popup-close';\nvar DLG_SHOW = 'e-popup-open';\nvar DLG_UTIL_DEFAULT_TITLE = 'Information';\nvar DLG_UTIL_ROOT = 'e-scroll-disabled';\nvar DLG_UTIL_ALERT = 'e-alert-dialog';\nvar DLG_UTIL_CONFIRM = 'e-confirm-dialog';\nvar DLG_RESIZABLE = 'e-dlg-resizable';\nvar DLG_RESTRICT_LEFT_VALUE = 'e-restrict-left';\nvar DLG_RESTRICT_WIDTH_VALUE = 'e-resize-viewport';\nvar DLG_REF_ELEMENT = 'e-dlg-ref-element';\nvar DLG_USER_ACTION_CLOSED = 'user action';\nvar DLG_CLOSE_ICON_CLOSED = 'close icon';\nvar DLG_ESCAPE_CLOSED = 'escape';\nvar DLG_OVERLAYCLICK_CLOSED = 'overlayClick';\n/**\n * Represents the dialog component that displays the information and get input from the user.\n * Two types of dialog components are `Modal and Modeless (non-modal)` depending on its interaction with parent application.\n * ```html\n * <div id=\"dialog\"></div>\n * ```\n * ```typescript\n * <script>\n *   var dialogObj = new Dialog({ header: 'Dialog' });\n *   dialogObj.appendTo(\"#dialog\");\n * </script>\n * ```\n */\nvar Dialog = /** @class */ (function (_super) {\n    __extends(Dialog, _super);\n    /*\n     * * Constructor for creating the widget\n     *\n     * @param\n     * @param\n     * @hidden\n     */\n    function Dialog(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n        return _this;\n    }\n    /**\n     *Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.render = function () {\n        this.initialize();\n        this.initRender();\n        this.wireEvents();\n        if (this.width === '100%') {\n            this.element.style.width = '';\n        }\n        if (this.minHeight !== '') {\n            this.element.style.minHeight = formatUnit(this.minHeight);\n        }\n        if (this.enableResize) {\n            this.setResize();\n            if (this.animationSettings.effect === 'None') {\n                this.getMinHeight();\n            }\n        }\n        this.renderComplete();\n    };\n    /**\n     *Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.preRender = function () {\n        var _this = this;\n        this.headerContent = null;\n        this.allowMaxHeight = true;\n        this.preventVisibility = true;\n        this.clonedEle = this.element.cloneNode(true);\n        this.closeIconClickEventHandler = function (event) {\n            _this.dlgClosedBy = DLG_CLOSE_ICON_CLOSED;\n            _this.hide(event);\n        };\n        // eslint-disable-next-line\n        this.dlgOverlayClickEventHandler = function (event) {\n            _this.dlgClosedBy = DLG_OVERLAYCLICK_CLOSED;\n            event.preventFocus = false;\n            _this.trigger('overlayClick', event, function (overlayClickEventArgs) {\n                if (!overlayClickEventArgs.preventFocus) {\n                    _this.focusContent();\n                }\n                _this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n            });\n        };\n        // eslint-disable-next-line\n        var localeText = { close: 'Close' };\n        this.l10n = new L10n('dialog', localeText, this.locale);\n        this.checkPositionData();\n        if (isNullOrUndefined(this.target)) {\n            var prevOnChange = this.isProtectedOnChange;\n            this.isProtectedOnChange = true;\n            this.target = document.body;\n            this.isProtectedOnChange = prevOnChange;\n        }\n    };\n    Dialog.prototype.isNumberValue = function (value) {\n        var isNumber = /^[-+]?\\d*\\.?\\d+$/.test(value);\n        return isNumber;\n    };\n    Dialog.prototype.checkPositionData = function () {\n        if (!isNullOrUndefined(this.position)) {\n            if (!isNullOrUndefined(this.position.X) && (typeof (this.position.X) !== 'number')) {\n                var isNumber = this.isNumberValue(this.position.X);\n                if (isNumber) {\n                    var prevOnChange = this.isProtectedOnChange;\n                    this.isProtectedOnChange = true;\n                    this.position.X = parseFloat(this.position.X);\n                    this.isProtectedOnChange = prevOnChange;\n                }\n            }\n            if (!isNullOrUndefined(this.position.Y) && (typeof (this.position.Y) !== 'number')) {\n                var isNumber = this.isNumberValue(this.position.Y);\n                if (isNumber) {\n                    var prevOnChange = this.isProtectedOnChange;\n                    this.isProtectedOnChange = true;\n                    this.position.Y = parseFloat(this.position.Y);\n                    this.isProtectedOnChange = prevOnChange;\n                }\n            }\n        }\n    };\n    Dialog.prototype.getEle = function (list, selector) {\n        var element = undefined;\n        for (var i = 0; i < list.length; i++) {\n            if (list[i].classList.contains(selector)) {\n                element = list[i];\n                break;\n            }\n        }\n        return element;\n    };\n    /* istanbul ignore next */\n    Dialog.prototype.getMinHeight = function () {\n        var computedHeaderHeight = '0px';\n        var computedFooterHeight = '0px';\n        if (!isNullOrUndefined(this.element.querySelector('.' + DLG_HEADER_CONTENT))) {\n            computedHeaderHeight = getComputedStyle(this.headerContent).height;\n        }\n        var footerEle = this.getEle(this.element.children, DLG_FOOTER_CONTENT);\n        if (!isNullOrUndefined(footerEle)) {\n            computedFooterHeight = getComputedStyle(footerEle).height;\n        }\n        var headerHeight = parseInt(computedHeaderHeight.slice(0, computedHeaderHeight.indexOf('p')), 10);\n        var footerHeight = parseInt(computedFooterHeight.slice(0, computedFooterHeight.indexOf('p')), 10);\n        setMinHeight(headerHeight + 30 + (isNaN(footerHeight) ? 0 : footerHeight));\n        return (headerHeight + 30 + footerHeight);\n    };\n    Dialog.prototype.onResizeStart = function (args, dialogObj) {\n        dialogObj.trigger('resizeStart', args);\n        return args.cancel;\n    };\n    Dialog.prototype.onResizing = function (args, dialogObj) {\n        dialogObj.trigger('resizing', args);\n    };\n    Dialog.prototype.onResizeComplete = function (args, dialogObj) {\n        dialogObj.trigger('resizeStop', args);\n    };\n    Dialog.prototype.setResize = function () {\n        if (this.enableResize) {\n            if (this.isBlazorServerRender() && !isNullOrUndefined(this.element.querySelector('.e-icons.e-resize-handle'))) {\n                return;\n            }\n            this.element.classList.add(DLG_RESIZABLE);\n            var computedHeight = getComputedStyle(this.element).minHeight;\n            var computedWidth = getComputedStyle(this.element).minWidth;\n            var direction = '';\n            for (var i = 0; i < this.resizeHandles.length; i++) {\n                if (this.resizeHandles[i] === 'All') {\n                    direction = 'south north east west north-east north-west south-east south-west';\n                    break;\n                }\n                else {\n                    var directionValue = '';\n                    switch (this.resizeHandles[i].toString()) {\n                        case 'SouthEast':\n                            directionValue = 'south-east';\n                            break;\n                        case 'SouthWest':\n                            directionValue = 'south-west';\n                            break;\n                        case 'NorthEast':\n                            directionValue = 'north-east';\n                            break;\n                        case 'NorthWest':\n                            directionValue = 'north-west';\n                            break;\n                        default:\n                            directionValue = this.resizeHandles[i].toString();\n                            break;\n                    }\n                    direction += directionValue.toLocaleLowerCase() + ' ';\n                }\n            }\n            if (this.enableRtl && direction.trim() === 'south-east') {\n                direction = 'south-west';\n            }\n            else if (this.enableRtl && direction.trim() === 'south-west') {\n                direction = 'south-east';\n            }\n            if (this.isModal && this.enableRtl) {\n                this.element.classList.add(DLG_RESTRICT_LEFT_VALUE);\n            }\n            else if (this.isModal && this.target === document.body) {\n                this.element.classList.add(DLG_RESTRICT_WIDTH_VALUE);\n            }\n            createResize({\n                element: this.element,\n                direction: direction,\n                minHeight: parseInt(computedHeight.slice(0, computedWidth.indexOf('p')), 10),\n                maxHeight: this.targetEle.clientHeight,\n                minWidth: parseInt(computedWidth.slice(0, computedWidth.indexOf('p')), 10),\n                maxWidth: this.targetEle.clientWidth,\n                boundary: this.target === document.body ? null : this.targetEle,\n                resizeBegin: this.onResizeStart.bind(this),\n                resizeComplete: this.onResizeComplete.bind(this),\n                resizing: this.onResizing.bind(this),\n                proxy: this\n            });\n            this.wireWindowResizeEvent();\n        }\n        else {\n            removeResize();\n            this.unWireWindowResizeEvent();\n            if (this.isModal) {\n                this.element.classList.remove(DLG_RESTRICT_LEFT_VALUE);\n            }\n            else {\n                this.element.classList.remove(DLG_RESTRICT_WIDTH_VALUE);\n            }\n            this.element.classList.remove(DLG_RESIZABLE);\n        }\n    };\n    Dialog.prototype.getFocusElement = function (target) {\n        var value = 'input,select,textarea,button:enabled,a,[contenteditable=\"true\"],[tabindex]';\n        var items = target.querySelectorAll(value);\n        return { element: items[items.length - 1] };\n    };\n    /* istanbul ignore next */\n    Dialog.prototype.keyDown = function (event) {\n        var _this = this;\n        if (event.keyCode === 9) {\n            if (this.isModal) {\n                var buttonObj = void 0;\n                if (!isNullOrUndefined(this.btnObj)) {\n                    buttonObj = this.btnObj[this.btnObj.length - 1];\n                }\n                if ((isNullOrUndefined(this.btnObj)) && (!isNullOrUndefined(this.ftrTemplateContent))) {\n                    buttonObj = this.getFocusElement(this.ftrTemplateContent);\n                }\n                if (isNullOrUndefined(this.btnObj) && isNullOrUndefined(this.ftrTemplateContent) && !isNullOrUndefined(this.contentEle)) {\n                    buttonObj = this.getFocusElement(this.contentEle);\n                }\n                if (!isNullOrUndefined(buttonObj) && document.activeElement === buttonObj.element && !event.shiftKey) {\n                    event.preventDefault();\n                    this.focusableElements(this.element).focus();\n                }\n                if (document.activeElement === this.focusableElements(this.element) && event.shiftKey) {\n                    event.preventDefault();\n                    if (!isNullOrUndefined(buttonObj)) {\n                        buttonObj.element.focus();\n                    }\n                }\n            }\n        }\n        var element = document.activeElement;\n        var isTagName = (['input', 'textarea'].indexOf(element.tagName.toLowerCase()) > -1);\n        var isContentEdit = false;\n        if (!isTagName) {\n            isContentEdit = element.hasAttribute('contenteditable') && element.getAttribute('contenteditable') === 'true';\n        }\n        if (event.keyCode === 27 && this.closeOnEscape) {\n            this.dlgClosedBy = DLG_ESCAPE_CLOSED;\n            // 'document.querySelector' is used to find the elements rendered based on body\n            if (!document.querySelector('.e-popup-open:not(.e-dialog)')) {\n                this.hide(event);\n            }\n        }\n        if ((event.keyCode === 13 && !event.ctrlKey && element.tagName.toLowerCase() !== 'textarea' &&\n            isTagName && !isNullOrUndefined(this.primaryButtonEle)) ||\n            (event.keyCode === 13 && event.ctrlKey && (element.tagName.toLowerCase() === 'textarea' ||\n                isContentEdit)) && !isNullOrUndefined(this.primaryButtonEle)) {\n            var buttonIndex_1;\n            // eslint-disable-next-line\n            var firstPrimary = this.buttons.some(function (data, index) {\n                buttonIndex_1 = index;\n                // eslint-disable-next-line\n                var buttonModel = data.buttonModel;\n                return !isNullOrUndefined(buttonModel) && buttonModel.isPrimary === true;\n            });\n            if (firstPrimary && typeof (this.buttons[buttonIndex_1].click) === 'function') {\n                setTimeout(function () {\n                    _this.buttons[buttonIndex_1].click.call(_this, event);\n                });\n            }\n        }\n    };\n    /**\n     * Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.initialize = function () {\n        if (!isNullOrUndefined(this.target)) {\n            this.targetEle = ((typeof this.target) === 'string') ?\n                document.querySelector(this.target) : this.target;\n        }\n        if (!this.isBlazorServerRender()) {\n            addClass([this.element], ROOT);\n        }\n        if (Browser.isDevice) {\n            addClass([this.element], DEVICE);\n        }\n        if (!this.isBlazorServerRender()) {\n            this.setCSSClass();\n        }\n        this.setMaxHeight();\n    };\n    /**\n     * Initialize the rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.initRender = function () {\n        var _this = this;\n        this.initialRender = true;\n        if (!this.isBlazorServerRender()) {\n            attributes(this.element, { role: 'dialog' });\n        }\n        if (this.zIndex === 1000) {\n            this.setzIndex(this.element, false);\n            this.calculatezIndex = true;\n        }\n        else {\n            this.calculatezIndex = false;\n        }\n        if (this.isBlazorServerRender() && isNullOrUndefined(this.headerContent)) {\n            this.headerContent = this.element.getElementsByClassName('e-dlg-header-content')[0];\n        }\n        if (this.isBlazorServerRender() && isNullOrUndefined(this.contentEle)) {\n            this.contentEle = this.element.querySelector('#' + this.element.id + '_dialog-content');\n        }\n        if (!this.isBlazorServerRender()) {\n            this.setTargetContent();\n            if (this.header !== '' && !isNullOrUndefined(this.header)) {\n                this.setHeader();\n            }\n            this.renderCloseIcon();\n            this.setContent();\n            if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n                this.setFooterTemplate();\n            }\n            else if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n                this.setButton();\n            }\n        }\n        if (this.isBlazorServerRender()) {\n            if (!isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n                this.setButton();\n            }\n        }\n        if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n            this.setAllowDragging();\n        }\n        if (!this.isBlazorServerRender()) {\n            attributes(this.element, { 'aria-modal': (this.isModal ? 'true' : 'false') });\n            if (this.isModal) {\n                this.setIsModal();\n            }\n        }\n        if (this.isBlazorServerRender() && isNullOrUndefined(this.dlgContainer)) {\n            this.dlgContainer = this.element.parentElement;\n            for (var i = 0, childNodes = this.dlgContainer.children; i < childNodes.length; i++) {\n                if (childNodes[i].classList.contains('e-dlg-overlay')) {\n                    this.dlgOverlay = childNodes[i];\n                }\n            }\n        }\n        if (this.element.classList.contains(DLG_UTIL_ALERT) !== true && this.element.classList.contains(DLG_UTIL_CONFIRM) !== true\n            && !isNullOrUndefined(this.element.parentElement)) {\n            var parentEle = this.isModal ? this.dlgContainer.parentElement : this.element.parentElement;\n            this.refElement = this.createElement('div', { className: DLG_REF_ELEMENT });\n            parentEle.insertBefore(this.refElement, (this.isModal ? this.dlgContainer : this.element));\n        }\n        if (!isNullOrUndefined(this.targetEle)) {\n            // eslint-disable-next-line\n            this.isModal ? this.targetEle.appendChild(this.dlgContainer) : this.targetEle.appendChild(this.element);\n        }\n        this.popupObj = new Popup(this.element, {\n            height: this.height,\n            width: this.width,\n            zIndex: this.zIndex,\n            relateTo: this.target,\n            actionOnScroll: 'none',\n            enableRtl: this.enableRtl,\n            // eslint-disable-next-line\n            open: function (event) {\n                // eslint-disable-next-line\n                var eventArgs = {\n                    container: _this.isModal ? _this.dlgContainer : _this.element,\n                    element: _this.element,\n                    target: _this.target,\n                    preventFocus: false\n                };\n                if (_this.enableResize) {\n                    _this.resetResizeIcon();\n                }\n                // eslint-disable-next-line\n                _this.trigger('open', eventArgs, function (openEventArgs) {\n                    if (!openEventArgs.preventFocus) {\n                        _this.focusContent();\n                    }\n                });\n            },\n            // eslint-disable-next-line\n            close: function (event) {\n                if (_this.isModal) {\n                    addClass([_this.dlgOverlay], 'e-fade');\n                }\n                _this.unBindEvent(_this.element);\n                if (_this.isModal) {\n                    _this.dlgContainer.style.display = 'none';\n                }\n                _this.trigger('close', _this.closeArgs);\n                var activeEle = document.activeElement;\n                if (!isNullOrUndefined(activeEle) && !isNullOrUndefined((activeEle).blur)) {\n                    activeEle.blur();\n                }\n                if (!isNullOrUndefined(_this.storeActiveElement) && !isNullOrUndefined(_this.storeActiveElement.focus)) {\n                    _this.storeActiveElement.focus();\n                }\n            }\n        });\n        this.positionChange();\n        this.setEnableRTL();\n        if (!this.isBlazorServerRender()) {\n            addClass([this.element], DLG_HIDE);\n            if (this.isModal) {\n                this.setOverlayZindex();\n            }\n        }\n        if (this.visible) {\n            this.show();\n        }\n        else {\n            if (this.isModal) {\n                this.dlgOverlay.style.display = 'none';\n            }\n        }\n        this.initialRender = false;\n    };\n    Dialog.prototype.resetResizeIcon = function () {\n        var dialogConHeight = this.getMinHeight();\n        if (this.targetEle.offsetHeight < dialogConHeight) {\n            var className = this.enableRtl ? 'e-south-west' : 'e-south-east';\n            var resizeIcon = this.element.querySelector('.' + className);\n            if (!isNullOrUndefined(resizeIcon)) {\n                resizeIcon.style.bottom = '-' + dialogConHeight.toString() + 'px';\n            }\n        }\n    };\n    Dialog.prototype.setOverlayZindex = function (zIndexValue) {\n        var zIndex;\n        if (isNullOrUndefined(zIndexValue)) {\n            zIndex = parseInt(this.element.style.zIndex, 10) ? parseInt(this.element.style.zIndex, 10) : this.zIndex;\n        }\n        else {\n            zIndex = zIndexValue;\n        }\n        this.dlgOverlay.style.zIndex = (zIndex - 1).toString();\n        this.dlgContainer.style.zIndex = zIndex.toString();\n    };\n    Dialog.prototype.positionChange = function () {\n        if (this.isModal) {\n            if (!isNaN(parseFloat(this.position.X)) && !isNaN(parseFloat(this.position.Y))) {\n                this.setPopupPosition();\n            }\n            else if ((!isNaN(parseFloat(this.position.X)) && isNaN(parseFloat(this.position.Y)))\n                || (isNaN(parseFloat(this.position.X)) && !isNaN(parseFloat(this.position.Y)))) {\n                this.setPopupPosition();\n            }\n            else {\n                this.element.style.top = '0px';\n                this.element.style.left = '0px';\n                this.dlgContainer.classList.add('e-dlg-' + this.position.X + '-' + this.position.Y);\n            }\n        }\n        else {\n            this.setPopupPosition();\n        }\n    };\n    Dialog.prototype.setPopupPosition = function () {\n        this.popupObj.setProperties({\n            position: {\n                X: this.position.X, Y: this.position.Y\n            }\n        });\n    };\n    Dialog.prototype.setAllowDragging = function () {\n        var _this = this;\n        var handleContent = '.' + DLG_HEADER_CONTENT;\n        this.dragObj = new Draggable(this.element, {\n            clone: false,\n            isDragScroll: true,\n            abort: '.e-dlg-closeicon-btn',\n            handle: handleContent,\n            // eslint-disable-next-line\n            dragStart: function (event) {\n                // eslint-disable-next-line\n                _this.trigger('dragStart', event, function (dragEventArgs) {\n                    if (isBlazor()) {\n                        dragEventArgs.bindEvents(event.dragElement);\n                    }\n                });\n            },\n            // eslint-disable-next-line\n            dragStop: function (event) {\n                if (_this.isModal) {\n                    if (!isNullOrUndefined(_this.position)) {\n                        _this.dlgContainer.classList.remove('e-dlg-' + _this.position.X + '-' + _this.position.Y);\n                    }\n                    // Reset the dialog position after drag completion.\n                    _this.element.style.position = 'relative';\n                }\n                _this.trigger('dragStop', event);\n                _this.element.classList.remove(DLG_RESTRICT_LEFT_VALUE);\n            },\n            // eslint-disable-next-line\n            drag: function (event) {\n                _this.trigger('drag', event);\n            }\n        });\n        if (!isNullOrUndefined(this.targetEle)) {\n            this.dragObj.dragArea = this.targetEle;\n        }\n    };\n    Dialog.prototype.setButton = function () {\n        if (!this.isBlazorServerRender()) {\n            this.buttonContent = [];\n            this.btnObj = [];\n            // eslint-disable-next-line\n            var primaryBtnFlag = true;\n            for (var i = 0; i < this.buttons.length; i++) {\n                var buttonType = !isNullOrUndefined(this.buttons[i].type) ? this.buttons[i].type.toLowerCase() : 'button';\n                var btn = this.createElement('button', { attrs: { type: buttonType } });\n                this.buttonContent.push(btn.outerHTML);\n            }\n            this.setFooterTemplate();\n        }\n        var footerBtn;\n        for (var i = 0, childNodes = this.element.children; i < childNodes.length; i++) {\n            if (childNodes[i].classList.contains(DLG_FOOTER_CONTENT)) {\n                footerBtn = childNodes[i].querySelectorAll('button');\n            }\n        }\n        for (var i = 0; i < this.buttons.length; i++) {\n            if (!this.isBlazorServerRender()) {\n                this.btnObj[i] = new Button(this.buttons[i].buttonModel);\n            }\n            if (this.isBlazorServerRender()) {\n                this.ftrTemplateContent = this.element.querySelector('.' + DLG_FOOTER_CONTENT);\n            }\n            if (!isNullOrUndefined(this.ftrTemplateContent) && footerBtn.length > 0) {\n                if (typeof (this.buttons[i].click) === 'function') {\n                    EventHandler.add(footerBtn[i], 'click', this.buttons[i].click, this);\n                }\n                if (typeof (this.buttons[i].click) === 'object') {\n                    EventHandler.add(footerBtn[i], 'click', this.buttonClickHandler.bind(this, i), this);\n                }\n            }\n            if (!this.isBlazorServerRender() && !isNullOrUndefined(this.ftrTemplateContent)) {\n                this.btnObj[i].appendTo(this.ftrTemplateContent.children[i]);\n                if (this.buttons[i].isFlat) {\n                    this.btnObj[i].element.classList.add('e-flat');\n                }\n                this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n            }\n        }\n    };\n    Dialog.prototype.buttonClickHandler = function (index) {\n        this.trigger('buttons[' + index + '].click', {});\n    };\n    ;\n    Dialog.prototype.setContent = function () {\n        attributes(this.element, { 'aria-describedby': this.element.id + '_dialog-content' });\n        this.contentEle = this.createElement('div', { className: DLG_CONTENT, id: this.element.id + '_dialog-content' });\n        if (this.innerContentElement) {\n            this.contentEle.appendChild(this.innerContentElement);\n        }\n        else if (!isNullOrUndefined(this.content) && this.content !== '' || !this.initialRender) {\n            // eslint-disable-next-line\n            var blazorContain = Object.keys(window);\n            if (typeof (this.content) === 'string' && !isBlazor()) {\n                this.setTemplate(this.content, this.contentEle, 'content');\n            }\n            else if (this.content instanceof HTMLElement) {\n                this.contentEle.appendChild(this.content);\n            }\n            else {\n                this.setTemplate(this.content, this.contentEle, 'content');\n            }\n        }\n        if (!isNullOrUndefined(this.headerContent)) {\n            this.element.insertBefore(this.contentEle, this.element.children[1]);\n        }\n        else {\n            this.element.insertBefore(this.contentEle, this.element.children[0]);\n        }\n        if (this.height === 'auto') {\n            if (!this.isBlazorServerRender() && Browser.isIE && this.element.style.width === '' && !isNullOrUndefined(this.width)) {\n                this.element.style.width = formatUnit(this.width);\n            }\n            this.setMaxHeight();\n        }\n    };\n    Dialog.prototype.setTemplate = function (template, toElement, prop) {\n        // eslint-disable-next-line\n        var templateFn;\n        var templateProps;\n        // eslint-disable-next-line\n        var blazorContain = Object.keys(window);\n        if (toElement.classList.contains(DLG_HEADER)) {\n            templateProps = this.element.id + 'header';\n        }\n        else if (toElement.classList.contains(DLG_FOOTER_CONTENT)) {\n            templateProps = this.element.id + 'footerTemplate';\n        }\n        else {\n            templateProps = this.element.id + 'content';\n        }\n        var templateValue;\n        if (!isNullOrUndefined(template.outerHTML)) {\n            toElement.appendChild(template);\n        }\n        else if ((typeof template === 'string') || (typeof template !== 'string') || (isBlazor() && !this.isStringTemplate)) {\n            if ((typeof template === 'string')) {\n                template = this.sanitizeHelper(template);\n            }\n            templateFn = compile(template);\n            templateValue = template;\n        }\n        var fromElements = [];\n        if (!isNullOrUndefined(templateFn)) {\n            var isString = (isBlazor() &&\n                !this.isStringTemplate && (templateValue).indexOf('<div>Blazor') === 0) ?\n                this.isStringTemplate : true;\n            for (var _i = 0, _a = templateFn({}, this, prop, templateProps, isString); _i < _a.length; _i++) {\n                var item = _a[_i];\n                fromElements.push(item);\n            }\n            append([].slice.call(fromElements), toElement);\n        }\n    };\n    /*\n     * @returns {void}\n     * @hidden\n     * @value\n     */\n    Dialog.prototype.sanitizeHelper = function (value) {\n        if (this.enableHtmlSanitizer) {\n            var dialogItem = SanitizeHtmlHelper.beforeSanitize();\n            var beforeEvent = {\n                cancel: false,\n                helper: null\n            };\n            extend(dialogItem, dialogItem, beforeEvent);\n            this.trigger('beforeSanitizeHtml', dialogItem);\n            if (dialogItem.cancel && !isNullOrUndefined(dialogItem.helper)) {\n                value = dialogItem.helper(value);\n            }\n            else if (!dialogItem.cancel) {\n                value = SanitizeHtmlHelper.serializeValue(dialogItem, value);\n            }\n        }\n        return value;\n    };\n    Dialog.prototype.setMaxHeight = function () {\n        if (!this.allowMaxHeight) {\n            return;\n        }\n        var display = this.element.style.display;\n        this.element.style.display = 'none';\n        this.element.style.maxHeight = (!isNullOrUndefined(this.target)) && (this.targetEle.offsetHeight < window.innerHeight) ?\n            (this.targetEle.offsetHeight - 20) + 'px' : (window.innerHeight - 20) + 'px';\n        this.element.style.display = display;\n        if (Browser.isIE && this.height === 'auto' && !isNullOrUndefined(this.contentEle)\n            && this.element.offsetHeight < this.contentEle.offsetHeight) {\n            this.element.style.height = 'inherit';\n        }\n    };\n    Dialog.prototype.setEnableRTL = function () {\n        if (!this.isBlazorServerRender()) {\n            // eslint-disable-next-line\n            this.enableRtl ? addClass([this.element], RTL) : removeClass([this.element], RTL);\n        }\n        if (!isNullOrUndefined(this.element.querySelector('.e-resize-handle'))) {\n            removeResize();\n            this.setResize();\n        }\n    };\n    Dialog.prototype.setTargetContent = function () {\n        var _this = this;\n        if (isNullOrUndefined(this.content) || this.content === '') {\n            var isContent = this.element.innerHTML.replace(/\\s|<(\\/?|\\/?)(!--!--)>/g, '') !== '';\n            if (this.element.children.length > 0 || isContent) {\n                this.innerContentElement = document.createDocumentFragment();\n                [].slice.call(this.element.childNodes).forEach(function (el) {\n                    if (el.nodeType !== 8) {\n                        _this.innerContentElement.appendChild(el);\n                    }\n                });\n            }\n        }\n    };\n    Dialog.prototype.setHeader = function () {\n        if (this.headerEle) {\n            this.headerEle.innerHTML = '';\n        }\n        else {\n            this.headerEle = this.createElement('div', { id: this.element.id + '_title', className: DLG_HEADER });\n        }\n        this.createHeaderContent();\n        this.headerContent.appendChild(this.headerEle);\n        this.setTemplate(this.header, this.headerEle, 'header');\n        attributes(this.element, { 'aria-labelledby': this.element.id });\n        this.element.insertBefore(this.headerContent, this.element.children[0]);\n    };\n    Dialog.prototype.setFooterTemplate = function () {\n        if (this.ftrTemplateContent) {\n            this.ftrTemplateContent.innerHTML = '';\n        }\n        else {\n            this.ftrTemplateContent = this.createElement('div', {\n                className: DLG_FOOTER_CONTENT\n            });\n        }\n        if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n            this.setTemplate(this.footerTemplate, this.ftrTemplateContent, 'footerTemplate');\n        }\n        else {\n            this.ftrTemplateContent.innerHTML = this.buttonContent.join('');\n        }\n        this.element.appendChild(this.ftrTemplateContent);\n    };\n    Dialog.prototype.createHeaderContent = function () {\n        if (isNullOrUndefined(this.headerContent)) {\n            this.headerContent = this.createElement('div', { id: this.element.id + '_dialog-header', className: DLG_HEADER_CONTENT });\n        }\n    };\n    Dialog.prototype.renderCloseIcon = function () {\n        if (this.showCloseIcon) {\n            this.closeIcon = this.createElement('button', { className: DLG_CLOSE_ICON_BTN, attrs: { type: 'button' } });\n            this.closeIconBtnObj = new Button({ cssClass: 'e-flat', iconCss: DLG_CLOSE_ICON + ' ' + ICON });\n            this.closeIconTitle();\n            if (!isNullOrUndefined(this.headerContent)) {\n                prepend([this.closeIcon], this.headerContent);\n            }\n            else {\n                this.createHeaderContent();\n                prepend([this.closeIcon], this.headerContent);\n                this.element.insertBefore(this.headerContent, this.element.children[0]);\n            }\n            this.closeIconBtnObj.appendTo(this.closeIcon);\n        }\n    };\n    Dialog.prototype.closeIconTitle = function () {\n        this.l10n.setLocale(this.locale);\n        var closeIconTitle = this.l10n.getConstant('close');\n        this.closeIcon.setAttribute('title', closeIconTitle);\n        this.closeIcon.setAttribute('aria-label', closeIconTitle);\n    };\n    Dialog.prototype.setCSSClass = function (oldCSSClass) {\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n        if (oldCSSClass) {\n            removeClass([this.element], oldCSSClass.split(' '));\n        }\n    };\n    Dialog.prototype.setIsModal = function () {\n        this.dlgContainer = this.createElement('div', { className: DLG_CONTAINER });\n        this.element.classList.remove(DLG_SHOW);\n        this.element.parentNode.insertBefore(this.dlgContainer, this.element);\n        this.dlgContainer.appendChild(this.element);\n        addClass([this.element], MODAL_DLG);\n        this.dlgOverlay = this.createElement('div', { className: DLG_OVERLAY });\n        this.dlgOverlay.style.zIndex = (this.zIndex - 1).toString();\n        this.dlgContainer.appendChild(this.dlgOverlay);\n    };\n    Dialog.prototype.getValidFocusNode = function (items) {\n        var node;\n        for (var u = 0; u < items.length; u++) {\n            node = items[u];\n            if ((node.clientHeight > 0 || (node.tagName.toLowerCase() === 'a' && node.hasAttribute('href'))) && node.tabIndex > -1 &&\n                !node.disabled && !this.disableElement(node, '[disabled],[aria-disabled=\"true\"],[type=\"hidden\"]')) {\n                return node;\n            }\n            else {\n                node = null;\n            }\n        }\n        return node;\n    };\n    Dialog.prototype.focusableElements = function (content) {\n        if (!isNullOrUndefined(content)) {\n            var value = 'input,select,textarea,button,a,[contenteditable=\"true\"],[tabindex]';\n            var items = content.querySelectorAll(value);\n            return this.getValidFocusNode(items);\n        }\n        return null;\n    };\n    Dialog.prototype.getAutoFocusNode = function (container) {\n        var node = container.querySelector('.' + DLG_CLOSE_ICON_BTN);\n        var value = '[autofocus]';\n        var items = container.querySelectorAll(value);\n        var validNode = this.getValidFocusNode(items);\n        if (isBlazor()) {\n            this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n        }\n        if (!isNullOrUndefined(validNode)) {\n            node = validNode;\n        }\n        else {\n            validNode = this.focusableElements(this.contentEle);\n            if (!isNullOrUndefined(validNode)) {\n                return node = validNode;\n            }\n            else if (!isNullOrUndefined(this.primaryButtonEle)) {\n                return this.element.querySelector('.' + DLG_PRIMARY_BUTTON);\n            }\n        }\n        return node;\n    };\n    Dialog.prototype.disableElement = function (element, t) {\n        // eslint-disable-next-line\n        var elementMatch = element ? element.matches || element.webkitMatchesSelector || element.msGetRegionContent : null;\n        if (elementMatch) {\n            for (; element; element = element.parentNode) {\n                if (element instanceof Element && elementMatch.call(element, t)) {\n                    /* istanbul ignore next */\n                    return element;\n                }\n            }\n        }\n        return null;\n    };\n    Dialog.prototype.focusContent = function () {\n        var element = this.getAutoFocusNode(this.element);\n        var node = !isNullOrUndefined(element) ? element : this.element;\n        var userAgent = Browser.userAgent;\n        if (userAgent.indexOf('MSIE ') > 0 || userAgent.indexOf('Trident/') > 0) {\n            this.element.focus();\n        }\n        node.focus();\n        this.bindEvent(this.element);\n    };\n    Dialog.prototype.bindEvent = function (element) {\n        EventHandler.add(element, 'keydown', this.keyDown, this);\n    };\n    Dialog.prototype.unBindEvent = function (element) {\n        EventHandler.remove(element, 'keydown', this.keyDown);\n    };\n    Dialog.prototype.updateSanitizeContent = function () {\n        if (!this.isBlazorServerRender()) {\n            this.contentEle.innerHTML = this.sanitizeHelper(this.content);\n        }\n    };\n    Dialog.prototype.isBlazorServerRender = function () {\n        return isBlazor() && this.isServerRendered;\n    };\n    /**\n     * Module required function\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.getModuleName = function () {\n        return 'dialog';\n    };\n    /**\n     * Called internally if any of the property value changed\n     *\n     * @param {DialogModel} newProp - specifies the new property\n     * @param {DialogModel} oldProp - specifies the old property\n     * @private\n     * @returns {void}\n     */\n    Dialog.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'content':\n                    if (!isNullOrUndefined(this.content) && this.content !== '') {\n                        if (this.isBlazorServerRender()) {\n                            this.contentEle = this.element.querySelector('.e-dlg-content');\n                        }\n                        if (!isNullOrUndefined(this.contentEle) && this.contentEle.getAttribute('role') !== 'dialog') {\n                            if (!this.isBlazorServerRender()) {\n                                this.contentEle.innerHTML = '';\n                            }\n                            // eslint-disable-next-line\n                            if (typeof (this.content) === 'function') {\n                                this.clearTemplate(['content']);\n                                detach(this.contentEle);\n                                this.contentEle = null;\n                                this.setContent();\n                            }\n                            else {\n                                typeof (this.content) === 'string' ? (this.isBlazorServerRender() && (this.contentEle.innerText === '')) ?\n                                    this.contentEle.insertAdjacentHTML('beforeend', this.sanitizeHelper(this.content)) :\n                                    this.updateSanitizeContent() : this.contentEle.appendChild(this.content);\n                            }\n                            this.setMaxHeight();\n                        }\n                        else {\n                            if (!this.isBlazorServerRender() ||\n                                isNullOrUndefined(this.element.querySelector('.e-dlg-content'))) {\n                                this.setContent();\n                            }\n                        }\n                    }\n                    else if (!isNullOrUndefined(this.contentEle)) {\n                        detach(this.contentEle);\n                        this.contentEle = null;\n                    }\n                    break;\n                case 'header':\n                    if (this.header === '' || isNullOrUndefined(this.header)) {\n                        if (this.headerEle) {\n                            detach(this.headerEle);\n                            this.headerEle = null;\n                        }\n                    }\n                    else {\n                        if (!this.isBlazorServerRender() ||\n                            isNullOrUndefined(this.element.querySelector('.e-dlg-header-content'))) {\n                            this.setHeader();\n                        }\n                    }\n                    break;\n                case 'footerTemplate':\n                    if (this.footerTemplate === '' || isNullOrUndefined(this.footerTemplate)) {\n                        if (!this.ftrTemplateContent) {\n                            return;\n                        }\n                        detach(this.ftrTemplateContent);\n                        this.ftrTemplateContent = null;\n                        this.buttons = [{}];\n                    }\n                    else {\n                        if (!this.isBlazorServerRender() ||\n                            isNullOrUndefined(this.element.querySelector('.e-footer-content'))) {\n                            this.setFooterTemplate();\n                        }\n                        this.buttons = [{}];\n                    }\n                    break;\n                case 'showCloseIcon':\n                    if (this.element.getElementsByClassName(DLG_CLOSE_ICON).length > 0) {\n                        if (!this.showCloseIcon && (this.header === '' || isNullOrUndefined(this.header))) {\n                            detach(this.headerContent);\n                            this.headerContent = null;\n                        }\n                        else if (!this.showCloseIcon) {\n                            detach(this.closeIcon);\n                        }\n                        else {\n                            if (this.isBlazorServerRender()) {\n                                this.wireEvents();\n                            }\n                        }\n                    }\n                    else {\n                        if (!this.isBlazorServerRender()) {\n                            this.renderCloseIcon();\n                        }\n                        this.wireEvents();\n                    }\n                    break;\n                case 'locale':\n                    if (this.showCloseIcon) {\n                        this.closeIconTitle();\n                    }\n                    break;\n                case 'visible':\n                    // eslint-disable-next-line\n                    this.visible ? this.show() : this.hide();\n                    break;\n                case 'isModal':\n                    this.updateIsModal();\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'zIndex':\n                    this.popupObj.zIndex = this.zIndex;\n                    if (this.isModal) {\n                        this.setOverlayZindex(this.zIndex);\n                    }\n                    if (this.element.style.zIndex !== this.zIndex.toString()) {\n                        this.calculatezIndex = false;\n                    }\n                    break;\n                case 'cssClass':\n                    this.setCSSClass(oldProp.cssClass);\n                    break;\n                case 'buttons': {\n                    var buttonCount = this.buttons.length;\n                    if (!isNullOrUndefined(this.ftrTemplateContent) && !this.isBlazorServerRender()) {\n                        detach(this.ftrTemplateContent);\n                        this.ftrTemplateContent = null;\n                    }\n                    for (var i = 0; i < buttonCount; i++) {\n                        if (!isNullOrUndefined(this.buttons[i].buttonModel)) {\n                            this.footerTemplate = '';\n                            this.setButton();\n                        }\n                    }\n                    break;\n                }\n                case 'allowDragging':\n                    if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n                        this.setAllowDragging();\n                    }\n                    else {\n                        this.dragObj.destroy();\n                    }\n                    break;\n                case 'target':\n                    this.setTarget(newProp.target);\n                    break;\n                case 'position':\n                    this.checkPositionData();\n                    if (this.isModal) {\n                        var positionX = isNullOrUndefined(oldProp.position.X) ? this.position.X : oldProp.position.X;\n                        var positionY = isNullOrUndefined(oldProp.position.Y) ? this.position.Y : oldProp.position.Y;\n                        if (this.dlgContainer.classList.contains('e-dlg-' + positionX + '-' + positionY)) {\n                            this.dlgContainer.classList.remove('e-dlg-' + positionX + '-' + positionY);\n                        }\n                    }\n                    this.positionChange();\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL();\n                    break;\n                case 'enableResize':\n                    this.setResize();\n                    break;\n            }\n        }\n    };\n    Dialog.prototype.setTarget = function (target) {\n        this.popupObj.relateTo = target;\n        this.target = target;\n        this.targetEle = ((typeof this.target) === 'string') ?\n            document.querySelector(this.target) : this.target;\n        if (this.dragObj) {\n            this.dragObj.dragArea = this.targetEle;\n        }\n        this.setMaxHeight();\n        if (this.isModal) {\n            this.updateIsModal();\n        }\n        if (this.enableResize) {\n            this.setResize();\n        }\n    };\n    Dialog.prototype.updateIsModal = function () {\n        this.element.setAttribute('aria-modal', this.isModal ? 'true' : 'false');\n        if (this.isModal) {\n            if (isNullOrUndefined(this.dlgOverlay)) {\n                this.setIsModal();\n                this.element.style.top = '0px';\n                this.element.style.left = '0px';\n                if (!isNullOrUndefined(this.targetEle)) {\n                    this.targetEle.appendChild(this.dlgContainer);\n                }\n            }\n        }\n        else {\n            removeClass([this.element], MODAL_DLG);\n            removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n            detach(this.dlgOverlay);\n            while (this.dlgContainer.firstChild) {\n                this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild, this.dlgContainer);\n            }\n            this.dlgContainer.parentElement.removeChild(this.dlgContainer);\n        }\n        if (this.visible) {\n            this.show();\n        }\n        this.positionChange();\n        if (this.isModal && this.dlgOverlay) {\n            EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n        }\n    };\n    Dialog.prototype.setzIndex = function (zIndexElement, setPopupZindex) {\n        var prevOnChange = this.isProtectedOnChange;\n        this.isProtectedOnChange = true;\n        this.zIndex = getZindexPartial(zIndexElement);\n        this.isProtectedOnChange = prevOnChange;\n        if (setPopupZindex) {\n            this.popupObj.zIndex = this.zIndex;\n        }\n    };\n    Dialog.prototype.windowResizeHandler = function () {\n        setMaxWidth(this.targetEle.clientWidth);\n        setMaxHeight(this.targetEle.clientHeight);\n        this.setMaxHeight();\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To destroy the widget\n     *\n     * @returns {void}\n     */\n    Dialog.prototype.destroy = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        var classArray = [RTL, MODAL_DLG, DLG_RESIZABLE, DLG_RESTRICT_LEFT_VALUE, FULLSCREEN, DEVICE];\n        var attrs = ['role', 'aria-modal', 'aria-labelledby', 'aria-describedby', 'aria-grabbed', 'tabindex', 'style'];\n        removeClass([this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n        if (!isNullOrUndefined(this.element) && this.element.classList.contains(FULLSCREEN)) {\n            removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n        }\n        if (this.isModal) {\n            removeClass([(!isNullOrUndefined(this.targetEle) ? this.targetEle : document.body)], SCROLL_DISABLED);\n        }\n        this.unWireEvents();\n        if (!isNullOrUndefined(this.btnObj)) {\n            for (var i = 0; i < this.btnObj.length; i++) {\n                this.btnObj[i].destroy();\n            }\n        }\n        if (!isNullOrUndefined(this.dragObj)) {\n            this.dragObj.destroy();\n        }\n        if (!isNullOrUndefined(this.popupObj.element) && this.popupObj.element.classList.contains(POPUP_ROOT)) {\n            this.popupObj.destroy();\n        }\n        removeClass([this.element], classArray);\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            removeClass([this.element], this.cssClass.split(' '));\n        }\n        if (!isNullOrUndefined(this.refElement) && !isNullOrUndefined(this.refElement.parentElement)) {\n            this.refElement.parentElement.insertBefore((this.isModal ? this.dlgContainer : this.element), this.refElement);\n            detach(this.refElement);\n            this.refElement = undefined;\n        }\n        if (this.isModal && !this.isBlazorServerRender()) {\n            detach(this.dlgOverlay);\n            this.dlgContainer.parentNode.insertBefore(this.element, this.dlgContainer);\n            detach(this.dlgContainer);\n        }\n        if (!this.isBlazorServerRender()) {\n            this.element.innerHTML = this.clonedEle.innerHTML;\n        }\n        if (this.isBlazorServerRender()) {\n            if (!isNullOrUndefined(this.element.children)) {\n                for (var i = 0; i <= this.element.children.length; i++) {\n                    i = i - i;\n                    detach(this.element.children[i]);\n                }\n            }\n        }\n        for (var i = 0; i < attrs.length; i++) {\n            this.element.removeAttribute(attrs[i]);\n        }\n        if (!this.isBlazorServerRender()) {\n            _super.prototype.destroy.call(this);\n        }\n        else {\n            this.isDestroyed = true;\n        }\n        // eslint-disable-next-line\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n    };\n    Dialog.prototype.wireWindowResizeEvent = function () {\n        window.addEventListener('resize', this.windowResizeHandler.bind(this));\n    };\n    Dialog.prototype.unWireWindowResizeEvent = function () {\n        window.removeEventListener('resize', this.windowResizeHandler.bind(this));\n    };\n    /**\n     * Binding event to the element while widget creation\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Dialog.prototype.wireEvents = function () {\n        if (this.isBlazorServerRender() && this.showCloseIcon) {\n            this.closeIcon = this.element.getElementsByClassName('e-dlg-closeicon-btn')[0];\n        }\n        if (this.showCloseIcon) {\n            EventHandler.add(this.closeIcon, 'click', this.closeIconClickEventHandler, this);\n        }\n        if (this.isModal && this.dlgOverlay) {\n            EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n        }\n    };\n    /**\n     * Unbinding event to the element while widget destroy\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Dialog.prototype.unWireEvents = function () {\n        if (this.showCloseIcon) {\n            EventHandler.remove(this.closeIcon, 'click', this.closeIconClickEventHandler);\n        }\n        if (this.isModal) {\n            EventHandler.remove(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler);\n        }\n        if (this.buttons.length > 0 && !isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n            for (var i = 0; i < this.buttons.length; i++) {\n                if (typeof (this.buttons[i].click) === 'function') {\n                    EventHandler.remove(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click);\n                }\n            }\n        }\n    };\n    /**\n     * Refreshes the dialog's position when the user changes its header and footer height/width dynamically.\n     *\n     * @returns {void}\n     */\n    Dialog.prototype.refreshPosition = function () {\n        this.popupObj.refreshPosition();\n    };\n    /**\n     * Returns the current width and height of the Dialog\n     *\n     * @returns {DialogDimension}\n     * @public\n     */\n    Dialog.prototype.getDimension = function () {\n        var dialogWidth = this.element.offsetWidth;\n        var dialogHeight = this.element.offsetHeight;\n        return { width: dialogWidth, height: dialogHeight };\n    };\n    /**\n     * Opens the dialog if it is in hidden state.\n     * To open the dialog with full screen width, set the parameter to true.\n     *\n     * @param { boolean } isFullScreen - Enable the fullScreen Dialog.\n     * @returns {void}\n     */\n    Dialog.prototype.show = function (isFullScreen) {\n        var _this = this;\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        if (!this.element.classList.contains(DLG_SHOW) || (!isNullOrUndefined(isFullScreen))) {\n            if (!isNullOrUndefined(isFullScreen)) {\n                this.fullScreen(isFullScreen);\n            }\n            var eventArgs_1 = isBlazor() ? {\n                cancel: false,\n                element: this.element,\n                container: this.isModal ? this.dlgContainer : this.element,\n                maxHeight: this.element.style.maxHeight\n            } : {\n                cancel: false,\n                element: this.element,\n                container: this.isModal ? this.dlgContainer : this.element,\n                target: this.target,\n                maxHeight: this.element.style.maxHeight\n            };\n            this.trigger('beforeOpen', eventArgs_1, function (beforeOpenArgs) {\n                if (!beforeOpenArgs.cancel) {\n                    if (_this.element.style.maxHeight !== eventArgs_1.maxHeight) {\n                        _this.allowMaxHeight = false;\n                        _this.element.style.maxHeight = eventArgs_1.maxHeight;\n                    }\n                    _this.storeActiveElement = document.activeElement;\n                    _this.element.tabIndex = -1;\n                    if (_this.isModal && (!isNullOrUndefined(_this.dlgOverlay))) {\n                        _this.dlgOverlay.style.display = 'block';\n                        _this.dlgContainer.style.display = 'flex';\n                        removeClass([_this.dlgOverlay], 'e-fade');\n                        if (!isNullOrUndefined(_this.targetEle)) {\n                            if (_this.targetEle === document.body) {\n                                _this.dlgContainer.style.position = 'fixed';\n                            }\n                            else {\n                                _this.dlgContainer.style.position = 'absolute';\n                            }\n                            _this.dlgOverlay.style.position = 'absolute';\n                            _this.element.style.position = 'relative';\n                            addClass([_this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n                        }\n                        else {\n                            addClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n                        }\n                    }\n                    // eslint-disable-next-line\n                    var openAnimation = {\n                        name: _this.animationSettings.effect + 'In',\n                        duration: _this.animationSettings.duration,\n                        delay: _this.animationSettings.delay\n                    };\n                    var zIndexElement = (_this.isModal) ? _this.element.parentElement : _this.element;\n                    if (_this.calculatezIndex) {\n                        _this.setzIndex(zIndexElement, true);\n                        setStyleAttribute(_this.element, { 'zIndex': _this.zIndex });\n                        if (_this.isModal) {\n                            _this.setOverlayZindex(_this.zIndex);\n                        }\n                    }\n                    // eslint-disable-next-line\n                    _this.animationSettings.effect === 'None' ? _this.popupObj.show() : _this.popupObj.show(openAnimation);\n                    _this.dialogOpen = true;\n                    var prevOnChange = _this.isProtectedOnChange;\n                    _this.isProtectedOnChange = true;\n                    _this.visible = true;\n                    _this.preventVisibility = true;\n                    _this.isProtectedOnChange = prevOnChange;\n                }\n            });\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * Closes the dialog if it is in visible state.\n     *\n     * @param { Event } event - specifies the event\n     * @returns {void}\n     */\n    Dialog.prototype.hide = function (event) {\n        var _this = this;\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        if (this.preventVisibility) {\n            var eventArgs = isBlazor() ? {\n                cancel: false,\n                isInteracted: event ? true : false,\n                element: this.element,\n                container: this.isModal ? this.dlgContainer : this.element,\n                event: event\n            } : {\n                cancel: false,\n                isInteracted: event ? true : false,\n                element: this.element,\n                target: this.target,\n                container: this.isModal ? this.dlgContainer : this.element,\n                event: event,\n                closedBy: this.dlgClosedBy\n            };\n            this.closeArgs = eventArgs;\n            this.trigger('beforeClose', eventArgs, function (beforeCloseArgs) {\n                if (!beforeCloseArgs.cancel) {\n                    if (_this.isModal) {\n                        if (!isNullOrUndefined(_this.targetEle)) {\n                            removeClass([_this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n                        }\n                    }\n                    if (document.body.classList.contains(DLG_TARGET) &&\n                        document.body.classList.contains(SCROLL_DISABLED)) {\n                        removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n                    }\n                    // eslint-disable-next-line\n                    var closeAnimation = {\n                        name: _this.animationSettings.effect + 'Out',\n                        duration: _this.animationSettings.duration,\n                        delay: _this.animationSettings.delay\n                    };\n                    // eslint-disable-next-line\n                    _this.animationSettings.effect === 'None' ? _this.popupObj.hide() : _this.popupObj.hide(closeAnimation);\n                    _this.dialogOpen = false;\n                    var prevOnChange = _this.isProtectedOnChange;\n                    _this.isProtectedOnChange = true;\n                    _this.visible = false;\n                    _this.preventVisibility = false;\n                    _this.isProtectedOnChange = prevOnChange;\n                }\n                _this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n            });\n        }\n    };\n    // eslint-disable-next-line\n    /**\n     * Specifies to view the Full screen Dialog.\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.fullScreen = function (args) {\n        /* eslint-disable */\n        var top = this.element.offsetTop;\n        var left = this.element.offsetLeft;\n        /* eslint-enable */\n        if (args) {\n            addClass([this.element], FULLSCREEN);\n            var display = this.element.style.display;\n            this.element.style.display = 'none';\n            this.element.style.maxHeight = (!isNullOrUndefined(this.target)) ?\n                (this.targetEle.offsetHeight) + 'px' : (window.innerHeight) + 'px';\n            this.element.style.display = display;\n            addClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n            if (this.allowDragging && !isNullOrUndefined(this.dragObj)) {\n                this.dragObj.destroy();\n            }\n        }\n        else {\n            removeClass([this.element], FULLSCREEN);\n            removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n            if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n                this.setAllowDragging();\n            }\n        }\n        return args;\n    };\n    /**\n     * Returns the dialog button instances.\n     * Based on that, you can dynamically change the button states.\n     *\n     * @param { number } index - Index of the button.\n     * @returns {Button} - returns the button element\n     */\n    Dialog.prototype.getButtons = function (index) {\n        if (!isNullOrUndefined(index)) {\n            return this.btnObj[index];\n        }\n        return this.btnObj;\n    };\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"content\", void 0);\n    __decorate([\n        Property(true)\n    ], Dialog.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"showCloseIcon\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"isModal\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"header\", void 0);\n    __decorate([\n        Property(true)\n    ], Dialog.prototype, \"visible\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"enableResize\", void 0);\n    __decorate([\n        Property(['South-East'])\n    ], Dialog.prototype, \"resizeHandles\", void 0);\n    __decorate([\n        Property('auto')\n    ], Dialog.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"minHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], Dialog.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(1000)\n    ], Dialog.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(null)\n    ], Dialog.prototype, \"target\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"allowDragging\", void 0);\n    __decorate([\n        Collection([{}], ButtonProps)\n    ], Dialog.prototype, \"buttons\", void 0);\n    __decorate([\n        Property(true)\n    ], Dialog.prototype, \"closeOnEscape\", void 0);\n    __decorate([\n        Complex({}, AnimationSettings)\n    ], Dialog.prototype, \"animationSettings\", void 0);\n    __decorate([\n        Complex({ X: 'center', Y: 'center' }, PositionData)\n    ], Dialog.prototype, \"position\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"beforeSanitizeHtml\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"dragStop\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"overlayClick\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"resizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"resizing\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"resizeStop\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"destroyed\", void 0);\n    Dialog = __decorate([\n        NotifyPropertyChanges\n    ], Dialog);\n    return Dialog;\n}(Component));\nexport { Dialog };\n/**\n * Base for creating Alert and Confirmation Dialog through util method.\n */\n// eslint-disable-next-line\nexport var DialogUtility;\n(function (DialogUtility) {\n    /**\n     * An alert dialog box is used to display warning like messages to the users.\n     * ```\n     * Eg : DialogUtility.alert('Alert message');\n     *\n     * ```\n     */\n    /* istanbul ignore next */\n    /**\n     *\n     * @param {AlertDialogArgs} args - specifies the string\n     * @returns {Dialog} - returns the dialog element.\n     */\n    function alert(args) {\n        // eslint-disable-next-line\n        var dialogComponent;\n        var dialogElement = createElement('div', { 'className': DLG_UTIL_ALERT });\n        document.body.appendChild(dialogElement);\n        var alertDialogObj;\n        var okButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (typeof (args) === 'string') {\n            alertDialogObj = createDialog({ content: args,\n                position: { X: 'center', Y: 'top' },\n                isModal: true, header: DLG_UTIL_DEFAULT_TITLE,\n                buttons: okButtonModel }, dialogElement);\n        }\n        else {\n            alertDialogObj = createDialog(alertOptions(args), dialogElement);\n        }\n        alertDialogObj.close = function () {\n            if (args && args.close) {\n                args.close.apply(alertDialogObj);\n            }\n            alertDialogObj.destroy();\n            if (alertDialogObj.element.classList.contains('e-dlg-modal')) {\n                alertDialogObj.element.parentElement.remove();\n                alertDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n            }\n            else {\n                alertDialogObj.element.remove();\n            }\n        };\n        return alertDialogObj;\n    }\n    DialogUtility.alert = alert;\n    /**\n     * A confirm dialog displays a specified message along with OK and Cancel button.\n     * ```\n     * Eg : DialogUtility.confirm('Confirm dialog message');\n     *\n     * ```\n     */\n    /* istanbul ignore next */\n    /**\n     *\n     * @param {ConfirmDialogArgs} args - specifies the args\n     * @returns {Dialog} - returns te element\n     */\n    function confirm(args) {\n        // eslint-disable-next-line\n        var dialogComponent;\n        var dialogElement = createElement('div', { 'className': DLG_UTIL_CONFIRM });\n        document.body.appendChild(dialogElement);\n        var confirmDialogObj;\n        var okCancelButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }, {\n                buttonModel: { content: 'Cancel' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (typeof (args) === 'string') {\n            confirmDialogObj = createDialog({ position: { X: 'center', Y: 'top' }, content: args, isModal: true,\n                header: DLG_UTIL_DEFAULT_TITLE, buttons: okCancelButtonModel\n            }, dialogElement);\n        }\n        else {\n            confirmDialogObj = createDialog(confirmOptions(args), dialogElement);\n        }\n        confirmDialogObj.close = function () {\n            if (args && args.close) {\n                args.close.apply(confirmDialogObj);\n            }\n            confirmDialogObj.destroy();\n            if (confirmDialogObj.element.classList.contains('e-dlg-modal')) {\n                confirmDialogObj.element.parentElement.remove();\n                confirmDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n            }\n            else {\n                confirmDialogObj.element.remove();\n            }\n        };\n        return confirmDialogObj;\n    }\n    DialogUtility.confirm = confirm;\n    // eslint-disable-next-line\n    function createDialog(options, element) {\n        var dialogObject = new Dialog(options);\n        dialogObject.appendTo(element);\n        return dialogObject;\n    }\n    // eslint-disable-next-line\n    function alertOptions(option) {\n        var options = {};\n        options.buttons = [];\n        options = formOptions(options, option);\n        options = setAlertButtonModel(options, option);\n        return options;\n    }\n    // eslint-disable-next-line\n    function confirmOptions(option) {\n        var options = {};\n        options.buttons = [];\n        options = formOptions(options, option);\n        options = setConfirmButtonModel(options, option);\n        return options;\n    }\n    // eslint-disable-next-line\n    function formOptions(options, option) {\n        options.header = !isNullOrUndefined(option.title) ? option.title : DLG_UTIL_DEFAULT_TITLE;\n        options.content = !isNullOrUndefined(option.content) ? option.content : '';\n        options.isModal = !isNullOrUndefined(option.isModal) ? option.isModal : true;\n        options.showCloseIcon = !isNullOrUndefined(option.showCloseIcon) ? option.showCloseIcon : false;\n        options.allowDragging = !isNullOrUndefined(option.isDraggable) ? option.isDraggable : false;\n        options.closeOnEscape = !isNullOrUndefined(option.closeOnEscape) ? option.closeOnEscape : false;\n        options.position = !isNullOrUndefined(option.position) ? option.position : { X: 'center', Y: 'top' };\n        options.animationSettings = !isNullOrUndefined(option.animationSettings) ? option.animationSettings :\n            { effect: 'Fade', duration: 400, delay: 0 };\n        options.cssClass = !isNullOrUndefined(option.cssClass) ? option.cssClass : '';\n        options.zIndex = !isNullOrUndefined(option.zIndex) ? option.zIndex : 1000;\n        options.open = !isNullOrUndefined(option.open) ? option.open : null;\n        return options;\n    }\n    // eslint-disable-next-line\n    function setAlertButtonModel(options, option) {\n        var alertButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (!isNullOrUndefined(option.okButton)) {\n            options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, alertButtonModel[0]);\n        }\n        else {\n            options.buttons = alertButtonModel;\n        }\n        return options;\n    }\n    // eslint-disable-next-line\n    function setConfirmButtonModel(options, option) {\n        var okButtonModel = {\n            buttonModel: { isPrimary: true, content: 'OK' },\n            click: function () {\n                this.hide();\n            }\n        };\n        var cancelButtonModel = {\n            buttonModel: { content: 'Cancel' },\n            click: function () {\n                this.hide();\n            }\n        };\n        if (!isNullOrUndefined(option.okButton)) {\n            options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, okButtonModel);\n        }\n        else {\n            options.buttons[0] = okButtonModel;\n        }\n        if (!isNullOrUndefined(option.cancelButton)) {\n            options.buttons[1] = formButtonModel(options.buttons[1], option.cancelButton, cancelButtonModel);\n        }\n        else {\n            options.buttons[1] = cancelButtonModel;\n        }\n        return options;\n    }\n    // eslint-disable-next-line\n    function formButtonModel(buttonModel, option, buttonPropModel) {\n        var buttonProps = buttonPropModel;\n        if (!isNullOrUndefined(option.text)) {\n            buttonProps.buttonModel.content = option.text;\n        }\n        if (!isNullOrUndefined(option.icon)) {\n            buttonProps.buttonModel.iconCss = option.icon;\n        }\n        if (!isNullOrUndefined(option.cssClass)) {\n            buttonProps.buttonModel.cssClass = option.cssClass;\n        }\n        if (!isNullOrUndefined(option.click)) {\n            buttonProps.click = option.click;\n        }\n        return buttonProps;\n    }\n})(DialogUtility || (DialogUtility = {}));\n","import { ChildProperty, compile as baseTemplateComplier, setValue, Internationalization, isUndefined, closest } from '@syncfusion/ej2-base';\nimport { extend as baseExtend, isNullOrUndefined, getValue, classList } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, addClass, attributes, remove, createElement, removeClass } from '@syncfusion/ej2-base';\nimport { isObject, select, selectAll } from '@syncfusion/ej2-base';\nimport { DataUtil, Query, DataManager, Predicate, UrlAdaptor, Deferred } from '@syncfusion/ej2-data';\nimport { Column } from '../models/column';\nimport { calculateRelativeBasedPosition } from '@syncfusion/ej2-popups';\nimport { Print } from '../actions/print';\nimport { CheckBoxFilterBase } from '../common/checkbox-filter-base';\nimport * as literals from '../base/string-literals';\n//https://typescript.codeplex.com/discussions/401501\n/**\n * Function to check whether target object implement specific interface\n *\n * @param  {Object} target - specifies the target\n * @param  {string} checkFor - specifies the checkfors\n * @returns {boolean} returns the boolean\n * @hidden\n */\nexport function doesImplementInterface(target, checkFor) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return target.prototype && checkFor in target.prototype;\n}\n/**\n * Function to get value from provided data\n *\n * @param  {string} field - specifies the field\n * @param  {Object} data - specifies the data\n * @param  {ColumnModel} column - specifies the column\n * @returns {Object} returns the object\n * @hidden\n */\n// eslint-disable-next-line\nexport function valueAccessor(field, data, column) {\n    return (isNullOrUndefined(field) || field === '') ? '' : DataUtil.getObject(field, data);\n}\n/**\n * Defines the method used to apply custom header cell values from external function and display this on each header cell rendered.\n *\n * @param  {string} field - specifies the field\n * @param  {ColumnModel} column - specifies the column\n * @returns {object} headerValueAccessor\n * @hidden\n */\nexport function headerValueAccessor(field, column) {\n    return (isNullOrUndefined(field) || field === '') ? '' : DataUtil.getObject(field, column);\n}\n/**\n * The function used to update Dom using requestAnimationFrame.\n *\n * @param {Function} updateFunction - Function that contains the actual action\n * @param {object} callBack - defines the callback\n * @returns {void}\n * @hidden\n */\n// eslint-disable-next-line\nexport function getUpdateUsingRaf(updateFunction, callBack) {\n    requestAnimationFrame(function () {\n        try {\n            callBack(null, updateFunction());\n        }\n        catch (e) {\n            callBack(e);\n        }\n    });\n}\n/**\n * @hidden\n * @param {PdfExportProperties | ExcelExportProperties} exportProperties - Defines the export properties\n * @returns {boolean} Returns isExportColumns\n */\nexport function isExportColumns(exportProperties) {\n    return !isNullOrUndefined(exportProperties) &&\n        !isNullOrUndefined(exportProperties.columns) && exportProperties.columns.length > 0;\n}\n/**\n * @param {PdfExportProperties | ExcelExportProperties} exportProperties - Defines the export properties\n * @param {IGrid} gObj - Defines the grid object\n * @returns {void}\n * @hidden\n */\nexport function updateColumnTypeForExportColumns(exportProperties, gObj) {\n    var exportColumns = exportProperties.columns;\n    var gridColumns = gObj.columns;\n    for (var i = 0; i < exportColumns.length; i++) {\n        if (gridColumns.length - 1 >= i) {\n            if (gridColumns[i].columns) {\n                for (var j = 0; j < gridColumns[i].columns.length; j++) {\n                    exportColumns[i].columns[j].type = gridColumns[i].columns[j].type;\n                }\n            }\n            else {\n                exportColumns[i].type = gridColumns[i].type;\n            }\n        }\n    }\n}\n/**\n * @hidden\n * @param {IGrid} grid - Defines the grid\n * @returns {void}\n */\nexport function updatecloneRow(grid) {\n    var nRows = [];\n    var actualRows = grid.vRows;\n    for (var i = 0; i < actualRows.length; i++) {\n        if (actualRows[i].isDataRow) {\n            nRows.push(actualRows[i]);\n        }\n        else if (!actualRows[i].isDataRow) {\n            nRows.push(actualRows[i]);\n            if (!actualRows[i].isExpand && actualRows[i].isCaptionRow) {\n                i += getCollapsedRowsCount(actualRows[i], grid);\n            }\n        }\n    }\n    grid.vcRows = nRows;\n}\nvar count = 0;\n/**\n * @hidden\n * @param {Row<Column>} val - Defines the value\n * @param {IGrid} grid - Defines the grid\n * @returns {number} Returns the collapsed row count\n */\nexport function getCollapsedRowsCount(val, grid) {\n    count = 0;\n    var gSummary = 'gSummary';\n    var total = 'count';\n    var gLen = grid.groupSettings.columns.length;\n    var records = 'records';\n    var items = 'items';\n    var value = val[gSummary];\n    var dataRowCnt = 0;\n    var agrCnt = 'aggregatesCount';\n    if (value === val.data[total]) {\n        if (grid.groupSettings.columns.length && !isNullOrUndefined(val[agrCnt]) && val[agrCnt]) {\n            if (grid.groupSettings.columns.length !== 1) {\n                count += (val.indent !== 0 && (value) < 2) ? (val[gSummary] * ((gLen - val.indent) + (gLen - val.indent) * val[agrCnt])) :\n                    (val[gSummary] * ((gLen - val.indent) + (gLen - val.indent - 1) * val[agrCnt])) + val[agrCnt];\n            }\n            else if (grid.groupSettings.columns.length === 1) {\n                count += (val[gSummary] * (gLen - val.indent)) + val[agrCnt];\n            }\n        }\n        else if (grid.groupSettings.columns.length) {\n            if (grid.groupSettings.columns.length !== 1) {\n                count += val[gSummary] * (grid.groupSettings.columns.length - val.indent);\n            }\n            else {\n                count += val[gSummary];\n            }\n        }\n        return count;\n    }\n    else {\n        for (var i = 0, len = val.data[items].length; i < len; i++) {\n            var gLevel = val.data[items][i];\n            count += gLevel[items].length + ((gLen !== grid.columns.length) &&\n                !isNullOrUndefined(gLevel[items][records]) ? gLevel[items][records].length : 0);\n            dataRowCnt += (!isNullOrUndefined(gLevel[items][records]) && !isNullOrUndefined(val[agrCnt])) ? gLevel[items][records].length :\n                gLevel[items].length;\n            if (gLevel[items].GroupGuid && gLevel[items].childLevels !== 0) {\n                recursive(gLevel);\n            }\n        }\n        count += val.data[items].length;\n        if (!isNullOrUndefined(val[agrCnt])) {\n            if (val[agrCnt] && count && dataRowCnt !== 0) {\n                count += ((count - dataRowCnt) * val[agrCnt]) + val[agrCnt];\n            }\n        }\n    }\n    return count;\n}\n/**\n * @param {Object[]} row - Defines the row\n * @returns {void}\n * @hidden\n */\nexport function recursive(row) {\n    var items = 'items';\n    var rCount = 'count';\n    for (var j = 0, length_1 = row[items].length; j < length_1; j++) {\n        var nLevel = row[items][j];\n        count += nLevel[rCount];\n        if (nLevel[items].childLevels !== 0) {\n            recursive(nLevel);\n        }\n    }\n}\n/**\n * @param {Object[]} collection - Defines the array\n * @param {Object} predicate - Defines the predicate\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function iterateArrayOrObject(collection, predicate) {\n    var result = [];\n    for (var i = 0, len = collection.length; i < len; i++) {\n        var pred = predicate(collection[i], i);\n        if (!isNullOrUndefined(pred)) {\n            result.push(pred);\n        }\n    }\n    return result;\n}\n/**\n * @param {Object[]} array - Defines the array\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function iterateExtend(array) {\n    var obj = [];\n    for (var i = 0; i < array.length; i++) {\n        obj.push(baseExtend({}, getActualProperties(array[i]), {}, true));\n    }\n    return obj;\n}\n/**\n * @param {string} template - Defines the template\n * @returns {Function} Returns the function\n * @hidden\n */\nexport function templateCompiler(template) {\n    if (template) {\n        try {\n            if (document.querySelectorAll(template).length) {\n                return baseTemplateComplier(document.querySelector(template).innerHTML.trim());\n            }\n            else {\n                return baseTemplateComplier(template);\n            }\n        }\n        catch (e) {\n            return baseTemplateComplier(template);\n        }\n    }\n    return undefined;\n}\n/**\n * @param {Element} node - Defines the column\n * @param {Object} customAttributes - Defines the index\n * @returns {void}\n * @hidden\n */\nexport function setStyleAndAttributes(node, customAttributes) {\n    var copyAttr = {};\n    var literals = ['style', 'class'];\n    //Dont touch the original object - make a copy\n    baseExtend(copyAttr, customAttributes, {});\n    if ('style' in copyAttr) {\n        setStyleAttribute(node, copyAttr[literals[0]]);\n        delete copyAttr[literals[0]];\n    }\n    if ('class' in copyAttr) {\n        addClass([node], copyAttr[literals[1]]);\n        delete copyAttr[literals[1]];\n    }\n    attributes(node, copyAttr);\n}\n/**\n * @param {Object} copied - Defines the column\n * @param {Object} first - Defines the inndex\n * @param {Object} second - Defines the second object\n * @param {string[]} exclude - Defines the exclude\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function extend(copied, first, second, exclude) {\n    var moved = baseExtend(copied, first, second);\n    var values = Object.keys(moved);\n    for (var i = 0; i < values.length; i++) {\n        if (exclude && exclude.indexOf(values[i]) !== -1) {\n            delete moved[values[i]];\n        }\n    }\n    return moved;\n}\n/**\n * @param {Column[]} columnModel - Defines the column\n * @param {number} ind - Defines the inndex\n * @returns {number} - Returns the columnindex\n * @hidden\n */\nexport function setColumnIndex(columnModel, ind) {\n    if (ind === void 0) { ind = 0; }\n    for (var i = 0, len = columnModel.length; i < len; i++) {\n        if (columnModel[i].columns) {\n            columnModel[i].index = isNullOrUndefined(columnModel[i].index) ? ind : columnModel[i].index;\n            ind++;\n            ind = setColumnIndex(columnModel[i].columns, ind);\n        }\n        else {\n            columnModel[i].index = isNullOrUndefined(columnModel[i].index) ? ind : columnModel[i].index;\n            ind++;\n        }\n    }\n    return ind;\n}\n/**\n * @param {Column[] | string[] | ColumnModel[]} columns - Defines the column\n * @param {boolean} autoWidth - Defines the autowidth\n * @param {IGrid} gObj - Defines the class name\n * @returns {Column} - Returns the columns\n * @hidden\n */\nexport function prepareColumns(columns, autoWidth, gObj) {\n    for (var c = 0, len = columns.length; c < len; c++) {\n        var column = void 0;\n        if (typeof columns[c] === 'string') {\n            column = new Column({ field: columns[c] }, gObj);\n        }\n        else if (!(columns[c] instanceof Column) || columns[c].columns) {\n            if (!columns[c].columns) {\n                column = new Column(columns[c], gObj);\n            }\n            else {\n                columns[c].columns = prepareColumns(columns[c].columns, null, gObj);\n                column = new Column(columns[c], gObj);\n            }\n        }\n        else {\n            column = columns[c];\n        }\n        if (column.type && column.type.toLowerCase() === 'checkbox') {\n            column.allowReordering = false;\n        }\n        column.headerText = isNullOrUndefined(column.headerText) ? column.foreignKeyValue || column.field || '' : column.headerText;\n        column.foreignKeyField = column.foreignKeyField || column.field;\n        column.valueAccessor = (typeof column.valueAccessor === 'string' ? getValue(column.valueAccessor, window)\n            : column.valueAccessor) || valueAccessor;\n        column.width = autoWidth && isNullOrUndefined(column.width) ? 200 : column.width;\n        if (isNullOrUndefined(column.visible)) {\n            column.visible = true;\n        }\n        columns[c] = column;\n    }\n    return columns;\n}\n/**\n * @param {HTMLElement} popUp - Defines the popup element\n * @param {MouseEvent | TouchEvent} e - Defines the moouse event\n * @param {string} className - Defines the class name\n * @returns {void}\n * @hidden\n */\nexport function setCssInGridPopUp(popUp, e, className) {\n    var popUpSpan = popUp.querySelector('span');\n    var position = popUp.parentElement.getBoundingClientRect();\n    var targetPosition = e.target.getBoundingClientRect();\n    popUpSpan.className = className;\n    popUp.style.display = '';\n    var isBottomTail = (isNullOrUndefined(e.clientY) ? e.changedTouches[0].clientY :\n        e.clientY) > popUp.offsetHeight + 10;\n    popUp.style.top = targetPosition.top - position.top +\n        (isBottomTail ? -(popUp.offsetHeight + 10) : popUp.offsetHeight + 10) + 'px'; //10px for tail element\n    popUp.style.left = getPopupLeftPosition(popUp, e, targetPosition, position.left) + 'px';\n    if (isBottomTail) {\n        popUp.querySelector('.e-downtail').style.display = '';\n        popUp.querySelector('.e-uptail').style.display = 'none';\n    }\n    else {\n        popUp.querySelector('.e-downtail').style.display = 'none';\n        popUp.querySelector('.e-uptail').style.display = '';\n    }\n}\n/**\n * @param {HTMLElement} popup - Defines the popup element\n * @param {MouseEvent | TouchEvent} e  - Defines the mouse event\n * @param {Object} targetPosition - Defines the target position\n * @param {number} targetPosition.top - Defines the top position\n * @param {number} targetPosition.left  - Defines the left position\n * @param {number} targetPosition.right  - Defines the right position\n * @param {number} left - Defines the left position\n * @returns {number} Returns the popup left position\n * @hidden\n */\nfunction getPopupLeftPosition(popup, e, targetPosition, left) {\n    var width = popup.offsetWidth / 2;\n    var x = getPosition(e).x;\n    if (x - targetPosition.left < width) {\n        return targetPosition.left - left;\n    }\n    else if (targetPosition.right - x < width) {\n        return targetPosition.right - left - width * 2;\n    }\n    else {\n        return x - left - width;\n    }\n}\n/**\n * @param {Object} obj - Defines the object\n * @returns {Object} Returns the Properties\n * @hidden\n */\nexport function getActualProperties(obj) {\n    if (obj instanceof ChildProperty) {\n        return getValue('properties', obj);\n    }\n    else {\n        return obj;\n    }\n}\n/**\n * @param {Element} elem - Defines the element\n * @param {string} selector - Defines the string selector\n * @param {boolean} isID - Defines the isID\n * @returns {Element} Returns the element\n * @hidden\n */\nexport function parentsUntil(elem, selector, isID) {\n    var parent = elem;\n    while (parent) {\n        if (isID ? parent.id === selector : parent.classList.contains(selector)) {\n            break;\n        }\n        parent = parent.parentElement;\n    }\n    return parent;\n}\n/**\n * @param {Element} element - Defines the element\n * @param {Element} elements - Defines the element\n * @returns {number} Returns the element index\n * @hidden\n */\nexport function getElementIndex(element, elements) {\n    var index = -1;\n    for (var i = 0, len = elements.length; i < len; i++) {\n        if (elements[i].isEqualNode(element)) {\n            index = i;\n            break;\n        }\n    }\n    return index;\n}\n/**\n * @param {Object} value - Defines the value\n * @param {Object} collection - defines the collection\n * @returns {number} Returns the array\n * @hidden\n */\nexport function inArray(value, collection) {\n    for (var i = 0, len = collection.length; i < len; i++) {\n        if (collection[i] === value) {\n            return i;\n        }\n    }\n    return -1;\n}\n/**\n * @param {Object} collection - Defines the collection\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function getActualPropFromColl(collection) {\n    var coll = [];\n    for (var i = 0, len = collection.length; i < len; i++) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (collection[i].hasOwnProperty('properties')) {\n            coll.push(collection[i].properties);\n        }\n        else {\n            coll.push(collection[i]);\n        }\n    }\n    return coll;\n}\n/**\n * @param {Element} target - Defines the target element\n * @param {string} selector - Defines the selector\n * @returns {void}\n * @hidden\n */\nexport function removeElement(target, selector) {\n    var elements = [].slice.call(target.querySelectorAll(selector));\n    for (var i = 0; i < elements.length; i++) {\n        remove(elements[i]);\n    }\n}\n/**\n * @param {MouseEvent | TouchEvent} e Defines the mouse event\n * @returns {IPosition} Returns the position\n * @hidden\n */\nexport function getPosition(e) {\n    var position = {};\n    position.x = (isNullOrUndefined(e.clientX) ? e.changedTouches[0].clientX :\n        e.clientX);\n    position.y = (isNullOrUndefined(e.clientY) ? e.changedTouches[0].clientY :\n        e.clientY);\n    return position;\n}\nvar uid = 0;\n/**\n * @param {string} prefix - Defines the prefix string\n * @returns {string} Returns the uid\n * @hidden\n */\nexport function getUid(prefix) {\n    return prefix + uid++;\n}\n/**\n * @param {Element | DocumentFragment} elem - Defines the element\n * @param {Element[] | NodeList} children - Defines the Element\n * @returns {Element} Returns the element\n * @hidden\n */\nexport function appendChildren(elem, children) {\n    for (var i = 0, len = children.length; i < len; i++) {\n        if (len === children.length) {\n            elem.appendChild(children[i]);\n        }\n        else {\n            elem.appendChild(children[0]);\n        }\n    }\n    return elem;\n}\n/**\n * @param {Element} elem - Defines the element\n * @param {string} selector - Defines the selector\n * @param {boolean} isID - Defines isID\n * @returns {Element} Return the element\n * @hidden\n */\nexport function parents(elem, selector, isID) {\n    var parent = elem;\n    var parents = [];\n    while (parent) {\n        if (isID ? parent.id === selector : parent.classList.contains(selector)) {\n            parents.push(parent);\n        }\n        parent = parent.parentElement;\n    }\n    return parents;\n}\n/**\n * @param {AggregateType | string} type - Defines the type\n * @param {Object} data - Defines the data\n * @param {AggregateColumnModel} column - Defines the column\n * @param {Object} context - Defines the context\n * @returns {Object} Returns the calculated aggragate\n * @hidden\n */\nexport function calculateAggregate(type, data, column, context) {\n    if (type === 'Custom') {\n        var temp = column.customAggregate;\n        if (typeof temp === 'string') {\n            temp = getValue(temp, window);\n        }\n        return temp ? temp.call(context, data, column) : '';\n    }\n    return (column.field in data || data instanceof Array) ? DataUtil.aggregates[type.toLowerCase()](data, column.field) : null;\n}\n/** @hidden */\nvar scrollWidth = null;\n/** @hidden\n * @returns {number} - Returns the scrollbarwidth\n */\nexport function getScrollBarWidth() {\n    if (scrollWidth !== null) {\n        return scrollWidth;\n    }\n    var divNode = document.createElement('div');\n    var value = 0;\n    divNode.style.cssText = 'width:100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;';\n    document.body.appendChild(divNode);\n    value = (divNode.offsetWidth - divNode.clientWidth) | 0;\n    document.body.removeChild(divNode);\n    return scrollWidth = value;\n}\n/** @hidden */\nvar rowHeight;\n/**\n * @param {HTMLElement} element - Defines the element\n * @returns {number} Returns the roww height\n * @hidden\n */\nexport function getRowHeight(element) {\n    if (rowHeight !== undefined) {\n        return rowHeight;\n    }\n    var table = createElement('table', { className: literals.table, styles: 'visibility: hidden', attrs: { role: 'grid' } });\n    table.innerHTML = '<tr><td class=\"e-rowcell\">A<td></tr>';\n    element.appendChild(table);\n    var rect = table.querySelector('td').getBoundingClientRect();\n    element.removeChild(table);\n    rowHeight = Math.ceil(rect.height);\n    return rowHeight;\n}\n/** @hidden */\nvar actualRowHeight;\n/**\n * @param {HTMLElement} element - Defines the HTMl element\n * @returns {number} Returns the row height\n * @hidden\n */\nexport function getActualRowHeight(element) {\n    if (actualRowHeight !== undefined) {\n        return rowHeight;\n    }\n    var table = createElement('table', { className: literals.table, styles: 'visibility: hidden', attrs: { role: 'grid' } });\n    table.innerHTML = '<tr><td class=\"e-rowcell\">A<td></tr>';\n    element.appendChild(table);\n    var rect = table.querySelector('tr').getBoundingClientRect();\n    element.removeChild(table);\n    return rect.height;\n}\n/**\n * @param {string} field - Defines the field\n * @returns {boolean} - Returns is complex field\n * @hidden\n */\nexport function isComplexField(field) {\n    return field.split('.').length > 1;\n}\n/**\n * @param {string} field - Defines the field\n * @returns {string} - Returns the get complex field ID\n * @hidden\n */\nexport function getComplexFieldID(field) {\n    if (field === void 0) { field = ''; }\n    return field.replace(/\\./g, '___');\n}\n/**\n * @param {string} field - Defines the field\n * @returns {string} - Returns the set complex field ID\n * @hidden\n */\nexport function setComplexFieldID(field) {\n    if (field === void 0) { field = ''; }\n    return field.replace(/___/g, '.');\n}\n/**\n * @param {Column} col - Defines the column\n * @param {string} type - Defines the type\n * @param {Element} elem - Defines th element\n * @returns {boolean} Returns is Editable\n * @hidden\n */\nexport function isEditable(col, type, elem) {\n    var row = parentsUntil(elem, literals.row);\n    var isOldRow = !row ? true : row && !row.classList.contains('e-insertedrow');\n    if (type === 'beginEdit' && isOldRow) {\n        if (col.isIdentity || col.isPrimaryKey || !col.allowEditing) {\n            return false;\n        }\n        return true;\n    }\n    else if (type === 'add' && col.isIdentity) {\n        return false;\n    }\n    else {\n        if (isOldRow && !col.allowEditing && !col.isIdentity && !col.isPrimaryKey) {\n            return false;\n        }\n        return true;\n    }\n}\n/**\n * @param {IGrid} inst - Defines the IGrid\n * @returns {boolean} Returns is action prevent in boolean\n * @hidden\n */\nexport function isActionPrevent(inst) {\n    var dlg = select('#' + inst.element.id + 'EditConfirm', inst.element);\n    return inst.editSettings.mode === 'Batch' &&\n        (selectAll('.e-updatedtd', inst.element).length) && inst.editSettings.showConfirmDialog &&\n        (dlg ? dlg.classList.contains('e-popup-close') : true);\n}\n/**\n * @param {any} elem - Defines the element\n * @param {boolean} action - Defines the boolean for action\n * @returns {void}\n * @hidden\n */\n// eslint-disable-next-line\nexport function wrap(elem, action) {\n    var clName = 'e-wrap';\n    elem = elem instanceof Array ? elem : [elem];\n    for (var i = 0; i < elem.length; i++) {\n        if (action) {\n            elem[i].classList.add(clName);\n        }\n        else {\n            elem[i].classList.remove(clName);\n        }\n    }\n}\n/**\n * @param {ServiceLocator} serviceLocator - Defines the service locator\n * @param {Column} column  - Defines the column\n * @returns {void}\n * @hidden\n */\nexport function setFormatter(serviceLocator, column) {\n    var fmtr = serviceLocator.getService('valueFormatter');\n    var format = 'format';\n    var args;\n    if (column.type === 'date' || column.type === 'datetime') {\n        args = { type: column.type, skeleton: column.format };\n        if ((typeof (column.format) === 'string') && column.format !== 'yMd') {\n            args[format] = column.format;\n        }\n    }\n    switch (column.type) {\n        case 'date':\n            column.setFormatter(fmtr.getFormatFunction(args));\n            column.setParser(fmtr.getParserFunction(args));\n            break;\n        case 'datetime':\n            column.setFormatter(fmtr.getFormatFunction(args));\n            column.setParser(fmtr.getParserFunction(args));\n            break;\n        case 'number':\n            column.setFormatter(fmtr.getFormatFunction({ format: column.format }));\n            column.setParser(fmtr.getParserFunction({ format: column.format }));\n            break;\n    }\n}\n/**\n * @param {Element} cells - Defines the cell element\n * @param {boolean} add - Defines the add\n * @param {string} args - Defines the args\n * @returns {void}\n * @hidden\n */\nexport function addRemoveActiveClasses(cells, add) {\n    var args = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        args[_i - 2] = arguments[_i];\n    }\n    for (var i = 0, len = cells.length; i < len; i++) {\n        if (add) {\n            classList(cells[i], args.slice(), []);\n            cells[i].setAttribute('aria-selected', 'true');\n        }\n        else {\n            classList(cells[i], [], args.slice());\n            cells[i].removeAttribute('aria-selected');\n        }\n    }\n}\n/**\n * @param {string} result - Defines th string\n * @returns {string} Returns the distinct staing values\n * @hidden\n */\nexport function distinctStringValues(result) {\n    var temp = {};\n    var res = [];\n    for (var i = 0; i < result.length; i++) {\n        if (!(result[i] in temp)) {\n            res.push(result[i].toString());\n            temp[result[i]] = 1;\n        }\n    }\n    return res;\n}\n/**\n * @param {Element} target - Defines the target\n * @param {Dialog} dialogObj - Defines the dialog\n * @returns {void}\n * @hidden\n */\nexport function getFilterMenuPostion(target, dialogObj) {\n    var elementVisible = dialogObj.element.style.display;\n    dialogObj.element.style.display = 'block';\n    var dlgWidth = dialogObj.width;\n    var newpos = calculateRelativeBasedPosition(target, dialogObj.element);\n    dialogObj.element.style.display = elementVisible;\n    dialogObj.element.style.top = (newpos.top + target.getBoundingClientRect().height) - 5 + 'px';\n    var leftPos = ((newpos.left - dlgWidth) + target.clientWidth);\n    if (leftPos < 1) {\n        dialogObj.element.style.left = (dlgWidth + leftPos) - 16 + 'px'; // right calculation\n    }\n    else {\n        dialogObj.element.style.left = leftPos + -4 + 'px';\n    }\n}\n/**\n * @param {Object} args - Defines the args\n * @param {Popup} args.popup - Defines the args for popup\n * @param {Dialog} dialogObj - Defines the dialog obj\n * @returns {void}\n * @hidden\n */\nexport function getZIndexCalcualtion(args, dialogObj) {\n    args.popup.element.style.zIndex = (dialogObj.zIndex + 1).toString();\n}\n/**\n * @param {Element} elem - Defines the element\n * @returns {void}\n * @hidden\n */\nexport function toogleCheckbox(elem) {\n    var span = elem.querySelector('.e-frame');\n    var input = span.previousSibling;\n    if (span.classList.contains('e-check')) {\n        input.checked = false;\n        classList(span, ['e-uncheck'], ['e-check']);\n    }\n    else {\n        input.checked = true;\n        classList(span, ['e-check'], ['e-uncheck']);\n    }\n}\n/**\n * @param {HTMLInputElement} elem - Defines the element\n * @param {boolean} checked - Defines is checked\n * @returns {void}\n * @hidden\n */\nexport function setChecked(elem, checked) {\n    elem.checked = checked;\n}\n/**\n * @param {string} uid - Defines the string\n * @param {Element} elem - Defines the Element\n * @param {string} className - Defines the classname\n * @returns {Element} Returns the box wrap\n * @hidden\n */\nexport function createCboxWithWrap(uid, elem, className) {\n    var div = createElement('div', { className: className });\n    div.appendChild(elem);\n    div.setAttribute('uid', uid);\n    return div;\n}\n/**\n * @param {Element} elem - Defines the element\n * @param {boolean} checked - Defines is checked\n * @returns {void}\n * @hidden\n */\nexport function removeAddCboxClasses(elem, checked) {\n    removeClass([elem], ['e-check', 'e-stop', 'e-uncheck']);\n    if (checked) {\n        elem.classList.add('e-check');\n    }\n    else {\n        elem.classList.add('e-uncheck');\n    }\n}\n/**\n * Refresh the Row model's foreign data.\n *\n * @param {IRow<Column>} row - Grid Row model object.\n * @param {Column[]} columns - Foreign columns array.\n * @param {Object} data - Updated Row data.\n * @returns {void}\n * @hidden\n */\nexport function refreshForeignData(row, columns, data) {\n    for (var i = 0; i < columns.length; i++) {\n        setValue(columns[i].field, getForeignData(columns[i], data), row.foreignKeyData);\n    }\n    var cells = row.cells;\n    for (var i = 0; i < cells.length; i++) {\n        if (cells[i].isForeignKey) {\n            setValue('foreignKeyData', getValue(cells[i].column.field, row.foreignKeyData), cells[i]);\n        }\n    }\n}\n/**\n * Get the foreign data for the corresponding cell value.\n *\n * @param {Column} column - Foreign Key column\n * @param {Object} data - Row data.\n * @param {string | number} lValue - cell value.\n * @param {Object} foreignKeyData - foreign data source.\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function getForeignData(column, data, lValue, foreignKeyData) {\n    var fField = column.foreignKeyField;\n    var key = (!isNullOrUndefined(lValue) ? lValue : valueAccessor(column.field, data, column));\n    key = isNullOrUndefined(key) ? '' : key;\n    var query = new Query();\n    var fdata = foreignKeyData || ((column.dataSource instanceof DataManager) && column.dataSource.dataSource.json.length ?\n        column.dataSource.dataSource.json : column.columnData);\n    if (key.getDay) {\n        query.where(getDatePredicate({ field: fField, operator: 'equal', value: key, matchCase: false }));\n    }\n    else {\n        query.where(fField, '==', key, false);\n    }\n    return new DataManager(fdata).executeLocal(query);\n}\n/**\n * To use to get the column's object by the foreign key value.\n *\n * @param {string} foreignKeyValue - Defines ForeignKeyValue.\n * @param {Column[]} columns - Array of column object.\n * @returns {Column} Returns the element\n * @hidden\n */\nexport function getColumnByForeignKeyValue(foreignKeyValue, columns) {\n    var column;\n    return columns.some(function (col) {\n        column = col;\n        return col.foreignKeyValue === foreignKeyValue;\n    }) && column;\n}\n/**\n * @param {PredicateModel} filterObject - Defines the filterObject\n * @param {string} type - Defines the type\n * @returns {Predicate} Returns the Predicate\n * @hidden\n */\nexport function getDatePredicate(filterObject, type) {\n    var datePredicate;\n    var prevDate;\n    var nextDate;\n    var prevObj = baseExtend({}, getActualProperties(filterObject));\n    var nextObj = baseExtend({}, getActualProperties(filterObject));\n    if (isNullOrUndefined(filterObject.value)) {\n        datePredicate = new Predicate(prevObj.field, prevObj.operator, prevObj.value, false);\n        return datePredicate;\n    }\n    var value = new Date(filterObject.value);\n    if (filterObject.operator === 'equal' || filterObject.operator === 'notequal') {\n        if (type === 'datetime') {\n            prevDate = new Date(value.setSeconds(value.getSeconds() - 1));\n            nextDate = new Date(value.setSeconds(value.getSeconds() + 2));\n            filterObject.value = new Date(value.setSeconds(nextDate.getSeconds() - 1));\n        }\n        else {\n            prevDate = new Date(value.setHours(0) - 1);\n            nextDate = new Date(value.setHours(24));\n        }\n        prevObj.value = prevDate;\n        nextObj.value = nextDate;\n        if (filterObject.operator === 'equal') {\n            prevObj.operator = 'greaterthan';\n            nextObj.operator = 'lessthan';\n        }\n        else if (filterObject.operator === 'notequal') {\n            prevObj.operator = 'lessthanorequal';\n            nextObj.operator = 'greaterthanorequal';\n        }\n        var predicateSt = new Predicate(prevObj.field, prevObj.operator, prevObj.value, false);\n        var predicateEnd = new Predicate(nextObj.field, nextObj.operator, nextObj.value, false);\n        datePredicate = filterObject.operator === 'equal' ? predicateSt.and(predicateEnd) : predicateSt.or(predicateEnd);\n    }\n    else {\n        if (type === 'date' && (filterObject.operator === 'lessthanorequal' || filterObject.operator === 'greaterthan')) {\n            prevObj.value = new Date(value.setHours(24) - 1);\n        }\n        if (typeof (prevObj.value) === 'string') {\n            prevObj.value = new Date(prevObj.value);\n        }\n        var predicates = new Predicate(prevObj.field, prevObj.operator, prevObj.value, false);\n        datePredicate = predicates;\n    }\n    if (filterObject.setProperties) {\n        filterObject.setProperties({ ejpredicate: datePredicate }, true);\n    }\n    else {\n        filterObject.ejpredicate = datePredicate;\n    }\n    return datePredicate;\n}\n/**\n * @param {Element} ele - Defines the element\n * @param {number} frzCols - Defines the frozen columns\n * @param {IGrid} gObj - Defines the IGrid\n * @returns {Element} Returns the element\n * @hidden\n */\nexport function renderMovable(ele, frzCols, gObj) {\n    frzCols = frzCols && gObj && gObj.isRowDragable() ? frzCols + 1 : frzCols;\n    var mEle = ele.cloneNode(true);\n    for (var i = 0; i < frzCols; i++) {\n        mEle.removeChild(mEle.children[0]);\n    }\n    for (var i = frzCols, len = ele.childElementCount; i < len; i++) {\n        ele.removeChild(ele.children[ele.childElementCount - 1]);\n    }\n    return mEle;\n}\n/**\n * @param {IGrid} grid - Defines the IGrid\n * @returns {boolean} Returns true if group adaptive is true\n * @hidden\n */\nexport function isGroupAdaptive(grid) {\n    return grid.enableVirtualization && grid.groupSettings.columns.length > 0 && grid.isVirtualAdaptive;\n}\n/**\n * @param {string} field - Defines the Field\n * @param {Object} object - Defines the objec\n * @returns {any} Returns the object\n * @hidden\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getObject(field, object) {\n    if (field === void 0) { field = ''; }\n    if (field) {\n        var value = object;\n        var splits = field.split('.');\n        for (var i = 0; i < splits.length && !isNullOrUndefined(value); i++) {\n            value = value[splits[i]];\n        }\n        return value;\n    }\n}\n/**\n * @param {string | Object} format - defines the format\n * @param {string} colType - Defines the coltype\n * @returns {string} Returns the custom Data format\n * @hidden\n */\nexport function getCustomDateFormat(format, colType) {\n    var intl = new Internationalization();\n    var formatvalue;\n    var formatter = 'format';\n    var type = 'type';\n    if (colType === 'date') {\n        formatvalue = typeof (format) === 'object' ?\n            intl.getDatePattern({ type: format[type] ? format[type] : 'date', format: format[formatter] }, false) :\n            intl.getDatePattern({ type: 'dateTime', skeleton: format }, false);\n    }\n    else {\n        formatvalue = typeof (format) === 'object' ?\n            intl.getDatePattern({ type: format[type] ? format[type] : 'dateTime', format: format[formatter] }, false) :\n            intl.getDatePattern({ type: 'dateTime', skeleton: format }, false);\n    }\n    return formatvalue;\n}\n/**\n * @param {IGrid} gObj - Defines the IGrid\n * @param {HierarchyGridPrintMode} hierarchyPrintMode - Defines the hierarchyPrintMode\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function getExpandedState(gObj, hierarchyPrintMode) {\n    var rows = gObj.getRowsObject();\n    var obj = {};\n    for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n        var row = rows_1[_i];\n        if (row.isExpand && !row.isDetailRow) {\n            var index = gObj.allowPaging && gObj.printMode === 'AllPages' ? row.index +\n                (gObj.pageSettings.currentPage * gObj.pageSettings.pageSize) - gObj.pageSettings.pageSize : row.index;\n            obj[index] = {};\n            obj[index].isExpand = true;\n            obj[index].gridModel = getPrintGridModel(row.childGrid, hierarchyPrintMode);\n            obj[index].gridModel.query = gObj.childGrid.query;\n        }\n    }\n    return obj;\n}\n/**\n * @param {IGrid} gObj - Defines the grid objct\n * @param {HierarchyGridPrintMode} hierarchyPrintMode - Defines the hierarchyPrintMode\n * @returns {IGrid} Returns the IGrid\n * @hidden\n */\nexport function getPrintGridModel(gObj, hierarchyPrintMode) {\n    if (hierarchyPrintMode === void 0) { hierarchyPrintMode = 'Expanded'; }\n    var printGridModel = {};\n    if (!gObj) {\n        return printGridModel;\n    }\n    var isFrozen = gObj.isFrozenGrid() && !gObj.getFrozenColumns();\n    for (var _i = 0, _a = Print.printGridProp; _i < _a.length; _i++) {\n        var key = _a[_i];\n        if (key === 'columns') {\n            printGridModel[key] = getActualPropFromColl(isFrozen ? gObj.getColumns() : gObj[key]);\n        }\n        else if (key === 'allowPaging') {\n            printGridModel[key] = gObj.printMode === 'CurrentPage';\n        }\n        else {\n            printGridModel[key] = getActualProperties(gObj[key]);\n        }\n    }\n    printGridModel['enableHover'] = false;\n    if (gObj.childGrid && hierarchyPrintMode !== 'None') {\n        printGridModel.expandedRows = getExpandedState(gObj, hierarchyPrintMode);\n    }\n    return printGridModel;\n}\n/**\n * @param {Object} copied - Defines the copied object\n * @param {Object} first - Defines the first object\n * @param {Object} second - Defines the second object\n * @param {boolean} deep - Defines the deep\n * @returns {Object} Returns the extended object\n * @hidden\n */\nexport function extendObjWithFn(copied, first, second, deep) {\n    var res = copied || {};\n    var len = arguments.length;\n    if (deep) {\n        len = len - 1;\n    }\n    for (var i = 1; i < len; i++) {\n        // eslint-disable-next-line prefer-rest-params\n        if (!arguments[i]) {\n            continue;\n        }\n        // eslint-disable-next-line prefer-rest-params\n        var obj1 = arguments[i];\n        var keys = Object.keys(Object.getPrototypeOf(obj1)).length ?\n            Object.keys(obj1).concat(getPrototypesOfObj(obj1)) : Object.keys(obj1);\n        for (var i_1 = 0; i_1 < keys.length; i_1++) {\n            var source = res[keys[i_1]];\n            var cpy = obj1[keys[i_1]];\n            var cln = void 0;\n            if (deep && (isObject(cpy) || Array.isArray(cpy))) {\n                if (isObject(cpy)) {\n                    cln = source ? source : {};\n                    res[keys[i_1]] = baseExtend({}, cln, cpy, deep);\n                }\n                else {\n                    cln = source ? source : [];\n                    res[keys[i_1]] = baseExtend([], cln, cpy, deep);\n                }\n            }\n            else {\n                res[keys[i_1]] = cpy;\n            }\n        }\n    }\n    return res;\n}\n/**\n * @param {Object} obj - Defines the obj\n * @returns {string[]} Returns the string\n * @hidden\n */\nfunction getPrototypesOfObj(obj) {\n    var keys = [];\n    while (Object.getPrototypeOf(obj) && Object.keys(Object.getPrototypeOf(obj)).length) {\n        keys = keys.concat(Object.keys(Object.getPrototypeOf(obj)));\n        obj = Object.getPrototypeOf(obj);\n    }\n    return keys;\n}\n/**\n * @param {Column[]} column - Defines the Column\n * @returns {number} Returns the column Depth\n * @hidden\n */\nexport function measureColumnDepth(column) {\n    var max = 0;\n    for (var i = 0; i < column.length; i++) {\n        var depth = checkDepth(column[i], 0);\n        if (max < depth) {\n            max = depth;\n        }\n    }\n    return max + 1;\n}\n/**\n * @param {Column} col - Defines the Column\n * @param {number} index - Defines the index\n * @returns {number} Returns the depth\n * @hidden\n */\nexport function checkDepth(col, index) {\n    var max = index;\n    var indices = [];\n    if (col.columns) {\n        index++;\n        for (var i = 0; i < col.columns.length; i++) {\n            indices[i] = checkDepth(col.columns[i], index);\n        }\n        for (var j = 0; j < indices.length; j++) {\n            if (max < indices[j]) {\n                max = indices[j];\n            }\n        }\n        index = max;\n    }\n    return index;\n}\n/**\n * @param {IGrid} gObj - Defines the IGrid\n * @param {PredicateModel[]} filteredCols - Defines the PredicateModel\n * @returns {void}\n * @hidden\n */\nexport function refreshFilteredColsUid(gObj, filteredCols) {\n    for (var i = 0; i < filteredCols.length; i++) {\n        filteredCols[i].uid = filteredCols[i].isForeignKey ?\n            getColumnByForeignKeyValue(filteredCols[i].field, gObj.getForeignKeyColumns()).uid\n            : gObj.enableColumnVirtualization ? getColumnModelByFieldName(gObj, filteredCols[i].field).uid\n                : gObj.getColumnByField(filteredCols[i].field).uid;\n    }\n}\n/** @hidden */\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport var Global;\n(function (Global) {\n    // eslint-disable-next-line prefer-const\n    Global.timer = null;\n})(Global || (Global = {}));\n/**\n * @param {Element} element - Defines the element\n * @returns {Object} Returns the transform values\n * @hidden\n */\nexport function getTransformValues(element) {\n    var style = document.defaultView.getComputedStyle(element, null);\n    var transformV = style.getPropertyValue('transform');\n    var replacedTv = transformV.replace(/,/g, '');\n    var translateX = parseFloat((replacedTv).split(' ')[4]);\n    var translateY = parseFloat((replacedTv).split(' ')[5]);\n    return { width: translateX, height: translateY };\n}\n/**\n * @param {Element} rootElement - Defines the root Element\n * @param {Element} element - Defines the element\n * @returns {void}\n * @hidden\n */\nexport function applyBiggerTheme(rootElement, element) {\n    if (rootElement.classList.contains('e-bigger')) {\n        element.classList.add('e-bigger');\n    }\n}\n/**\n * @param {HTMLElement} mTD - Defines the movable TD\n * @param {HTMLElement} fTD  - Defines the Frozen TD\n * @returns {void}\n * @hidden\n */\nexport function alignFrozenEditForm(mTD, fTD) {\n    if (mTD && fTD) {\n        var mHeight = closest(mTD, '.' + literals.row).getBoundingClientRect().height;\n        var fHeight = closest(fTD, '.' + literals.row).getBoundingClientRect().height;\n        if (mHeight > fHeight) {\n            fTD.style.height = mHeight + 'px';\n        }\n        else {\n            mTD.style.height = fHeight + 'px';\n        }\n    }\n}\n/**\n * @param {Element} row - Defines row element\n * @param {IGrid} gridObj - Defines grid object\n * @returns {boolean} Returns isRowEnteredInGrid\n * @hidden\n */\nexport function ensureLastRow(row, gridObj) {\n    var cntOffset = gridObj.getContent().firstElementChild.offsetHeight;\n    return row && row.getBoundingClientRect().top > cntOffset;\n}\n/**\n * @param {Element} row - Defines row element\n * @param {number} rowTop - Defines row top number\n * @returns {boolean} Returns first row is true\n * @hidden\n */\nexport function ensureFirstRow(row, rowTop) {\n    return row && row.getBoundingClientRect().top < rowTop;\n}\n/**\n * @param {number} index - Defines index\n * @param {IGrid} gObj - Defines grid object\n * @returns {boolean} Returns isRowEnteredInGrid\n * @hidden\n */\nexport function isRowEnteredInGrid(index, gObj) {\n    var rowHeight = gObj.getRowHeight();\n    var startIndex = gObj.getContent().firstElementChild.scrollTop / rowHeight;\n    var endIndex = startIndex + (gObj.getContent().firstElementChild.offsetHeight / rowHeight);\n    return index < endIndex && index > startIndex;\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @param {Object} data - Defines the query\n * @returns {number} Returns the edited data index\n * @hidden\n */\nexport function getEditedDataIndex(gObj, data) {\n    var keyField = gObj.getPrimaryKeyFieldNames()[0];\n    var dataIndex;\n    gObj.getCurrentViewRecords().filter(function (e, index) {\n        if (e[keyField] === data[keyField]) {\n            dataIndex = index;\n        }\n    });\n    return dataIndex;\n}\n/**\n * @param {Object} args - Defines the argument\n * @param {Query} query - Defines the query\n * @returns {FilterStateObj} Returns the filter state object\n * @hidden\n */\nexport function eventPromise(args, query) {\n    var state = getStateEventArgument(query);\n    var def = new Deferred();\n    state.dataSource = def.resolve;\n    state.action = args;\n    return { state: state, deffered: def };\n}\n/**\n * @param {Query} query - Defines the query\n * @returns {Object} Returns the state event argument\n * @hidden\n */\nexport function getStateEventArgument(query) {\n    var adaptr = new UrlAdaptor();\n    var dm = new DataManager({ url: '', adaptor: new UrlAdaptor });\n    var state = adaptr.processQuery(dm, query);\n    var data = JSON.parse(state.data);\n    return data;\n}\n/**\n * @param {IGrid} gObj - Defines the Igrid\n * @returns {boolean} Returns the ispercentageWidth\n * @hidden\n */\nexport function ispercentageWidth(gObj) {\n    var columns = gObj.getVisibleColumns();\n    var percentageCol = 0;\n    var undefinedWidthCol = 0;\n    for (var i = 0; i < columns.length; i++) {\n        if (isUndefined(columns[i].width)) {\n            undefinedWidthCol++;\n        }\n        else if (columns[i].width.toString().indexOf('%') !== -1) {\n            percentageCol++;\n        }\n    }\n    return (gObj.width === 'auto' || typeof (gObj.width) === 'string' && gObj.width.indexOf('%') !== -1) &&\n        !gObj.groupSettings.showGroupedColumn && gObj.groupSettings.columns.length\n        && percentageCol && !undefinedWidthCol;\n}\n/**\n * @param {IGrid} gObj - Defines the IGrid\n * @param {Row<Column>[]} rows - Defines the row\n * @param {HTMLTableRowElement[]} rowElms - Row elements\n * @param {number} index - Row index\n * @returns {void}\n * @hidden\n */\nexport function resetRowIndex(gObj, rows, rowElms, index) {\n    var startIndex = index ? index : 0;\n    for (var i = 0; i < rows.length; i++) {\n        if (rows[i].isDataRow) {\n            rows[i].index = startIndex;\n            rows[i].isAltRow = gObj.enableAltRow ? startIndex % 2 !== 0 : false;\n            rowElms[i].setAttribute(literals.ariaRowIndex, startIndex.toString());\n            if (rows[i].isAltRow) {\n                rowElms[i].classList.add('e-altrow');\n            }\n            else {\n                rowElms[i].classList.remove('e-altrow');\n            }\n            for (var j = 0; j < rowElms[i].cells.length; j++) {\n                rowElms[i].cells[j].setAttribute('index', startIndex.toString());\n            }\n            startIndex++;\n        }\n    }\n    if (!rows.length) {\n        gObj.renderModule.emptyRow(true);\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @param {Object} changes - Defines the changes\n * @param {string} type - Defines the type\n * @param {string} keyField - Defines the keyfield\n * @returns {void}\n * @hidden\n */\nexport function compareChanges(gObj, changes, type, keyField) {\n    var newArray = gObj.dataToBeUpdated[type].concat(changes[type]).reduce(function (r, o) {\n        r[o[keyField]] = r[o[keyField]] === undefined ? o : Object.assign(r[o[keyField]], o);\n        return r;\n    }, {});\n    gObj.dataToBeUpdated[type] = Object.keys(newArray).map(function (k) { return newArray[k]; });\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @returns {void}\n * @hidden\n */\nexport function setRowElements(gObj) {\n    if (gObj.isFrozenGrid()) {\n        (gObj).contentModule.rowElements =\n            [].slice.call(gObj.element.querySelectorAll('.e-movableheader .e-row, .e-movablecontent .e-row'));\n        var cls = gObj.getFrozenMode() === literals.leftRight ? '.e-frozen-left-header .e-row, .e-frozen-left-content .e-row'\n            : '.e-frozenheader .e-row, .e-frozencontent .e-row';\n        (gObj).contentModule.freezeRowElements =\n            [].slice.call(gObj.element.querySelectorAll(cls));\n        if (gObj.getFrozenMode() === literals.leftRight) {\n            gObj.contentModule.frozenRightRowElements =\n                [].slice.call(gObj.element.querySelectorAll('.e-frozen-right-header .e-row, .e-frozen-right-content .e-row'));\n        }\n    }\n    else {\n        (gObj).contentModule.rowElements =\n            [].slice.call(gObj.element.querySelectorAll('.e-row:not(.e-addedrow)'));\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @param {Cell<Column>} cells - Defines the callback function\n * @param {freezeTable} tableName - Defines the row\n * @returns {Cell<Column>[]} Returns the cell\n * @hidden\n */\nexport function splitFrozenRowObjectCells(gObj, cells, tableName) {\n    var left = gObj.getFrozenLeftCount();\n    var movable = gObj.getMovableColumnsCount();\n    var right = gObj.getFrozenRightColumnsCount();\n    var frozenMode = gObj.getFrozenMode();\n    var drag = gObj.isRowDragable() ? 1 : 0;\n    var rightIndex = frozenMode === 'Right' ? left + movable : left + movable + drag;\n    var mvblIndex = frozenMode === 'Right' ? left : left + drag;\n    var mvblEndIdx = frozenMode === 'Right' ? cells.length - right - drag\n        : right ? cells.length - right : cells.length;\n    if (tableName === literals.frozenLeft) {\n        cells = cells.slice(0, left ? left + drag : cells.length);\n    }\n    else if (tableName === literals.frozenRight) {\n        cells = cells.slice(rightIndex, cells.length);\n    }\n    else if (tableName === 'movable') {\n        cells = cells.slice(mvblIndex, mvblEndIdx);\n    }\n    return cells;\n}\n// eslint-disable-next-line\n/** @hidden */\nexport function gridActionHandler(gObj, callBack, rows, force, rowObj) {\n    if (rows[0].length || force) {\n        if (rowObj) {\n            callBack(literals.frozenLeft, rows[0], rowObj[0]);\n        }\n        else {\n            callBack(literals.frozenLeft, rows[0]);\n        }\n    }\n    if (gObj.isFrozenGrid() && (rows[1].length || force)) {\n        if (rowObj) {\n            callBack('movable', rows[1], rowObj[1]);\n        }\n        else {\n            callBack('movable', rows[1]);\n        }\n    }\n    if ((gObj.getFrozenMode() === literals.leftRight || gObj.getFrozenMode() === 'Right') && (rows[2].length || force)) {\n        if (rowObj) {\n            callBack(literals.frozenRight, rows[2], rowObj[2]);\n        }\n        else {\n            callBack(literals.frozenRight, rows[2]);\n        }\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the grid\n * @returns {Row<Column>} Returns the row\n * @hidden\n */\nexport function getGridRowObjects(gObj) {\n    return [gObj.getFrozenMode() !== 'Right' ? gObj.getRowsObject() : [], gObj.getMovableRowsObject(), gObj.getFrozenRightRowsObject()];\n}\n/**\n * @param {IGrid} gObj - Defines the grid\n * @returns {Element} Returns the element\n * @hidden\n */\nexport function getGridRowElements(gObj) {\n    return [\n        gObj.getFrozenMode() !== 'Right' ? gObj.getAllDataRows(true) : [],\n        gObj.getAllMovableDataRows(true), gObj.getAllFrozenRightDataRows(true)\n    ];\n}\n/**\n * @param {Element} row - Defines the row\n * @param {number} start - Defines the start index\n * @param {number} end - Defines the end index\n * @returns {void}\n * @hidden\n */\nexport function sliceElements(row, start, end) {\n    var cells = row.children;\n    var len = cells.length;\n    var k = 0;\n    for (var i = 0; i < len; i++, k++) {\n        if (i >= start && i < end) {\n            continue;\n        }\n        row.removeChild(row.children[k]);\n        k--;\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the grid Object\n * @param {Column} col - Defines the column\n * @param {number} rowIndex - Defines the rowindex\n * @returns {Element} Returns the element\n * @hidden\n */\nexport function getCellsByTableName(gObj, col, rowIndex) {\n    if (col.getFreezeTableName() === 'movable') {\n        return [].slice.call(gObj.getMovableDataRows()[rowIndex].getElementsByClassName(literals.rowCell));\n    }\n    else if (col.getFreezeTableName() === literals.frozenRight) {\n        return [].slice.call(gObj.getFrozenRightDataRows()[rowIndex].getElementsByClassName(literals.rowCell));\n    }\n    else {\n        return [].slice.call(gObj.getDataRows()[rowIndex].getElementsByClassName(literals.rowCell));\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the column\n * @param {Column} col - Defines the index\n * @param {number} rowIndex - Defines the rules\n * @param {number} index - Defines the movable column rules\n * @returns {Element} Returns the Element\n * @hidden\n */\nexport function getCellByColAndRowIndex(gObj, col, rowIndex, index) {\n    var left = gObj.getFrozenLeftCount();\n    var movable = gObj.getMovableColumnsCount();\n    index = col.getFreezeTableName() === 'movable' ? index - left : col.getFreezeTableName() === literals.frozenRight\n        ? index - (left + movable) : index;\n    return getCellsByTableName(gObj, col, rowIndex)[index];\n}\n/**\n * @param {Column} col - Defines the column\n * @param {number} index - Defines the index\n * @param {Object} rules - Defines the rules\n * @param {Object} mRules - Defines the movable column rules\n * @param {Object} frRules - Defines the Frozen rules\n * @param {number} len - Defines the length\n * @param {boolean} isCustom - Defines custom form validation\n * @returns {void}\n * @hidden\n */\nexport function setValidationRuels(col, index, rules, mRules, frRules, len, isCustom) {\n    if (isCustom) {\n        rules[getComplexFieldID(col.field)] = col.validationRules;\n    }\n    else {\n        if (col.getFreezeTableName() === literals.frozenLeft\n            || (!index && col.getFreezeTableName() === literals.frozenRight) || len === 1) {\n            rules[getComplexFieldID(col.field)] = col.validationRules;\n        }\n        else if (col.getFreezeTableName() === 'movable' || !col.getFreezeTableName()) {\n            mRules[getComplexFieldID(col.field)] = col.validationRules;\n        }\n        else if (col.getFreezeTableName() === literals.frozenRight) {\n            frRules[getComplexFieldID(col.field)] = col.validationRules;\n        }\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @returns {Element} Returns the Element\n * @hidden\n */\nexport function getMovableTbody(gObj) {\n    var tbody;\n    if (gObj.isFrozenGrid()) {\n        tbody = gObj.frozenRows && gObj.editSettings.newRowPosition === 'Top' ? gObj.getMovableHeaderTbody()\n            : gObj.getMovableContentTbody();\n    }\n    return tbody;\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @returns {Element} Returns the Element\n * @hidden\n */\nexport function getFrozenRightTbody(gObj) {\n    var tbody;\n    if (gObj.getFrozenMode() === literals.leftRight) {\n        tbody = gObj.frozenRows && gObj.editSettings.newRowPosition === 'Top' ? gObj.getFrozenRightHeaderTbody()\n            : gObj.getFrozenRightContentTbody();\n    }\n    return tbody;\n}\n/**\n * @param {Element} tbody - Table body\n * @param {Element} mTbody - Movanle table body\n * @param {Element} frTbody - Frozen right table body\n * @param {Element[]} tr - Table rows\n * @param {Element[]} mTr - Movable table rows\n * @param {Element[]} frTr - Frozen right table rows\n * @param {Function} callBack - Callback function\n * @returns {void}\n * @hidden\n */\nexport function setRowsInTbody(tbody, mTbody, frTbody, tr, mTr, frTr, callBack) {\n    if (tbody && tr) {\n        callBack(tbody, tr);\n    }\n    if (mTbody && mTr) {\n        callBack(mTbody, mTr);\n    }\n    if (frTbody && frTr) {\n        callBack(frTbody, frTr);\n    }\n}\n/**\n * @param {string} numberFormat - Format\n * @param {string} type - Value type\n * @param {boolean} isExcel - Boolean property\n * @returns {string} returns formated value\n * @hidden\n */\nexport function getNumberFormat(numberFormat, type, isExcel) {\n    var format;\n    var intl = new Internationalization();\n    if (type === 'number') {\n        try {\n            format = intl.getNumberPattern({ format: numberFormat, currency: this.currency, useGrouping: true }, true);\n        }\n        catch (error) {\n            format = numberFormat;\n        }\n    }\n    else if (type === 'date' || type === 'time' || type === 'datetime') {\n        try {\n            format = intl.getDatePattern({ skeleton: numberFormat, type: type }, isExcel);\n            if (isNullOrUndefined(format)) {\n                // eslint-disable-next-line\n                throw 'error';\n            }\n        }\n        catch (error) {\n            try {\n                format = intl.getDatePattern({ format: numberFormat, type: type }, isExcel);\n            }\n            catch (error) {\n                format = numberFormat;\n            }\n        }\n    }\n    else {\n        format = numberFormat;\n    }\n    if (type !== 'number') {\n        var patternRegex = /G|H|c|'| a|yy|y|EEEE|E/g;\n        var mtch_1 = { 'G': '', 'H': 'h', 'c': 'd', '\\'': '\"', ' a': ' AM/PM', 'yy': 'yy', 'y': 'yyyy', 'EEEE': 'dddd', 'E': 'ddd' };\n        format = format.replace(patternRegex, function (pattern) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            return mtch_1[pattern];\n        });\n    }\n    return format;\n}\n/**\n * @param {IGrid} gObj - Grid instance\n * @returns {void}\n * @hidden\n */\nexport function addBiggerDialog(gObj) {\n    if (gObj.enableAdaptiveUI) {\n        var dialogs = document.getElementsByClassName('e-responsive-dialog');\n        for (var i = 0; i < dialogs.length; i++) {\n            dialogs[i].classList.add('e-bigger');\n        }\n    }\n}\n/**\n * @param {string} value - specifies the trr\n * @param {Object} mapObject - specifies the idx\n * @returns {Object | string} returns object or string\n * @hidden\n */\nexport function performComplexDataOperation(value, mapObject) {\n    var returnObj;\n    var length = value.split('.').length;\n    var splits = value.split('.');\n    var duplicateMap = mapObject;\n    for (var i = 0; i < length; i++) {\n        returnObj = duplicateMap[splits[i]];\n        duplicateMap = returnObj;\n    }\n    return returnObj;\n}\n/**\n * @param {Object} tr - specifies the trr\n * @param {number} idx - specifies the idx\n * @param {string} displayVal - specifies the displayval\n * @param {Row<Column>} rows - specifies the rows\n * @param {IGrid} parent - Grid instance\n * @param {boolean} isContent - check for content renderer\n * @returns {void}\n * @hidden\n */\nexport function setDisplayValue(tr, idx, displayVal, rows, parent, isContent) {\n    var trs = Object.keys(tr);\n    for (var i = 0; i < trs.length; i++) {\n        var td = tr[trs[i]].querySelectorAll('td.e-rowcell')[idx];\n        if (tr[trs[i]].querySelectorAll('td.e-rowcell').length && td) {\n            setStyleAttribute(tr[trs[i]].querySelectorAll('td.e-rowcell')[idx], { 'display': displayVal });\n            if (tr[trs[i]].querySelectorAll('td.e-rowcell')[idx].classList.contains('e-hide')) {\n                removeClass([tr[trs[i]].querySelectorAll('td.e-rowcell')[idx]], ['e-hide']);\n            }\n            if (isContent && parent.isRowDragable()) {\n                var index = parent.getFrozenColumns() ? idx : idx + 1;\n                rows[trs[i]].cells[index].visible = displayVal === '' ? true : false;\n            }\n            else {\n                rows[trs[i]].cells[idx].visible = displayVal === '' ? true : false;\n            }\n        }\n    }\n}\n// eslint-disable-next-line\n/** @hidden */\nexport function addRemoveEventListener(parent, evt, isOn, module) {\n    for (var _i = 0, evt_1 = evt; _i < evt_1.length; _i++) {\n        var inst = evt_1[_i];\n        if (isOn) {\n            parent.on(inst.event, inst.handler, module);\n        }\n        else {\n            parent.off(inst.event, inst.handler);\n        }\n    }\n}\n// eslint-disable-next-line\n/** @hidden */\nexport function createEditElement(parent, column, classNames, attr) {\n    var complexFieldName = getComplexFieldID(column.field);\n    attr = Object.assign(attr, {\n        id: parent.element.id + complexFieldName,\n        name: complexFieldName, 'e-mappinguid': column.uid\n    });\n    return parent.createElement('input', {\n        className: classNames, attrs: attr\n    });\n}\n/**\n * @param {IGrid} gObj - Grid instance\n * @param {string} uid - Defines column's uid\n * @returns {Column} returns column model\n * @hidden\n */\nexport function getColumnModelByUid(gObj, uid) {\n    var column;\n    for (var _i = 0, _a = (gObj.columnModel); _i < _a.length; _i++) {\n        var col = _a[_i];\n        if (col.uid === uid) {\n            column = col;\n            break;\n        }\n    }\n    return column;\n}\n/**\n * @param {IGrid} gObj - Grid instance\n * @param {string} field - Defines column's uid\n * @returns {Column} returns column model\n * @hidden\n */\nexport function getColumnModelByFieldName(gObj, field) {\n    var column;\n    if (!gObj.columnModel) {\n        gObj.getColumns();\n    }\n    for (var _i = 0, _a = (gObj.columnModel); _i < _a.length; _i++) {\n        var col = _a[_i];\n        if (col.field === field) {\n            column = col;\n            break;\n        }\n    }\n    return column;\n}\n/**\n * @param {string} id - Defines component id\n * @param {string[]} evts - Defines events\n * @param {object} handlers - Defines event handlers\n * @param {any} instance - Defines class instance\n * @returns {void}\n * @hidden\n */\n// eslint-disable-next-line\nexport function registerEventHandlers(id, evts, handlers, instance) {\n    instance.eventHandlers[id] = {};\n    for (var i = 0; i < evts.length; i++) {\n        instance.eventHandlers[id][evts[i]] = handlers[evts[i]];\n    }\n}\n/**\n * @param {any} component - Defines component instance\n * @param {string[]} evts - Defines events\n * @param {any} instance - Defines class instance\n * @returns {void}\n * @hidden\n */\n// eslint-disable-next-line\nexport function removeEventHandlers(component, evts, instance) {\n    for (var i = 0; i < evts.length; i++) {\n        if (component.isDestroyed) {\n            break;\n        }\n        component.removeEventListener(evts[i], instance.eventHandlers[component.element.id][evts[i]]);\n    }\n}\n/**\n * @param {IGrid | IXLFilter} parent - Defines parent instance\n * @param {string[]} templates - Defines the templates name which are needs to clear\n * @returns {void}\n * @hidden\n */\nexport function clearReactVueTemplates(parent, templates) {\n    parent.destroyTemplate(templates);\n    if (parent.isReact) {\n        parent.renderTemplates();\n    }\n}\n/**\n *\n * @param { Element } row - Defines row element\n * @returns { number } row index\n */\nexport function getRowIndexFromElement(row) {\n    return parseInt(row.getAttribute(literals.ariaRowIndex), 10);\n}\n/**\n *\n * @param { string[] } fields - Defines grouped fields\n * @param { values } values - Defines caption keys\n * @param { any } instance - Defines dynamic class instance\n * @returns { Predicate } returns filter predicate\n */\n// eslint-disable-next-line\nexport function generateExpandPredicates(fields, values, instance) {\n    var filterCols = [];\n    for (var i = 0; i < fields.length; i++) {\n        var column = instance.parent.getColumnByField(fields[i]);\n        var value = values[i] === 'null' ? null : values[i];\n        var pred = {\n            field: fields[i], predicate: 'or', uid: column.uid, operator: 'equal', type: column.type,\n            matchCase: instance.allowCaseSensitive, ignoreAccent: instance.parent.filterSettings.ignoreAccent\n        };\n        if (value === '' || isNullOrUndefined(value)) {\n            filterCols = filterCols.concat(CheckBoxFilterBase.generateNullValuePredicates(pred));\n        }\n        else {\n            filterCols.push(extend({}, { value: value }, pred));\n        }\n    }\n    return CheckBoxFilterBase.getPredicate(filterCols);\n}\n/**\n *\n * @param { Predicate } pred - Defines filter predicate\n * @returns { Predicate[] } Returns formed predicate\n */\nexport function getPredicates(pred) {\n    var predicateList = [];\n    for (var _i = 0, _a = Object.keys(pred); _i < _a.length; _i++) {\n        var prop = _a[_i];\n        predicateList.push(pred[prop]);\n    }\n    return predicateList;\n}\n/**\n *\n * @param { number } index - Defines group caption indent\n * @param { Row<Column>[] } rowsObject - Defines rows object\n * @returns { { fields: string[], keys: string[] } } Returns grouped keys and values\n */\nexport function getGroupKeysAndFields(index, rowsObject) {\n    var fields = [];\n    var keys = [];\n    for (var i = index; i >= 0; i--) {\n        if (rowsObject[i].isCaptionRow && fields.indexOf(rowsObject[i].data.field) === -1\n            && (rowsObject[i].indent < rowsObject[index].indent || i === index)) {\n            fields.push(rowsObject[i].data.field);\n            keys.push(rowsObject[i].data.key);\n            if (rowsObject[i].indent === 0) {\n                break;\n            }\n        }\n    }\n    return { fields: fields, keys: keys };\n}\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { DataManager } from './manager';\nimport { Query, Predicate } from './query';\nvar consts = { GroupGuid: '{271bbba0-1ee7}' };\n/**\n * Data manager common utility methods.\n * @hidden\n */\nvar DataUtil = /** @class */ (function () {\n    function DataUtil() {\n    }\n    /**\n     * Returns the value by invoking the provided parameter function.\n     * If the paramater is not of type function then it will be returned as it is.\n     * @param  {Function|string|string[]|number} value\n     * @param  {Object} inst?\n     * @hidden\n     */\n    DataUtil.getValue = function (value, inst) {\n        if (typeof value === 'function') {\n            return value.call(inst || {});\n        }\n        return value;\n    };\n    /**\n     * Returns true if the input string ends with given string.\n     * @param  {string} input\n     * @param  {string} substr\n     */\n    DataUtil.endsWith = function (input, substr) {\n        return input.slice && input.slice(-substr.length) === substr;\n    };\n    /**\n     * Returns true if the input string starts with given string.\n     * @param  {string} str\n     * @param  {string} startstr\n     */\n    DataUtil.startsWith = function (input, start) {\n        return input.slice(0, start.length) === start;\n    };\n    /**\n     * To return the sorting function based on the string.\n     * @param  {string} order\n     * @hidden\n     */\n    DataUtil.fnSort = function (order) {\n        order = order ? DataUtil.toLowerCase(order) : 'ascending';\n        if (order === 'ascending') {\n            return this.fnAscending;\n        }\n        return this.fnDescending;\n    };\n    /**\n     * Comparer function which is used to sort the data in ascending order.\n     * @param  {string|number} x\n     * @param  {string|number} y\n     * @returns number\n     */\n    DataUtil.fnAscending = function (x, y) {\n        if (isNullOrUndefined(x) && isNullOrUndefined(y)) {\n            return -1;\n        }\n        if (y === null || y === undefined) {\n            return -1;\n        }\n        if (typeof x === 'string') {\n            return x.localeCompare(y);\n        }\n        if (x === null || x === undefined) {\n            return 1;\n        }\n        return x - y;\n    };\n    /**\n     * Comparer function which is used to sort the data in descending order.\n     * @param  {string|number} x\n     * @param  {string|number} y\n     * @returns number\n     */\n    DataUtil.fnDescending = function (x, y) {\n        if (isNullOrUndefined(x) && isNullOrUndefined(y)) {\n            return -1;\n        }\n        if (y === null || y === undefined) {\n            return 1;\n        }\n        if (typeof x === 'string') {\n            return x.localeCompare(y) * -1;\n        }\n        if (x === null || x === undefined) {\n            return -1;\n        }\n        return y - x;\n    };\n    DataUtil.extractFields = function (obj, fields) {\n        var newObj = {};\n        for (var i = 0; i < fields.length; i++) {\n            newObj = this.setValue(fields[i], this.getObject(fields[i], obj), newObj);\n        }\n        return newObj;\n    };\n    /**\n     * Select objects by given fields from jsonArray.\n     * @param  {Object[]} jsonArray\n     * @param  {string[]} fields\n     */\n    DataUtil.select = function (jsonArray, fields) {\n        var newData = [];\n        for (var i = 0; i < jsonArray.length; i++) {\n            newData.push(this.extractFields(jsonArray[i], fields));\n        }\n        return newData;\n    };\n    /**\n     * Group the input data based on the field name.\n     * It also performs aggregation of the grouped records based on the aggregates paramater.\n     * @param  {Object[]} jsonArray\n     * @param  {string} field?\n     * @param  {Object[]} agg?\n     * @param  {number} level?\n     * @param  {Object[]} groupDs?\n     */\n    DataUtil.group = function (jsonArray, field, aggregates, level, groupDs, format, isLazyLoad) {\n        level = level || 1;\n        var jsonData = jsonArray;\n        var guid = 'GroupGuid';\n        if (jsonData.GroupGuid === consts[guid]) {\n            var _loop_1 = function (j) {\n                if (!isNullOrUndefined(groupDs)) {\n                    var indx = -1;\n                    var temp = groupDs.filter(function (e) { return e.key === jsonData[j].key; });\n                    indx = groupDs.indexOf(temp[0]);\n                    jsonData[j].items = this_1.group(jsonData[j].items, field, aggregates, jsonData.level + 1, groupDs[indx].items, format, isLazyLoad);\n                    jsonData[j].count = groupDs[indx].count;\n                }\n                else {\n                    jsonData[j].items = this_1.group(jsonData[j].items, field, aggregates, jsonData.level + 1, null, format, isLazyLoad);\n                    jsonData[j].count = jsonData[j].items.length;\n                }\n            };\n            var this_1 = this;\n            for (var j = 0; j < jsonData.length; j++) {\n                _loop_1(j);\n            }\n            jsonData.childLevels += 1;\n            return jsonData;\n        }\n        var grouped = {};\n        var groupedArray = [];\n        groupedArray.GroupGuid = consts[guid];\n        groupedArray.level = level;\n        groupedArray.childLevels = 0;\n        groupedArray.records = jsonData;\n        var _loop_2 = function (i) {\n            var val = this_2.getVal(jsonData, i, field);\n            if (!isNullOrUndefined(format)) {\n                val = format(val, field);\n            }\n            if (!grouped[val]) {\n                grouped[val] = {\n                    key: val,\n                    count: 0,\n                    items: [],\n                    aggregates: {},\n                    field: field\n                };\n                groupedArray.push(grouped[val]);\n                if (!isNullOrUndefined(groupDs)) {\n                    var tempObj = groupDs.filter(function (e) { return e.key === grouped[val].key; });\n                    grouped[val].count = tempObj[0].count;\n                }\n            }\n            grouped[val].count = !isNullOrUndefined(groupDs) ? grouped[val].count : grouped[val].count += 1;\n            if (!isLazyLoad || (isLazyLoad && aggregates.length)) {\n                grouped[val].items.push(jsonData[i]);\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < jsonData.length; i++) {\n            _loop_2(i);\n        }\n        if (aggregates && aggregates.length) {\n            var _loop_3 = function (i) {\n                var res = {};\n                var fn = void 0;\n                var aggs = aggregates;\n                for (var j = 0; j < aggregates.length; j++) {\n                    fn = DataUtil.aggregates[aggregates[j].type];\n                    if (!isNullOrUndefined(groupDs)) {\n                        var temp = groupDs.filter(function (e) { return e.key === groupedArray[i].key; });\n                        if (fn) {\n                            res[aggs[j].field + ' - ' + aggs[j].type] = fn(temp[0].items, aggs[j].field);\n                        }\n                    }\n                    else {\n                        if (fn) {\n                            res[aggs[j].field + ' - ' + aggs[j].type] = fn(groupedArray[i].items, aggs[j].field);\n                        }\n                    }\n                }\n                groupedArray[i].aggregates = res;\n            };\n            for (var i = 0; i < groupedArray.length; i++) {\n                _loop_3(i);\n            }\n        }\n        if (isLazyLoad && groupedArray.length && aggregates.length) {\n            for (var i = 0; i < groupedArray.length; i++) {\n                groupedArray[i].items = [];\n            }\n        }\n        return jsonData.length && groupedArray || jsonData;\n    };\n    /**\n     * It is used to categorize the multiple items based on a specific field in jsonArray.\n     * The hierarchical queries are commonly required when you use foreign key binding.\n     * @param  {string} fKey\n     * @param  {string} from\n     * @param  {Object[]} source\n     * @param  {Group} lookup?\n     * @param  {string} pKey?\n     * @hidden\n     */\n    DataUtil.buildHierarchy = function (fKey, from, source, lookup, pKey) {\n        var i;\n        var grp = {};\n        var temp;\n        if (lookup.result) {\n            lookup = lookup.result;\n        }\n        if (lookup.GroupGuid) {\n            this.throwError('DataManager: Do not have support Grouping in hierarchy');\n        }\n        for (i = 0; i < lookup.length; i++) {\n            var fKeyData = this.getObject(fKey, lookup[i]);\n            temp = grp[fKeyData] || (grp[fKeyData] = []);\n            temp.push(lookup[i]);\n        }\n        for (i = 0; i < source.length; i++) {\n            var fKeyData = this.getObject(pKey || fKey, source[i]);\n            source[i][from] = grp[fKeyData];\n        }\n    };\n    /**\n     * The method used to get the field names which started with specified characters.\n     * @param  {Object} obj\n     * @param  {string[]} fields?\n     * @param  {string} prefix?\n     * @hidden\n     */\n    DataUtil.getFieldList = function (obj, fields, prefix) {\n        if (prefix === undefined) {\n            prefix = '';\n        }\n        if (fields === undefined || fields === null) {\n            return this.getFieldList(obj, [], prefix);\n        }\n        var copyObj = obj;\n        var keys = Object.keys(obj);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var prop = keys_1[_i];\n            if (typeof copyObj[prop] === 'object' && !(copyObj[prop] instanceof Array)) {\n                this.getFieldList(copyObj[prop], fields, prefix + prop + '.');\n            }\n            else {\n                fields.push(prefix + prop);\n            }\n        }\n        return fields;\n    };\n    /**\n     * Gets the value of the property in the given object.\n     * The complex object can be accessed by providing the field names concatenated with dot(.).\n     * @param  {string} nameSpace - The name of the property to be accessed.\n     * @param  {Object} from - Defines the source object.\n     */\n    DataUtil.getObject = function (nameSpace, from) {\n        if (!nameSpace) {\n            return from;\n        }\n        if (!from) {\n            return undefined;\n        }\n        if (nameSpace.indexOf('.') === -1) {\n            return from[nameSpace];\n        }\n        var value = from;\n        var splits = nameSpace.split('.');\n        for (var i = 0; i < splits.length; i++) {\n            if (value == null) {\n                break;\n            }\n            value = value[splits[i]];\n        }\n        return value;\n    };\n    /**\n     * To set value for the nameSpace in desired object.\n     * @param {string} nameSpace - String value to the get the inner object.\n     * @param {Object} value - Value that you need to set.\n     * @param {Object} obj - Object to get the inner object value.\n     * @return { [key: string]: Object; } | Object\n     * @hidden\n     */\n    DataUtil.setValue = function (nameSpace, value, obj) {\n        var keys = nameSpace.toString().split('.');\n        var start = obj || {};\n        var fromObj = start;\n        var i;\n        var length = keys.length;\n        var key;\n        for (i = 0; i < length; i++) {\n            key = keys[i];\n            if (i + 1 === length) {\n                fromObj[key] = value === undefined ? undefined : value;\n            }\n            else if (isNullOrUndefined(fromObj[key])) {\n                fromObj[key] = {};\n            }\n            fromObj = fromObj[key];\n        }\n        return start;\n    };\n    /**\n     * Sort the given data based on the field and comparer.\n     * @param  {Object[]} ds - Defines the input data.\n     * @param  {string} field - Defines the field to be sorted.\n     * @param  {Function} comparer - Defines the comparer function used to sort the records.\n     */\n    DataUtil.sort = function (ds, field, comparer) {\n        if (ds.length <= 1) {\n            return ds;\n        }\n        var middle = parseInt((ds.length / 2).toString(), 10);\n        var left = ds.slice(0, middle);\n        var right = ds.slice(middle);\n        left = this.sort(left, field, comparer);\n        right = this.sort(right, field, comparer);\n        return this.merge(left, right, field, comparer);\n    };\n    DataUtil.ignoreDiacritics = function (value) {\n        if (typeof value !== 'string') {\n            return value;\n        }\n        var result = value.split('');\n        var newValue = result.map(function (temp) { return temp in DataUtil.diacritics ? DataUtil.diacritics[temp] : temp; });\n        return newValue.join('');\n    };\n    DataUtil.merge = function (left, right, fieldName, comparer) {\n        var result = [];\n        var current;\n        while (left.length > 0 || right.length > 0) {\n            if (left.length > 0 && right.length > 0) {\n                if (comparer) {\n                    current = comparer(this.getVal(left, 0, fieldName), this.getVal(right, 0, fieldName), left[0], right[0]) <= 0 ? left : right;\n                }\n                else {\n                    current = left[0][fieldName] < left[0][fieldName] ? left : right;\n                }\n            }\n            else {\n                current = left.length > 0 ? left : right;\n            }\n            result.push(current.shift());\n        }\n        return result;\n    };\n    DataUtil.getVal = function (array, index, field) {\n        return field ? this.getObject(field, array[index]) : array[index];\n    };\n    DataUtil.toLowerCase = function (val) {\n        return val ? typeof val === 'string' ? val.toLowerCase() : val.toString() : (val === 0 || val === false) ? val.toString() : '';\n    };\n    /**\n     * To perform the filter operation with specified adaptor and returns the result.\n     * @param  {Object} adaptor\n     * @param  {string} fnName\n     * @param  {Object} param1?\n     * @param  {Object} param2?\n     * @hidden\n     */\n    DataUtil.callAdaptorFunction = function (adaptor, fnName, param1, param2) {\n        if (fnName in adaptor) {\n            var res = adaptor[fnName](param1, param2);\n            if (!isNullOrUndefined(res)) {\n                param1 = res;\n            }\n        }\n        return param1;\n    };\n    DataUtil.getAddParams = function (adp, dm, query) {\n        var req = {};\n        DataUtil.callAdaptorFunction(adp, 'addParams', {\n            dm: dm,\n            query: query,\n            params: query.params,\n            reqParams: req\n        });\n        return req;\n    };\n    /**\n     * Checks wheather the given input is a plain object or not.\n     * @param  {Object|Object[]} obj\n     */\n    DataUtil.isPlainObject = function (obj) {\n        return (!!obj) && (obj.constructor === Object);\n    };\n    /**\n     * Returns true when the browser cross origin request.\n     */\n    DataUtil.isCors = function () {\n        var xhr = null;\n        var request = 'XMLHttpRequest';\n        try {\n            xhr = new window[request]();\n        }\n        catch (e) {\n            // No exception handling\n        }\n        return !!xhr && ('withCredentials' in xhr);\n    };\n    /**\n     * Generate random GUID value which will be prefixed with the given value.\n     * @param  {string} prefix\n     */\n    DataUtil.getGuid = function (prefix) {\n        var hexs = '0123456789abcdef';\n        var rand;\n        return (prefix || '') + '00000000-0000-4000-0000-000000000000'.replace(/0/g, function (val, i) {\n            if ('crypto' in window && 'getRandomValues' in crypto) {\n                var arr = new Uint8Array(1);\n                window.crypto.getRandomValues(arr);\n                rand = arr[0] % 16 | 0;\n            }\n            else {\n                rand = Math.random() * 16 | 0;\n            }\n            return hexs[i === 19 ? rand & 0x3 | 0x8 : rand];\n        });\n    };\n    /**\n     * Checks wheather the given value is null or not.\n     * @param  {string|Object} val\n     * @returns boolean\n     */\n    DataUtil.isNull = function (val) {\n        return val === undefined || val === null;\n    };\n    /**\n     * To get the required items from collection of objects.\n     * @param  {Object[]} array\n     * @param  {string} field\n     * @param  {Function} comparer\n     * @returns Object\n     * @hidden\n     */\n    DataUtil.getItemFromComparer = function (array, field, comparer) {\n        var keyVal;\n        var current;\n        var key;\n        var i = 0;\n        var castRequired = typeof DataUtil.getVal(array, 0, field) === 'string';\n        if (array.length) {\n            while (isNullOrUndefined(keyVal) && i < array.length) {\n                keyVal = DataUtil.getVal(array, i, field);\n                key = array[i++];\n            }\n        }\n        for (; i < array.length; i++) {\n            current = DataUtil.getVal(array, i, field);\n            if (isNullOrUndefined(current)) {\n                continue;\n            }\n            if (castRequired) {\n                keyVal = +keyVal;\n                current = +current;\n            }\n            if (comparer(keyVal, current) > 0) {\n                keyVal = current;\n                key = array[i];\n            }\n        }\n        return key;\n    };\n    /**\n     * To get distinct values of Array or Array of Objects.\n     * @param  {Object[]} json\n     * @param  {string} field\n     * @param  {boolean} requiresCompleteRecord\n     * @returns Object[]\n     * * distinct array of objects is return when requiresCompleteRecord set as true.\n     * @hidden\n     */\n    DataUtil.distinct = function (json, fieldName, requiresCompleteRecord) {\n        requiresCompleteRecord = isNullOrUndefined(requiresCompleteRecord) ? false : requiresCompleteRecord;\n        var result = [];\n        var val;\n        var tmp = {};\n        json.forEach(function (data, index) {\n            val = typeof (json[index]) === 'object' ? DataUtil.getVal(json, index, fieldName) : json[index];\n            if (!(val in tmp)) {\n                result.push(!requiresCompleteRecord ? val : json[index]);\n                tmp[val] = 1;\n            }\n        });\n        return result;\n    };\n    /**\n     * Process the given records based on the datamanager string.\n     * @param  {string} datamanager\n     * @param  {Object[]} records\n     */\n    DataUtil.processData = function (dm, records) {\n        var query = this.prepareQuery(dm);\n        var sampledata = new DataManager(records);\n        if (dm.requiresCounts) {\n            query.requiresCount();\n        }\n        var result = sampledata.executeLocal(query);\n        var returnValue = {\n            result: dm.requiresCounts ? result.result : result,\n            count: result.count,\n            aggregates: JSON.stringify(result.aggregates)\n        };\n        return dm.requiresCounts ? returnValue : result;\n    };\n    DataUtil.prepareQuery = function (dm) {\n        var _this = this;\n        var query = new Query();\n        if (dm.select) {\n            query.select(dm.select);\n        }\n        if (dm.where) {\n            var where = DataUtil.parse.parseJson(dm.where);\n            where.filter(function (pred) {\n                if (isNullOrUndefined(pred.condition)) {\n                    query.where(pred.field, pred.operator, pred.value, pred.ignoreCase, pred.ignoreAccent);\n                }\n                else {\n                    var predicateList = [];\n                    if (pred.field) {\n                        predicateList.push(new Predicate(pred.field, pred.operator, pred.value, pred.ignoreCase, pred.ignoreAccent));\n                    }\n                    else {\n                        predicateList = predicateList.concat(_this.getPredicate(pred.predicates));\n                    }\n                    if (pred.condition == 'or') {\n                        query.where(Predicate.or(predicateList));\n                    }\n                    else if (pred.condition == 'and') {\n                        query.where(Predicate.and(predicateList));\n                    }\n                }\n            });\n        }\n        if (dm.search) {\n            var search = DataUtil.parse.parseJson(dm.search);\n            search.filter(function (e) { return query.search(e.key, e.fields, e['operator'], e['ignoreCase'], e['ignoreAccent']); });\n        }\n        if (dm.aggregates) {\n            dm.aggregates.filter(function (e) { return query.aggregate(e.type, e.field); });\n        }\n        if (dm.sorted) {\n            dm.sorted.filter(function (e) { return query.sortBy(e.name, e.direction); });\n        }\n        if (dm.skip) {\n            query.skip(dm.skip);\n        }\n        if (dm.take) {\n            query.take(dm.take);\n        }\n        if (dm.group) {\n            dm.group.filter(function (grp) { return query.group(grp); });\n        }\n        return query;\n    };\n    DataUtil.getPredicate = function (pred) {\n        var mainPred = [];\n        for (var i = 0; i < pred.length; i++) {\n            var e = pred[i];\n            if (e.field) {\n                mainPred.push(new Predicate(e.field, e.operator, e.value, e.ignoreCase, e.ignoreAccent));\n            }\n            else {\n                var childPred = [];\n                var cpre = this.getPredicate(e.predicates);\n                for (var _i = 0, _a = Object.keys(cpre); _i < _a.length; _i++) {\n                    var prop = _a[_i];\n                    childPred.push(cpre[prop]);\n                }\n                mainPred.push(e.condition == 'or' ? Predicate.or(childPred) : Predicate.and(childPred));\n            }\n        }\n        return mainPred;\n    };\n    /**\n     * Specifies the value which will be used to adjust the date value to server timezone.\n     * @default null\n     */\n    DataUtil.serverTimezoneOffset = null;\n    /**\n     * Species whether are not to be parsed with serverTimezoneOffset value.\n     * @hidden\n     */\n    DataUtil.timeZoneHandling = true;\n    /**\n     * Throw error with the given string as message.\n     * @param  {string} er\n     */\n    DataUtil.throwError = function (error) {\n        try {\n            throw new Error(error);\n        }\n        catch (e) {\n            throw e.message + '\\n' + e.stack;\n        }\n    };\n    DataUtil.aggregates = {\n        /**\n         * Calculate sum of the given field in the data.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         */\n        sum: function (ds, field) {\n            var result = 0;\n            var val;\n            var castRequired = typeof DataUtil.getVal(ds, 0, field) !== 'number';\n            for (var i = 0; i < ds.length; i++) {\n                val = DataUtil.getVal(ds, i, field);\n                if (!isNaN(val) && val !== null) {\n                    if (castRequired) {\n                        val = +val;\n                    }\n                    result += val;\n                }\n            }\n            return result;\n        },\n        /**\n         * Calculate average value of the given field in the data.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         */\n        average: function (ds, field) {\n            return DataUtil.aggregates.sum(ds, field) / ds.length;\n        },\n        /**\n         * Returns the min value of the data based on the field.\n         * @param  {Object[]} ds\n         * @param  {string|Function} field\n         */\n        min: function (ds, field) {\n            var comparer;\n            if (typeof field === 'function') {\n                comparer = field;\n                field = null;\n            }\n            return DataUtil.getObject(field, DataUtil.getItemFromComparer(ds, field, comparer || DataUtil.fnAscending));\n        },\n        /**\n         * Returns the max value of the data based on the field.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         * @returns number\n         */\n        max: function (ds, field) {\n            var comparer;\n            if (typeof field === 'function') {\n                comparer = field;\n                field = null;\n            }\n            return DataUtil.getObject(field, DataUtil.getItemFromComparer(ds, field, comparer || DataUtil.fnDescending));\n        },\n        /**\n         * Returns the total number of true value present in the data based on the given boolean field name.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         */\n        truecount: function (ds, field) {\n            return new DataManager(ds).executeLocal(new Query().where(field, 'equal', true, true)).length;\n        },\n        /**\n         * Returns the total number of false value present in the data based on the given boolean field name.\n         * @param  {Object[]} ds\n         * @param  {string} field\n         */\n        falsecount: function (ds, field) {\n            return new DataManager(ds).executeLocal(new Query().where(field, 'equal', false, true)).length;\n        },\n        /**\n         * Returns the length of the given data.\n         * @param  {Object[]} ds\n         * @param  {string} field?\n         * @returns number\n         */\n        count: function (ds, field) {\n            return ds.length;\n        }\n    };\n    /**\n     * Specifies the Object with filter operators.\n     */\n    DataUtil.operatorSymbols = {\n        '<': 'lessthan',\n        '>': 'greaterthan',\n        '<=': 'lessthanorequal',\n        '>=': 'greaterthanorequal',\n        '==': 'equal',\n        '!=': 'notequal',\n        '*=': 'contains',\n        '$=': 'endswith',\n        '^=': 'startswith'\n    };\n    /**\n     * Specifies the Object with filter operators which will be used for OData filter query generation.\n     * * It will be used for date/number type filter query.\n     */\n    DataUtil.odBiOperator = {\n        '<': ' lt ',\n        '>': ' gt ',\n        '<=': ' le ',\n        '>=': ' ge ',\n        '==': ' eq ',\n        '!=': ' ne ',\n        'lessthan': ' lt ',\n        'lessthanorequal': ' le ',\n        'greaterthan': ' gt ',\n        'greaterthanorequal': ' ge ',\n        'equal': ' eq ',\n        'notequal': ' ne '\n    };\n    /**\n     * Specifies the Object with filter operators which will be used for OData filter query generation.\n     * It will be used for string type filter query.\n     */\n    DataUtil.odUniOperator = {\n        '$=': 'endswith',\n        '^=': 'startswith',\n        '*=': 'substringof',\n        'endswith': 'endswith',\n        'startswith': 'startswith',\n        'contains': 'substringof'\n    };\n    /**\n     * Specifies the Object with filter operators which will be used for ODataV4 filter query generation.\n     * It will be used for string type filter query.\n     */\n    DataUtil.odv4UniOperator = {\n        '$=': 'endswith',\n        '^=': 'startswith',\n        '*=': 'contains',\n        'endswith': 'endswith',\n        'startswith': 'startswith',\n        'contains': 'contains'\n    };\n    DataUtil.diacritics = {\n        '\\u24B6': 'A',\n        '\\uFF21': 'A',\n        '\\u00C0': 'A',\n        '\\u00C1': 'A',\n        '\\u00C2': 'A',\n        '\\u1EA6': 'A',\n        '\\u1EA4': 'A',\n        '\\u1EAA': 'A',\n        '\\u1EA8': 'A',\n        '\\u00C3': 'A',\n        '\\u0100': 'A',\n        '\\u0102': 'A',\n        '\\u1EB0': 'A',\n        '\\u1EAE': 'A',\n        '\\u1EB4': 'A',\n        '\\u1EB2': 'A',\n        '\\u0226': 'A',\n        '\\u01E0': 'A',\n        '\\u00C4': 'A',\n        '\\u01DE': 'A',\n        '\\u1EA2': 'A',\n        '\\u00C5': 'A',\n        '\\u01FA': 'A',\n        '\\u01CD': 'A',\n        '\\u0200': 'A',\n        '\\u0202': 'A',\n        '\\u1EA0': 'A',\n        '\\u1EAC': 'A',\n        '\\u1EB6': 'A',\n        '\\u1E00': 'A',\n        '\\u0104': 'A',\n        '\\u023A': 'A',\n        '\\u2C6F': 'A',\n        '\\uA732': 'AA',\n        '\\u00C6': 'AE',\n        '\\u01FC': 'AE',\n        '\\u01E2': 'AE',\n        '\\uA734': 'AO',\n        '\\uA736': 'AU',\n        '\\uA738': 'AV',\n        '\\uA73A': 'AV',\n        '\\uA73C': 'AY',\n        '\\u24B7': 'B',\n        '\\uFF22': 'B',\n        '\\u1E02': 'B',\n        '\\u1E04': 'B',\n        '\\u1E06': 'B',\n        '\\u0243': 'B',\n        '\\u0182': 'B',\n        '\\u0181': 'B',\n        '\\u24B8': 'C',\n        '\\uFF23': 'C',\n        '\\u0106': 'C',\n        '\\u0108': 'C',\n        '\\u010A': 'C',\n        '\\u010C': 'C',\n        '\\u00C7': 'C',\n        '\\u1E08': 'C',\n        '\\u0187': 'C',\n        '\\u023B': 'C',\n        '\\uA73E': 'C',\n        '\\u24B9': 'D',\n        '\\uFF24': 'D',\n        '\\u1E0A': 'D',\n        '\\u010E': 'D',\n        '\\u1E0C': 'D',\n        '\\u1E10': 'D',\n        '\\u1E12': 'D',\n        '\\u1E0E': 'D',\n        '\\u0110': 'D',\n        '\\u018B': 'D',\n        '\\u018A': 'D',\n        '\\u0189': 'D',\n        '\\uA779': 'D',\n        '\\u01F1': 'DZ',\n        '\\u01C4': 'DZ',\n        '\\u01F2': 'Dz',\n        '\\u01C5': 'Dz',\n        '\\u24BA': 'E',\n        '\\uFF25': 'E',\n        '\\u00C8': 'E',\n        '\\u00C9': 'E',\n        '\\u00CA': 'E',\n        '\\u1EC0': 'E',\n        '\\u1EBE': 'E',\n        '\\u1EC4': 'E',\n        '\\u1EC2': 'E',\n        '\\u1EBC': 'E',\n        '\\u0112': 'E',\n        '\\u1E14': 'E',\n        '\\u1E16': 'E',\n        '\\u0114': 'E',\n        '\\u0116': 'E',\n        '\\u00CB': 'E',\n        '\\u1EBA': 'E',\n        '\\u011A': 'E',\n        '\\u0204': 'E',\n        '\\u0206': 'E',\n        '\\u1EB8': 'E',\n        '\\u1EC6': 'E',\n        '\\u0228': 'E',\n        '\\u1E1C': 'E',\n        '\\u0118': 'E',\n        '\\u1E18': 'E',\n        '\\u1E1A': 'E',\n        '\\u0190': 'E',\n        '\\u018E': 'E',\n        '\\u24BB': 'F',\n        '\\uFF26': 'F',\n        '\\u1E1E': 'F',\n        '\\u0191': 'F',\n        '\\uA77B': 'F',\n        '\\u24BC': 'G',\n        '\\uFF27': 'G',\n        '\\u01F4': 'G',\n        '\\u011C': 'G',\n        '\\u1E20': 'G',\n        '\\u011E': 'G',\n        '\\u0120': 'G',\n        '\\u01E6': 'G',\n        '\\u0122': 'G',\n        '\\u01E4': 'G',\n        '\\u0193': 'G',\n        '\\uA7A0': 'G',\n        '\\uA77D': 'G',\n        '\\uA77E': 'G',\n        '\\u24BD': 'H',\n        '\\uFF28': 'H',\n        '\\u0124': 'H',\n        '\\u1E22': 'H',\n        '\\u1E26': 'H',\n        '\\u021E': 'H',\n        '\\u1E24': 'H',\n        '\\u1E28': 'H',\n        '\\u1E2A': 'H',\n        '\\u0126': 'H',\n        '\\u2C67': 'H',\n        '\\u2C75': 'H',\n        '\\uA78D': 'H',\n        '\\u24BE': 'I',\n        '\\uFF29': 'I',\n        '\\u00CC': 'I',\n        '\\u00CD': 'I',\n        '\\u00CE': 'I',\n        '\\u0128': 'I',\n        '\\u012A': 'I',\n        '\\u012C': 'I',\n        '\\u0130': 'I',\n        '\\u00CF': 'I',\n        '\\u1E2E': 'I',\n        '\\u1EC8': 'I',\n        '\\u01CF': 'I',\n        '\\u0208': 'I',\n        '\\u020A': 'I',\n        '\\u1ECA': 'I',\n        '\\u012E': 'I',\n        '\\u1E2C': 'I',\n        '\\u0197': 'I',\n        '\\u24BF': 'J',\n        '\\uFF2A': 'J',\n        '\\u0134': 'J',\n        '\\u0248': 'J',\n        '\\u24C0': 'K',\n        '\\uFF2B': 'K',\n        '\\u1E30': 'K',\n        '\\u01E8': 'K',\n        '\\u1E32': 'K',\n        '\\u0136': 'K',\n        '\\u1E34': 'K',\n        '\\u0198': 'K',\n        '\\u2C69': 'K',\n        '\\uA740': 'K',\n        '\\uA742': 'K',\n        '\\uA744': 'K',\n        '\\uA7A2': 'K',\n        '\\u24C1': 'L',\n        '\\uFF2C': 'L',\n        '\\u013F': 'L',\n        '\\u0139': 'L',\n        '\\u013D': 'L',\n        '\\u1E36': 'L',\n        '\\u1E38': 'L',\n        '\\u013B': 'L',\n        '\\u1E3C': 'L',\n        '\\u1E3A': 'L',\n        '\\u0141': 'L',\n        '\\u023D': 'L',\n        '\\u2C62': 'L',\n        '\\u2C60': 'L',\n        '\\uA748': 'L',\n        '\\uA746': 'L',\n        '\\uA780': 'L',\n        '\\u01C7': 'LJ',\n        '\\u01C8': 'Lj',\n        '\\u24C2': 'M',\n        '\\uFF2D': 'M',\n        '\\u1E3E': 'M',\n        '\\u1E40': 'M',\n        '\\u1E42': 'M',\n        '\\u2C6E': 'M',\n        '\\u019C': 'M',\n        '\\u24C3': 'N',\n        '\\uFF2E': 'N',\n        '\\u01F8': 'N',\n        '\\u0143': 'N',\n        '\\u00D1': 'N',\n        '\\u1E44': 'N',\n        '\\u0147': 'N',\n        '\\u1E46': 'N',\n        '\\u0145': 'N',\n        '\\u1E4A': 'N',\n        '\\u1E48': 'N',\n        '\\u0220': 'N',\n        '\\u019D': 'N',\n        '\\uA790': 'N',\n        '\\uA7A4': 'N',\n        '\\u01CA': 'NJ',\n        '\\u01CB': 'Nj',\n        '\\u24C4': 'O',\n        '\\uFF2F': 'O',\n        '\\u00D2': 'O',\n        '\\u00D3': 'O',\n        '\\u00D4': 'O',\n        '\\u1ED2': 'O',\n        '\\u1ED0': 'O',\n        '\\u1ED6': 'O',\n        '\\u1ED4': 'O',\n        '\\u00D5': 'O',\n        '\\u1E4C': 'O',\n        '\\u022C': 'O',\n        '\\u1E4E': 'O',\n        '\\u014C': 'O',\n        '\\u1E50': 'O',\n        '\\u1E52': 'O',\n        '\\u014E': 'O',\n        '\\u022E': 'O',\n        '\\u0230': 'O',\n        '\\u00D6': 'O',\n        '\\u022A': 'O',\n        '\\u1ECE': 'O',\n        '\\u0150': 'O',\n        '\\u01D1': 'O',\n        '\\u020C': 'O',\n        '\\u020E': 'O',\n        '\\u01A0': 'O',\n        '\\u1EDC': 'O',\n        '\\u1EDA': 'O',\n        '\\u1EE0': 'O',\n        '\\u1EDE': 'O',\n        '\\u1EE2': 'O',\n        '\\u1ECC': 'O',\n        '\\u1ED8': 'O',\n        '\\u01EA': 'O',\n        '\\u01EC': 'O',\n        '\\u00D8': 'O',\n        '\\u01FE': 'O',\n        '\\u0186': 'O',\n        '\\u019F': 'O',\n        '\\uA74A': 'O',\n        '\\uA74C': 'O',\n        '\\u01A2': 'OI',\n        '\\uA74E': 'OO',\n        '\\u0222': 'OU',\n        '\\u24C5': 'P',\n        '\\uFF30': 'P',\n        '\\u1E54': 'P',\n        '\\u1E56': 'P',\n        '\\u01A4': 'P',\n        '\\u2C63': 'P',\n        '\\uA750': 'P',\n        '\\uA752': 'P',\n        '\\uA754': 'P',\n        '\\u24C6': 'Q',\n        '\\uFF31': 'Q',\n        '\\uA756': 'Q',\n        '\\uA758': 'Q',\n        '\\u024A': 'Q',\n        '\\u24C7': 'R',\n        '\\uFF32': 'R',\n        '\\u0154': 'R',\n        '\\u1E58': 'R',\n        '\\u0158': 'R',\n        '\\u0210': 'R',\n        '\\u0212': 'R',\n        '\\u1E5A': 'R',\n        '\\u1E5C': 'R',\n        '\\u0156': 'R',\n        '\\u1E5E': 'R',\n        '\\u024C': 'R',\n        '\\u2C64': 'R',\n        '\\uA75A': 'R',\n        '\\uA7A6': 'R',\n        '\\uA782': 'R',\n        '\\u24C8': 'S',\n        '\\uFF33': 'S',\n        '\\u1E9E': 'S',\n        '\\u015A': 'S',\n        '\\u1E64': 'S',\n        '\\u015C': 'S',\n        '\\u1E60': 'S',\n        '\\u0160': 'S',\n        '\\u1E66': 'S',\n        '\\u1E62': 'S',\n        '\\u1E68': 'S',\n        '\\u0218': 'S',\n        '\\u015E': 'S',\n        '\\u2C7E': 'S',\n        '\\uA7A8': 'S',\n        '\\uA784': 'S',\n        '\\u24C9': 'T',\n        '\\uFF34': 'T',\n        '\\u1E6A': 'T',\n        '\\u0164': 'T',\n        '\\u1E6C': 'T',\n        '\\u021A': 'T',\n        '\\u0162': 'T',\n        '\\u1E70': 'T',\n        '\\u1E6E': 'T',\n        '\\u0166': 'T',\n        '\\u01AC': 'T',\n        '\\u01AE': 'T',\n        '\\u023E': 'T',\n        '\\uA786': 'T',\n        '\\uA728': 'TZ',\n        '\\u24CA': 'U',\n        '\\uFF35': 'U',\n        '\\u00D9': 'U',\n        '\\u00DA': 'U',\n        '\\u00DB': 'U',\n        '\\u0168': 'U',\n        '\\u1E78': 'U',\n        '\\u016A': 'U',\n        '\\u1E7A': 'U',\n        '\\u016C': 'U',\n        '\\u00DC': 'U',\n        '\\u01DB': 'U',\n        '\\u01D7': 'U',\n        '\\u01D5': 'U',\n        '\\u01D9': 'U',\n        '\\u1EE6': 'U',\n        '\\u016E': 'U',\n        '\\u0170': 'U',\n        '\\u01D3': 'U',\n        '\\u0214': 'U',\n        '\\u0216': 'U',\n        '\\u01AF': 'U',\n        '\\u1EEA': 'U',\n        '\\u1EE8': 'U',\n        '\\u1EEE': 'U',\n        '\\u1EEC': 'U',\n        '\\u1EF0': 'U',\n        '\\u1EE4': 'U',\n        '\\u1E72': 'U',\n        '\\u0172': 'U',\n        '\\u1E76': 'U',\n        '\\u1E74': 'U',\n        '\\u0244': 'U',\n        '\\u24CB': 'V',\n        '\\uFF36': 'V',\n        '\\u1E7C': 'V',\n        '\\u1E7E': 'V',\n        '\\u01B2': 'V',\n        '\\uA75E': 'V',\n        '\\u0245': 'V',\n        '\\uA760': 'VY',\n        '\\u24CC': 'W',\n        '\\uFF37': 'W',\n        '\\u1E80': 'W',\n        '\\u1E82': 'W',\n        '\\u0174': 'W',\n        '\\u1E86': 'W',\n        '\\u1E84': 'W',\n        '\\u1E88': 'W',\n        '\\u2C72': 'W',\n        '\\u24CD': 'X',\n        '\\uFF38': 'X',\n        '\\u1E8A': 'X',\n        '\\u1E8C': 'X',\n        '\\u24CE': 'Y',\n        '\\uFF39': 'Y',\n        '\\u1EF2': 'Y',\n        '\\u00DD': 'Y',\n        '\\u0176': 'Y',\n        '\\u1EF8': 'Y',\n        '\\u0232': 'Y',\n        '\\u1E8E': 'Y',\n        '\\u0178': 'Y',\n        '\\u1EF6': 'Y',\n        '\\u1EF4': 'Y',\n        '\\u01B3': 'Y',\n        '\\u024E': 'Y',\n        '\\u1EFE': 'Y',\n        '\\u24CF': 'Z',\n        '\\uFF3A': 'Z',\n        '\\u0179': 'Z',\n        '\\u1E90': 'Z',\n        '\\u017B': 'Z',\n        '\\u017D': 'Z',\n        '\\u1E92': 'Z',\n        '\\u1E94': 'Z',\n        '\\u01B5': 'Z',\n        '\\u0224': 'Z',\n        '\\u2C7F': 'Z',\n        '\\u2C6B': 'Z',\n        '\\uA762': 'Z',\n        '\\u24D0': 'a',\n        '\\uFF41': 'a',\n        '\\u1E9A': 'a',\n        '\\u00E0': 'a',\n        '\\u00E1': 'a',\n        '\\u00E2': 'a',\n        '\\u1EA7': 'a',\n        '\\u1EA5': 'a',\n        '\\u1EAB': 'a',\n        '\\u1EA9': 'a',\n        '\\u00E3': 'a',\n        '\\u0101': 'a',\n        '\\u0103': 'a',\n        '\\u1EB1': 'a',\n        '\\u1EAF': 'a',\n        '\\u1EB5': 'a',\n        '\\u1EB3': 'a',\n        '\\u0227': 'a',\n        '\\u01E1': 'a',\n        '\\u00E4': 'a',\n        '\\u01DF': 'a',\n        '\\u1EA3': 'a',\n        '\\u00E5': 'a',\n        '\\u01FB': 'a',\n        '\\u01CE': 'a',\n        '\\u0201': 'a',\n        '\\u0203': 'a',\n        '\\u1EA1': 'a',\n        '\\u1EAD': 'a',\n        '\\u1EB7': 'a',\n        '\\u1E01': 'a',\n        '\\u0105': 'a',\n        '\\u2C65': 'a',\n        '\\u0250': 'a',\n        '\\uA733': 'aa',\n        '\\u00E6': 'ae',\n        '\\u01FD': 'ae',\n        '\\u01E3': 'ae',\n        '\\uA735': 'ao',\n        '\\uA737': 'au',\n        '\\uA739': 'av',\n        '\\uA73B': 'av',\n        '\\uA73D': 'ay',\n        '\\u24D1': 'b',\n        '\\uFF42': 'b',\n        '\\u1E03': 'b',\n        '\\u1E05': 'b',\n        '\\u1E07': 'b',\n        '\\u0180': 'b',\n        '\\u0183': 'b',\n        '\\u0253': 'b',\n        '\\u24D2': 'c',\n        '\\uFF43': 'c',\n        '\\u0107': 'c',\n        '\\u0109': 'c',\n        '\\u010B': 'c',\n        '\\u010D': 'c',\n        '\\u00E7': 'c',\n        '\\u1E09': 'c',\n        '\\u0188': 'c',\n        '\\u023C': 'c',\n        '\\uA73F': 'c',\n        '\\u2184': 'c',\n        '\\u24D3': 'd',\n        '\\uFF44': 'd',\n        '\\u1E0B': 'd',\n        '\\u010F': 'd',\n        '\\u1E0D': 'd',\n        '\\u1E11': 'd',\n        '\\u1E13': 'd',\n        '\\u1E0F': 'd',\n        '\\u0111': 'd',\n        '\\u018C': 'd',\n        '\\u0256': 'd',\n        '\\u0257': 'd',\n        '\\uA77A': 'd',\n        '\\u01F3': 'dz',\n        '\\u01C6': 'dz',\n        '\\u24D4': 'e',\n        '\\uFF45': 'e',\n        '\\u00E8': 'e',\n        '\\u00E9': 'e',\n        '\\u00EA': 'e',\n        '\\u1EC1': 'e',\n        '\\u1EBF': 'e',\n        '\\u1EC5': 'e',\n        '\\u1EC3': 'e',\n        '\\u1EBD': 'e',\n        '\\u0113': 'e',\n        '\\u1E15': 'e',\n        '\\u1E17': 'e',\n        '\\u0115': 'e',\n        '\\u0117': 'e',\n        '\\u00EB': 'e',\n        '\\u1EBB': 'e',\n        '\\u011B': 'e',\n        '\\u0205': 'e',\n        '\\u0207': 'e',\n        '\\u1EB9': 'e',\n        '\\u1EC7': 'e',\n        '\\u0229': 'e',\n        '\\u1E1D': 'e',\n        '\\u0119': 'e',\n        '\\u1E19': 'e',\n        '\\u1E1B': 'e',\n        '\\u0247': 'e',\n        '\\u025B': 'e',\n        '\\u01DD': 'e',\n        '\\u24D5': 'f',\n        '\\uFF46': 'f',\n        '\\u1E1F': 'f',\n        '\\u0192': 'f',\n        '\\uA77C': 'f',\n        '\\u24D6': 'g',\n        '\\uFF47': 'g',\n        '\\u01F5': 'g',\n        '\\u011D': 'g',\n        '\\u1E21': 'g',\n        '\\u011F': 'g',\n        '\\u0121': 'g',\n        '\\u01E7': 'g',\n        '\\u0123': 'g',\n        '\\u01E5': 'g',\n        '\\u0260': 'g',\n        '\\uA7A1': 'g',\n        '\\u1D79': 'g',\n        '\\uA77F': 'g',\n        '\\u24D7': 'h',\n        '\\uFF48': 'h',\n        '\\u0125': 'h',\n        '\\u1E23': 'h',\n        '\\u1E27': 'h',\n        '\\u021F': 'h',\n        '\\u1E25': 'h',\n        '\\u1E29': 'h',\n        '\\u1E2B': 'h',\n        '\\u1E96': 'h',\n        '\\u0127': 'h',\n        '\\u2C68': 'h',\n        '\\u2C76': 'h',\n        '\\u0265': 'h',\n        '\\u0195': 'hv',\n        '\\u24D8': 'i',\n        '\\uFF49': 'i',\n        '\\u00EC': 'i',\n        '\\u00ED': 'i',\n        '\\u00EE': 'i',\n        '\\u0129': 'i',\n        '\\u012B': 'i',\n        '\\u012D': 'i',\n        '\\u00EF': 'i',\n        '\\u1E2F': 'i',\n        '\\u1EC9': 'i',\n        '\\u01D0': 'i',\n        '\\u0209': 'i',\n        '\\u020B': 'i',\n        '\\u1ECB': 'i',\n        '\\u012F': 'i',\n        '\\u1E2D': 'i',\n        '\\u0268': 'i',\n        '\\u0131': 'i',\n        '\\u24D9': 'j',\n        '\\uFF4A': 'j',\n        '\\u0135': 'j',\n        '\\u01F0': 'j',\n        '\\u0249': 'j',\n        '\\u24DA': 'k',\n        '\\uFF4B': 'k',\n        '\\u1E31': 'k',\n        '\\u01E9': 'k',\n        '\\u1E33': 'k',\n        '\\u0137': 'k',\n        '\\u1E35': 'k',\n        '\\u0199': 'k',\n        '\\u2C6A': 'k',\n        '\\uA741': 'k',\n        '\\uA743': 'k',\n        '\\uA745': 'k',\n        '\\uA7A3': 'k',\n        '\\u24DB': 'l',\n        '\\uFF4C': 'l',\n        '\\u0140': 'l',\n        '\\u013A': 'l',\n        '\\u013E': 'l',\n        '\\u1E37': 'l',\n        '\\u1E39': 'l',\n        '\\u013C': 'l',\n        '\\u1E3D': 'l',\n        '\\u1E3B': 'l',\n        '\\u017F': 'l',\n        '\\u0142': 'l',\n        '\\u019A': 'l',\n        '\\u026B': 'l',\n        '\\u2C61': 'l',\n        '\\uA749': 'l',\n        '\\uA781': 'l',\n        '\\uA747': 'l',\n        '\\u01C9': 'lj',\n        '\\u24DC': 'm',\n        '\\uFF4D': 'm',\n        '\\u1E3F': 'm',\n        '\\u1E41': 'm',\n        '\\u1E43': 'm',\n        '\\u0271': 'm',\n        '\\u026F': 'm',\n        '\\u24DD': 'n',\n        '\\uFF4E': 'n',\n        '\\u01F9': 'n',\n        '\\u0144': 'n',\n        '\\u00F1': 'n',\n        '\\u1E45': 'n',\n        '\\u0148': 'n',\n        '\\u1E47': 'n',\n        '\\u0146': 'n',\n        '\\u1E4B': 'n',\n        '\\u1E49': 'n',\n        '\\u019E': 'n',\n        '\\u0272': 'n',\n        '\\u0149': 'n',\n        '\\uA791': 'n',\n        '\\uA7A5': 'n',\n        '\\u01CC': 'nj',\n        '\\u24DE': 'o',\n        '\\uFF4F': 'o',\n        '\\u00F2': 'o',\n        '\\u00F3': 'o',\n        '\\u00F4': 'o',\n        '\\u1ED3': 'o',\n        '\\u1ED1': 'o',\n        '\\u1ED7': 'o',\n        '\\u1ED5': 'o',\n        '\\u00F5': 'o',\n        '\\u1E4D': 'o',\n        '\\u022D': 'o',\n        '\\u1E4F': 'o',\n        '\\u014D': 'o',\n        '\\u1E51': 'o',\n        '\\u1E53': 'o',\n        '\\u014F': 'o',\n        '\\u022F': 'o',\n        '\\u0231': 'o',\n        '\\u00F6': 'o',\n        '\\u022B': 'o',\n        '\\u1ECF': 'o',\n        '\\u0151': 'o',\n        '\\u01D2': 'o',\n        '\\u020D': 'o',\n        '\\u020F': 'o',\n        '\\u01A1': 'o',\n        '\\u1EDD': 'o',\n        '\\u1EDB': 'o',\n        '\\u1EE1': 'o',\n        '\\u1EDF': 'o',\n        '\\u1EE3': 'o',\n        '\\u1ECD': 'o',\n        '\\u1ED9': 'o',\n        '\\u01EB': 'o',\n        '\\u01ED': 'o',\n        '\\u00F8': 'o',\n        '\\u01FF': 'o',\n        '\\u0254': 'o',\n        '\\uA74B': 'o',\n        '\\uA74D': 'o',\n        '\\u0275': 'o',\n        '\\u01A3': 'oi',\n        '\\u0223': 'ou',\n        '\\uA74F': 'oo',\n        '\\u24DF': 'p',\n        '\\uFF50': 'p',\n        '\\u1E55': 'p',\n        '\\u1E57': 'p',\n        '\\u01A5': 'p',\n        '\\u1D7D': 'p',\n        '\\uA751': 'p',\n        '\\uA753': 'p',\n        '\\uA755': 'p',\n        '\\u24E0': 'q',\n        '\\uFF51': 'q',\n        '\\u024B': 'q',\n        '\\uA757': 'q',\n        '\\uA759': 'q',\n        '\\u24E1': 'r',\n        '\\uFF52': 'r',\n        '\\u0155': 'r',\n        '\\u1E59': 'r',\n        '\\u0159': 'r',\n        '\\u0211': 'r',\n        '\\u0213': 'r',\n        '\\u1E5B': 'r',\n        '\\u1E5D': 'r',\n        '\\u0157': 'r',\n        '\\u1E5F': 'r',\n        '\\u024D': 'r',\n        '\\u027D': 'r',\n        '\\uA75B': 'r',\n        '\\uA7A7': 'r',\n        '\\uA783': 'r',\n        '\\u24E2': 's',\n        '\\uFF53': 's',\n        '\\u00DF': 's',\n        '\\u015B': 's',\n        '\\u1E65': 's',\n        '\\u015D': 's',\n        '\\u1E61': 's',\n        '\\u0161': 's',\n        '\\u1E67': 's',\n        '\\u1E63': 's',\n        '\\u1E69': 's',\n        '\\u0219': 's',\n        '\\u015F': 's',\n        '\\u023F': 's',\n        '\\uA7A9': 's',\n        '\\uA785': 's',\n        '\\u1E9B': 's',\n        '\\u24E3': 't',\n        '\\uFF54': 't',\n        '\\u1E6B': 't',\n        '\\u1E97': 't',\n        '\\u0165': 't',\n        '\\u1E6D': 't',\n        '\\u021B': 't',\n        '\\u0163': 't',\n        '\\u1E71': 't',\n        '\\u1E6F': 't',\n        '\\u0167': 't',\n        '\\u01AD': 't',\n        '\\u0288': 't',\n        '\\u2C66': 't',\n        '\\uA787': 't',\n        '\\uA729': 'tz',\n        '\\u24E4': 'u',\n        '\\uFF55': 'u',\n        '\\u00F9': 'u',\n        '\\u00FA': 'u',\n        '\\u00FB': 'u',\n        '\\u0169': 'u',\n        '\\u1E79': 'u',\n        '\\u016B': 'u',\n        '\\u1E7B': 'u',\n        '\\u016D': 'u',\n        '\\u00FC': 'u',\n        '\\u01DC': 'u',\n        '\\u01D8': 'u',\n        '\\u01D6': 'u',\n        '\\u01DA': 'u',\n        '\\u1EE7': 'u',\n        '\\u016F': 'u',\n        '\\u0171': 'u',\n        '\\u01D4': 'u',\n        '\\u0215': 'u',\n        '\\u0217': 'u',\n        '\\u01B0': 'u',\n        '\\u1EEB': 'u',\n        '\\u1EE9': 'u',\n        '\\u1EEF': 'u',\n        '\\u1EED': 'u',\n        '\\u1EF1': 'u',\n        '\\u1EE5': 'u',\n        '\\u1E73': 'u',\n        '\\u0173': 'u',\n        '\\u1E77': 'u',\n        '\\u1E75': 'u',\n        '\\u0289': 'u',\n        '\\u24E5': 'v',\n        '\\uFF56': 'v',\n        '\\u1E7D': 'v',\n        '\\u1E7F': 'v',\n        '\\u028B': 'v',\n        '\\uA75F': 'v',\n        '\\u028C': 'v',\n        '\\uA761': 'vy',\n        '\\u24E6': 'w',\n        '\\uFF57': 'w',\n        '\\u1E81': 'w',\n        '\\u1E83': 'w',\n        '\\u0175': 'w',\n        '\\u1E87': 'w',\n        '\\u1E85': 'w',\n        '\\u1E98': 'w',\n        '\\u1E89': 'w',\n        '\\u2C73': 'w',\n        '\\u24E7': 'x',\n        '\\uFF58': 'x',\n        '\\u1E8B': 'x',\n        '\\u1E8D': 'x',\n        '\\u24E8': 'y',\n        '\\uFF59': 'y',\n        '\\u1EF3': 'y',\n        '\\u00FD': 'y',\n        '\\u0177': 'y',\n        '\\u1EF9': 'y',\n        '\\u0233': 'y',\n        '\\u1E8F': 'y',\n        '\\u00FF': 'y',\n        '\\u1EF7': 'y',\n        '\\u1E99': 'y',\n        '\\u1EF5': 'y',\n        '\\u01B4': 'y',\n        '\\u024F': 'y',\n        '\\u1EFF': 'y',\n        '\\u24E9': 'z',\n        '\\uFF5A': 'z',\n        '\\u017A': 'z',\n        '\\u1E91': 'z',\n        '\\u017C': 'z',\n        '\\u017E': 'z',\n        '\\u1E93': 'z',\n        '\\u1E95': 'z',\n        '\\u01B6': 'z',\n        '\\u0225': 'z',\n        '\\u0240': 'z',\n        '\\u2C6C': 'z',\n        '\\uA763': 'z',\n        '\\u0386': '\\u0391',\n        '\\u0388': '\\u0395',\n        '\\u0389': '\\u0397',\n        '\\u038A': '\\u0399',\n        '\\u03AA': '\\u0399',\n        '\\u038C': '\\u039F',\n        '\\u038E': '\\u03A5',\n        '\\u03AB': '\\u03A5',\n        '\\u038F': '\\u03A9',\n        '\\u03AC': '\\u03B1',\n        '\\u03AD': '\\u03B5',\n        '\\u03AE': '\\u03B7',\n        '\\u03AF': '\\u03B9',\n        '\\u03CA': '\\u03B9',\n        '\\u0390': '\\u03B9',\n        '\\u03CC': '\\u03BF',\n        '\\u03CD': '\\u03C5',\n        '\\u03CB': '\\u03C5',\n        '\\u03B0': '\\u03C5',\n        '\\u03C9': '\\u03C9',\n        '\\u03C2': '\\u03C3'\n    };\n    DataUtil.fnOperators = {\n        /**\n         * Returns true when the actual input is equal to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         * @param  {boolean} ignoreAccent?\n         */\n        equal: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) === DataUtil.toLowerCase(expected);\n            }\n            return actual === expected;\n        },\n        /**\n         * Returns true when the actual input is not equal to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        notequal: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            return !DataUtil.fnOperators.equal(actual, expected, ignoreCase);\n        },\n        /**\n         * Returns true when the actual input is less than to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        lessthan: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) < DataUtil.toLowerCase(expected);\n            }\n            if (isNullOrUndefined(actual)) {\n                actual = undefined;\n            }\n            return actual < expected;\n        },\n        /**\n         * Returns true when the actual input is greater than to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        greaterthan: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) > DataUtil.toLowerCase(expected);\n            }\n            return actual > expected;\n        },\n        /**\n         * Returns true when the actual input is less than or equal to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        lessthanorequal: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) <= DataUtil.toLowerCase(expected);\n            }\n            if (isNullOrUndefined(actual)) {\n                actual = undefined;\n            }\n            return actual <= expected;\n        },\n        /**\n         * Returns true when the actual input is greater than or equal to the given input.\n         * @param  {string|number|boolean} actual\n         * @param  {string|number|boolean} expected\n         * @param  {boolean} ignoreCase?\n         */\n        greaterthanorequal: function (actual, expected, ignoreCase) {\n            if (ignoreCase) {\n                return DataUtil.toLowerCase(actual) >= DataUtil.toLowerCase(expected);\n            }\n            return actual >= expected;\n        },\n        /**\n         * Returns true when the actual input contains the given string.\n         * @param  {string|number} actual\n         * @param  {string|number} expected\n         * @param  {boolean} ignoreCase?\n         */\n        contains: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            if (ignoreCase) {\n                return !isNullOrUndefined(actual) && !isNullOrUndefined(expected) &&\n                    DataUtil.toLowerCase(actual).indexOf(DataUtil.toLowerCase(expected)) !== -1;\n            }\n            return !isNullOrUndefined(actual) && !isNullOrUndefined(expected) &&\n                actual.toString().indexOf(expected) !== -1;\n        },\n        /**\n         * Returns true when the given input value is not null.\n         * @param  {string|number} actual\n         * @returns boolean\n         */\n        notnull: function (actual) {\n            return actual !== null;\n        },\n        /**\n         * Returns true when the given input value is null.\n         * @param  {string|number} actual\n         * @returns boolean\n         */\n        isnull: function (actual) {\n            return actual === null;\n        },\n        /**\n         * Returns true when the actual input starts with the given string\n         * @param  {string} actual\n         * @param  {string} expected\n         * @param  {boolean} ignoreCase?\n         */\n        startswith: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            if (ignoreCase) {\n                return actual && expected && DataUtil.startsWith(DataUtil.toLowerCase(actual), DataUtil.toLowerCase(expected));\n            }\n            return actual && expected && DataUtil.startsWith(actual, expected);\n        },\n        /**\n         * Returns true when the actual input ends with the given string.\n         * @param  {string} actual\n         * @param  {string} expected\n         * @param  {boolean} ignoreCase?\n         */\n        endswith: function (actual, expected, ignoreCase, ignoreAccent) {\n            if (ignoreAccent) {\n                actual = DataUtil.ignoreDiacritics(actual);\n                expected = DataUtil.ignoreDiacritics(expected);\n            }\n            if (ignoreCase) {\n                return actual && expected && DataUtil.endsWith(DataUtil.toLowerCase(actual), DataUtil.toLowerCase(expected));\n            }\n            return actual && expected && DataUtil.endsWith(actual, expected);\n        },\n        /**\n         * It will return the filter operator based on the filter symbol.\n         * @param  {string} operator\n         * @hidden\n         */\n        processSymbols: function (operator) {\n            var fnName = DataUtil.operatorSymbols[operator];\n            if (fnName) {\n                var fn = DataUtil.fnOperators[fnName];\n                return fn;\n            }\n            return DataUtil.throwError('Query - Process Operator : Invalid operator');\n        },\n        /**\n         * It will return the valid filter operator based on the specified operators.\n         * @param  {string} operator\n         * @hidden\n         */\n        processOperator: function (operator) {\n            var fn = DataUtil.fnOperators[operator];\n            if (fn) {\n                return fn;\n            }\n            return DataUtil.fnOperators.processSymbols(operator);\n        }\n    };\n    /**\n     * To perform the parse operation on JSON data, like convert to string from JSON or convert to JSON from string.\n     */\n    DataUtil.parse = {\n        /**\n         * Parse the given string to the plain JavaScript object.\n         * @param  {string|Object|Object[]} jsonText\n         */\n        parseJson: function (jsonText) {\n            if (typeof jsonText === 'string') {\n                jsonText = JSON.parse(jsonText, DataUtil.parse.jsonReviver);\n            }\n            else if (jsonText instanceof Array) {\n                DataUtil.parse.iterateAndReviveArray(jsonText);\n            }\n            else if (typeof jsonText === 'object' && jsonText !== null) {\n                DataUtil.parse.iterateAndReviveJson(jsonText);\n            }\n            return jsonText;\n        },\n        /**\n         * It will perform on array of values.\n         * @param  {string[]|Object[]} array\n         * @hidden\n         */\n        iterateAndReviveArray: function (array) {\n            for (var i = 0; i < array.length; i++) {\n                if (typeof array[i] === 'object' && array[i] !== null) {\n                    DataUtil.parse.iterateAndReviveJson(array[i]);\n                }\n                else if (typeof array[i] === 'string' && !/^[\\s]*\\[|^[\\s]*\\{(.)+:|\\\"/g.test(array[i])) {\n                    array[i] = DataUtil.parse.jsonReviver('', array[i]);\n                }\n                else {\n                    array[i] = DataUtil.parse.parseJson(array[i]);\n                }\n            }\n        },\n        /**\n         * It will perform on JSON values\n         * @param  {JSON} json\n         * @hidden\n         */\n        iterateAndReviveJson: function (json) {\n            var value;\n            var keys = Object.keys(json);\n            for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n                var prop = keys_2[_i];\n                if (DataUtil.startsWith(prop, '__')) {\n                    continue;\n                }\n                value = json[prop];\n                if (typeof value === 'object') {\n                    if (value instanceof Array) {\n                        DataUtil.parse.iterateAndReviveArray(value);\n                    }\n                    else if (value) {\n                        DataUtil.parse.iterateAndReviveJson(value);\n                    }\n                }\n                else {\n                    json[prop] = DataUtil.parse.jsonReviver(json[prop], value);\n                }\n            }\n        },\n        /**\n         * It will perform on JSON values\n         * @param  {string} field\n         * @param  {string|Date} value\n         * @hidden\n         */\n        jsonReviver: function (field, value) {\n            if (typeof value === 'string') {\n                var ms = /^\\/Date\\(([+-]?[0-9]+)([+-][0-9]{4})?\\)\\/$/.exec(value);\n                var offSet = DataUtil.timeZoneHandling ? DataUtil.serverTimezoneOffset : null;\n                if (ms) {\n                    return DataUtil.dateParse.toTimeZone(new Date(parseInt(ms[1], 10)), offSet, true);\n                }\n                else if (/^(\\d{4}\\-\\d\\d\\-\\d\\d([tT][\\d:\\.]*){1})([zZ]|([+\\-])(\\d\\d):?(\\d\\d))?$/.test(value)) {\n                    var isUTC = value.indexOf('Z') > -1 || value.indexOf('z') > -1;\n                    var arr = value.split(/[^0-9.]/);\n                    if (isUTC) {\n                        value = DataUtil.dateParse\n                            .toTimeZone(new Date(parseInt(arr[0], 10), parseInt(arr[1], 10) - 1, parseInt(arr[2], 10), parseInt(arr[3], 10), parseInt(arr[4], 10), parseInt(arr[5], 10)), DataUtil.serverTimezoneOffset, false);\n                    }\n                    else {\n                        var utcFormat = new Date(parseInt(arr[0], 10), parseInt(arr[1], 10) - 1, parseInt(arr[2], 10), parseInt(arr[3], 10), parseInt(arr[4], 10), parseInt(arr[5], 10));\n                        var hrs = parseInt(arr[6], 10);\n                        var mins = parseInt(arr[7], 10);\n                        if (isNaN(hrs) && isNaN(mins)) {\n                            return utcFormat;\n                        }\n                        if (value.indexOf('+') > -1) {\n                            utcFormat.setHours(utcFormat.getHours() - hrs, utcFormat.getMinutes() - mins);\n                        }\n                        else {\n                            utcFormat.setHours(utcFormat.getHours() + hrs, utcFormat.getMinutes() + mins);\n                        }\n                        value = DataUtil.dateParse\n                            .toTimeZone(utcFormat, DataUtil.serverTimezoneOffset, false);\n                    }\n                    if (DataUtil.serverTimezoneOffset == null) {\n                        value = DataUtil.dateParse.addSelfOffset(value);\n                    }\n                }\n            }\n            return value;\n        },\n        /**\n         * Check wheather the given value is JSON or not.\n         * @param  {Object[]} jsonData\n         */\n        isJson: function (jsonData) {\n            if (typeof jsonData[0] === 'string') {\n                return jsonData;\n            }\n            return DataUtil.parse.parseJson(jsonData);\n        },\n        /**\n         * Checks wheather the given value is GUID or not.\n         * @param  {string} value\n         */\n        isGuid: function (value) {\n            var regex = /[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i;\n            var match = regex.exec(value);\n            return match != null;\n        },\n        /**\n         * The method used to replace the value based on the type.\n         * @param  {Object} value\n         * @param  {boolean} stringify\n         * @hidden\n         */\n        replacer: function (value, stringify) {\n            if (DataUtil.isPlainObject(value)) {\n                return DataUtil.parse.jsonReplacer(value, stringify);\n            }\n            if (value instanceof Array) {\n                return DataUtil.parse.arrayReplacer(value);\n            }\n            if (value instanceof Date) {\n                return DataUtil.parse.jsonReplacer({ val: value }, stringify).val;\n            }\n            return value;\n        },\n        /**\n         * It will replace the JSON value.\n         * @param  {string} key\n         * @param  {Object} val\n         * @hidden\n         */\n        jsonReplacer: function (val, stringify) {\n            var value;\n            var keys = Object.keys(val);\n            for (var _i = 0, keys_3 = keys; _i < keys_3.length; _i++) {\n                var prop = keys_3[_i];\n                value = val[prop];\n                if (!(value instanceof Date)) {\n                    continue;\n                }\n                var d = value;\n                if (DataUtil.serverTimezoneOffset == null) {\n                    val[prop] = DataUtil.dateParse.toTimeZone(d, null).toJSON();\n                }\n                else {\n                    d = new Date(+d + DataUtil.serverTimezoneOffset * 3600000);\n                    val[prop] = DataUtil.dateParse.toTimeZone(DataUtil.dateParse.addSelfOffset(d), null).toJSON();\n                }\n            }\n            return val;\n        },\n        /**\n         * It will replace the Array of value.\n         * @param  {string} key\n         * @param  {Object[]} val\n         * @hidden\n         */\n        arrayReplacer: function (val) {\n            for (var i = 0; i < val.length; i++) {\n                if (DataUtil.isPlainObject(val[i])) {\n                    val[i] = DataUtil.parse.jsonReplacer(val[i]);\n                }\n                else if (val[i] instanceof Date) {\n                    val[i] = DataUtil.parse.jsonReplacer({ date: val[i] }).date;\n                }\n            }\n            return val;\n        },\n        /**\n         * It will replace the Date object with respective to UTC format value.\n         * @param  {string} key\n         * @param  {any} value\n         * @hidden\n         */\n        /* tslint:disable-next-line:no-any */\n        jsonDateReplacer: function (key, value) {\n            if (key === 'value' && value) {\n                if (typeof value === 'string') {\n                    var ms = /^\\/Date\\(([+-]?[0-9]+)([+-][0-9]{4})?\\)\\/$/.exec(value);\n                    if (ms) {\n                        value = DataUtil.dateParse.toTimeZone(new Date(parseInt(ms[1], 10)), null, true);\n                    }\n                    else if (/^(\\d{4}\\-\\d\\d\\-\\d\\d([tT][\\d:\\.]*){1})([zZ]|([+\\-])(\\d\\d):?(\\d\\d))?$/.test(value)) {\n                        var arr = value.split(/[^0-9]/);\n                        value = DataUtil.dateParse\n                            .toTimeZone(new Date(parseInt(arr[0], 10), parseInt(arr[1], 10) - 1, parseInt(arr[2], 10), parseInt(arr[3], 10), parseInt(arr[4], 10), parseInt(arr[5], 10)), null, true);\n                    }\n                }\n                if (value instanceof Date) {\n                    value = DataUtil.dateParse.addSelfOffset(value);\n                    if (DataUtil.serverTimezoneOffset === null) {\n                        return DataUtil.dateParse.toTimeZone(DataUtil.dateParse.addSelfOffset(value), null).toJSON();\n                    }\n                    else {\n                        value = DataUtil.dateParse.toTimeZone(value, (((value.getTimezoneOffset() / 60) * 2)\n                            - DataUtil.serverTimezoneOffset), false);\n                        return value.toJSON();\n                    }\n                }\n            }\n            return value;\n        }\n    };\n    /**\n     * @hidden\n     */\n    DataUtil.dateParse = {\n        addSelfOffset: function (input) {\n            return new Date(+input - (input.getTimezoneOffset() * 60000));\n        },\n        toUTC: function (input) {\n            return new Date(+input + (input.getTimezoneOffset() * 60000));\n        },\n        toTimeZone: function (input, offset, utc) {\n            if (offset === null) {\n                return input;\n            }\n            var unix = utc ? DataUtil.dateParse.toUTC(input) : input;\n            return new Date(+unix - (offset * 3600000));\n        },\n        toLocalTime: function (input) {\n            var datefn = input;\n            var timeZone = -datefn.getTimezoneOffset();\n            var differenceString = timeZone >= 0 ? '+' : '-';\n            var localtimefn = function (num) {\n                var norm = Math.floor(Math.abs(num));\n                return (norm < 10 ? '0' : '') + norm;\n            };\n            var val = datefn.getFullYear() + '-' + localtimefn(datefn.getMonth() + 1) + '-' + localtimefn(datefn.getDate()) +\n                'T' + localtimefn(datefn.getHours()) +\n                ':' + localtimefn(datefn.getMinutes()) +\n                ':' + localtimefn(datefn.getSeconds()) +\n                differenceString + localtimefn(timeZone / 60) +\n                ':' + localtimefn(timeZone % 60);\n            return val;\n        }\n    };\n    return DataUtil;\n}());\nexport { DataUtil };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Touch, Component, EventHandler, selectAll, getUniqueID } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Property, Browser, detach } from '@syncfusion/ej2-base';\nimport { classList, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar CLS_ROOT = 'e-hscroll';\nvar CLS_RTL = 'e-rtl';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_HSCROLLBAR = 'e-hscroll-bar';\nvar CLS_HSCROLLCON = 'e-hscroll-content';\nvar CLS_NAVARROW = 'e-nav-arrow';\nvar CLS_NAVRIGHTARROW = 'e-nav-right-arrow';\nvar CLS_NAVLEFTARROW = 'e-nav-left-arrow';\nvar CLS_HSCROLLNAV = 'e-scroll-nav';\nvar CLS_HSCROLLNAVRIGHT = 'e-scroll-right-nav';\nvar CLS_HSCROLLNAVLEFT = 'e-scroll-left-nav';\nvar CLS_DEVICE = 'e-scroll-device';\nvar CLS_OVERLAY = 'e-scroll-overlay';\nvar CLS_RIGHTOVERLAY = 'e-scroll-right-overlay';\nvar CLS_LEFTOVERLAY = 'e-scroll-left-overlay';\nvar OVERLAY_MAXWID = 40;\n/**\n * HScroll module is introduces horizontal scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs horizontal scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new HScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\nvar HScroll = /** @class */ (function (_super) {\n    __extends(HScroll, _super);\n    /**\n     * Initializes a new instance of the HScroll class.\n     *\n     * @param {HScrollModel} options  - Specifies HScroll model properties as options.\n     * @param {string | HTMLElement} element  - Specifies the element for which horizontal scrolling applies.\n     */\n    function HScroll(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    HScroll.prototype.preRender = function () {\n        this.browser = Browser.info.name;\n        this.browserCheck = this.browser === 'mozilla';\n        this.isDevice = Browser.isDevice;\n        this.customStep = true;\n        var element = this.element;\n        this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n        this.initialize();\n        if (element.id === '') {\n            element.id = getUniqueID('hscroll');\n            this.uniqueId = true;\n        }\n        element.style.display = 'block';\n        if (this.enableRtl) {\n            element.classList.add(CLS_RTL);\n        }\n    };\n    /**\n     * To Initialize the horizontal scroll  rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    HScroll.prototype.render = function () {\n        this.touchModule = new Touch(this.element, { scroll: this.touchHandler.bind(this), swipe: this.swipeHandler.bind(this) });\n        EventHandler.add(this.scrollEle, 'scroll', this.scrollHandler, this);\n        if (!this.isDevice) {\n            this.createNavIcon(this.element);\n        }\n        else {\n            this.element.classList.add(CLS_DEVICE);\n            this.createOverlay(this.element);\n        }\n        this.setScrollState();\n    };\n    HScroll.prototype.setScrollState = function () {\n        if (isNullOrUndefined(this.scrollStep) || this.scrollStep < 0) {\n            this.scrollStep = this.scrollEle.offsetWidth;\n            this.customStep = false;\n        }\n        else {\n            this.customStep = true;\n        }\n    };\n    HScroll.prototype.initialize = function () {\n        var scrollEle = this.createElement('div', { className: CLS_HSCROLLCON });\n        var scrollDiv = this.createElement('div', { className: CLS_HSCROLLBAR });\n        scrollDiv.setAttribute('tabindex', '-1');\n        var ele = this.element;\n        var innerEle = [].slice.call(ele.children);\n        for (var _i = 0, innerEle_1 = innerEle; _i < innerEle_1.length; _i++) {\n            var ele_1 = innerEle_1[_i];\n            scrollEle.appendChild(ele_1);\n        }\n        scrollDiv.appendChild(scrollEle);\n        ele.appendChild(scrollDiv);\n        scrollDiv.style.overflowX = 'hidden';\n        this.scrollEle = scrollDiv;\n        this.scrollItems = scrollEle;\n    };\n    HScroll.prototype.getPersistData = function () {\n        var keyEntity = ['scrollStep'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - It returns the current module name.\n     * @private\n     */\n    HScroll.prototype.getModuleName = function () {\n        return 'hScroll';\n    };\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     *\n     * @returns {void}\n     */\n    HScroll.prototype.destroy = function () {\n        var ele = this.element;\n        ele.style.display = '';\n        ele.classList.remove(CLS_ROOT);\n        ele.classList.remove(CLS_DEVICE);\n        var nav = selectAll('.e-' + ele.id + '_nav.' + CLS_HSCROLLNAV, ele);\n        var overlay = selectAll('.' + CLS_OVERLAY, ele);\n        [].slice.call(overlay).forEach(function (ele) {\n            detach(ele);\n        });\n        for (var _i = 0, _a = [].slice.call(this.scrollItems.children); _i < _a.length; _i++) {\n            var elem = _a[_i];\n            ele.appendChild(elem);\n        }\n        if (this.uniqueId) {\n            this.element.removeAttribute('id');\n        }\n        detach(this.scrollEle);\n        if (nav.length > 0) {\n            detach(nav[0]);\n            if (!isNullOrUndefined(nav[1])) {\n                detach(nav[1]);\n            }\n        }\n        EventHandler.remove(this.scrollEle, 'scroll', this.scrollHandler);\n        this.touchModule.destroy();\n        this.touchModule = null;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Specifies the value to disable/enable the HScroll component.\n     * When set to `true` , the component will be disabled.\n     *\n     * @param  {boolean} value - Based on this Boolean value, HScroll will be enabled (false) or disabled (true).\n     * @returns {void}.\n     */\n    HScroll.prototype.disable = function (value) {\n        var navEles = selectAll('.e-scroll-nav:not(.' + CLS_DISABLE + ')', this.element);\n        if (value) {\n            this.element.classList.add(CLS_DISABLE);\n        }\n        else {\n            this.element.classList.remove(CLS_DISABLE);\n        }\n        [].slice.call(navEles).forEach(function (el) {\n            el.setAttribute('tabindex', !value ? '0' : '-1');\n        });\n    };\n    HScroll.prototype.createOverlay = function (element) {\n        var id = element.id.concat('_nav');\n        var rightOverlayEle = this.createElement('div', { className: CLS_OVERLAY + ' ' + CLS_RIGHTOVERLAY });\n        var clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n        var rightEle = this.createElement('div', { id: id.concat('_right'), className: clsRight });\n        var navItem = this.createElement('div', { className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        rightEle.appendChild(navItem);\n        var leftEle = this.createElement('div', { className: CLS_OVERLAY + ' ' + CLS_LEFTOVERLAY });\n        if (this.ieCheck) {\n            rightEle.classList.add('e-ie-align');\n        }\n        element.appendChild(rightOverlayEle);\n        element.appendChild(rightEle);\n        element.insertBefore(leftEle, element.firstChild);\n        this.eventBinding([rightEle]);\n    };\n    HScroll.prototype.createNavIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n        var nav = this.createElement('div', { id: id.concat('_right'), className: clsRight });\n        nav.setAttribute('aria-disabled', 'false');\n        var navItem = this.createElement('div', { className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        var clsLeft = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVLEFT);\n        var navEle = this.createElement('div', { id: id.concat('_left'), className: clsLeft + ' ' + CLS_DISABLE });\n        navEle.setAttribute('aria-disabled', 'true');\n        var navLeftItem = this.createElement('div', { className: CLS_NAVLEFTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        navEle.appendChild(navLeftItem);\n        nav.appendChild(navItem);\n        element.appendChild(nav);\n        element.insertBefore(navEle, element.firstChild);\n        if (this.ieCheck) {\n            nav.classList.add('e-ie-align');\n            navEle.classList.add('e-ie-align');\n        }\n        this.eventBinding([nav, navEle]);\n    };\n    HScroll.prototype.onKeyPress = function (e) {\n        var _this = this;\n        if (e.key === 'Enter') {\n            var timeoutFun_1 = function () {\n                _this.keyTimeout = true;\n                _this.eleScrolling(10, e.target, true);\n            };\n            this.keyTimer = window.setTimeout(function () {\n                timeoutFun_1();\n            }, 100);\n        }\n    };\n    HScroll.prototype.onKeyUp = function (e) {\n        if (e.key !== 'Enter') {\n            return;\n        }\n        if (this.keyTimeout) {\n            this.keyTimeout = false;\n        }\n        else {\n            e.target.click();\n        }\n        clearTimeout(this.keyTimer);\n    };\n    HScroll.prototype.eventBinding = function (ele) {\n        var _this = this;\n        [].slice.call(ele).forEach(function (el) {\n            new Touch(el, { tapHold: _this.tabHoldHandler.bind(_this), tapHoldThreshold: 500 });\n            el.addEventListener('keydown', _this.onKeyPress.bind(_this));\n            el.addEventListener('keyup', _this.onKeyUp.bind(_this));\n            el.addEventListener('mouseup', _this.repeatScroll.bind(_this));\n            el.addEventListener('touchend', _this.repeatScroll.bind(_this));\n            el.addEventListener('contextmenu', function (e) {\n                e.preventDefault();\n            });\n            EventHandler.add(el, 'click', _this.clickEventHandler, _this);\n        });\n    };\n    HScroll.prototype.repeatScroll = function () {\n        clearInterval(this.timeout);\n    };\n    HScroll.prototype.tabHoldHandler = function (e) {\n        var _this = this;\n        var trgt = e.originalEvent.target;\n        trgt = this.contains(trgt, CLS_HSCROLLNAV) ? trgt.firstElementChild : trgt;\n        var scrollDis = 10;\n        var timeoutFun = function () {\n            _this.eleScrolling(scrollDis, trgt, true);\n        };\n        this.timeout = window.setInterval(function () {\n            timeoutFun();\n        }, 50);\n    };\n    HScroll.prototype.contains = function (ele, className) {\n        return ele.classList.contains(className);\n    };\n    HScroll.prototype.eleScrolling = function (scrollDis, trgt, isContinuous) {\n        var rootEle = this.element;\n        var classList = trgt.classList;\n        if (classList.contains(CLS_HSCROLLNAV)) {\n            classList = trgt.querySelector('.' + CLS_NAVARROW).classList;\n        }\n        if (this.contains(rootEle, CLS_RTL) && this.browserCheck) {\n            scrollDis = -scrollDis;\n        }\n        if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n            if (classList.contains(CLS_NAVRIGHTARROW)) {\n                this.frameScrollRequest(scrollDis, 'add', isContinuous);\n            }\n            else {\n                this.frameScrollRequest(scrollDis, '', isContinuous);\n            }\n        }\n        else {\n            if (classList.contains(CLS_NAVLEFTARROW)) {\n                this.frameScrollRequest(scrollDis, 'add', isContinuous);\n            }\n            else {\n                this.frameScrollRequest(scrollDis, '', isContinuous);\n            }\n        }\n    };\n    HScroll.prototype.clickEventHandler = function (e) {\n        this.eleScrolling(this.scrollStep, e.target, false);\n    };\n    HScroll.prototype.swipeHandler = function (e) {\n        var swipeEle = this.scrollEle;\n        var distance;\n        if (e.velocity <= 1) {\n            distance = e.distanceX / (e.velocity * 10);\n        }\n        else {\n            distance = e.distanceX / e.velocity;\n        }\n        var start = 0.5;\n        var animate = function () {\n            var step = Math.sin(start);\n            if (step <= 0) {\n                window.cancelAnimationFrame(step);\n            }\n            else {\n                if (e.swipeDirection === 'Left') {\n                    swipeEle.scrollLeft += distance * step;\n                }\n                else if (e.swipeDirection === 'Right') {\n                    swipeEle.scrollLeft -= distance * step;\n                }\n                start -= 0.5;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    HScroll.prototype.scrollUpdating = function (scrollVal, action) {\n        if (action === 'add') {\n            this.scrollEle.scrollLeft += scrollVal;\n        }\n        else {\n            this.scrollEle.scrollLeft -= scrollVal;\n        }\n    };\n    HScroll.prototype.frameScrollRequest = function (scrollVal, action, isContinuous) {\n        var _this = this;\n        var step = 10;\n        if (isContinuous) {\n            this.scrollUpdating(scrollVal, action);\n            return;\n        }\n        if (!this.customStep) {\n            [].slice.call(selectAll('.' + CLS_OVERLAY, this.element)).forEach(function (el) {\n                scrollVal -= el.offsetWidth;\n            });\n        }\n        var animate = function () {\n            var scrollValue;\n            var scrollStep;\n            if (_this.contains(_this.element, CLS_RTL) && _this.browserCheck) {\n                scrollValue = -scrollVal;\n                scrollStep = -step;\n            }\n            else {\n                scrollValue = scrollVal;\n                scrollStep = step;\n            }\n            if (scrollValue < step) {\n                window.cancelAnimationFrame(scrollStep);\n            }\n            else {\n                _this.scrollUpdating(scrollStep, action);\n                scrollVal -= scrollStep;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    HScroll.prototype.touchHandler = function (e) {\n        var ele = this.scrollEle;\n        var distance = e.distanceX;\n        if ((this.ieCheck) && this.contains(this.element, CLS_RTL)) {\n            distance = -distance;\n        }\n        if (e.scrollDirection === 'Left') {\n            ele.scrollLeft = ele.scrollLeft + distance;\n        }\n        else if (e.scrollDirection === 'Right') {\n            ele.scrollLeft = ele.scrollLeft - distance;\n        }\n    };\n    HScroll.prototype.arrowDisabling = function (addDisable, removeDisable) {\n        if (this.isDevice) {\n            var arrowEle = isNullOrUndefined(addDisable) ? removeDisable : addDisable;\n            var arrowIcon = arrowEle.querySelector('.' + CLS_NAVARROW);\n            if (isNullOrUndefined(addDisable)) {\n                classList(arrowIcon, [CLS_NAVRIGHTARROW], [CLS_NAVLEFTARROW]);\n            }\n            else {\n                classList(arrowIcon, [CLS_NAVLEFTARROW], [CLS_NAVRIGHTARROW]);\n            }\n        }\n        else if (addDisable && removeDisable) {\n            addDisable.classList.add(CLS_DISABLE);\n            addDisable.setAttribute('aria-disabled', 'true');\n            addDisable.removeAttribute('tabindex');\n            removeDisable.classList.remove(CLS_DISABLE);\n            removeDisable.setAttribute('aria-disabled', 'false');\n            removeDisable.setAttribute('tabindex', '0');\n        }\n        this.repeatScroll();\n    };\n    HScroll.prototype.scrollHandler = function (e) {\n        var target = e.target;\n        var width = target.offsetWidth;\n        var rootEle = this.element;\n        var navLeftEle = this.element.querySelector('.' + CLS_HSCROLLNAVLEFT);\n        var navRightEle = this.element.querySelector('.' + CLS_HSCROLLNAVRIGHT);\n        var leftOverlay = this.element.querySelector('.' + CLS_LEFTOVERLAY);\n        var rightOverlay = this.element.querySelector('.' + CLS_RIGHTOVERLAY);\n        var scrollLeft = target.scrollLeft;\n        if (scrollLeft <= 0) {\n            scrollLeft = -scrollLeft;\n        }\n        if (this.isDevice) {\n            if (this.enableRtl && !(this.browserCheck || this.ieCheck)) {\n                leftOverlay = this.element.querySelector('.' + CLS_RIGHTOVERLAY);\n                rightOverlay = this.element.querySelector('.' + CLS_LEFTOVERLAY);\n            }\n            if (scrollLeft < OVERLAY_MAXWID) {\n                leftOverlay.style.width = scrollLeft + 'px';\n            }\n            else {\n                leftOverlay.style.width = '40px';\n            }\n            if ((target.scrollWidth - Math.ceil(width + scrollLeft)) < OVERLAY_MAXWID) {\n                rightOverlay.style.width = (target.scrollWidth - Math.ceil(width + scrollLeft)) + 'px';\n            }\n            else {\n                rightOverlay.style.width = '40px';\n            }\n        }\n        if (scrollLeft === 0) {\n            this.arrowDisabling(navLeftEle, navRightEle);\n        }\n        else if (Math.ceil(width + scrollLeft + .1) >= target.scrollWidth) {\n            this.arrowDisabling(navRightEle, navLeftEle);\n        }\n        else {\n            var disEle = this.element.querySelector('.' + CLS_HSCROLLNAV + '.' + CLS_DISABLE);\n            if (disEle) {\n                disEle.classList.remove(CLS_DISABLE);\n                disEle.setAttribute('aria-disabled', 'false');\n                disEle.setAttribute('tabindex', '0');\n            }\n        }\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n     *\n     * @param  {HScrollModel} newProp - It contains the new value of data.\n     * @param  {HScrollModel} oldProp - It contains the old value of data.\n     * @returns {void}\n     * @private\n     */\n    HScroll.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'scrollStep':\n                    this.setScrollState();\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.element.classList.add(CLS_RTL) : this.element.classList.remove(CLS_RTL);\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property(null)\n    ], HScroll.prototype, \"scrollStep\", void 0);\n    HScroll = __decorate([\n        NotifyPropertyChanges\n    ], HScroll);\n    return HScroll;\n}(Component));\nexport { HScroll };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Touch, Component, EventHandler, selectAll, getUniqueID, removeClass } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Property, Browser, detach, createElement as buildTag } from '@syncfusion/ej2-base';\nimport { classList, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar CLS_ROOT = 'e-vscroll';\nvar CLS_RTL = 'e-rtl';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_VSCROLLBAR = 'e-vscroll-bar';\nvar CLS_VSCROLLCON = 'e-vscroll-content';\nvar CLS_NAVARROW = 'e-nav-arrow';\nvar CLS_NAVUPARROW = 'e-nav-up-arrow';\nvar CLS_NAVDOWNARROW = 'e-nav-down-arrow';\nvar CLS_VSCROLLNAV = 'e-scroll-nav';\nvar CLS_VSCROLLNAVUP = 'e-scroll-up-nav';\nvar CLS_VSCROLLNAVDOWN = 'e-scroll-down-nav';\nvar CLS_DEVICE = 'e-scroll-device';\nvar CLS_OVERLAY = 'e-scroll-overlay';\nvar CLS_UPOVERLAY = 'e-scroll-up-overlay';\nvar CLS_DOWNOVERLAY = 'e-scroll-down-overlay';\nvar OVERLAY_MAXWID = 40;\n/**\n * VScroll module is introduces vertical scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs vertical scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new VScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\nvar VScroll = /** @class */ (function (_super) {\n    __extends(VScroll, _super);\n    /**\n     * Initializes a new instance of the VScroll class.\n     *\n     * @param {VScrollModel} options  - Specifies VScroll model properties as options.\n     * @param {string | HTMLElement} element  - Specifies the element for which vertical scrolling applies.\n     */\n    function VScroll(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    VScroll.prototype.preRender = function () {\n        this.browser = Browser.info.name;\n        this.browserCheck = this.browser === 'mozilla';\n        this.isDevice = Browser.isDevice;\n        this.customStep = true;\n        var ele = this.element;\n        this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n        this.initialize();\n        if (ele.id === '') {\n            ele.id = getUniqueID('vscroll');\n            this.uniqueId = true;\n        }\n        ele.style.display = 'block';\n        if (this.enableRtl) {\n            ele.classList.add(CLS_RTL);\n        }\n    };\n    /**\n     * To Initialize the vertical scroll rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    VScroll.prototype.render = function () {\n        this.touchModule = new Touch(this.element, { scroll: this.touchHandler.bind(this), swipe: this.swipeHandler.bind(this) });\n        EventHandler.add(this.scrollEle, 'scroll', this.scrollEventHandler, this);\n        if (!this.isDevice) {\n            this.createNavIcon(this.element);\n        }\n        else {\n            this.element.classList.add(CLS_DEVICE);\n            this.createOverlayElement(this.element);\n        }\n        this.setScrollState();\n        EventHandler.add(this.element, 'wheel', this.wheelEventHandler, this);\n    };\n    VScroll.prototype.setScrollState = function () {\n        if (isNullOrUndefined(this.scrollStep) || this.scrollStep < 0) {\n            this.scrollStep = this.scrollEle.offsetHeight;\n            this.customStep = false;\n        }\n        else {\n            this.customStep = true;\n        }\n    };\n    VScroll.prototype.initialize = function () {\n        var scrollCnt = buildTag('div', { className: CLS_VSCROLLCON });\n        var scrollBar = buildTag('div', { className: CLS_VSCROLLBAR });\n        scrollBar.setAttribute('tabindex', '-1');\n        var ele = this.element;\n        var innerEle = [].slice.call(ele.children);\n        for (var _i = 0, innerEle_1 = innerEle; _i < innerEle_1.length; _i++) {\n            var ele_1 = innerEle_1[_i];\n            scrollCnt.appendChild(ele_1);\n        }\n        scrollBar.appendChild(scrollCnt);\n        ele.appendChild(scrollBar);\n        scrollBar.style.overflow = 'hidden';\n        this.scrollEle = scrollBar;\n        this.scrollItems = scrollCnt;\n    };\n    VScroll.prototype.getPersistData = function () {\n        var keyEntity = ['scrollStep'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - It returns the current module name.\n     * @private\n     */\n    VScroll.prototype.getModuleName = function () {\n        return 'vScroll';\n    };\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     *\n     * @returns {void}\n     */\n    VScroll.prototype.destroy = function () {\n        var el = this.element;\n        el.style.display = '';\n        removeClass([this.element], [CLS_ROOT, CLS_DEVICE]);\n        var navs = selectAll('.e-' + el.id + '_nav.' + CLS_VSCROLLNAV, el);\n        var overlays = selectAll('.' + CLS_OVERLAY, el);\n        [].slice.call(overlays).forEach(function (ele) {\n            detach(ele);\n        });\n        for (var _i = 0, _a = [].slice.call(this.scrollItems.children); _i < _a.length; _i++) {\n            var elem = _a[_i];\n            el.appendChild(elem);\n        }\n        if (this.uniqueId) {\n            this.element.removeAttribute('id');\n        }\n        detach(this.scrollEle);\n        if (navs.length > 0) {\n            detach(navs[0]);\n            if (!isNullOrUndefined(navs[1])) {\n                detach(navs[1]);\n            }\n        }\n        EventHandler.remove(this.scrollEle, 'scroll', this.scrollEventHandler);\n        this.touchModule.destroy();\n        this.touchModule = null;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Specifies the value to disable/enable the VScroll component.\n     * When set to `true` , the component will be disabled.\n     *\n     * @param  {boolean} value - Based on this Boolean value, VScroll will be enabled (false) or disabled (true).\n     * @returns {void}.\n     */\n    VScroll.prototype.disable = function (value) {\n        var navEle = selectAll('.e-scroll-nav:not(.' + CLS_DISABLE + ')', this.element);\n        if (value) {\n            this.element.classList.add(CLS_DISABLE);\n        }\n        else {\n            this.element.classList.remove(CLS_DISABLE);\n        }\n        [].slice.call(navEle).forEach(function (el) {\n            el.setAttribute('tabindex', !value ? '0' : '-1');\n        });\n    };\n    VScroll.prototype.createOverlayElement = function (element) {\n        var id = element.id.concat('_nav');\n        var downOverlayEle = buildTag('div', { className: CLS_OVERLAY + ' ' + CLS_DOWNOVERLAY });\n        var clsDown = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVDOWN);\n        var downEle = buildTag('div', { id: id.concat('down'), className: clsDown });\n        var navItem = buildTag('div', { className: CLS_NAVDOWNARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        downEle.appendChild(navItem);\n        var upEle = buildTag('div', { className: CLS_OVERLAY + ' ' + CLS_UPOVERLAY });\n        if (this.ieCheck) {\n            downEle.classList.add('e-ie-align');\n        }\n        element.appendChild(downOverlayEle);\n        element.appendChild(downEle);\n        element.insertBefore(upEle, element.firstChild);\n        this.eventBinding([downEle]);\n    };\n    VScroll.prototype.createNavIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var clsDown = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVDOWN);\n        var nav = buildTag('div', { id: id.concat('_down'), className: clsDown });\n        nav.setAttribute('aria-disabled', 'false');\n        var navItem = buildTag('div', { className: CLS_NAVDOWNARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        var clsUp = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVUP);\n        var navElement = buildTag('div', { id: id.concat('_up'), className: clsUp + ' ' + CLS_DISABLE });\n        navElement.setAttribute('aria-disabled', 'true');\n        var navUpItem = buildTag('div', { className: CLS_NAVUPARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        navElement.appendChild(navUpItem);\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        element.appendChild(nav);\n        element.insertBefore(navElement, element.firstChild);\n        if (this.ieCheck) {\n            nav.classList.add('e-ie-align');\n            navElement.classList.add('e-ie-align');\n        }\n        this.eventBinding([nav, navElement]);\n    };\n    VScroll.prototype.onKeyPress = function (ev) {\n        var _this = this;\n        if (ev.key === 'Enter') {\n            var timeoutFun_1 = function () {\n                _this.keyTimeout = true;\n                _this.eleScrolling(10, ev.target, true);\n            };\n            this.keyTimer = window.setTimeout(function () {\n                timeoutFun_1();\n            }, 100);\n        }\n    };\n    VScroll.prototype.onKeyUp = function (ev) {\n        if (ev.key !== 'Enter') {\n            return;\n        }\n        if (this.keyTimeout) {\n            this.keyTimeout = false;\n        }\n        else {\n            ev.target.click();\n        }\n        clearTimeout(this.keyTimer);\n    };\n    VScroll.prototype.eventBinding = function (element) {\n        var _this = this;\n        [].slice.call(element).forEach(function (ele) {\n            new Touch(ele, { tapHold: _this.tabHoldHandler.bind(_this), tapHoldThreshold: 500 });\n            ele.addEventListener('keydown', _this.onKeyPress.bind(_this));\n            ele.addEventListener('keyup', _this.onKeyUp.bind(_this));\n            ele.addEventListener('mouseup', _this.repeatScroll.bind(_this));\n            ele.addEventListener('touchend', _this.repeatScroll.bind(_this));\n            ele.addEventListener('contextmenu', function (e) {\n                e.preventDefault();\n            });\n            EventHandler.add(ele, 'click', _this.clickEventHandler, _this);\n        });\n    };\n    VScroll.prototype.repeatScroll = function () {\n        clearInterval(this.timeout);\n    };\n    VScroll.prototype.tabHoldHandler = function (ev) {\n        var _this = this;\n        var trgt = ev.originalEvent.target;\n        trgt = this.contains(trgt, CLS_VSCROLLNAV) ? trgt.firstElementChild : trgt;\n        var scrollDistance = 10;\n        var timeoutFun = function () {\n            _this.eleScrolling(scrollDistance, trgt, true);\n        };\n        this.timeout = window.setInterval(function () {\n            timeoutFun();\n        }, 50);\n    };\n    VScroll.prototype.contains = function (element, className) {\n        return element.classList.contains(className);\n    };\n    VScroll.prototype.eleScrolling = function (scrollDis, trgt, isContinuous) {\n        var classList = trgt.classList;\n        if (classList.contains(CLS_VSCROLLNAV)) {\n            classList = trgt.querySelector('.' + CLS_NAVARROW).classList;\n        }\n        if (classList.contains(CLS_NAVDOWNARROW)) {\n            this.frameScrollRequest(scrollDis, 'add', isContinuous);\n        }\n        else if (classList.contains(CLS_NAVUPARROW)) {\n            this.frameScrollRequest(scrollDis, '', isContinuous);\n        }\n    };\n    VScroll.prototype.clickEventHandler = function (event) {\n        this.eleScrolling(this.scrollStep, event.target, false);\n    };\n    VScroll.prototype.wheelEventHandler = function (e) {\n        e.preventDefault();\n        this.frameScrollRequest(this.scrollStep, (e.deltaY > 0 ? 'add' : ''), false);\n    };\n    VScroll.prototype.swipeHandler = function (e) {\n        var swipeElement = this.scrollEle;\n        var distance;\n        if (e.velocity <= 1) {\n            distance = e.distanceY / (e.velocity * 10);\n        }\n        else {\n            distance = e.distanceY / e.velocity;\n        }\n        var start = 0.5;\n        var animate = function () {\n            var step = Math.sin(start);\n            if (step <= 0) {\n                window.cancelAnimationFrame(step);\n            }\n            else {\n                if (e.swipeDirection === 'Up') {\n                    swipeElement.scrollTop += distance * step;\n                }\n                else if (e.swipeDirection === 'Down') {\n                    swipeElement.scrollTop -= distance * step;\n                }\n                start -= 0.02;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    VScroll.prototype.scrollUpdating = function (scrollVal, action) {\n        if (action === 'add') {\n            this.scrollEle.scrollTop += scrollVal;\n        }\n        else {\n            this.scrollEle.scrollTop -= scrollVal;\n        }\n    };\n    VScroll.prototype.frameScrollRequest = function (scrollValue, action, isContinuous) {\n        var _this = this;\n        var step = 10;\n        if (isContinuous) {\n            this.scrollUpdating(scrollValue, action);\n            return;\n        }\n        if (!this.customStep) {\n            [].slice.call(selectAll('.' + CLS_OVERLAY, this.element)).forEach(function (el) {\n                scrollValue -= el.offsetHeight;\n            });\n        }\n        var animate = function () {\n            if (scrollValue < step) {\n                window.cancelAnimationFrame(step);\n            }\n            else {\n                _this.scrollUpdating(step, action);\n                scrollValue -= step;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    VScroll.prototype.touchHandler = function (e) {\n        var el = this.scrollEle;\n        var distance = e.distanceY;\n        if (e.scrollDirection === 'Up') {\n            el.scrollTop = el.scrollTop + distance;\n        }\n        else if (e.scrollDirection === 'Down') {\n            el.scrollTop = el.scrollTop - distance;\n        }\n    };\n    VScroll.prototype.arrowDisabling = function (addDisableCls, removeDisableCls) {\n        if (this.isDevice) {\n            var arrowEle = isNullOrUndefined(addDisableCls) ? removeDisableCls : addDisableCls;\n            var arrowIcon = arrowEle.querySelector('.' + CLS_NAVARROW);\n            if (isNullOrUndefined(addDisableCls)) {\n                classList(arrowIcon, [CLS_NAVDOWNARROW], [CLS_NAVUPARROW]);\n            }\n            else {\n                classList(arrowIcon, [CLS_NAVUPARROW], [CLS_NAVDOWNARROW]);\n            }\n        }\n        else {\n            addDisableCls.classList.add(CLS_DISABLE);\n            addDisableCls.setAttribute('aria-disabled', 'true');\n            addDisableCls.removeAttribute('tabindex');\n            removeDisableCls.classList.remove(CLS_DISABLE);\n            removeDisableCls.setAttribute('aria-disabled', 'false');\n            removeDisableCls.setAttribute('tabindex', '0');\n        }\n        this.repeatScroll();\n    };\n    VScroll.prototype.scrollEventHandler = function (e) {\n        var target = e.target;\n        var height = target.offsetHeight;\n        var navUpEle = this.element.querySelector('.' + CLS_VSCROLLNAVUP);\n        var navDownEle = this.element.querySelector('.' + CLS_VSCROLLNAVDOWN);\n        var upOverlay = this.element.querySelector('.' + CLS_UPOVERLAY);\n        var downOverlay = this.element.querySelector('.' + CLS_DOWNOVERLAY);\n        var scrollTop = target.scrollTop;\n        if (scrollTop <= 0) {\n            scrollTop = -scrollTop;\n        }\n        if (this.isDevice) {\n            if (scrollTop < OVERLAY_MAXWID) {\n                upOverlay.style.height = scrollTop + 'px';\n            }\n            else {\n                upOverlay.style.height = '40px';\n            }\n            if ((target.scrollHeight - Math.ceil(height + scrollTop)) < OVERLAY_MAXWID) {\n                downOverlay.style.height = (target.scrollHeight - Math.ceil(height + scrollTop)) + 'px';\n            }\n            else {\n                downOverlay.style.height = '40px';\n            }\n        }\n        if (scrollTop === 0) {\n            this.arrowDisabling(navUpEle, navDownEle);\n        }\n        else if (Math.ceil(height + scrollTop + .1) >= target.scrollHeight) {\n            this.arrowDisabling(navDownEle, navUpEle);\n        }\n        else {\n            var disEle = this.element.querySelector('.' + CLS_VSCROLLNAV + '.' + CLS_DISABLE);\n            if (disEle) {\n                disEle.classList.remove(CLS_DISABLE);\n                disEle.setAttribute('aria-disabled', 'false');\n                disEle.setAttribute('tabindex', '0');\n            }\n        }\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n     *\n     * @param  {VScrollModel} newProp - It contains the new value of data.\n     * @param  {VScrollModel} oldProp - It contains the old value of data.\n     * @returns {void}\n     * @private\n     */\n    VScroll.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'scrollStep':\n                    this.setScrollState();\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        this.element.classList.add(CLS_RTL);\n                    }\n                    else {\n                        this.element.classList.remove(CLS_RTL);\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property(null)\n    ], VScroll.prototype, \"scrollStep\", void 0);\n    VScroll = __decorate([\n        NotifyPropertyChanges\n    ], VScroll);\n    return VScroll;\n}(Component));\nexport { VScroll };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Component, EventHandler, Property, Event } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, isVisible, closest, attributes, detach, classList, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { selectAll, setStyleAttribute as setStyle, select } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, getUniqueID, formatUnit, Collection, compile as templateCompiler } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, Browser, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { calculatePosition } from '@syncfusion/ej2-popups';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { HScroll } from '../common/h-scroll';\nimport { VScroll } from '../common/v-scroll';\nvar CLS_VERTICAL = 'e-vertical';\nvar CLS_ITEMS = 'e-toolbar-items';\nvar CLS_ITEM = 'e-toolbar-item';\nvar CLS_RTL = 'e-rtl';\nvar CLS_SEPARATOR = 'e-separator';\nvar CLS_POPUPICON = 'e-popup-up-icon';\nvar CLS_POPUPDOWN = 'e-popup-down-icon';\nvar CLS_POPUPOPEN = 'e-popup-open';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_POPUPTEXT = 'e-toolbar-text';\nvar CLS_TBARTEXT = 'e-popup-text';\nvar CLS_TBAROVERFLOW = 'e-overflow-show';\nvar CLS_POPOVERFLOW = 'e-overflow-hide';\nvar CLS_TBARBTN = 'e-tbar-btn';\nvar CLS_TBARNAV = 'e-hor-nav';\nvar CLS_TBARSCRLNAV = 'e-scroll-nav';\nvar CLS_TBARRIGHT = 'e-toolbar-right';\nvar CLS_TBARLEFT = 'e-toolbar-left';\nvar CLS_TBARCENTER = 'e-toolbar-center';\nvar CLS_TBARPOS = 'e-tbar-pos';\nvar CLS_HSCROLLCNT = 'e-hscroll-content';\nvar CLS_VSCROLLCNT = 'e-vscroll-content';\nvar CLS_HSCROLLBAR = 'e-hscroll-bar';\nvar CLS_POPUPNAV = 'e-hor-nav';\nvar CLS_POPUPCLASS = 'e-toolbar-pop';\nvar CLS_POPUP = 'e-toolbar-popup';\nvar CLS_TBARBTNTEXT = 'e-tbar-btn-text';\nvar CLS_TBARNAVACT = 'e-nav-active';\nvar CLS_TBARIGNORE = 'e-ignore';\nvar CLS_POPPRI = 'e-popup-alone';\nvar CLS_HIDDEN = 'e-hidden';\nvar CLS_MULTIROW = 'e-toolbar-multirow';\nvar CLS_MULTIROWPOS = 'e-multirow-pos';\nvar CLS_MULTIROW_SEPARATOR = 'e-multirow-separator';\nvar CLS_EXTENDABLE_SEPARATOR = 'e-extended-separator';\nvar CLS_EXTEANDABLE_TOOLBAR = 'e-extended-toolbar';\nvar CLS_EXTENDABLECLASS = 'e-toolbar-extended';\nvar CLS_EXTENDPOPUP = 'e-expended-nav';\nvar CLS_EXTENDEDPOPOPEN = 'e-tbar-extended';\n/**\n * An item object that is used to configure Toolbar commands.\n */\nvar Item = /** @class */ (function (_super) {\n    __extends(Item, _super);\n    function Item() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Item.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"text\", void 0);\n    __decorate([\n        Property('auto')\n    ], Item.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Item.prototype, \"showAlwaysInPopup\", void 0);\n    __decorate([\n        Property(false)\n    ], Item.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"prefixIcon\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"suffixIcon\", void 0);\n    __decorate([\n        Property(true)\n    ], Item.prototype, \"visible\", void 0);\n    __decorate([\n        Property('None')\n    ], Item.prototype, \"overflow\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"template\", void 0);\n    __decorate([\n        Property('Button')\n    ], Item.prototype, \"type\", void 0);\n    __decorate([\n        Property('Both')\n    ], Item.prototype, \"showTextOn\", void 0);\n    __decorate([\n        Property(null)\n    ], Item.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"tooltipText\", void 0);\n    __decorate([\n        Property('Left')\n    ], Item.prototype, \"align\", void 0);\n    __decorate([\n        Event()\n    ], Item.prototype, \"click\", void 0);\n    return Item;\n}(ChildProperty));\nexport { Item };\n/**\n * The Toolbar control contains a group of commands that are aligned horizontally.\n * ```html\n * <div id=\"toolbar\"/>\n * <script>\n *   var toolbarObj = new Toolbar();\n *   toolbarObj.appendTo(\"#toolbar\");\n * </script>\n * ```\n */\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    /**\n     * Initializes a new instance of the Toolbar class.\n     *\n     * @param {ToolbarModel} options  - Specifies Toolbar model properties as options.\n     * @param { string | HTMLElement} element  - Specifies the element that is rendered as a Toolbar.\n     */\n    function Toolbar(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.resizeContext = _this.resize.bind(_this);\n        /**\n         * Contains the keyboard configuration of the Toolbar.\n         */\n        _this.keyConfigs = {\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            popupOpen: 'enter',\n            popupClose: 'escape',\n            tab: 'tab',\n            home: 'home',\n            end: 'end'\n        };\n        return _this;\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     *\n     * @returns {void}.\n     */\n    Toolbar.prototype.destroy = function () {\n        var _this = this;\n        if (this.isReact || this.isAngular) {\n            this.clearTemplate();\n        }\n        var btnItems = this.element.querySelectorAll('.e-control.e-btn');\n        [].slice.call(btnItems).forEach(function (el) {\n            if (!isNOU(el) && !isNOU(el.ej2_instances) && !isNOU(el.ej2_instances[0]) && !(el.ej2_instances[0].isDestroyed)) {\n                el.ej2_instances[0].destroy();\n            }\n        });\n        this.unwireEvents();\n        this.tempId.forEach(function (ele) {\n            if (!isNOU(_this.element.querySelector(ele))) {\n                document.body.appendChild(_this.element.querySelector(ele)).style.display = 'none';\n            }\n        });\n        this.destroyItems();\n        while (this.element.lastElementChild) {\n            this.element.removeChild(this.element.lastElementChild);\n        }\n        if (this.trgtEle) {\n            this.element.appendChild(this.ctrlTem);\n            this.trgtEle = null;\n            this.ctrlTem = null;\n        }\n        if (this.popObj) {\n            this.popObj.destroy();\n            detach(this.popObj.element);\n        }\n        if (this.activeEle) {\n            this.activeEle = null;\n        }\n        this.popObj = null;\n        this.tbarAlign = null;\n        this.tbarItemsCol = [];\n        this.remove(this.element, 'e-toolpop');\n        if (this.cssClass) {\n            removeClass([this.element], this.cssClass.split(' '));\n        }\n        this.element.removeAttribute('style');\n        ['aria-disabled', 'aria-orientation', 'aria-haspopup', 'role'].forEach(function (attrb) {\n            return _this.element.removeAttribute(attrb);\n        });\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    Toolbar.prototype.preRender = function () {\n        var eventArgs = { enableCollision: this.enableCollision, scrollStep: this.scrollStep };\n        this.trigger('beforeCreate', eventArgs);\n        this.enableCollision = eventArgs.enableCollision;\n        this.scrollStep = eventArgs.scrollStep;\n        this.scrollModule = null;\n        this.popObj = null;\n        this.tempId = [];\n        this.tbarItemsCol = this.items;\n        this.isVertical = this.element.classList.contains(CLS_VERTICAL) ? true : false;\n        this.isExtendedOpen = false;\n        this.popupPriCount = 0;\n        if (this.enableRtl) {\n            this.add(this.element, CLS_RTL);\n        }\n    };\n    Toolbar.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        window.addEventListener('resize', this.resizeContext);\n        if (this.allowKeyboard) {\n            this.wireKeyboardEvent();\n        }\n    };\n    Toolbar.prototype.wireKeyboardEvent = function () {\n        this.keyModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs\n        });\n        EventHandler.add(this.element, 'keydown', this.docKeyDown, this);\n        this.element.setAttribute('tabIndex', '0');\n    };\n    Toolbar.prototype.unwireKeyboardEvent = function () {\n        if (this.keyModule) {\n            EventHandler.remove(this.element, 'keydown', this.docKeyDown);\n            this.keyModule.destroy();\n            this.keyModule = null;\n        }\n    };\n    Toolbar.prototype.docKeyDown = function (e) {\n        if (e.target.tagName === 'INPUT') {\n            return;\n        }\n        var popCheck = !isNOU(this.popObj) && isVisible(this.popObj.element) && this.overflowMode !== 'Extended';\n        if (e.keyCode === 9 && e.target.classList.contains('e-hor-nav') === true && popCheck) {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n        var keyCheck = (e.keyCode === 40 || e.keyCode === 38 || e.keyCode === 35 || e.keyCode === 36);\n        if (keyCheck) {\n            e.preventDefault();\n        }\n    };\n    Toolbar.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        this.destroyScroll();\n        this.unwireKeyboardEvent();\n        window.removeEventListener('resize', this.resizeContext);\n        EventHandler.remove(document, 'scroll', this.docEvent);\n        EventHandler.remove(document, 'click', this.docEvent);\n    };\n    Toolbar.prototype.clearProperty = function () {\n        this.tbarEle = [];\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n    };\n    Toolbar.prototype.docEvent = function (e) {\n        var popEle = closest(e.target, '.e-popup');\n        if (this.popObj && isVisible(this.popObj.element) && !popEle && this.overflowMode === 'Popup') {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n    };\n    Toolbar.prototype.destroyScroll = function () {\n        if (this.scrollModule) {\n            if (this.tbarAlign) {\n                this.add(this.scrollModule.element, CLS_TBARPOS);\n            }\n            this.scrollModule.destroy();\n            this.scrollModule = null;\n        }\n    };\n    Toolbar.prototype.destroyItems = function () {\n        if (this.element) {\n            [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) { detach(el); });\n        }\n        if (this.tbarAlign) {\n            var tbarItems = this.element.querySelector('.' + CLS_ITEMS);\n            [].slice.call(tbarItems.children).forEach(function (el) {\n                detach(el);\n            });\n            this.tbarAlign = false;\n            this.remove(tbarItems, CLS_TBARPOS);\n        }\n        this.clearProperty();\n    };\n    Toolbar.prototype.destroyMode = function () {\n        if (this.scrollModule) {\n            this.remove(this.scrollModule.element, CLS_RTL);\n            this.destroyScroll();\n        }\n        this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n        this.remove(this.element, CLS_EXTEANDABLE_TOOLBAR);\n        var tempEle = this.element.querySelector('.e-toolbar-multirow');\n        if (tempEle) {\n            this.remove(tempEle, CLS_MULTIROW);\n        }\n        if (this.popObj) {\n            this.popupRefresh(this.popObj.element, true);\n        }\n    };\n    Toolbar.prototype.add = function (ele, val) {\n        ele.classList.add(val);\n    };\n    Toolbar.prototype.remove = function (ele, val) {\n        ele.classList.remove(val);\n    };\n    Toolbar.prototype.elementFocus = function (ele) {\n        var fChild = ele.firstElementChild;\n        if (fChild) {\n            fChild.focus();\n            this.activeEleSwitch(ele);\n        }\n        else {\n            ele.focus();\n        }\n    };\n    Toolbar.prototype.clstElement = function (tbrNavChk, trgt) {\n        var clst;\n        if (tbrNavChk && this.popObj && isVisible(this.popObj.element)) {\n            clst = this.popObj.element.querySelector('.' + CLS_ITEM);\n        }\n        else if (this.element === trgt || tbrNavChk) {\n            clst = this.element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_DISABLE + ' ):not(.' + CLS_SEPARATOR + ' ):not(.' + CLS_HIDDEN + ' )');\n        }\n        else {\n            clst = closest(trgt, '.' + CLS_ITEM);\n        }\n        return clst;\n    };\n    Toolbar.prototype.keyHandling = function (clst, e, trgt, navChk, scrollChk) {\n        var popObj = this.popObj;\n        var rootEle = this.element;\n        var popAnimate = { name: 'FadeOut', duration: 100 };\n        var value = e.action === 'moveUp' ? 'previous' : 'next';\n        var ele;\n        var nodes;\n        switch (e.action) {\n            case 'moveRight':\n                if (this.isVertical) {\n                    return;\n                }\n                if (rootEle === trgt) {\n                    this.elementFocus(clst);\n                }\n                else if (!navChk) {\n                    this.eleFocus(clst, 'next');\n                }\n                break;\n            case 'moveLeft':\n                if (this.isVertical) {\n                    return;\n                }\n                if (!navChk) {\n                    this.eleFocus(clst, 'previous');\n                }\n                break;\n            case 'home':\n            case 'end':\n                if (clst) {\n                    var popupCheck = closest(clst, '.e-popup');\n                    var extendedPopup = this.element.querySelector('.' + CLS_EXTENDABLECLASS);\n                    if (this.overflowMode === 'Extended' && extendedPopup && extendedPopup.classList.contains('e-popup-open')) {\n                        popupCheck = e.action === 'end' ? extendedPopup : null;\n                    }\n                    if (popupCheck) {\n                        if (isVisible(this.popObj.element)) {\n                            nodes = [].slice.call(popupCheck.children);\n                            if (e.action === 'home') {\n                                ele = nodes[0];\n                            }\n                            else {\n                                ele = nodes[nodes.length - 1];\n                            }\n                        }\n                    }\n                    else {\n                        nodes = this.element.querySelectorAll('.' + CLS_ITEMS + ' .' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + ')');\n                        if (e.action === 'home') {\n                            ele = nodes[0];\n                        }\n                        else {\n                            ele = nodes[nodes.length - 1];\n                        }\n                    }\n                    if (ele) {\n                        this.elementFocus(ele);\n                    }\n                }\n                break;\n            case 'moveUp':\n            case 'moveDown':\n                if (!this.isVertical) {\n                    if (popObj && closest(trgt, '.e-popup')) {\n                        var popEle = popObj.element;\n                        var popFrstEle = popEle.firstElementChild;\n                        if ((value === 'previous' && popFrstEle === clst) || (value === 'next' && popEle.lastElementChild === clst)) {\n                            return;\n                        }\n                        else {\n                            this.eleFocus(clst, value);\n                        }\n                    }\n                    else if (e.action === 'moveDown' && popObj && isVisible(popObj.element)) {\n                        this.elementFocus(clst);\n                    }\n                }\n                else {\n                    if (e.action === 'moveUp') {\n                        this.eleFocus(clst, 'previous');\n                    }\n                    else {\n                        this.eleFocus(clst, 'next');\n                    }\n                }\n                break;\n            case 'tab':\n                if (!scrollChk && !navChk) {\n                    var ele_1 = clst.firstElementChild;\n                    if (rootEle === trgt) {\n                        if (this.activeEle) {\n                            this.activeEle.focus();\n                        }\n                        else {\n                            this.activeEleRemove(ele_1);\n                            ele_1.focus();\n                        }\n                        this.element.removeAttribute('tabindex');\n                    }\n                }\n                break;\n            case 'popupClose':\n                if (popObj && this.overflowMode !== 'Extended') {\n                    popObj.hide(popAnimate);\n                }\n                break;\n            case 'popupOpen':\n                if (!navChk) {\n                    return;\n                }\n                if (popObj && !isVisible(popObj.element)) {\n                    popObj.element.style.top = rootEle.offsetHeight + 'px';\n                    popObj.show({ name: 'FadeIn', duration: 100 });\n                }\n                else {\n                    popObj.hide(popAnimate);\n                }\n                break;\n        }\n    };\n    Toolbar.prototype.keyActionHandler = function (e) {\n        var trgt = e.target;\n        if (trgt.tagName === 'INPUT' || trgt.tagName === 'TEXTAREA' || this.element.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        e.preventDefault();\n        var tbrNavChk = trgt.classList.contains(CLS_TBARNAV);\n        var tbarScrollChk = trgt.classList.contains(CLS_TBARSCRLNAV);\n        var clst = this.clstElement(tbrNavChk, trgt);\n        if (clst || tbarScrollChk) {\n            this.keyHandling(clst, e, trgt, tbrNavChk, tbarScrollChk);\n        }\n    };\n    /**\n     * Specifies the value to disable/enable the Toolbar component.\n     * When set to `true`, the component will be disabled.\n     *\n     * @param  {boolean} value - Based on this Boolean value, Toolbar will be enabled (false) or disabled (true).\n     * @returns {void}.\n     */\n    Toolbar.prototype.disable = function (value) {\n        var rootEle = this.element;\n        if (value) {\n            rootEle.classList.add(CLS_DISABLE);\n        }\n        else {\n            rootEle.classList.remove(CLS_DISABLE);\n        }\n        rootEle.setAttribute('tabindex', !value ? '0' : '-1');\n        if (this.activeEle) {\n            this.activeEle.setAttribute('tabindex', !value ? '0' : '-1');\n        }\n        if (this.scrollModule) {\n            this.scrollModule.disable(value);\n        }\n        if (this.popObj) {\n            if (isVisible(this.popObj.element) && this.overflowMode !== 'Extended') {\n                this.popObj.hide();\n            }\n            rootEle.querySelector('#' + rootEle.id + '_nav').setAttribute('tabindex', !value ? '0' : '-1');\n        }\n    };\n    Toolbar.prototype.eleContains = function (el) {\n        return el.classList.contains(CLS_SEPARATOR) || el.classList.contains(CLS_DISABLE) || el.getAttribute('disabled') || el.classList.contains(CLS_HIDDEN) || !isVisible(el);\n    };\n    Toolbar.prototype.eleFocus = function (closest, pos) {\n        var sib = Object(closest)[pos + 'ElementSibling'];\n        if (sib) {\n            var skipEle = this.eleContains(sib);\n            if (skipEle) {\n                this.eleFocus(sib, pos);\n                return;\n            }\n            this.elementFocus(sib);\n        }\n        else if (this.tbarAlign) {\n            var elem = Object(closest.parentElement)[pos + 'ElementSibling'];\n            if (!isNOU(elem) && elem.children.length === 0) {\n                elem = Object(elem)[pos + 'ElementSibling'];\n            }\n            if (!isNOU(elem) && elem.children.length > 0) {\n                if (pos === 'next') {\n                    var el = elem.querySelector('.' + CLS_ITEM);\n                    if (this.eleContains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        el.firstElementChild.focus();\n                        this.activeEleSwitch(el);\n                    }\n                }\n                else {\n                    var el = elem.lastElementChild;\n                    if (this.eleContains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        this.elementFocus(el);\n                    }\n                }\n            }\n        }\n    };\n    Toolbar.prototype.clickHandler = function (e) {\n        var _this = this;\n        var trgt = e.target;\n        var ele = this.element;\n        var isPopupElement = !isNOU(closest(trgt, '.' + CLS_POPUPCLASS));\n        var clsList = trgt.classList;\n        var popupNav = closest(trgt, ('.' + CLS_TBARNAV));\n        if (!popupNav) {\n            popupNav = trgt;\n        }\n        if (!ele.children[0].classList.contains('e-hscroll') && !ele.children[0].classList.contains('e-vscroll')\n            && (clsList.contains(CLS_TBARNAV))) {\n            clsList = trgt.querySelector('.e-icons').classList;\n        }\n        if (clsList.contains(CLS_POPUPICON) || clsList.contains(CLS_POPUPDOWN)) {\n            this.popupClickHandler(ele, popupNav, CLS_RTL);\n        }\n        var itemObj;\n        var clst = closest(e.target, '.' + CLS_ITEM);\n        if ((isNOU(clst) || clst.classList.contains(CLS_DISABLE)) && !popupNav.classList.contains(CLS_TBARNAV)) {\n            return;\n        }\n        if (clst) {\n            var tempItem = this.items[this.tbarEle.indexOf(clst)];\n            itemObj = tempItem;\n        }\n        var eventArgs = { originalEvent: e, item: itemObj };\n        if (itemObj && !isNOU(itemObj.click)) {\n            this.trigger('items[' + this.tbarEle.indexOf(clst) + '].click', eventArgs);\n        }\n        if (!eventArgs.cancel) {\n            this.trigger('clicked', eventArgs, function (clickedArgs) {\n                if (!isNOU(_this.popObj) && isPopupElement && !clickedArgs.cancel && _this.overflowMode === 'Popup' &&\n                    clickedArgs.item && clickedArgs.item.type !== 'Input') {\n                    _this.popObj.hide({ name: 'FadeOut', duration: 100 });\n                }\n            });\n        }\n    };\n    Toolbar.prototype.popupClickHandler = function (ele, popupNav, CLS_RTL) {\n        var popObj = this.popObj;\n        if (isVisible(popObj.element)) {\n            popupNav.classList.remove(CLS_TBARNAVACT);\n            popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n        else {\n            if (ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = true;\n                popObj.position = { X: 'left', Y: 'top' };\n            }\n            if (popObj.offsetX === 0 && !ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = false;\n                popObj.position = { X: 'right', Y: 'top' };\n            }\n            popObj.dataBind();\n            popObj.refreshPosition();\n            popObj.element.style.top = this.getElementOffsetY() + 'px';\n            if (this.overflowMode === 'Extended') {\n                popObj.element.style.minHeight = '0px';\n            }\n            popupNav.classList.add(CLS_TBARNAVACT);\n            popObj.show({ name: 'FadeIn', duration: 100 });\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    Toolbar.prototype.render = function () {\n        this.initialize();\n        this.renderControl();\n        this.wireEvents();\n        this.renderComplete();\n    };\n    Toolbar.prototype.initialize = function () {\n        var width = formatUnit(this.width);\n        var height = formatUnit(this.height);\n        if (Browser.info.name !== 'msie' || this.height !== 'auto' || this.overflowMode === 'MultiRow') {\n            setStyle(this.element, { 'height': height });\n        }\n        setStyle(this.element, { 'width': width });\n        var ariaAttr = {\n            'role': 'toolbar', 'aria-disabled': 'false', 'aria-haspopup': 'false',\n            'aria-orientation': !this.isVertical ? 'horizontal' : 'vertical'\n        };\n        attributes(this.element, ariaAttr);\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n    };\n    Toolbar.prototype.renderControl = function () {\n        var ele = this.element;\n        this.trgtEle = (ele.children.length > 0) ? ele.querySelector('div') : null;\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n        this.renderItems();\n        this.renderLayout();\n    };\n    Toolbar.prototype.renderLayout = function () {\n        this.renderOverflowMode();\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj && this.popObj.element.childElementCount > 1 && this.checkPopupRefresh(this.element, this.popObj.element)) {\n            this.popupRefresh(this.popObj.element, false);\n        }\n        this.separator();\n    };\n    Toolbar.prototype.itemsAlign = function (items, itemEleDom) {\n        var innerItem;\n        var innerPos;\n        if (!this.tbarEle) {\n            this.tbarEle = [];\n        }\n        for (var i = 0; i < items.length; i++) {\n            innerItem = this.renderSubComponent(items[i], i);\n            if (this.tbarEle.indexOf(innerItem) === -1) {\n                this.tbarEle.push(innerItem);\n            }\n            if (!this.tbarAlign) {\n                this.tbarItemAlign(items[i], itemEleDom, i);\n            }\n            innerPos = itemEleDom.querySelector('.e-toolbar-' + items[i].align.toLowerCase());\n            if (innerPos) {\n                if (!(items[i].showAlwaysInPopup && items[i].overflow !== 'Show')) {\n                    this.tbarAlgEle[(items[i].align + 's').toLowerCase()].push(innerItem);\n                }\n                innerPos.appendChild(innerItem);\n            }\n            else {\n                itemEleDom.appendChild(innerItem);\n            }\n        }\n        if (this.isReact) {\n            var portals = 'portals';\n            this.notify('render-react-toolbar-template', this[portals]);\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Toolbar.prototype.changeOrientation = function () {\n        var ele = this.element;\n        if (this.isVertical) {\n            ele.classList.remove(CLS_VERTICAL);\n            this.isVertical = false;\n            if (this.height === 'auto' || this.height === '100%') {\n                ele.style.height = this.height;\n            }\n            ele.setAttribute('aria-orientation', 'horizontal');\n        }\n        else {\n            ele.classList.add(CLS_VERTICAL);\n            this.isVertical = true;\n            ele.setAttribute('aria-orientation', 'vertical');\n            setStyle(this.element, { 'height': formatUnit(this.height), 'width': formatUnit(this.width) });\n        }\n        this.destroyMode();\n        this.refreshOverflow();\n    };\n    Toolbar.prototype.initScroll = function (element, innerItems) {\n        if (!this.scrollModule && this.checkOverflow(element, innerItems[0])) {\n            if (this.tbarAlign) {\n                this.element.querySelector('.' + CLS_ITEMS + ' .' + CLS_TBARCENTER).removeAttribute('style');\n            }\n            if (this.isVertical) {\n                this.scrollModule = new VScroll({ scrollStep: this.scrollStep, enableRtl: this.enableRtl }, innerItems[0]);\n            }\n            else {\n                this.scrollModule = new HScroll({ scrollStep: this.scrollStep, enableRtl: this.enableRtl }, innerItems[0]);\n            }\n            this.remove(this.scrollModule.element, CLS_TBARPOS);\n            setStyle(this.element, { overflow: 'hidden' });\n        }\n    };\n    Toolbar.prototype.itemWidthCal = function (items) {\n        var _this = this;\n        var width = 0;\n        var style;\n        [].slice.call(selectAll('.' + CLS_ITEM, items)).forEach(function (el) {\n            if (isVisible(el)) {\n                style = window.getComputedStyle(el);\n                width += _this.isVertical ? el.offsetHeight : el.offsetWidth;\n                width += parseFloat(_this.isVertical ? style.marginTop : style.marginRight);\n                width += parseFloat(_this.isVertical ? style.marginBottom : style.marginLeft);\n            }\n        });\n        return width;\n    };\n    Toolbar.prototype.getScrollCntEle = function (innerItem) {\n        var trgClass = (this.isVertical) ? '.e-vscroll-content' : '.e-hscroll-content';\n        return innerItem.querySelector(trgClass);\n    };\n    Toolbar.prototype.checkOverflow = function (element, innerItem) {\n        if (isNOU(element) || isNOU(innerItem) || !isVisible(element)) {\n            return false;\n        }\n        var eleWidth = this.isVertical ? element.offsetHeight : element.offsetWidth;\n        var itemWidth = this.isVertical ? innerItem.offsetHeight : innerItem.offsetWidth;\n        if (this.tbarAlign || this.scrollModule || (eleWidth === itemWidth)) {\n            itemWidth = this.itemWidthCal(this.scrollModule ? this.getScrollCntEle(innerItem) : innerItem);\n        }\n        var popNav = element.querySelector('.' + CLS_TBARNAV);\n        var scrollNav = element.querySelector('.' + CLS_TBARSCRLNAV);\n        var navEleWidth = 0;\n        if (popNav) {\n            navEleWidth = this.isVertical ? popNav.offsetHeight : popNav.offsetWidth;\n        }\n        else if (scrollNav) {\n            navEleWidth = this.isVertical ? (scrollNav.offsetHeight * (2)) : (scrollNav.offsetWidth * 2);\n        }\n        if (itemWidth > eleWidth - navEleWidth) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * Refresh the whole Toolbar component without re-rendering.\n     * - It is used to manually refresh the Toolbar overflow modes such as scrollable, popup, multi row, and extended.\n     * - It will refresh the Toolbar component after loading items dynamically.\n     *\n     * @returns {void}.\n     */\n    Toolbar.prototype.refreshOverflow = function () {\n        this.resize();\n    };\n    Toolbar.prototype.toolbarAlign = function (innerItems) {\n        if (this.tbarAlign) {\n            this.add(innerItems, CLS_TBARPOS);\n            this.itemPositioning();\n        }\n    };\n    Toolbar.prototype.renderOverflowMode = function () {\n        var ele = this.element;\n        var innerItems = ele.querySelector('.' + CLS_ITEMS);\n        var priorityCheck = this.popupPriCount > 0;\n        if (ele && ele.children.length > 0) {\n            this.offsetWid = ele.offsetWidth;\n            this.remove(this.element, 'e-toolpop');\n            if (Browser.info.name === 'msie' && this.height === 'auto') {\n                ele.style.height = '';\n            }\n            switch (this.overflowMode) {\n                case 'Scrollable':\n                    if (isNOU(this.scrollModule)) {\n                        this.initScroll(ele, [].slice.call(ele.getElementsByClassName(CLS_ITEMS)));\n                    }\n                    break;\n                case 'Popup':\n                    this.add(this.element, 'e-toolpop');\n                    if (this.tbarAlign) {\n                        this.removePositioning();\n                    }\n                    if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n                        this.setOverflowAttributes(ele);\n                    }\n                    this.toolbarAlign(innerItems);\n                    break;\n                case 'MultiRow':\n                    this.add(innerItems, CLS_MULTIROW);\n                    if (this.checkOverflow(ele, innerItems) && this.tbarAlign) {\n                        this.removePositioning();\n                        this.add(innerItems, CLS_MULTIROWPOS);\n                    }\n                    if (ele.style.overflow === 'hidden') {\n                        ele.style.overflow = '';\n                    }\n                    if (Browser.info.name === 'msie' || ele.style.height !== 'auto') {\n                        ele.style.height = 'auto';\n                    }\n                    break;\n                case 'Extended':\n                    this.add(this.element, CLS_EXTEANDABLE_TOOLBAR);\n                    if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n                        if (this.tbarAlign) {\n                            this.removePositioning();\n                        }\n                        this.setOverflowAttributes(ele);\n                    }\n                    this.toolbarAlign(innerItems);\n            }\n        }\n    };\n    Toolbar.prototype.setOverflowAttributes = function (ele) {\n        this.createPopupEle(ele, [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, ele)));\n        this.element.querySelector('.' + CLS_TBARNAV).setAttribute('tabIndex', '0');\n        this.element.querySelector('.' + CLS_TBARNAV).setAttribute('role', 'list');\n    };\n    Toolbar.prototype.separator = function () {\n        var element = this.element;\n        var eleItem = [].slice.call(element.querySelectorAll('.' + CLS_SEPARATOR));\n        var multiVar = element.querySelector('.' + CLS_MULTIROW_SEPARATOR);\n        var extendVar = element.querySelector('.' + CLS_EXTENDABLE_SEPARATOR);\n        var eleInlineItem = this.overflowMode === 'MultiRow' ? multiVar : extendVar;\n        if (eleInlineItem !== null) {\n            if (this.overflowMode === 'MultiRow') {\n                eleInlineItem.classList.remove(CLS_MULTIROW_SEPARATOR);\n            }\n            else if (this.overflowMode === 'Extended') {\n                eleInlineItem.classList.remove(CLS_EXTENDABLE_SEPARATOR);\n            }\n        }\n        for (var i = 0; i <= eleItem.length - 1; i++) {\n            if (eleItem[i].offsetLeft < 30 && eleItem[i].offsetLeft !== 0) {\n                if (this.overflowMode === 'MultiRow') {\n                    eleItem[i].classList.add(CLS_MULTIROW_SEPARATOR);\n                }\n                else if (this.overflowMode === 'Extended') {\n                    eleItem[i].classList.add(CLS_EXTENDABLE_SEPARATOR);\n                }\n            }\n        }\n    };\n    Toolbar.prototype.createPopupEle = function (ele, innerEle) {\n        var innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        var vertical = this.isVertical;\n        if (!innerNav) {\n            this.createPopupIcon(ele);\n        }\n        innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        var innerNavDom = (vertical ? innerNav.offsetHeight : innerNav.offsetWidth);\n        var eleWidth = ((vertical ? ele.offsetHeight : ele.offsetWidth) - (innerNavDom));\n        this.element.classList.remove('e-rtl');\n        setStyle(this.element, { direction: 'initial' });\n        this.checkPriority(ele, innerEle, eleWidth, true);\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        this.element.style.removeProperty('direction');\n        this.createPopup();\n    };\n    Toolbar.prototype.pushingPoppedEle = function (tbarObj, popupPri, ele, eleHeight, sepHeight) {\n        var element = tbarObj.element;\n        var poppedEle = [].slice.call(selectAll('.' + CLS_POPUP, element.querySelector('.' + CLS_ITEMS)));\n        var nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n        var nodeIndex = 0;\n        var nodePri = 0;\n        poppedEle.forEach(function (el, index) {\n            nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n            if (el.classList.contains(CLS_TBAROVERFLOW) && nodes.length > 0) {\n                if (tbarObj.tbResize && nodes.length > index) {\n                    ele.insertBefore(el, nodes[index]);\n                    ++nodePri;\n                }\n                else {\n                    ele.insertBefore(el, ele.children[nodes.length]);\n                    ++nodePri;\n                }\n            }\n            else if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (tbarObj.tbResize && el.classList.contains(CLS_POPOVERFLOW) && ele.children.length > 0 && nodes.length === 0) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (el.classList.contains(CLS_POPOVERFLOW)) {\n                popupPri.push(el);\n            }\n            else if (tbarObj.tbResize) {\n                ele.insertBefore(el, ele.childNodes[nodeIndex + nodePri]);\n                ++nodeIndex;\n            }\n            else {\n                ele.appendChild(el);\n            }\n            if (el.classList.contains(CLS_SEPARATOR)) {\n                setStyle(el, { display: '', height: sepHeight + 'px' });\n            }\n            else {\n                setStyle(el, { display: '', height: eleHeight + 'px' });\n            }\n        });\n        popupPri.forEach(function (el) {\n            ele.appendChild(el);\n        });\n        var tbarEle = selectAll('.' + CLS_ITEM, element.querySelector('.' + CLS_ITEMS));\n        for (var i = tbarEle.length - 1; i >= 0; i--) {\n            var tbarElement = tbarEle[i];\n            if (tbarElement.classList.contains(CLS_SEPARATOR) && this.overflowMode !== 'Extended') {\n                setStyle(tbarElement, { display: 'none' });\n            }\n            else {\n                break;\n            }\n        }\n    };\n    Toolbar.prototype.createPopup = function () {\n        var element = this.element;\n        var sepHeight;\n        var sepItem;\n        if (this.overflowMode === 'Extended') {\n            sepItem = element.querySelector('.' + CLS_SEPARATOR + ':not(.' + CLS_POPUP + ')');\n            sepHeight = (element.style.height === 'auto' || element.style.height === '') ? null : sepItem.offsetHeight;\n        }\n        var eleItem = element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_POPUP + ')');\n        var eleHeight = (element.style.height === 'auto' || element.style.height === '') ? null : (eleItem && eleItem.offsetHeight);\n        var ele;\n        var popupPri = [];\n        if (select('#' + element.id + '_popup.' + CLS_POPUPCLASS, element)) {\n            ele = select('#' + element.id + '_popup.' + CLS_POPUPCLASS, element);\n        }\n        else {\n            var extendEle = this.createElement('div', {\n                id: element.id + '_popup', className: CLS_POPUPCLASS + ' ' + CLS_EXTENDABLECLASS\n            });\n            var popupEle = this.createElement('div', { id: element.id + '_popup', className: CLS_POPUPCLASS });\n            ele = this.overflowMode === 'Extended' ? extendEle : popupEle;\n        }\n        this.pushingPoppedEle(this, popupPri, ele, eleHeight, sepHeight);\n        this.popupInit(element, ele);\n    };\n    Toolbar.prototype.getElementOffsetY = function () {\n        return (this.overflowMode === 'Extended' && window.getComputedStyle(this.element).getPropertyValue('box-sizing') === 'border-box' ?\n            this.element.clientHeight : this.element.offsetHeight);\n    };\n    Toolbar.prototype.popupInit = function (element, ele) {\n        if (!this.popObj) {\n            element.appendChild(ele);\n            setStyle(this.element, { overflow: '' });\n            var eleStyles = window.getComputedStyle(this.element);\n            var popup = new Popup(null, {\n                relateTo: this.element,\n                offsetY: (this.isVertical) ? 0 : this.getElementOffsetY(),\n                enableRtl: this.enableRtl,\n                open: this.popupOpen.bind(this),\n                close: this.popupClose.bind(this),\n                collision: { Y: this.enableCollision ? 'flip' : 'none' },\n                position: this.enableRtl ? { X: 'left', Y: 'top' } : { X: 'right', Y: 'top' }\n            });\n            popup.appendTo(ele);\n            if (this.overflowMode === 'Extended') {\n                popup.width = parseFloat(eleStyles.width) + ((parseFloat(eleStyles.borderRightWidth)) * 2);\n                popup.offsetX = 0;\n            }\n            EventHandler.add(document, 'scroll', this.docEvent.bind(this));\n            EventHandler.add(document, 'click ', this.docEvent.bind(this));\n            popup.element.style.maxHeight = popup.element.offsetHeight + 'px';\n            if (this.isVertical) {\n                popup.element.style.visibility = 'hidden';\n            }\n            if (this.isExtendedOpen) {\n                var popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n                popupNav.classList.add(CLS_TBARNAVACT);\n                classList(popupNav.firstElementChild, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n                this.element.querySelector('.' + CLS_EXTENDABLECLASS).classList.add(CLS_POPUPOPEN);\n            }\n            else {\n                popup.hide();\n            }\n            this.popObj = popup;\n            this.element.setAttribute('aria-haspopup', 'true');\n        }\n        else {\n            var popupEle = this.popObj.element;\n            setStyle(popupEle, { maxHeight: '', display: 'block' });\n            setStyle(popupEle, { maxHeight: popupEle.offsetHeight + 'px', display: '' });\n        }\n    };\n    Toolbar.prototype.tbarPopupHandler = function (isOpen) {\n        if (this.overflowMode === 'Extended') {\n            if (isOpen) {\n                this.add(this.element, CLS_EXTENDEDPOPOPEN);\n            }\n            else {\n                this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Toolbar.prototype.popupOpen = function (e) {\n        var popObj = this.popObj;\n        if (!this.isVertical) {\n            popObj.offsetY = this.getElementOffsetY();\n            popObj.dataBind();\n        }\n        var popupEle = this.popObj.element;\n        var toolEle = this.popObj.element.parentElement;\n        var popupNav = toolEle.querySelector('.' + CLS_TBARNAV);\n        setStyle(popObj.element, { height: 'auto', maxHeight: '' });\n        popObj.element.style.maxHeight = popObj.element.offsetHeight + 'px';\n        if (this.overflowMode === 'Extended') {\n            popObj.element.style.minHeight = '';\n        }\n        var popupElePos = popupEle.offsetTop + popupEle.offsetHeight + calculatePosition(toolEle).top;\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.add(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n        this.tbarPopupHandler(true);\n        var scrollVal = isNOU(window.scrollY) ? 0 : window.scrollY;\n        if (!this.isVertical && ((window.innerHeight + scrollVal) < popupElePos) && (this.element.offsetTop < popupEle.offsetHeight)) {\n            var overflowHeight = (popupEle.offsetHeight - ((popupElePos - window.innerHeight - scrollVal) + 5));\n            popObj.height = overflowHeight + 'px';\n            for (var i = 0; i <= popupEle.childElementCount; i++) {\n                var ele = popupEle.children[i];\n                if (ele.offsetTop + ele.offsetHeight > overflowHeight) {\n                    overflowHeight = ele.offsetTop;\n                    break;\n                }\n            }\n            setStyle(popObj.element, { maxHeight: overflowHeight + 'px' });\n        }\n        else if (this.isVertical) {\n            var tbEleData = this.element.getBoundingClientRect();\n            setStyle(popObj.element, { maxHeight: (tbEleData.top + this.element.offsetHeight) + 'px', bottom: 0, visibility: '' });\n        }\n        if (popObj) {\n            var popupOffset = popupEle.getBoundingClientRect();\n            if (popupOffset.right > document.documentElement.clientWidth && popupOffset.width > toolEle.getBoundingClientRect().width) {\n                popObj.collision = { Y: 'none' };\n                popObj.dataBind();\n            }\n            popObj.refreshPosition();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Toolbar.prototype.popupClose = function (e) {\n        var element = this.element;\n        var popupNav = element.querySelector('.' + CLS_TBARNAV);\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.remove(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPDOWN], [CLS_POPUPICON]);\n        this.tbarPopupHandler(false);\n    };\n    Toolbar.prototype.checkPriority = function (ele, inEle, eleWidth, pre) {\n        var popPriority = this.popupPriCount > 0;\n        var len = inEle.length;\n        var eleWid = eleWidth;\n        var eleOffset;\n        var checkoffset;\n        var sepCheck = 0;\n        var itemCount = 0;\n        var itemPopCount = 0;\n        var checkClass = function (ele, val) {\n            var rVal = false;\n            val.forEach(function (cls) {\n                if (ele.classList.contains(cls)) {\n                    rVal = true;\n                }\n            });\n            return rVal;\n        };\n        for (var i = len - 1; i >= 0; i--) {\n            var mrgn = void 0;\n            var compuStyle = window.getComputedStyle(inEle[i]);\n            if (this.isVertical) {\n                mrgn = parseFloat((compuStyle).marginTop);\n                mrgn += parseFloat((compuStyle).marginBottom);\n            }\n            else {\n                mrgn = parseFloat((compuStyle).marginRight);\n                mrgn += parseFloat((compuStyle).marginLeft);\n            }\n            var fstEleCheck = inEle[i] === this.tbarEle[0];\n            if (fstEleCheck) {\n                this.tbarEleMrgn = mrgn;\n            }\n            eleOffset = this.isVertical ? inEle[i].offsetHeight : inEle[i].offsetWidth;\n            var eleWid_1 = fstEleCheck ? (eleOffset + mrgn) : eleOffset;\n            if (checkClass(inEle[i], [CLS_POPPRI]) && popPriority) {\n                inEle[i].classList.add(CLS_POPUP);\n                if (this.isVertical) {\n                    setStyle(inEle[i], { display: 'none', minHeight: eleWid_1 + 'px' });\n                }\n                else {\n                    setStyle(inEle[i], { display: 'none', minWidth: eleWid_1 + 'px' });\n                }\n                itemPopCount++;\n            }\n            if (this.isVertical) {\n                checkoffset = (inEle[i].offsetTop + inEle[i].offsetHeight + mrgn) > eleWidth;\n            }\n            else {\n                checkoffset = (inEle[i].offsetLeft + inEle[i].offsetWidth + mrgn) > eleWidth;\n            }\n            if (checkoffset) {\n                if (inEle[i].classList.contains(CLS_SEPARATOR)) {\n                    if (this.overflowMode === 'Extended') {\n                        if (itemCount === itemPopCount) {\n                            var sepEle = inEle[i];\n                            if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                                inEle[i].classList.add(CLS_POPUP);\n                                itemPopCount++;\n                            }\n                        }\n                        itemCount++;\n                    }\n                    else if (this.overflowMode === 'Popup') {\n                        if (sepCheck > 0 && itemCount === itemPopCount) {\n                            var sepEle = inEle[i + itemCount + (sepCheck - 1)];\n                            if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                                setStyle(sepEle, { display: 'none' });\n                            }\n                        }\n                        sepCheck++;\n                        itemCount = 0;\n                        itemPopCount = 0;\n                    }\n                }\n                else {\n                    itemCount++;\n                }\n                if (inEle[i].classList.contains(CLS_TBAROVERFLOW) && pre) {\n                    eleWidth -= ((this.isVertical ? inEle[i].offsetHeight : inEle[i].offsetWidth) + (mrgn));\n                }\n                else if (!checkClass(inEle[i], [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                    inEle[i].classList.add(CLS_POPUP);\n                    if (this.isVertical) {\n                        setStyle(inEle[i], { display: 'none', minHeight: eleWid_1 + 'px' });\n                    }\n                    else {\n                        setStyle(inEle[i], { display: 'none', minWidth: eleWid_1 + 'px' });\n                    }\n                    itemPopCount++;\n                }\n                else {\n                    eleWidth -= ((this.isVertical ? inEle[i].offsetHeight : inEle[i].offsetWidth) + (mrgn));\n                }\n            }\n        }\n        if (pre) {\n            var popedEle = selectAll('.' + CLS_ITEM + ':not(.' + CLS_POPUP + ')', this.element);\n            this.checkPriority(ele, popedEle, eleWid, false);\n        }\n    };\n    Toolbar.prototype.createPopupIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var className = 'e-' + element.id.concat('_nav ' + CLS_POPUPNAV);\n        className = this.overflowMode === 'Extended' ? className + ' ' + CLS_EXTENDPOPUP : className;\n        var nav = this.createElement('div', { id: id, className: className });\n        if (Browser.info.name === 'msie' || Browser.info.name === 'edge') {\n            nav.classList.add('e-ie-align');\n        }\n        var navItem = this.createElement('div', { className: CLS_POPUPDOWN + ' e-icons' });\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        nav.setAttribute('role', 'list');\n        element.appendChild(nav);\n    };\n    Toolbar.prototype.tbarPriRef = function (inEle, indx, sepPri, el, des, elWid, wid, ig) {\n        var ignoreCount = ig;\n        var popEle = this.popObj.element;\n        var query = '.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_TBAROVERFLOW + ')';\n        var priEleCnt = selectAll('.' + CLS_POPUP + ':not(.' + CLS_TBAROVERFLOW + ')', popEle).length;\n        var checkClass = function (ele, val) {\n            return ele.classList.contains(val);\n        };\n        if (selectAll(query, inEle).length === 0) {\n            var eleSep = inEle.children[indx - (indx - sepPri) - 1];\n            var ignoreCheck = (!isNOU(eleSep) && checkClass(eleSep, CLS_TBARIGNORE));\n            if ((!isNOU(eleSep) && checkClass(eleSep, CLS_SEPARATOR) && !isVisible(eleSep)) || ignoreCheck) {\n                var sepDisplay = 'none';\n                eleSep.style.display = 'inherit';\n                var eleSepWidth = eleSep.offsetWidth + (parseFloat(window.getComputedStyle(eleSep).marginRight) * 2);\n                var prevSep = eleSep.previousElementSibling;\n                if ((elWid + eleSepWidth) < wid || des) {\n                    inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n                    if (!isNOU(prevSep)) {\n                        prevSep.style.display = '';\n                    }\n                }\n                else {\n                    if (prevSep.classList.contains(CLS_SEPARATOR)) {\n                        prevSep.style.display = sepDisplay;\n                    }\n                }\n                eleSep.style.display = '';\n            }\n            else {\n                inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n            }\n        }\n        else {\n            inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - priEleCnt]);\n        }\n    };\n    Toolbar.prototype.popupRefresh = function (popupEle, destroy) {\n        var _this = this;\n        var ele = this.element;\n        var isVer = this.isVertical;\n        var innerEle = ele.querySelector('.' + CLS_ITEMS);\n        var popNav = ele.querySelector('.' + CLS_TBARNAV);\n        if (isNOU(popNav)) {\n            return;\n        }\n        innerEle.removeAttribute('style');\n        popupEle.style.display = 'block';\n        var dimension;\n        if (isVer) {\n            dimension = ele.offsetHeight - (popNav.offsetHeight + innerEle.offsetHeight);\n        }\n        else {\n            dimension = ele.offsetWidth - (popNav.offsetWidth + innerEle.offsetWidth);\n        }\n        var popupEleWidth = 0;\n        [].slice.call(popupEle.children).forEach(function (el) {\n            popupEleWidth += _this.popupEleWidth(el);\n            setStyle(el, { 'position': '' });\n        });\n        if ((dimension + (isVer ? popNav.offsetHeight : popNav.offsetWidth)) > (popupEleWidth) && this.popupPriCount === 0) {\n            destroy = true;\n        }\n        this.popupEleRefresh(dimension, popupEle, destroy);\n        popupEle.style.display = '';\n        if (popupEle.children.length === 0 && popNav && this.popObj) {\n            detach(popNav);\n            popNav = null;\n            this.popObj.destroy();\n            detach(this.popObj.element);\n            this.popObj = null;\n            ele.setAttribute('aria-haspopup', 'false');\n        }\n    };\n    Toolbar.prototype.ignoreEleFetch = function (index, innerEle) {\n        var ignoreEle = [].slice.call(innerEle.querySelectorAll('.' + CLS_TBARIGNORE));\n        var ignoreInx = [];\n        var count = 0;\n        if (ignoreEle.length > 0) {\n            ignoreEle.forEach(function (ele) {\n                ignoreInx.push([].slice.call(innerEle.children).indexOf(ele));\n            });\n        }\n        else {\n            return 0;\n        }\n        ignoreInx.forEach(function (val) {\n            if (val <= index) {\n                count++;\n            }\n        });\n        return count;\n    };\n    Toolbar.prototype.checkPopupRefresh = function (root, popEle) {\n        popEle.style.display = 'block';\n        var elWid = this.popupEleWidth(popEle.firstElementChild);\n        popEle.firstElementChild.style.removeProperty('Position');\n        var tbarWidth = root.offsetWidth - root.querySelector('.' + CLS_TBARNAV).offsetWidth;\n        var tbarItemsWid = root.querySelector('.' + CLS_ITEMS).offsetWidth;\n        popEle.style.removeProperty('display');\n        if (tbarWidth > (elWid + tbarItemsWid)) {\n            return true;\n        }\n        return false;\n    };\n    Toolbar.prototype.popupEleWidth = function (el) {\n        el.style.position = 'absolute';\n        var elWidth = this.isVertical ? el.offsetHeight : el.offsetWidth;\n        var btnText = el.querySelector('.' + CLS_TBARBTNTEXT);\n        if (el.classList.contains('e-tbtn-align') || el.classList.contains(CLS_TBARTEXT)) {\n            var btn = el.children[0];\n            if (!isNOU(btnText) && el.classList.contains(CLS_TBARTEXT)) {\n                btnText.style.display = 'none';\n            }\n            else if (!isNOU(btnText) && el.classList.contains(CLS_POPUPTEXT)) {\n                btnText.style.display = 'block';\n            }\n            btn.style.minWidth = '0%';\n            elWidth = parseFloat(!this.isVertical ? el.style.minWidth : el.style.minHeight);\n            btn.style.minWidth = '';\n            btn.style.minHeight = '';\n            if (!isNOU(btnText)) {\n                btnText.style.display = '';\n            }\n        }\n        return elWidth;\n    };\n    Toolbar.prototype.popupEleRefresh = function (width, popupEle, destroy) {\n        var popPriority = this.popupPriCount > 0;\n        var eleSplice = this.tbarEle;\n        var priEleCnt;\n        var index;\n        var innerEle = this.element.querySelector('.' + CLS_ITEMS);\n        var ignoreCount = 0;\n        var _loop_1 = function (el) {\n            if (el.classList.contains(CLS_POPPRI) && popPriority && !destroy) {\n                return \"continue\";\n            }\n            var elWidth = this_1.popupEleWidth(el);\n            if (el === this_1.tbarEle[0]) {\n                elWidth += this_1.tbarEleMrgn;\n            }\n            el.style.position = '';\n            if (elWidth < width || destroy) {\n                setStyle(el, { minWidth: '', height: '', minHeight: '' });\n                if (!el.classList.contains(CLS_POPOVERFLOW)) {\n                    el.classList.remove(CLS_POPUP);\n                }\n                index = this_1.tbarEle.indexOf(el);\n                if (this_1.tbarAlign) {\n                    var pos = this_1.items[index].align;\n                    index = this_1.tbarAlgEle[(pos + 's').toLowerCase()].indexOf(el);\n                    eleSplice = this_1.tbarAlgEle[(pos + 's').toLowerCase()];\n                    innerEle = this_1.element.querySelector('.' + CLS_ITEMS + ' .' + 'e-toolbar-' + pos.toLowerCase());\n                }\n                var sepBeforePri_1 = 0;\n                if (this_1.overflowMode !== 'Extended') {\n                    eleSplice.slice(0, index).forEach(function (el) {\n                        if (el.classList.contains(CLS_TBAROVERFLOW) || el.classList.contains(CLS_SEPARATOR)) {\n                            if (el.classList.contains(CLS_SEPARATOR)) {\n                                el.style.display = '';\n                                width -= el.offsetWidth;\n                            }\n                            sepBeforePri_1++;\n                        }\n                    });\n                }\n                ignoreCount = this_1.ignoreEleFetch(index, innerEle);\n                if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                    this_1.tbarPriRef(innerEle, index, sepBeforePri_1, el, destroy, elWidth, width, ignoreCount);\n                    width -= el.offsetWidth;\n                }\n                else if (index === 0) {\n                    innerEle.insertBefore(el, innerEle.firstChild);\n                    width -= el.offsetWidth;\n                }\n                else {\n                    priEleCnt = selectAll('.' + CLS_TBAROVERFLOW, this_1.popObj.element).length;\n                    innerEle.insertBefore(el, innerEle.children[(index + ignoreCount) - priEleCnt]);\n                    width -= el.offsetWidth;\n                }\n                el.style.height = '';\n            }\n            else {\n                return \"break\";\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = [].slice.call(popupEle.children); _i < _a.length; _i++) {\n            var el = _a[_i];\n            var state_1 = _loop_1(el);\n            if (state_1 === \"break\")\n                break;\n        }\n        var checkOverflow = this.checkOverflow(this.element, this.element.getElementsByClassName(CLS_ITEMS)[0]);\n        if (checkOverflow && !destroy) {\n            this.renderOverflowMode();\n        }\n    };\n    Toolbar.prototype.removePositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        this.remove(item, CLS_TBARPOS);\n        var innerItem = [].slice.call(item.childNodes);\n        innerItem[1].removeAttribute('style');\n        innerItem[2].removeAttribute('style');\n    };\n    Toolbar.prototype.refreshPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        this.add(item, CLS_TBARPOS);\n        this.itemPositioning();\n    };\n    Toolbar.prototype.itemPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        var margin;\n        if (isNOU(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        var popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n        var innerItem;\n        if (this.scrollModule) {\n            var trgClass = (this.isVertical) ? CLS_VSCROLLCNT : CLS_HSCROLLCNT;\n            innerItem = [].slice.call(item.querySelector('.' + trgClass).children);\n        }\n        else {\n            innerItem = [].slice.call(item.childNodes);\n        }\n        if (this.isVertical) {\n            margin = innerItem[0].offsetHeight + innerItem[2].offsetHeight;\n        }\n        else {\n            margin = innerItem[0].offsetWidth + innerItem[2].offsetWidth;\n        }\n        var tbarWid = this.isVertical ? this.element.offsetHeight : this.element.offsetWidth;\n        if (popupNav) {\n            tbarWid -= (this.isVertical ? popupNav.offsetHeight : popupNav.offsetWidth);\n            var popWid = (this.isVertical ? popupNav.offsetHeight : popupNav.offsetWidth) + 'px';\n            innerItem[2].removeAttribute('style');\n            if (this.isVertical) {\n                if (this.enableRtl) {\n                    innerItem[2].style.top = popWid;\n                }\n                else {\n                    innerItem[2].style.bottom = popWid;\n                }\n            }\n            else {\n                if (this.enableRtl) {\n                    innerItem[2].style.left = popWid;\n                }\n                else {\n                    innerItem[2].style.right = popWid;\n                }\n            }\n        }\n        if (tbarWid <= margin) {\n            return;\n        }\n        var value = (((tbarWid - margin)) - (!this.isVertical ? innerItem[1].offsetWidth : innerItem[1].offsetHeight)) / 2;\n        innerItem[1].removeAttribute('style');\n        var mrgn = ((!this.isVertical ? innerItem[0].offsetWidth : innerItem[0].offsetHeight) + value) + 'px';\n        if (this.isVertical) {\n            if (this.enableRtl) {\n                innerItem[1].style.marginBottom = mrgn;\n            }\n            else {\n                innerItem[1].style.marginTop = mrgn;\n            }\n        }\n        else {\n            if (this.enableRtl) {\n                innerItem[1].style.marginRight = mrgn;\n            }\n            else {\n                innerItem[1].style.marginLeft = mrgn;\n            }\n        }\n    };\n    Toolbar.prototype.tbarItemAlign = function (item, itemEle, pos) {\n        var _this = this;\n        if (item.showAlwaysInPopup && item.overflow !== 'Show') {\n            return;\n        }\n        var alignDiv = [];\n        alignDiv.push(this.createElement('div', { className: CLS_TBARLEFT }));\n        alignDiv.push(this.createElement('div', { className: CLS_TBARCENTER }));\n        alignDiv.push(this.createElement('div', { className: CLS_TBARRIGHT }));\n        if (pos === 0 && item.align !== 'Left') {\n            alignDiv.forEach(function (ele) {\n                itemEle.appendChild(ele);\n            });\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n        else if (item.align !== 'Left') {\n            var alignEle = itemEle.childNodes;\n            var leftAlign_1 = alignDiv[0];\n            [].slice.call(alignEle).forEach(function (el) {\n                _this.tbarAlgEle.lefts.push(el);\n                leftAlign_1.appendChild(el);\n            });\n            itemEle.appendChild(leftAlign_1);\n            itemEle.appendChild(alignDiv[1]);\n            itemEle.appendChild(alignDiv[2]);\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n    };\n    Toolbar.prototype.ctrlTemplate = function () {\n        var _this = this;\n        this.ctrlTem = this.trgtEle.cloneNode(true);\n        this.add(this.trgtEle, CLS_ITEMS);\n        this.tbarEle = [];\n        var innerEle = [].slice.call(this.trgtEle.children);\n        innerEle.forEach(function (ele) {\n            if (ele.tagName === 'DIV') {\n                _this.tbarEle.push(ele);\n                ele.setAttribute('aria-disabled', 'false');\n                _this.add(ele, CLS_ITEM);\n            }\n        });\n    };\n    Toolbar.prototype.renderItems = function () {\n        var ele = this.element;\n        var items = this.items;\n        if (this.trgtEle != null) {\n            this.ctrlTemplate();\n        }\n        else if (ele && items.length > 0) {\n            var itemEleDom = void 0;\n            if (ele && ele.children.length > 0) {\n                itemEleDom = ele.querySelector('.' + CLS_ITEMS);\n            }\n            if (!itemEleDom) {\n                itemEleDom = this.createElement('div', { className: CLS_ITEMS });\n            }\n            this.itemsAlign(items, itemEleDom);\n            ele.appendChild(itemEleDom);\n        }\n    };\n    Toolbar.prototype.setAttr = function (attr, element) {\n        var key = Object.keys(attr);\n        var keyVal;\n        for (var i = 0; i < key.length; i++) {\n            keyVal = key[i];\n            if (keyVal === 'class') {\n                this.add(element, attr[keyVal]);\n            }\n            else {\n                element.setAttribute(keyVal, attr[keyVal]);\n            }\n        }\n    };\n    /**\n     * Enables or disables the specified Toolbar item.\n     *\n     * @param  {number|HTMLElement|NodeList} items - DOM element or an array of items to be enabled or disabled.\n     * @param  {boolean} isEnable  - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, `isEnable` is set to true.\n     * @returns {void}.\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        var elements = items;\n        var len = elements.length;\n        var ele;\n        if (isNOU(isEnable)) {\n            isEnable = true;\n        }\n        var enable = function (isEnable, ele) {\n            if (isEnable) {\n                ele.classList.remove(CLS_DISABLE);\n                ele.setAttribute('aria-disabled', 'false');\n            }\n            else {\n                ele.classList.add(CLS_DISABLE);\n                ele.setAttribute('aria-disabled', 'true');\n            }\n        };\n        if (!isNOU(len) && len >= 1) {\n            for (var a = 0, element = [].slice.call(elements); a < len; a++) {\n                var itemElement = element[a];\n                if (typeof (itemElement) === 'number') {\n                    ele = this.getElementByIndex(itemElement);\n                    if (isNOU(ele)) {\n                        return;\n                    }\n                    else {\n                        elements[a] = ele;\n                    }\n                }\n                else {\n                    ele = itemElement;\n                }\n                enable(isEnable, ele);\n            }\n            if (isEnable) {\n                removeClass(elements, CLS_DISABLE);\n            }\n            else {\n                addClass(elements, CLS_DISABLE);\n            }\n        }\n        else {\n            if (typeof (elements) === 'number') {\n                ele = this.getElementByIndex(elements);\n                if (isNOU(ele)) {\n                    return;\n                }\n            }\n            else {\n                ele = items;\n            }\n            enable(isEnable, ele);\n        }\n    };\n    Toolbar.prototype.getElementByIndex = function (index) {\n        if (this.tbarEle[index]) {\n            return this.tbarEle[index];\n        }\n        return null;\n    };\n    /**\n     * Adds new items to the Toolbar that accepts an array as Toolbar items.\n     *\n     * @param  {ItemModel[]} items - DOM element or an array of items to be added to the Toolbar.\n     * @param  {number} index - Number value that determines where the command is to be added. By default, index is 0.\n     * @returns {void}.\n     */\n    Toolbar.prototype.addItems = function (items, index) {\n        var innerItems;\n        this.extendedOpen();\n        var itemsDiv = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(itemsDiv)) {\n            this.itemsRerender(items);\n            return;\n        }\n        var innerEle;\n        var itemAgn = 'Left';\n        if (isNOU(index)) {\n            index = 0;\n        }\n        items.forEach(function (e) {\n            if (!isNOU(e.align) && e.align !== 'Left' && itemAgn === 'Left') {\n                itemAgn = e.align;\n            }\n        });\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            if (isNOU(item.type)) {\n                item.type = 'Button';\n            }\n            innerItems = selectAll('.' + CLS_ITEM, this.element);\n            item.align = itemAgn;\n            innerEle = this.renderSubComponent(item, index);\n            if (this.tbarEle.length >= index && innerItems.length >= 0) {\n                if (isNOU(this.scrollModule)) {\n                    this.destroyMode();\n                }\n                var algIndex = item.align[0] === 'L' ? 0 : item.align[0] === 'C' ? 1 : 2;\n                var ele = void 0;\n                if (!this.tbarAlign && itemAgn !== 'Left') {\n                    this.tbarItemAlign(item, itemsDiv, 1);\n                    this.tbarAlign = true;\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.appendChild(innerEle);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].push(innerEle);\n                    this.refreshPositioning();\n                }\n                else if (this.tbarAlign) {\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.insertBefore(innerEle, ele.children[index]);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].splice(index, 0, innerEle);\n                    this.refreshPositioning();\n                }\n                else if (innerItems.length === 0) {\n                    innerItems = selectAll('.' + CLS_ITEMS, this.element);\n                    innerItems[0].appendChild(innerEle);\n                }\n                else {\n                    innerItems[0].parentNode.insertBefore(innerEle, innerItems[index]);\n                }\n                this.items.splice(index, 0, item);\n                if (item.template) {\n                    this.tbarEle.splice(this.tbarEle.length - 1, 1);\n                }\n                this.tbarEle.splice(index, 0, innerEle);\n                index++;\n                this.offsetWid = itemsDiv.offsetWidth;\n            }\n        }\n        itemsDiv.style.width = '';\n        this.renderOverflowMode();\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * Removes the items from the Toolbar. Acceptable arguments are index of item/HTMLElement/node list.\n     *\n     * @param  {number|HTMLElement|NodeList|HTMLElement[]} args\n     * Index or DOM element or an Array of item which is to be removed from the Toolbar.\n     * @returns {void}.\n     */\n    Toolbar.prototype.removeItems = function (args) {\n        var elements = args;\n        var index;\n        var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n        if (typeof (elements) === 'number') {\n            index = parseInt(args.toString(), 10);\n            this.removeItemByIndex(index, innerItems);\n        }\n        else {\n            if (elements && elements.length > 1) {\n                for (var _i = 0, _a = [].slice.call(elements); _i < _a.length; _i++) {\n                    var ele = _a[_i];\n                    index = this.tbarEle.indexOf(ele);\n                    this.removeItemByIndex(index, innerItems);\n                    innerItems = selectAll('.' + CLS_ITEM, this.element);\n                }\n            }\n            else {\n                var ele = (elements && elements.length && elements.length === 1) ? elements[0] : args;\n                index = innerItems.indexOf(ele);\n                this.removeItemByIndex(index, innerItems);\n            }\n        }\n        this.resize();\n    };\n    Toolbar.prototype.removeItemByIndex = function (index, innerItems) {\n        if (this.tbarEle[index] && innerItems[index]) {\n            var eleIdx = this.tbarEle.indexOf(innerItems[index]);\n            if (this.tbarAlign) {\n                var indexAgn = this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].indexOf(this.tbarEle[eleIdx]);\n                this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].splice(indexAgn, 1);\n            }\n            if (this.isReact) {\n                this.clearTemplate();\n            }\n            var btnItem = innerItems[index].querySelector('.e-control.e-btn');\n            if (!isNOU(btnItem) && !isNOU(btnItem.ej2_instances[0]) && !(btnItem.ej2_instances[0].isDestroyed)) {\n                btnItem.ej2_instances[0].destroy();\n            }\n            detach(innerItems[index]);\n            this.items.splice(eleIdx, 1);\n            this.tbarEle.splice(eleIdx, 1);\n        }\n    };\n    Toolbar.prototype.templateRender = function (templateProp, innerEle, item, index) {\n        var itemType = item.type;\n        var eleObj = templateProp;\n        var isComponent;\n        if (typeof (templateProp) === 'object') {\n            isComponent = typeof (eleObj.appendTo) === 'function';\n        }\n        if (typeof (templateProp) === 'string' || !isComponent) {\n            var templateFn = void 0;\n            var val = templateProp;\n            val = (typeof (templateProp) === 'string') ? templateProp.trim() : templateProp;\n            try {\n                if (typeof (templateProp) === 'object' && !isNOU(templateProp.tagName)) {\n                    innerEle.appendChild(templateProp);\n                }\n                else if (document.querySelectorAll(val).length) {\n                    var ele = document.querySelector(val);\n                    var tempStr = ele.outerHTML.trim();\n                    innerEle.appendChild(ele);\n                    ele.style.display = '';\n                    if (!isNOU(tempStr)) {\n                        this.tempId.push(val);\n                    }\n                }\n                else {\n                    templateFn = templateCompiler(val);\n                }\n            }\n            catch (e) {\n                templateFn = templateCompiler(val);\n            }\n            var tempArray = void 0;\n            if (!isNOU(templateFn)) {\n                var toolbarTemplateID = this.element.id + index + '_template';\n                tempArray = templateFn({}, this, 'template', toolbarTemplateID, this.isStringTemplate);\n            }\n            if (!isNOU(tempArray) && tempArray.length > 0) {\n                [].slice.call(tempArray).forEach(function (ele) {\n                    if (!isNOU(ele.tagName)) {\n                        ele.style.display = '';\n                    }\n                    innerEle.appendChild(ele);\n                });\n            }\n        }\n        else if (itemType === 'Input') {\n            var ele = this.createElement('input');\n            if (item.id) {\n                ele.id = item.id;\n            }\n            else {\n                ele.id = getUniqueID('tbr-ipt');\n            }\n            innerEle.appendChild(ele);\n            eleObj.appendTo(ele);\n        }\n        this.add(innerEle, CLS_TEMPLATE);\n        this.tbarEle.push(innerEle);\n    };\n    Toolbar.prototype.buttonRendering = function (item, innerEle) {\n        var dom = this.createElement('button', { className: CLS_TBARBTN });\n        dom.setAttribute('type', 'button');\n        var textStr = item.text;\n        var iconCss;\n        var iconPos;\n        if (item.id) {\n            dom.id = item.id;\n        }\n        else {\n            dom.id = getUniqueID('e-tbr-btn');\n        }\n        var btnTxt = this.createElement('span', { className: 'e-tbar-btn-text' });\n        if (textStr) {\n            btnTxt.innerHTML = this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(textStr) : textStr;\n            dom.appendChild(btnTxt);\n            dom.classList.add('e-tbtn-txt');\n        }\n        else {\n            this.add(innerEle, 'e-tbtn-align');\n        }\n        if (item.prefixIcon || item.suffixIcon) {\n            if ((item.prefixIcon && item.suffixIcon) || item.prefixIcon) {\n                iconCss = item.prefixIcon + ' e-icons';\n                iconPos = 'Left';\n            }\n            else {\n                iconCss = item.suffixIcon + ' e-icons';\n                iconPos = 'Right';\n            }\n        }\n        var btnObj = new Button({ iconCss: iconCss, iconPosition: iconPos });\n        btnObj.createElement = this.createElement;\n        btnObj.appendTo(dom);\n        if (item.width) {\n            setStyle(dom, { 'width': formatUnit(item.width) });\n        }\n        return dom;\n    };\n    Toolbar.prototype.renderSubComponent = function (item, index) {\n        var dom;\n        var innerEle = this.createElement('div', { className: CLS_ITEM });\n        innerEle.setAttribute('aria-disabled', 'false');\n        var tempDom = this.createElement('div', {\n            innerHTML: this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(item.tooltipText) : item.tooltipText\n        });\n        if (!this.tbarEle) {\n            this.tbarEle = [];\n        }\n        if (item.htmlAttributes) {\n            this.setAttr(item.htmlAttributes, innerEle);\n        }\n        if (item.tooltipText) {\n            innerEle.setAttribute('title', tempDom.textContent);\n        }\n        if (item.cssClass) {\n            innerEle.className = innerEle.className + ' ' + item.cssClass;\n        }\n        if (item.template) {\n            this.templateRender(item.template, innerEle, item, index);\n        }\n        else {\n            switch (item.type) {\n                case 'Button':\n                    dom = this.buttonRendering(item, innerEle);\n                    dom.setAttribute('tabindex', '-1');\n                    dom.setAttribute('aria-label', (item.text || item.tooltipText));\n                    innerEle.appendChild(dom);\n                    innerEle.addEventListener('click', this.itemClick.bind(this));\n                    break;\n                case 'Separator':\n                    this.add(innerEle, CLS_SEPARATOR);\n                    break;\n            }\n        }\n        if (item.showTextOn) {\n            var sTxt = item.showTextOn;\n            if (sTxt === 'Toolbar') {\n                this.add(innerEle, CLS_POPUPTEXT);\n                this.add(innerEle, 'e-tbtn-align');\n            }\n            else if (sTxt === 'Overflow') {\n                this.add(innerEle, CLS_TBARTEXT);\n            }\n        }\n        if (item.overflow) {\n            var overflow = item.overflow;\n            if (overflow === 'Show') {\n                this.add(innerEle, CLS_TBAROVERFLOW);\n            }\n            else if (overflow === 'Hide') {\n                if (!innerEle.classList.contains(CLS_SEPARATOR)) {\n                    this.add(innerEle, CLS_POPOVERFLOW);\n                }\n            }\n        }\n        if (item.overflow !== 'Show' && item.showAlwaysInPopup && !innerEle.classList.contains(CLS_SEPARATOR)) {\n            this.add(innerEle, CLS_POPPRI);\n            this.popupPriCount++;\n        }\n        if (item.disabled) {\n            this.add(innerEle, CLS_DISABLE);\n        }\n        if (item.visible === false) {\n            this.add(innerEle, CLS_HIDDEN);\n        }\n        return innerEle;\n    };\n    Toolbar.prototype.itemClick = function (e) {\n        this.activeEleSwitch(e.currentTarget);\n    };\n    Toolbar.prototype.activeEleSwitch = function (ele) {\n        this.activeEleRemove(ele.firstElementChild);\n        this.activeEle.focus();\n    };\n    Toolbar.prototype.activeEleRemove = function (curEle) {\n        if (!isNOU(this.activeEle)) {\n            this.activeEle.setAttribute('tabindex', '-1');\n        }\n        this.activeEle = curEle;\n        if (isNOU(this.trgtEle) && !curEle.parentElement.classList.contains(CLS_TEMPLATE)) {\n            curEle.removeAttribute('tabindex');\n        }\n        else {\n            this.activeEle.setAttribute('tabindex', '0');\n        }\n    };\n    Toolbar.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - Returns the module name as string.\n     * @private\n     */\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    Toolbar.prototype.itemsRerender = function (newProp) {\n        this.items = this.tbarItemsCol;\n        if (this.isReact || this.isAngular) {\n            this.clearTemplate();\n        }\n        this.destroyMode();\n        this.destroyItems();\n        this.items = newProp;\n        this.tbarItemsCol = this.items;\n        this.renderItems();\n        this.renderOverflowMode();\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    Toolbar.prototype.resize = function () {\n        var ele = this.element;\n        this.tbResize = true;\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj && this.overflowMode === 'Popup') {\n            this.popObj.hide();\n        }\n        var checkOverflow = this.checkOverflow(ele, ele.getElementsByClassName(CLS_ITEMS)[0]);\n        if (!checkOverflow) {\n            this.destroyScroll();\n            var multirowele = ele.querySelector('.' + CLS_ITEMS);\n            if (!isNOU(multirowele)) {\n                this.remove(multirowele, CLS_MULTIROWPOS);\n                if (this.tbarAlign) {\n                    this.add(multirowele, CLS_TBARPOS);\n                }\n            }\n        }\n        if (checkOverflow && this.scrollModule && (this.offsetWid === ele.offsetWidth)) {\n            return;\n        }\n        if (this.offsetWid > ele.offsetWidth || checkOverflow) {\n            this.renderOverflowMode();\n        }\n        if (this.popObj) {\n            if (this.overflowMode === 'Extended') {\n                var eleStyles = window.getComputedStyle(this.element);\n                this.popObj.width = parseFloat(eleStyles.width) + ((parseFloat(eleStyles.borderRightWidth)) * 2);\n            }\n            if (this.tbarAlign) {\n                this.removePositioning();\n            }\n            this.popupRefresh(this.popObj.element, false);\n            if (this.tbarAlign) {\n                this.refreshPositioning();\n            }\n        }\n        if (this.element.querySelector('.' + CLS_HSCROLLBAR)) {\n            this.scrollStep = this.element.querySelector('.' + CLS_HSCROLLBAR).offsetWidth;\n        }\n        this.offsetWid = ele.offsetWidth;\n        this.tbResize = false;\n        this.separator();\n    };\n    Toolbar.prototype.extendedOpen = function () {\n        var sib = this.element.querySelector('.' + CLS_EXTENDABLECLASS);\n        if (this.overflowMode === 'Extended' && sib) {\n            this.isExtendedOpen = sib.classList.contains(CLS_POPUPOPEN);\n        }\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     *\n     * @param  {ToolbarModel} newProp - It contains new value of the data.\n     * @param  {ToolbarModel} oldProp - It contains old value of the data.\n     * @returns {void}\n     * @private\n     */\n    Toolbar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var tEle = this.element;\n        var wid = tEle.offsetWidth;\n        this.extendedOpen();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProb = Object.keys(newProp.items);\n                        for (var i = 0; i < changedProb.length; i++) {\n                            var index = parseInt(Object.keys(newProp.items)[i], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var newProperty = Object(newProp.items[index])[property];\n                            if (typeof newProperty !== 'function') {\n                                if (this.tbarAlign || property === 'align') {\n                                    this.refresh();\n                                    this.trigger('created');\n                                    break;\n                                }\n                                var popupPriCheck = property === 'showAlwaysInPopup' && !newProperty;\n                                var booleanCheck = property === 'overflow' && this.popupPriCount !== 0;\n                                if ((popupPriCheck) || (this.items[index].showAlwaysInPopup) && booleanCheck) {\n                                    --this.popupPriCount;\n                                }\n                                if (isNOU(this.scrollModule)) {\n                                    this.destroyMode();\n                                }\n                                var itemCol = [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, tEle));\n                                if (this.isReact) {\n                                    this.clearTemplate();\n                                }\n                                detach(itemCol[index]);\n                                this.tbarEle.splice(index, 1);\n                                this.addItems([this.items[index]], index);\n                                this.items.splice(index, 1);\n                                if (this.items[index].template) {\n                                    this.tbarEle.splice(this.items.length, 1);\n                                }\n                            }\n                        }\n                    }\n                    else {\n                        this.itemsRerender(newProp.items);\n                    }\n                    break;\n                case 'width':\n                    setStyle(tEle, { 'width': formatUnit(newProp.width) });\n                    this.renderOverflowMode();\n                    if (this.popObj && wid < tEle.offsetWidth) {\n                        this.popupRefresh(this.popObj.element, false);\n                    }\n                    break;\n                case 'height':\n                    setStyle(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'overflowMode':\n                    this.destroyMode();\n                    this.renderOverflowMode();\n                    if (this.enableRtl) {\n                        this.add(tEle, CLS_RTL);\n                    }\n                    this.refreshOverflow();\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        this.add(tEle, CLS_RTL);\n                    }\n                    else {\n                        this.remove(tEle, CLS_RTL);\n                    }\n                    if (!isNOU(this.scrollModule)) {\n                        if (newProp.enableRtl) {\n                            this.add(this.scrollModule.element, CLS_RTL);\n                        }\n                        else {\n                            this.remove(this.scrollModule.element, CLS_RTL);\n                        }\n                    }\n                    if (!isNOU(this.popObj)) {\n                        if (newProp.enableRtl) {\n                            this.add(this.popObj.element, CLS_RTL);\n                        }\n                        else {\n                            this.remove(this.popObj.element, CLS_RTL);\n                        }\n                    }\n                    if (this.tbarAlign) {\n                        this.itemPositioning();\n                    }\n                    break;\n                case 'scrollStep':\n                    if (this.scrollModule) {\n                        this.scrollModule.scrollStep = this.scrollStep;\n                    }\n                    break;\n                case 'enableCollision':\n                    if (this.popObj) {\n                        this.popObj.collision = { Y: this.enableCollision ? 'flip' : 'none' };\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.element], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([this.element], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'allowKeyboard':\n                    this.unwireKeyboardEvent();\n                    if (newProp.allowKeyboard) {\n                        this.wireKeyboardEvent();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Shows or hides the Toolbar item that is in the specified index.\n     *\n     * @param  {number | HTMLElement} index - Index value of target item or DOM element  of items to be hidden or shown.\n     * @param  {boolean} value - Based on this Boolean value, item will be hide (true) or show (false). By default, value is false.\n     * @returns {void}.\n     */\n    Toolbar.prototype.hideItem = function (index, value) {\n        var isElement = (typeof (index) === 'object') ? true : false;\n        var eleIndex = index;\n        var initIndex;\n        var ele;\n        var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n        if (isElement) {\n            ele = index;\n        }\n        else if (this.tbarEle[eleIndex]) {\n            var innerItems_1 = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n            ele = innerItems_1[eleIndex];\n        }\n        if (ele) {\n            if (value) {\n                ele.classList.add(CLS_HIDDEN);\n            }\n            else {\n                ele.classList.remove(CLS_HIDDEN);\n            }\n            if (value && isNOU(this.element.getAttribute('tabindex')) && !ele.classList.contains(CLS_SEPARATOR)) {\n                if (isNOU(ele.firstElementChild.getAttribute('tabindex'))) {\n                    ele.firstElementChild.setAttribute('tabindex', '-1');\n                    var innerItems_2 = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n                    if (isElement) {\n                        eleIndex = innerItems_2.indexOf(ele);\n                    }\n                    var nextEle = innerItems_2[++eleIndex];\n                    while (nextEle) {\n                        var skipEle = this.eleContains(nextEle);\n                        if (!skipEle) {\n                            nextEle.firstElementChild.removeAttribute('tabindex');\n                            break;\n                        }\n                        nextEle = innerItems_2[++eleIndex];\n                    }\n                }\n            }\n            else if (isNOU(this.element.getAttribute('tabindex')) && !ele.classList.contains(CLS_SEPARATOR)) {\n                initIndex = 0;\n                var setFlag = false;\n                var removeFlag = false;\n                var initELe = innerItems[initIndex];\n                while (initELe) {\n                    if (!initELe.classList.contains(CLS_SEPARATOR)) {\n                        if (isNOU(initELe.firstElementChild.getAttribute('tabindex'))) {\n                            initELe.firstElementChild.setAttribute('tabindex', '-1');\n                            setFlag = true;\n                        }\n                        else {\n                            if (setFlag && removeFlag) {\n                                break;\n                            }\n                            var skipEle = this.eleContains(initELe);\n                            if (!skipEle) {\n                                initELe.firstElementChild.removeAttribute('tabindex');\n                                removeFlag = true;\n                            }\n                            initELe = innerItems[++initIndex];\n                        }\n                    }\n                    else {\n                        initELe = innerItems[++initIndex];\n                    }\n                }\n            }\n            this.refreshOverflow();\n        }\n    };\n    __decorate([\n        Collection([], Item)\n    ], Toolbar.prototype, \"items\", void 0);\n    __decorate([\n        Property('auto')\n    ], Toolbar.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Toolbar.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], Toolbar.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('Scrollable')\n    ], Toolbar.prototype, \"overflowMode\", void 0);\n    __decorate([\n        Property()\n    ], Toolbar.prototype, \"scrollStep\", void 0);\n    __decorate([\n        Property(true)\n    ], Toolbar.prototype, \"enableCollision\", void 0);\n    __decorate([\n        Property(true)\n    ], Toolbar.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(true)\n    ], Toolbar.prototype, \"allowKeyboard\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"clicked\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"beforeCreate\", void 0);\n    Toolbar = __decorate([\n        NotifyPropertyChanges\n    ], Toolbar);\n    return Toolbar;\n}(Component));\nexport { Toolbar };\n","import { EventHandler, extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { remove, select } from '@syncfusion/ej2-base';\nimport { Toolbar as tool } from '@syncfusion/ej2-navigations';\nimport * as events from '../base/constant';\nimport { templateCompiler, appendChildren, parentsUntil, addRemoveEventListener } from '../base/util';\nimport { ResponsiveToolbarAction } from '../base/enum';\nimport { SearchBox } from '../services/focus-strategy';\n/**\n * The `Toolbar` module is used to handle ToolBar actions.\n *\n * @hidden\n */\nvar Toolbar = /** @class */ (function () {\n    function Toolbar(parent, serviceLocator) {\n        this.predefinedItems = {};\n        this.items = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'Print', 'Search',\n            'ColumnChooser', 'PdfExport', 'ExcelExport', 'CsvExport', 'WordExport'];\n        this.parent = parent;\n        this.gridID = parent.element.id;\n        this.serviceLocator = serviceLocator;\n        this.addEventListener();\n    }\n    Toolbar.prototype.render = function () {\n        this.l10n = this.serviceLocator.getService('localization');\n        var preItems = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'Print',\n            'PdfExport', 'ExcelExport', 'WordExport', 'CsvExport'];\n        var isAdaptive = this.parent.enableAdaptiveUI;\n        var excludingItems = ['Edit', 'Delete', 'Update', 'Cancel'];\n        for (var _i = 0, preItems_1 = preItems; _i < preItems_1.length; _i++) {\n            var item = preItems_1[_i];\n            var itemStr = item.toLowerCase();\n            var localeName = itemStr[0].toUpperCase() + itemStr.slice(1);\n            this.predefinedItems[item] = {\n                id: this.gridID + '_' + itemStr, prefixIcon: 'e-' + itemStr,\n                text: this.l10n.getConstant(localeName), tooltipText: this.l10n.getConstant(localeName)\n            };\n            if (isAdaptive) {\n                this.predefinedItems[item].text = '';\n                this.predefinedItems[item].visible = excludingItems.indexOf(item) === -1;\n            }\n        }\n        this.predefinedItems.Search = {\n            id: this.gridID + '_search',\n            tooltipText: this.l10n.getConstant('Search'), align: 'Right', cssClass: 'e-search-wrapper',\n            type: 'Input'\n        };\n        this.predefinedItems.ColumnChooser = {\n            id: this.gridID + '_' + 'columnchooser', cssClass: 'e-cc e-ccdiv e-cc-toolbar', suffixIcon: 'e-' + 'columnchooser-btn',\n            text: isAdaptive ? '' : this.l10n.getConstant('Columnchooser'),\n            tooltipText: this.l10n.getConstant('Columnchooser'), align: 'Right'\n        };\n        if (this.parent.rowRenderingMode === 'Vertical') {\n            if (this.parent.allowFiltering && this.parent.filterSettings.type !== 'FilterBar') {\n                this.predefinedItems.responsiveFilter = {\n                    id: this.gridID + '_' + 'responsivefilter', cssClass: 'e-gridresponsiveicons e-icons',\n                    suffixIcon: 'e-' + 'resfilter-icon', tooltipText: this.l10n.getConstant('FilterButton')\n                };\n            }\n            if (this.parent.allowSorting) {\n                this.predefinedItems.responsiveSort = {\n                    id: this.gridID + '_' + 'responsivesort', cssClass: 'e-gridresponsiveicons e-icons',\n                    suffixIcon: 'e-' + 'ressort-icon', tooltipText: this.l10n.getConstant('Sort')\n                };\n            }\n        }\n        if (this.parent.enableAdaptiveUI && this.parent.toolbar.indexOf('Search') > -1) {\n            this.predefinedItems.responsiveBack = {\n                id: this.gridID + '_' + 'responsiveback', cssClass: 'e-gridresponsiveicons e-icons',\n                suffixIcon: 'e-' + 'resback-icon', visible: false\n            };\n        }\n        this.createToolbar();\n    };\n    /**\n     * Gets the toolbar of the Grid.\n     *\n     * @returns {Element} returns the element\n     * @hidden\n     */\n    Toolbar.prototype.getToolbar = function () {\n        return this.toolbar.element;\n    };\n    /**\n     * Destroys the ToolBar.\n     *\n     * @function destroy\n     * @returns {void}\n     */\n    Toolbar.prototype.destroy = function () {\n        if (this.toolbar && !this.toolbar.isDestroyed) {\n            if (!this.toolbar.element) {\n                this.parent.destroyTemplate(['toolbarTemplate']);\n                if (this.parent.isReact) {\n                    this.parent.renderTemplates();\n                }\n            }\n            else {\n                this.toolbar.off('render-react-toolbar-template', this.addReactToolbarPortals);\n                this.toolbar.destroy();\n            }\n            this.unWireEvent();\n            this.removeEventListener();\n            if (this.element.parentNode) {\n                remove(this.element);\n            }\n        }\n    };\n    Toolbar.prototype.bindSearchEvents = function () {\n        this.searchElement = select('#' + this.gridID + '_searchbar', this.element);\n        this.wireEvent();\n        this.refreshToolbarItems();\n        if (this.parent.searchSettings) {\n            this.updateSearchBox();\n        }\n    };\n    Toolbar.prototype.toolbarCreated = function (isNormal) {\n        if (this.element.querySelector('.e-search-wrapper')) {\n            if (!this.parent.enableAdaptiveUI || isNormal) {\n                this.element.querySelector('.e-search-wrapper').innerHTML = '<div class=\"e-input-group e-search\" role=\"search\">\\\n                    <input id=\"' + this.gridID + '_searchbar\" class=\"e-input\" name=\"input\" type=\"search\" \\\n                    placeholder= \"' + this.l10n.getConstant('Search') + '\"/>\\\n                    <span id=\"' + this.gridID + '_searchbutton\" class=\"e-input-group-icon e-search-icon e-icons\" \\\n                    tabindex=\"-1\" title=\"' + this.l10n.getConstant('Search') + '\" aria-label= \"search\" role= \"search\"></span> \\\n                    </div>';\n            }\n            else {\n                this.element.querySelector('.e-search-wrapper').innerHTML = '<span id=\"' + this.gridID\n                    + '_searchbutton\" class=\"e-input-group-icon e-search-icon e-icons\" \\\n                    tabindex=\"-1\" title=\"' + this.l10n.getConstant('Search') + '\" aria-label= \"search\"></span> \\\n                    </div>';\n            }\n        }\n        this.bindSearchEvents();\n    };\n    Toolbar.prototype.createToolbar = function () {\n        var items = this.getItems();\n        this.toolbar = new tool({\n            items: items,\n            clicked: this.toolbarClickHandler.bind(this),\n            enablePersistence: this.parent.enablePersistence,\n            enableRtl: this.parent.enableRtl,\n            created: this.toolbarCreated.bind(this)\n        });\n        this.toolbar.isReact = this.parent.isReact;\n        this.toolbar.on('render-react-toolbar-template', this.addReactToolbarPortals, this);\n        var isStringTemplate = 'isStringTemplate';\n        this.toolbar[isStringTemplate] = true;\n        var viewStr = 'viewContainerRef';\n        var registerTemp = 'registeredTemplate';\n        if (this.parent[viewStr]) {\n            this.toolbar[registerTemp] = {};\n            this.toolbar[viewStr] = this.parent[viewStr];\n        }\n        this.element = this.parent.createElement('div', { id: this.gridID + '_toolbarItems' });\n        if (this.parent.enableAdaptiveUI) {\n            this.element.classList.add('e-res-toolbar');\n        }\n        if (this.parent.toolbarTemplate) {\n            if (typeof (this.parent.toolbarTemplate) === 'string') {\n                this.toolbar.appendTo(this.parent.toolbarTemplate);\n                this.element = this.toolbar.element;\n            }\n            else {\n                var isReactCompiler = this.parent.isReact && typeof (this.parent.toolbarTemplate) !== 'string';\n                var ID = this.parent.element.id + 'toolbarTemplate';\n                if (isReactCompiler) {\n                    templateCompiler(this.parent.toolbarTemplate)({}, this.parent, 'toolbarTemplate', ID, null, null, this.element);\n                    this.parent.renderTemplates();\n                }\n                else {\n                    appendChildren(this.element, templateCompiler(this.parent.toolbarTemplate)({}, this.parent, 'toolbarTemplate'));\n                }\n            }\n        }\n        else {\n            this.toolbar.appendTo(this.element);\n        }\n        this.parent.element.insertBefore(this.element, this.parent.getHeaderContent());\n    };\n    Toolbar.prototype.addReactToolbarPortals = function (args) {\n        if (this.parent.isReact && args) {\n            this.parent.portals = this.parent.portals.concat(args);\n            this.parent.renderTemplates();\n        }\n    };\n    Toolbar.prototype.renderResponsiveSearch = function (isRender) {\n        if (isRender) {\n            this.toolbarCreated(true);\n            this.refreshResponsiveToolbarItems(ResponsiveToolbarAction.isSearch);\n            this.searchElement = select('#' + this.gridID + '_searchbar', this.element);\n            var right = parentsUntil(this.searchElement, 'e-toolbar-right');\n            right.classList.add('e-responsive-right');\n            if (this.parent.searchSettings) {\n                this.updateSearchBox();\n            }\n            this.searchBoxObj.searchFocus({ target: this.searchElement });\n            this.searchElement.focus();\n        }\n        else {\n            this.refreshResponsiveToolbarItems(ResponsiveToolbarAction.isInitial);\n        }\n    };\n    Toolbar.prototype.refreshResponsiveToolbarItems = function (action) {\n        if (action === ResponsiveToolbarAction.isInitial) {\n            var id = this.parent.element.id;\n            var items = [id + '_edit', id + '_delete'];\n            var selectedRecords = this.parent.getSelectedRowIndexes();\n            var excludingItems = [id + '_responsiveback', id + '_update', id + '_cancel'];\n            for (var _i = 0, _a = this.toolbar.items; _i < _a.length; _i++) {\n                var item = _a[_i];\n                var toolbarEle = this.toolbar.element.querySelector('#' + item.id);\n                if (toolbarEle) {\n                    if (items.indexOf(item.id) > -1) {\n                        if (selectedRecords.length) {\n                            toolbarEle.parentElement.classList.remove('e-hidden');\n                        }\n                        else {\n                            toolbarEle.parentElement.classList.add('e-hidden');\n                        }\n                    }\n                    else {\n                        if (excludingItems.indexOf(item.id) === -1) {\n                            toolbarEle.parentElement.classList.remove('e-hidden');\n                        }\n                        else {\n                            toolbarEle.parentElement.classList.add('e-hidden');\n                        }\n                    }\n                }\n            }\n            if (this.searchElement) {\n                var right = parentsUntil(this.searchElement, 'e-toolbar-right');\n                right.classList.remove('e-responsive-right');\n                this.toolbarCreated(false);\n                this.unWireEvent();\n                this.searchElement = undefined;\n            }\n        }\n        if (action === ResponsiveToolbarAction.isSearch) {\n            var items = [this.parent.element.id + '_responsiveback', this.parent.element.id + '_search'];\n            for (var _b = 0, _c = this.toolbar.items; _b < _c.length; _b++) {\n                var item = _c[_b];\n                var toolbarEle = this.toolbar.element.querySelector('#' + item.id);\n                if (toolbarEle) {\n                    if (items.indexOf(item.id) > -1) {\n                        toolbarEle.parentElement.classList.remove('e-hidden');\n                    }\n                    else {\n                        toolbarEle.parentElement.classList.add('e-hidden');\n                    }\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Toolbar.prototype.refreshToolbarItems = function (args) {\n        var gObj = this.parent;\n        var enableItems = [];\n        var disableItems = [];\n        var edit = gObj.editSettings;\n        var hasData = gObj.currentViewData && gObj.currentViewData.length;\n        if (edit.allowAdding) {\n            enableItems.push(this.gridID + '_add');\n        }\n        else {\n            disableItems.push(this.gridID + '_add');\n        }\n        if (edit.allowEditing && hasData) {\n            enableItems.push(this.gridID + '_edit');\n        }\n        else {\n            disableItems.push(this.gridID + '_edit');\n        }\n        if (edit.allowDeleting && hasData) {\n            enableItems.push(this.gridID + '_delete');\n        }\n        else {\n            disableItems.push(this.gridID + '_delete');\n        }\n        if (gObj.editSettings.mode === 'Batch') {\n            if (gObj.element.getElementsByClassName('e-updatedtd').length && (edit.allowAdding || edit.allowEditing)) {\n                enableItems.push(this.gridID + '_update');\n                enableItems.push(this.gridID + '_cancel');\n            }\n            else {\n                disableItems.push(this.gridID + '_update');\n                disableItems.push(this.gridID + '_cancel');\n            }\n        }\n        else {\n            if (gObj.isEdit && (edit.allowAdding || edit.allowEditing)) {\n                enableItems = [this.gridID + '_update', this.gridID + '_cancel'];\n                disableItems = [this.gridID + '_add', this.gridID + '_edit', this.gridID + '_delete'];\n            }\n            else {\n                disableItems.push(this.gridID + '_update');\n                disableItems.push(this.gridID + '_cancel');\n            }\n        }\n        this.enableItems(enableItems, true);\n        this.enableItems(disableItems, false);\n    };\n    Toolbar.prototype.getItems = function () {\n        var items = [];\n        var toolbarItems = this.parent.toolbar || [];\n        if (typeof (this.parent.toolbar) === 'string') {\n            return [];\n        }\n        if (this.parent.rowRenderingMode === 'Vertical') {\n            if (this.parent.allowFiltering && this.parent.filterSettings.type !== 'FilterBar') {\n                items.push(this.getItemObject('responsiveFilter'));\n            }\n            if (this.parent.allowSorting) {\n                items.push(this.getItemObject('responsiveSort'));\n            }\n        }\n        for (var _i = 0, toolbarItems_1 = toolbarItems; _i < toolbarItems_1.length; _i++) {\n            var item = toolbarItems_1[_i];\n            switch (typeof item) {\n                case 'number':\n                    items.push(this.getItemObject(this.items[item]));\n                    break;\n                case 'string':\n                    items.push(this.getItemObject(item));\n                    break;\n                default:\n                    items.push(this.getItem(item));\n            }\n        }\n        if (this.parent.enableAdaptiveUI && this.parent.toolbar.indexOf('Search') > -1) {\n            items.push(this.getItemObject('responsiveBack'));\n        }\n        return items;\n    };\n    Toolbar.prototype.getItem = function (itemObject) {\n        var item = this.predefinedItems[itemObject.text];\n        return item ? extend(item, item, itemObject) : itemObject;\n    };\n    Toolbar.prototype.getItemObject = function (itemName) {\n        return this.predefinedItems[itemName] || { text: itemName, id: this.gridID + '_' + itemName };\n    };\n    /**\n     * Enables or disables ToolBar items.\n     *\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @returns {void}\n     * @hidden\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            var element = select('#' + item, this.element);\n            if (element) {\n                this.toolbar.enableItems(element.parentElement, isEnable);\n            }\n        }\n    };\n    Toolbar.prototype.toolbarClickHandler = function (args) {\n        var _this = this;\n        var gObj = this.parent;\n        var gID = this.gridID;\n        extend(args, { cancel: false });\n        var newArgs = args;\n        var originalEvent = args.originalEvent;\n        gObj.trigger(events.toolbarClick, newArgs, function (toolbarargs) {\n            toolbarargs.originalEvent = toolbarargs.originalEvent ? toolbarargs.originalEvent : originalEvent;\n            if (!toolbarargs.cancel) {\n                switch (!isNullOrUndefined(toolbarargs.item) && toolbarargs.item.id) {\n                    case gID + '_print':\n                        gObj.print();\n                        break;\n                    case gID + '_edit':\n                        gObj.startEdit();\n                        break;\n                    case gID + '_update':\n                        gObj.endEdit();\n                        break;\n                    case gID + '_cancel':\n                        gObj.closeEdit();\n                        break;\n                    case gID + '_add':\n                        gObj.addRecord();\n                        break;\n                    case gID + '_delete':\n                        gObj.deleteRecord();\n                        break;\n                    case gID + '_search':\n                        if (toolbarargs.originalEvent.target.id === gID + '_searchbutton' && _this.searchElement) {\n                            _this.search();\n                        }\n                        else if (gObj.enableAdaptiveUI && !_this.searchElement\n                            && (toolbarargs.originalEvent.target.classList.contains('e-search-wrapper')\n                                || toolbarargs.originalEvent.target.id === gID + '_searchbutton')) {\n                            _this.renderResponsiveSearch(true);\n                        }\n                        break;\n                    case gID + '_columnchooser':\n                        /* eslint-disable */\n                        var tarElement = _this.parent.element.querySelector('.e-ccdiv');\n                        var y = tarElement.getBoundingClientRect().top;\n                        var x = tarElement.getBoundingClientRect().left;\n                        var targetEle = toolbarargs.originalEvent.target;\n                        /* eslint-enable */\n                        y = tarElement.getBoundingClientRect().top + tarElement.offsetTop;\n                        gObj.createColumnchooser(x, y, targetEle);\n                        break;\n                    case gID + '_responsivefilter':\n                        gObj.showResponsiveCustomFilter();\n                        break;\n                    case gID + '_responsivesort':\n                        gObj.showResponsiveCustomSort();\n                        break;\n                    case gID + '_responsiveback':\n                        _this.renderResponsiveSearch(false);\n                        break;\n                }\n            }\n        });\n    };\n    Toolbar.prototype.modelChanged = function (e) {\n        if (e.module === 'edit') {\n            this.refreshToolbarItems();\n        }\n    };\n    Toolbar.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName() || !this.parent.toolbar) {\n            return;\n        }\n        if (this.element) {\n            remove(this.element);\n        }\n        this.render();\n    };\n    Toolbar.prototype.keyUpHandler = function (e) {\n        if (e.keyCode === 13) {\n            this.search();\n        }\n    };\n    Toolbar.prototype.search = function () {\n        this.parent.search(this.searchElement.value);\n    };\n    Toolbar.prototype.updateSearchBox = function () {\n        if (this.searchElement) {\n            this.searchElement.value = this.parent.searchSettings.key;\n        }\n    };\n    Toolbar.prototype.wireEvent = function () {\n        if (this.searchElement) {\n            this.searchBoxObj = new SearchBox(this.searchElement);\n            EventHandler.add(this.searchElement, 'keyup', this.keyUpHandler, this);\n            this.searchBoxObj.wireEvent();\n        }\n    };\n    Toolbar.prototype.unWireEvent = function () {\n        if (this.searchElement) {\n            EventHandler.remove(this.searchElement, 'keyup', this.keyUpHandler);\n            this.searchBoxObj.unWireEvent();\n        }\n    };\n    Toolbar.prototype.reRenderToolbar = function () {\n        if (this.element) {\n            remove(this.element);\n        }\n        this.render();\n    };\n    Toolbar.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.evtHandlers = [{ event: events.setFullScreenDialog, handler: this.reRenderToolbar },\n            { event: events.initialEnd, handler: this.render },\n            { event: events.uiUpdate, handler: this.onPropertyChanged },\n            { event: events.inBoundModelChanged, handler: this.updateSearchBox.bind(this) },\n            { event: events.modelChanged, handler: this.refreshToolbarItems },\n            { event: events.toolbarRefresh, handler: this.refreshToolbarItems },\n            { event: events.inBoundModelChanged, handler: this.modelChanged },\n            { event: events.dataBound, handler: this.refreshToolbarItems },\n            { event: events.click, handler: this.removeResponsiveSearch },\n            { event: events.rowModeChange, handler: this.reRenderToolbar },\n            { event: events.destroy, handler: this.destroy }];\n        addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n        this.rowSelectedFunction = this.rowSelected.bind(this);\n        this.rowDeSelectedFunction = this.rowSelected.bind(this);\n        this.parent.addEventListener(events.rowSelected, this.rowSelectedFunction);\n        this.parent.addEventListener(events.rowDeselected, this.rowDeSelectedFunction);\n    };\n    Toolbar.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        addRemoveEventListener(this.parent, this.evtHandlers, false);\n        this.parent.removeEventListener(events.rowSelected, this.rowSelectedFunction);\n        this.parent.removeEventListener(events.rowDeselected, this.rowDeSelectedFunction);\n    };\n    Toolbar.prototype.removeResponsiveSearch = function (e) {\n        var target = e.target;\n        var isSearch = target.classList.contains('e-search-icon') || target.classList.contains('e-search-wrapper');\n        if (this.parent.enableAdaptiveUI && !isSearch && this.searchElement\n            && !parentsUntil(e.target, 'e-res-toolbar')) {\n            this.renderResponsiveSearch(false);\n        }\n    };\n    Toolbar.prototype.rowSelected = function () {\n        if (this.parent.enableAdaptiveUI) {\n            this.refreshResponsiveToolbarItems(ResponsiveToolbarAction.isInitial);\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     */\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    return Toolbar;\n}());\nexport { Toolbar };\n","import { merge } from '@syncfusion/ej2-base';\n/**\n * Row\n *\n * @hidden\n */\nvar Row = /** @class */ (function () {\n    function Row(options, parent) {\n        merge(this, options);\n        this.parent = parent;\n    }\n    Row.prototype.clone = function () {\n        var row = new Row({});\n        merge(row, this);\n        row.cells = this.cells.map(function (cell) { return cell.clone(); });\n        return row;\n    };\n    /**\n     * Replaces the row data and grid refresh the particular row element only.\n     *\n     * @param  {Object} data - To update new data for the particular row.\n     * @returns {void}\n     */\n    Row.prototype.setRowValue = function (data) {\n        if (!this.parent) {\n            return;\n        }\n        var key = this.data[this.parent.getPrimaryKeyFieldNames()[0]];\n        this.parent.setRowData(key, data);\n    };\n    /**\n     * Replaces the given field value and refresh the particular cell element only.\n     *\n     * @param {string} field - Specifies the field name which you want to update.\n     * @param {string | number | boolean | Date} value - To update new value for the particular cell.\n     * @returns {void}\n     */\n    Row.prototype.setCellValue = function (field, value) {\n        if (!this.parent) {\n            return;\n        }\n        var isValDiff = !(this.data[field].toString() === value.toString());\n        if (isValDiff) {\n            var pKeyField = this.parent.getPrimaryKeyFieldNames()[0];\n            var key = this.data[pKeyField];\n            this.parent.setCellValue(key, field, value);\n            this.makechanges(pKeyField, this.data);\n        }\n        else {\n            return;\n        }\n    };\n    Row.prototype.makechanges = function (key, data) {\n        if (!this.parent) {\n            return;\n        }\n        var gObj = this.parent;\n        var dataManager = gObj.getDataModule().dataManager;\n        dataManager.update(key, data);\n    };\n    return Row;\n}());\nexport { Row };\n","import { merge } from '@syncfusion/ej2-base';\n/**\n * Cell\n *\n * @hidden\n */\nvar Cell = /** @class */ (function () {\n    function Cell(options) {\n        this.isSpanned = false;\n        this.isRowSpanned = false;\n        merge(this, options);\n    }\n    Cell.prototype.clone = function () {\n        var cell = new Cell({});\n        merge(cell, this);\n        return cell;\n    };\n    return Cell;\n}());\nexport { Cell };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, NotifyPropertyChanges, Component, isBlazor, isRippleEnabled } from '@syncfusion/ej2-base';\nimport { addClass, Event, detach, removeClass } from '@syncfusion/ej2-base';\nimport { rippleEffect, EventHandler, Observer, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { getTextNode } from '../common/common';\nexport var buttonObserver = new Observer();\nvar cssClassName = {\n    RTL: 'e-rtl',\n    BUTTON: 'e-btn',\n    PRIMARY: 'e-primary',\n    ICONBTN: 'e-icon-btn'\n};\n/**\n * The Button is a graphical user interface element that triggers an event on its click action. It can contain a text, an image, or both.\n * ```html\n * <button id=\"button\">Button</button>\n * ```\n * ```typescript\n * <script>\n * var btnObj = new Button();\n * btnObj.appendTo(\"#button\");\n * </script>\n * ```\n */\nvar Button = /** @class */ (function (_super) {\n    __extends(Button, _super);\n    /**\n     * Constructor for creating the widget\n     *\n     * @param  {ButtonModel} options - Specifies the button model\n     * @param  {string|HTMLButtonElement} element - Specifies the target element\n     */\n    function Button(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    Button.prototype.preRender = function () {\n        // pre render code snippets\n    };\n    /**\n     * Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    Button.prototype.render = function () {\n        this.initialize();\n        this.removeRippleEffect = rippleEffect(this.element, { selector: '.' + cssClassName.BUTTON });\n        this.renderComplete();\n    };\n    Button.prototype.initialize = function () {\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n        if (this.isPrimary) {\n            this.element.classList.add(cssClassName.PRIMARY);\n        }\n        if (!isBlazor() || (isBlazor() && this.getModuleName() !== 'progress-btn')) {\n            if (this.content) {\n                var tempContent = (this.enableHtmlSanitizer) ? SanitizeHtmlHelper.sanitize(this.content) : this.content;\n                this.element.innerHTML = tempContent;\n            }\n            this.setIconCss();\n        }\n        if (this.enableRtl) {\n            this.element.classList.add(cssClassName.RTL);\n        }\n        if (this.disabled) {\n            this.controlStatus(this.disabled);\n        }\n        else {\n            this.wireEvents();\n        }\n    };\n    Button.prototype.controlStatus = function (disabled) {\n        this.element.disabled = disabled;\n    };\n    Button.prototype.setIconCss = function () {\n        if (this.iconCss) {\n            var span = this.createElement('span', { className: 'e-btn-icon ' + this.iconCss });\n            if (!this.element.textContent.trim()) {\n                this.element.classList.add(cssClassName.ICONBTN);\n            }\n            else {\n                span.classList.add('e-icon-' + this.iconPosition.toLowerCase());\n                if (this.iconPosition === 'Top' || this.iconPosition === 'Bottom') {\n                    this.element.classList.add('e-' + this.iconPosition.toLowerCase() + '-icon-btn');\n                }\n            }\n            var node = this.element.childNodes[0];\n            if (node && (this.iconPosition === 'Left' || this.iconPosition === 'Top')) {\n                this.element.insertBefore(span, node);\n            }\n            else {\n                this.element.appendChild(span);\n            }\n        }\n    };\n    Button.prototype.wireEvents = function () {\n        if (this.isToggle) {\n            EventHandler.add(this.element, 'click', this.btnClickHandler, this);\n        }\n    };\n    Button.prototype.unWireEvents = function () {\n        if (this.isToggle) {\n            EventHandler.remove(this.element, 'click', this.btnClickHandler);\n        }\n    };\n    Button.prototype.btnClickHandler = function () {\n        if (this.element.classList.contains('e-active')) {\n            this.element.classList.remove('e-active');\n        }\n        else {\n            this.element.classList.add('e-active');\n        }\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    Button.prototype.destroy = function () {\n        var classList = [cssClassName.PRIMARY, cssClassName.RTL, cssClassName.ICONBTN, 'e-success', 'e-info', 'e-danger',\n            'e-warning', 'e-flat', 'e-outline', 'e-small', 'e-bigger', 'e-active', 'e-round',\n            'e-top-icon-btn', 'e-bottom-icon-btn'];\n        if (this.cssClass) {\n            classList = classList.concat(this.cssClass.split(' '));\n        }\n        _super.prototype.destroy.call(this);\n        removeClass([this.element], classList);\n        if (!this.element.getAttribute('class')) {\n            this.element.removeAttribute('class');\n        }\n        if (this.disabled) {\n            this.element.removeAttribute('disabled');\n        }\n        if (this.content) {\n            this.element.innerHTML = this.element.innerHTML.replace(this.content, '');\n        }\n        var span = this.element.querySelector('span.e-btn-icon');\n        if (span) {\n            detach(span);\n        }\n        this.unWireEvents();\n        if (isRippleEnabled) {\n            this.removeRippleEffect();\n        }\n    };\n    /**\n     * Get component name.\n     *\n     * @returns {string} - Module name\n     * @private\n     */\n    Button.prototype.getModuleName = function () {\n        return 'btn';\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist Data\n     * @private\n     */\n    Button.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Dynamically injects the required modules to the component.\n     *\n     * @private\n     * @returns {void}\n     */\n    Button.Inject = function () {\n        // Inject code snippets\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param  {ButtonModel} newProp - Specifies new properties\n     * @param  {ButtonModel} oldProp - Specifies old properties\n     * @returns {void}\n     * @private\n     */\n    Button.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var span = this.element.querySelector('span.e-btn-icon');\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'isPrimary':\n                    if (newProp.isPrimary) {\n                        this.element.classList.add(cssClassName.PRIMARY);\n                    }\n                    else {\n                        this.element.classList.remove(cssClassName.PRIMARY);\n                    }\n                    break;\n                case 'disabled':\n                    this.controlStatus(newProp.disabled);\n                    break;\n                case 'iconCss': {\n                    if (span) {\n                        if (newProp.iconCss) {\n                            span.className = 'e-btn-icon ' + newProp.iconCss;\n                            if (this.element.textContent.trim()) {\n                                if (this.iconPosition === 'Left') {\n                                    span.classList.add('e-icon-left');\n                                }\n                                else {\n                                    span.classList.add('e-icon-right');\n                                }\n                            }\n                        }\n                        else {\n                            detach(span);\n                        }\n                    }\n                    else {\n                        this.setIconCss();\n                    }\n                    break;\n                }\n                case 'iconPosition':\n                    removeClass([this.element], ['e-top-icon-btn', 'e-bottom-icon-btn']);\n                    span = this.element.querySelector('span.e-btn-icon');\n                    if (span) {\n                        detach(span);\n                    }\n                    this.setIconCss();\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.element], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([this.element], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        this.element.classList.add(cssClassName.RTL);\n                    }\n                    else {\n                        this.element.classList.remove(cssClassName.RTL);\n                    }\n                    break;\n                case 'content': {\n                    var node = getTextNode(this.element);\n                    if (!node) {\n                        this.element.classList.remove(cssClassName.ICONBTN);\n                    }\n                    if (!isBlazor() || (isBlazor() && !this.isServerRendered && this.getModuleName() !== 'progress-btn')) {\n                        if (this.enableHtmlSanitizer) {\n                            newProp.content = SanitizeHtmlHelper.sanitize(newProp.content);\n                        }\n                        this.element.innerHTML = newProp.content;\n                        this.setIconCss();\n                    }\n                    break;\n                }\n                case 'isToggle':\n                    if (newProp.isToggle) {\n                        EventHandler.add(this.element, 'click', this.btnClickHandler, this);\n                    }\n                    else {\n                        EventHandler.remove(this.element, 'click', this.btnClickHandler);\n                        removeClass([this.element], ['e-active']);\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Click the button element\n     * its native method\n     *\n     * @public\n     * @returns {void}\n     */\n    Button.prototype.click = function () {\n        this.element.click();\n    };\n    /**\n     * Sets the focus to Button\n     * its native method\n     *\n     * @public\n     * @returns {void}\n     */\n    Button.prototype.focusIn = function () {\n        this.element.focus();\n    };\n    __decorate([\n        Property('Left')\n    ], Button.prototype, \"iconPosition\", void 0);\n    __decorate([\n        Property('')\n    ], Button.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], Button.prototype, \"disabled\", void 0);\n    __decorate([\n        Property(false)\n    ], Button.prototype, \"isPrimary\", void 0);\n    __decorate([\n        Property('')\n    ], Button.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('')\n    ], Button.prototype, \"content\", void 0);\n    __decorate([\n        Property(false)\n    ], Button.prototype, \"isToggle\", void 0);\n    __decorate([\n        Property()\n    ], Button.prototype, \"locale\", void 0);\n    __decorate([\n        Property(false)\n    ], Button.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Event()\n    ], Button.prototype, \"created\", void 0);\n    Button = __decorate([\n        NotifyPropertyChanges\n    ], Button);\n    return Button;\n}(Component));\nexport { Button };\n"],"sourceRoot":""}