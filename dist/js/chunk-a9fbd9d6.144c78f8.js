(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a9fbd9d6"],{"0faa":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("Layout",[e("v-card",[e("v-card-text",[e("v-card-title",[e("v-text-field",{staticClass:"col-4 pl-0",attrs:{dense:"","append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.ticketSearch,callback:function(e){t.ticketSearch=e},expression:"ticketSearch"}}),e("v-spacer")],1),e("v-data-table",{attrs:{dense:"","show-select":"",headers:t.ticketHeaders,items:t.ticketList,"items-per-page":10,search:t.ticketSearch},scopedSlots:t._u([{key:"item.actions",fn:function({item:s}){return[e("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:c}){return[e("span",t._g(t._b({},"span",c,!1),a),[e("v-btn",{attrs:{icon:"",color:"success"}},[e("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.acceptRecieveProductsSingle(s)}}},[t._v(" mdi-check-circle ")])],1)],1)]}}],null,!0)},[e("span",[t._v("Accept Request")])])]}}],null,!0),model:{value:t.seletedticket,callback:function(e){t.seletedticket=e},expression:"seletedticket"}}),t.showAcceptRecieveProductsBtn?e("div",{staticClass:"table-footer-prepend d-flex align-center"},[e("b-button",{staticClass:"success",attrs:{size:"sm"},on:{click:function(e){t.showRecieveProductsModal=!0}}},[e("i",{staticClass:"bx bx-check-double font-size-16 align-middle me-2"}),t._v(" Accept ")])],1):t._e()],1)],1),e("v-dialog",{attrs:{"max-width":"800"},model:{value:t.supplyModal,callback:function(e){t.supplyModal=e},expression:"supplyModal"}},[e("v-card",[e("v-toolbar",{attrs:{color:"white",elevation:"0"}},[e("span",{staticClass:"text-h6"},[t._v(" Add supply")]),e("v-spacer"),e("v-card-actions",{staticClass:"justify-end"},[e("v-btn",{attrs:{icon:"",small:"",color:"gray"},on:{click:function(e){t.supplyModal=!1}}},[e("v-icon",[t._v("mdi-close")])],1)],1)],1),e("hr"),e("v-card-text",[e("v-form",{ref:"supplyForm",attrs:{"lazy-validation":""}},[e("v-row",[e("v-col",{attrs:{cols:"4"}},[e("v-autocomplete",{attrs:{items:t.productList,"item-text":"name","item-value":"id",dense:"",clearable:"",rules:[t=>!!t||"Supply is required"],label:"Select Product"},model:{value:t.supplyId,callback:function(e){t.supplyId=e},expression:"supplyId"}})],1),e("v-col",{attrs:{cols:"4"}},[e("v-text-field",{attrs:{dense:"",rules:[t=>!!t||"Quantity is required"],label:"Quantity",required:"",suffix:t.supplyMinQty},model:{value:t.supplyQty,callback:function(e){t.supplyQty=e},expression:"supplyQty"}})],1),e("v-col",{attrs:{cols:"4"}},[e("v-text-field",{attrs:{dense:"",rules:[t=>!!t||"Minimum Quantity is required"],label:"Minimum amount",required:""}})],1)],1)],1)],1),e("hr"),e("v-card-actions",[e("v-spacer")],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{staticClass:"white--text text-capitalize",attrs:{color:"success me-2",elevation:"0",small:""},on:{click:t.addSupply}},[e("i",{staticClass:"bx bx-save"}),t._v(" add ")]),e("v-btn",{staticClass:"white--text text-capitalize",attrs:{elevation:"0",color:"red",small:""},on:{click:t.cancelSupply}},[e("i",{staticClass:"bx bx-x-circle"}),t._v(" Cancel ")])],1)],1)],1),e("v-dialog",{attrs:{"max-width":"800"},model:{value:t.showAcceptListModal,callback:function(e){t.showAcceptListModal=e},expression:"showAcceptListModal"}},[e("v-card",[e("v-toolbar",{attrs:{color:"white",elevation:"0"}},[e("span",{staticClass:"text-h6"},[t._v(" Send this items?")]),e("v-spacer"),e("v-card-actions",{staticClass:"justify-end"},[e("v-btn",{attrs:{icon:"",small:"",color:"gray"},on:{click:function(e){t.showAcceptListModal=!1}}},[e("v-icon",[t._v("mdi-close")])],1)],1)],1),e("hr"),e("v-card-text",[e("v-row",t._l(t.seletedReceiveItems,(function(s,a){return e("v-col",{key:s.id,attrs:{cols:"4"}},[e("v-text-field",{attrs:{clearable:"",dense:"","append-icon":s.unit,label:"Enter "+s.product_name+" quantity"},on:{"click:clear":function(e){return t.onClearClicked(a)}},model:{value:s.quantity,callback:function(e){t.$set(s,"quantity",e)},expression:"pv.quantity"}})],1)})),1)],1),e("hr"),e("v-card-actions",[e("v-spacer")],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{staticClass:"white--text text-capitalize",attrs:{color:"success me-2",elevation:"0",small:""},on:{click:t.acceptRequest}},[e("i",{staticClass:"bx bx-check"}),t._v(" Yes ")]),e("v-btn",{staticClass:"white--text text-capitalize",attrs:{elevation:"0",color:"red",small:""},on:{click:function(e){t.showAcceptListModal=!1}}},[e("i",{staticClass:"bx bx-x"}),t._v(" No ")])],1)],1)],1),e("v-dialog",{attrs:{"max-width":"800"},model:{value:t.showRecieveProductsModal,callback:function(e){t.showRecieveProductsModal=e},expression:"showRecieveProductsModal"}},[e("v-card",[e("v-toolbar",{attrs:{color:"white",elevation:"0"}},[e("span",{staticClass:"text-h6"},[t._v(" Receive this items?")]),e("v-spacer"),e("v-card-actions",{staticClass:"justify-end"},[e("v-btn",{attrs:{icon:"",small:"",color:"gray"},on:{click:function(e){t.showRecieveProductsModal=!1}}},[e("v-icon",[t._v("mdi-close")])],1)],1)],1),e("hr"),e("v-card-text",[e("v-row",t._l(t.seletedticket,(function(s){return e("v-col",{key:s.id,attrs:{cols:"4"}},[e("v-text-field",{attrs:{clearable:"",dense:"","append-icon":s.unit,label:"Enter "+s.product_name+" quantity"},model:{value:s.quantity,callback:function(e){t.$set(s,"quantity",e)},expression:"pv.quantity"}})],1)})),1)],1),e("hr"),e("v-card-actions",[e("v-spacer")],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{staticClass:"white--text text-capitalize",attrs:{color:"success me-2",elevation:"0",small:""},on:{click:t.acceptRecieveProducts}},[e("i",{staticClass:"bx bx-check"}),t._v(" Yes ")]),e("v-btn",{staticClass:"white--text text-capitalize",attrs:{elevation:"0",color:"red",small:""},on:{click:function(e){t.showRecieveProductsModal=!1}}},[e("i",{staticClass:"bx bx-x"}),t._v(" No ")])],1)],1)],1),e("v-dialog",{attrs:{"max-width":"800"},model:{value:t.editSentProductsModal,callback:function(e){t.editSentProductsModal=e},expression:"editSentProductsModal"}},[e("v-card",[e("v-toolbar",{attrs:{color:"white",elevation:"0"}},[e("span",{staticClass:"text-h6"},[t._v(" Edit sent products")]),e("v-spacer"),e("v-card-actions",{staticClass:"justify-end"},[e("v-btn",{attrs:{icon:"",small:"",color:"gray"},on:{click:function(e){t.editSentProductsModal=!1}}},[e("v-icon",[t._v("mdi-close")])],1)],1)],1),e("hr"),e("v-card-text",[e("v-row",t._l(t.sentProductsList,(function(s){return e("v-col",{key:s.id,attrs:{cols:"4"}},[e("v-text-field",{attrs:{clearable:"",dense:"","append-icon":s.unit,label:"Enter "+s.product_name+" quantity"},model:{value:s.quantity,callback:function(e){t.$set(s,"quantity",e)},expression:"pv.quantity"}})],1)})),1)],1),e("hr"),e("v-card-actions",[e("v-spacer")],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{staticClass:"white--text text-capitalize",attrs:{color:"success me-2",elevation:"0",small:""},on:{click:t.editSentRequest}},[e("i",{staticClass:"bx bx-check"}),t._v(" Yes ")]),e("v-btn",{staticClass:"white--text text-capitalize",attrs:{elevation:"0",color:"red",small:""},on:{click:function(e){t.editSentProductsModal=!1}}},[e("i",{staticClass:"bx bx-x"}),t._v(" No ")])],1)],1)],1),e("v-snackbar",{attrs:{color:t.color,elevation:"5"},scopedSlots:t._u([{key:"action",fn:function({attrs:s}){return[e("v-btn",t._b({attrs:{text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",s,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},c=[],i=s("bc3a"),l=s.n(i),o=s("444f"),n=s("dc59"),r={firebase:{newRequestList:n["a"],count:[{id:0}]},page:{title:"Manage Warehouse"},components:{Layout:o["a"]},computed:{},watch:{newRequestList:function(){var t=Object.values(this.newRequestList),e=t.filter(t=>t.warehouse_id==this.warehouseId&&"receiveRequest"==t.function),s=t.filter(t=>t.warehouse_id==this.warehouseId&&"newRequest"==t.function);e.length>0&&this.sentRequests(),s.length>0&&this.receiveRequests()},seletedticket:function(){this.showAcceptRecieveProductsBtn=this.seletedticket.length>0},seletedReceiveItems:function(){this.showAcceptBtn=this.seletedReceiveItems.length>0},seletedSentProducts:function(){this.showSentProductActiontBtn=this.seletedSentProducts.length>0}},data(){return{showAcceptRecieveProductsBtn:!1,seletedticket:null,snackbar:!1,color:"default",snackbarText:null,TOKEN:null,warehouseId:null,ticketList:[],ticketSearch:"",ticketHeaders:[{text:"Name",align:"start",value:"product_name"},{text:"Recieved Qty",value:"recieved_quantity"},{text:"Sent Qty",value:"sent_quantity"},{text:"To Warehouse",value:"to_warehouse_name"},{text:"From Warehouse",value:"from_warehouse_name"},{text:"Actions",value:"actions",align:"end",sortable:!1}],productList:[],tab:null,nameRules:[t=>!!t||" required"]}},mounted(){this.loggedUser=this.$store.state.authfack.user,this.warehouseId=this.loggedUser.warehouseId,this.TOKEN=this.loggedUser.token,this.getTicketList()},methods:{getTicketList(){var t=new FormData;t.set("warehouse_id",this.warehouseId),l.a.request({method:"post",url:this.$hostname+"warehouses/get-tickets",headers:{Authorization:"Bearer "+this.TOKEN},data:t}).then(t=>{this.ticketList=t.data.filter(t=>1==t.status)})}}},u=r,d=(s("da34"),s("0c7c")),v=Object(d["a"])(u,a,c,!1,null,null,null);e["default"]=v.exports},"8d44":function(t,e,s){},da34:function(t,e,s){"use strict";s("8d44")}}]);
//# sourceMappingURL=chunk-a9fbd9d6.144c78f8.js.map