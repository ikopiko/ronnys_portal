(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bd68f020"],{"054e":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Layout",[a("v-card",[a("v-form",{ref:"searchForm",attrs:{"lazy-validation":""}},[a("v-row",[a("v-col",{staticClass:"ml-2",attrs:{cols:"4"}},[a("date-picker",{attrs:{type:"date","value-type":"YYYY-MM-DD",format:"YYYY-MM-DD",range:"",placeholder:"Select date",rules:e.nameRules},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-autocomplete",{attrs:{clearable:"",items:e.branchOptions,dense:"",rules:e.nameRules,label:"Select branch"},model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}})],1),a("v-col",{attrs:{cols:"2"}},[a("v-btn",{attrs:{color:"primary",elevation:"0"},on:{click:function(t){return e.getReport()}}},[a("v-icon",{attrs:{small:""}},[e._v(" mdi-magnify ")]),e._v(" Search ")],1)],1)],1)],1),a("v-card-text",[a("v-card-title",{staticClass:"pl-0"},[a("v-text-field",{staticClass:"col-4 pl-0",attrs:{clearable:"",dense:"","append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.suppliesSearch,callback:function(t){e.suppliesSearch=t},expression:"suppliesSearch"}}),a("v-spacer"),e.json_data.length>0?a("export-excel",{staticClass:"btn btn-success",attrs:{data:e.json_data,fields:e.json_fields,worksheet:"Worksheet",name:"Sale report.xls"}},[a("i",{staticClass:"mdi mdi-download"},[e._v(" Export ")])]):e._e()],1),a("v-data-table",{attrs:{dense:"",loading:e.loader,"loading-text":"Loading... Please wait",headers:e.supplyHeaders,items:e.supplyList,"items-per-page":10,search:e.suppliesSearch},scopedSlots:e._u([{key:"item.quantity",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.quantity)+" "+e._s(a.size)+" ")]}}],null,!0)})],1)],1),a("v-snackbar",{attrs:{color:e.color,elevation:"5"},scopedSlots:e._u([{key:"action",fn:function(t){var s=t.attrs;return[a("v-btn",e._b({attrs:{text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",s,!1),[e._v(" Close ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.snackbarText)+" ")])],1)},n=[],r=(a("159b"),a("bc3a")),l=a.n(r),i=a("444f"),o=a("ec45"),c=a("bf15"),u=a("2b0e"),d=a("c1df"),h=a.n(d);u["default"].use(c["a"]);var p={page:{title:"Sales Report"},components:{Layout:i["a"],DatePicker:o["a"]},computed:{},data:function(){return{date:[h()(new Date).format("YYYY-MM-DD"),h()(new Date).format("YYYY-MM-DD")],branch:null,validSearch:!0,loader:!1,json_fields:{Name:"name",Quantity:"quantity",Size:"size",Price:"price","Category name":"category_name"},json_data:[],snackbar:!1,color:"default",snackbarText:null,TOKEN:null,selectedBranch:null,branchOptions:[{value:"saburtalo",text:"Saburtalo"},{value:"vake",text:"Vake"},{value:"digomi",text:"Digomi"},{value:"gldani",text:"Gldani"}],warehouseId:null,supplyList:[],suppliesSearch:"",branchURL:null,supplyHeaders:[{text:"Name",align:"start",value:"name"},{text:"quantity",align:"start",value:"quantity"},{text:"Price",align:"start",value:"price"},{text:"Category name",align:"start",value:"category_name"}],nameRules:[function(e){return!!e||" required"}]}},mounted:function(){this.loggedUser=this.$store.state.authfack.user,this.warehouseId=this.loggedUser.warehouseId,this.TOKEN=this.loggedUser.token},methods:{getReport:function(){var e=this;this.$refs.searchForm.validate()&&(this.loader=!0,this.json_data=this.supplyList=[],"saburtalo"==this.branch?this.branchURL="http://178.134.12.106:8082/ronny/rest/web/index.php?r=v1/":"vake"==this.branch?this.branchURL="http://94.43.92.102:8082/ronny/rest/web/index.php?r=v1/":"digomi"==this.branch?this.branchURL="http://109.172.176.98:8082/ronny/rest/web/index.php?r=v1/":"gldani"==this.branch&&(this.branchURL="http://178.134.47.222:8082/ronny/rest/web/index.php?r=v1/"),l.a.request({method:"post",url:this.branchURL+"reporting/sales-report",headers:{Authorization:"Bearer "+this.TOKEN},data:{date:this.date}}).then((function(t){e.loader=!1,e.json_data=e.supplyList=t.data,e.supplyList.forEach((function(e){e.selected=!1}))})))}}},b=p,v=(a("5d83"),a("2877")),m=Object(v["a"])(b,s,n,!1,null,null,null);t["default"]=m.exports},"06cd":function(e,t,a){},"5d83":function(e,t,a){"use strict";a("06cd")}}]);
//# sourceMappingURL=chunk-bd68f020.1196488e.js.map