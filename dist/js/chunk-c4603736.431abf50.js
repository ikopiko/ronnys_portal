(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c4603736"],{"5e3f":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Layout",[a("v-card",[a("v-form",{ref:"searchForm",attrs:{"lazy-validation":""}},[a("v-row",[a("v-col",{staticClass:"ml-2",attrs:{cols:"4"}},[a("date-picker",{attrs:{type:"date","value-type":"YYYY-MM-DD",format:"YYYY-MM-DD",range:"",placeholder:"Select date",rules:e.nameRules},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-autocomplete",{attrs:{clearable:"",items:e.branchOptions,dense:"",label:"Select branch"},on:{change:function(t){return e.updateRegion(t)}},model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}})],1),a("v-col",{attrs:{cols:"2"}},[a("v-btn",{attrs:{color:"primary",elevation:"0"},on:{click:function(t){return e.getReport()}}},[a("v-icon",{attrs:{small:""}},[e._v(" mdi-magnify ")]),e._v(" Search ")],1)],1)],1)],1),a("v-card-text",[a("v-card-title",{staticClass:"pl-0"},[a("v-text-field",{staticClass:"col-4 pl-0",attrs:{clearable:"",dense:"","append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.suppliesSearch,callback:function(t){e.suppliesSearch=t},expression:"suppliesSearch"}}),a("v-spacer"),e.json_data.length>0?a("export-excel",{staticClass:"btn btn-success",attrs:{data:e.json_data,fields:e.json_fields,worksheet:"Worksheet",name:e.exportName}},[a("i",{staticClass:"mdi mdi-download"},[e._v(" Export ")])]):e._e()],1),a("v-data-table",{attrs:{dense:"",loading:e.loader,"loading-text":"Loading... Please wait",headers:e.supplyHeaders,items:e.supplyList,"items-per-page":10,search:e.suppliesSearch},scopedSlots:e._u([{key:"item.quantity",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.quantity)+" "+e._s(a.size)+" ")]}}],null,!0)})],1)],1),a("v-snackbar",{attrs:{color:e.color,elevation:"5"},scopedSlots:e._u([{key:"action",fn:function(t){var s=t.attrs;return[a("v-btn",e._b({attrs:{text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",s,!1),[e._v(" Close ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.snackbarText)+" ")])],1)},r=[],n=(a("159b"),a("bc3a")),l=a.n(n),o=a("444f"),i=a("ec45"),c=a("bf15"),u=a("2b0e"),d=a("c1df"),p=a.n(d);u["default"].use(c["a"]);var h={page:{title:"Sales Report"},components:{Layout:o["a"],DatePicker:i["a"]},computed:{},data:function(){return{date:[p()(new Date).format("YYYY-MM-DD"),p()(new Date).format("YYYY-MM-DD")],branch:null,validSearch:!0,loader:!1,exportName:"All",json_data:[],snackbar:!1,color:"default",snackbarText:null,TOKEN:null,selectedBranch:null,branchOptions:[{value:"2",text:"Saburtalo"},{value:"3",text:"Vake"},{value:"1",text:"Digomi"},{value:"4",text:"Gldani"}],warehouseId:null,supplyList:[],suppliesSearch:"",branchURL:null,json_fields:{ID:"id","Order ID":"order_id",Pos:"name",Branch:"branch_name",Payment:"payment_method",Amount:"amount",Date:"created_at"},supplyHeaders:[{value:"id",text:"ID",sortable:!0},{value:"order_id",text:"Order ID",sortable:!0},{value:"name",text:"POS",sortable:!0},{value:"branch_name",text:"branch",sortable:!0},{value:"payment_method",text:"Payment",sortable:!0},{value:"amount",text:"Amount",sortable:!0},{value:"created_at",text:"Date",sortable:!0}],nameRules:[function(e){return!!e||" required"}]}},mounted:function(){this.loggedUser=this.$store.state.authfack.user,this.warehouseId=this.loggedUser.warehouseId,this.TOKEN=this.loggedUser.token,this.getReport()},methods:{getReport:function(){var e=this;this.$refs.searchForm.validate()&&(this.loader=!0,this.json_data=this.supplyList=[],this.branchURL="http://posapi.ronnyspizza.grena.ge/rest/web/index.php?r=v1/reporting/poses-detail",l.a.request({method:"post",url:this.branchURL+"",headers:{Authorization:"Bearer "+this.TOKEN},data:{day:this.date,branch:this.branch}}).then((function(t){e.loader=!1,e.json_data=e.supplyList=t.data.data,e.supplyList.forEach((function(e){e.selected=!1}))})))},updateRegion:function(e){1==e&&(this.exportName="Digomi"),2==e&&(this.exportName="Saburtalo"),3==e&&(this.exportName="Vake"),4==e&&(this.exportName="Gldani"),this.exportName+=" - "+this.date}}},b=h,m=(a("a4f9"),a("2877")),v=Object(m["a"])(b,s,r,!1,null,null,null);t["default"]=v.exports},a4f9:function(e,t,a){"use strict";a("bc15")},bc15:function(e,t,a){}}]);
//# sourceMappingURL=chunk-c4603736.431abf50.js.map