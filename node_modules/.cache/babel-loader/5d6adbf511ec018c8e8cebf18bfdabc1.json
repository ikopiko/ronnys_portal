{"remainingRequest":"D:\\ronnys_portal\\node_modules\\babel-loader\\lib\\index.js!D:\\ronnys_portal\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\ronnys_portal\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ronnys_portal\\src\\router\\views\\warehouse\\supplies.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\ronnys_portal\\src\\router\\views\\warehouse\\supplies.vue","mtime":1641798484000},{"path":"D:\\ronnys_portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ronnys_portal\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\ronnys_portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ronnys_portal\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBMYXlvdXQgZnJvbSAnLi4vLi4vbGF5b3V0cy9tYWluJzsgLy8gaW1wb3J0IFBhZ2VIZWFkZXIgZnJvbSAnQC9jb21wb25lbnRzL3BhZ2UtaGVhZGVyJwoKLyoqCiAqIFByb2R1Y3RzLW9yZGVyIGNvbXBvbmVudAogKi8KCmV4cG9ydCBkZWZhdWx0IHsKICBwYWdlOiB7CiAgICB0aXRsZTogIlByb2R1Y3RzIgogIH0sCiAgY29tcG9uZW50czogewogICAgTGF5b3V0OiBMYXlvdXQKICB9LAogIGNvbXB1dGVkOiB7CiAgICBzZWxlY3RlZDogZnVuY3Rpb24gc2VsZWN0ZWQoKSB7CiAgICAgIHRoaXMuY2hhbmdlU2VsZWN0OwogICAgICByZXR1cm4gdGhpcy5zdXBwbGllcy5maWx0ZXIoZnVuY3Rpb24gKHN1cHBseSkgewogICAgICAgIHJldHVybiBzdXBwbHkuc2VsZWN0ZWQ7CiAgICAgIH0pOwogICAgfSwKICAgIHNlbGVjdGVkUHJvZHVjdHM6IGZ1bmN0aW9uIHNlbGVjdGVkUHJvZHVjdHMoKSB7CiAgICAgIHRoaXMuY2hhbmdlU2VsZWN0OwogICAgICByZXR1cm4gdGhpcy5wcm9kdWN0cy5maWx0ZXIoZnVuY3Rpb24gKHByb2R1Y3QpIHsKICAgICAgICByZXR1cm4gcHJvZHVjdC5zZWxlY3RlZDsKICAgICAgfSk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgY2hhbmdlU2VsZWN0OiBmdW5jdGlvbiBjaGFuZ2VTZWxlY3QoKSB7CiAgICAgIHRoaXMucmVxdWVzdERhdGEgPSB0aGlzLnByb2R1Y3RzLmZpbHRlcihmdW5jdGlvbiAocHJvZHVjdCkgewogICAgICAgIHJldHVybiBwcm9kdWN0LnNlbGVjdGVkOwogICAgICB9KTsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByZXF1ZXN0U3VwcGxpZXNBY3RpdmU6IGZhbHNlLAogICAgICBuZXdQcm9kdWN0OiB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgdW5pdDogJycKICAgICAgfSwKICAgICAgcmVxdWVzdDogewogICAgICAgIHN1cHBsaWVzOiBbXSwKICAgICAgICB3YXJlaG91c2VfaWQ6IG51bGwKICAgICAgfSwKICAgICAgcmVzcG9uc2VEYXRhOiBudWxsLAogICAgICBwcm9kdWN0czogW10sCiAgICAgIHJlcXVlc3REYXRhOiBbXSwKICAgICAgc3VwcGxpZXM6IFtdLAogICAgICB1bml0czogW10sCiAgICAgIGNoYW5nZVNlbGVjdDogMCwKICAgICAgd2FyZWhvdXNlX2lkOiAyCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5sb2dnZWRVc2VyID0gdGhpcy4kc3RvcmUuc3RhdGUuYXV0aGZhY2sudXNlcjsKICAgIHZhciBUT0tFTiA9IHRoaXMubG9nZ2VkVXNlci50b2tlbjsKICAgIHZhciBib2R5Rm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgIGJvZHlGb3JtRGF0YS5zZXQoIndhcmVob3VzZV9pZCIsIHRoaXMud2FyZWhvdXNlX2lkKTsKICAgIGF4aW9zLnJlcXVlc3QoewogICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgdXJsOiB0aGlzLiRob3N0bmFtZSArICJ3YXJlaG91c2VzL3N1cHBsaWVzLWxpc3QiLAogICAgICBoZWFkZXJzOiB7CiAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgVE9LRU4KICAgICAgfSwKICAgICAgZGF0YTogYm9keUZvcm1EYXRhCiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBfdGhpcy5zdXBwbGllcyA9IHJlc3BvbnNlLmRhdGE7CgogICAgICBfdGhpcy5zdXBwbGllcy5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgeC5zZWxlY3RlZCA9IGZhbHNlOwogICAgICB9KTsKICAgIH0pOwogICAgYXhpb3MucmVxdWVzdCh7CiAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICB1cmw6IHRoaXMuJGhvc3RuYW1lICsgIndhcmVob3VzZXMvcHJvZHVjdHMtbGlzdCIsCiAgICAgIGhlYWRlcnM6IHsKICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyBUT0tFTgogICAgICB9CiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBfdGhpcy5wcm9kdWN0cyA9IHJlc3BvbnNlLmRhdGE7CgogICAgICBfdGhpcy5wcm9kdWN0cy5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgeC5zZWxlY3RlZCA9IGZhbHNlOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgYWRkU3VwcGx5OiBmdW5jdGlvbiBhZGRTdXBwbHkoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5yZXF1ZXN0RGF0YS5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgdmFyIHJlcSA9IHsKICAgICAgICAgIHByb2R1Y3RfaWQ6IHguaWQsCiAgICAgICAgICBxdWFudGl0eTogeC5uZXdRdHkKICAgICAgICB9OwoKICAgICAgICBfdGhpczIucmVxdWVzdC5zdXBwbGllcy5wdXNoKHJlcSk7CiAgICAgIH0pOwogICAgICB0aGlzLnJlcXVlc3Qud2FyZWhvdXNlX2lkID0gdGhpcy53YXJlaG91c2VfaWQ7CiAgICAgIHZhciBUT0tFTiA9IHRoaXMubG9nZ2VkVXNlci50b2tlbjsKICAgICAgdGhpcy5yZXF1ZXN0LnN1cHBsaWVzLmZvckVhY2goZnVuY3Rpb24gKHgpIHsKICAgICAgICB2YXIgYm9keUZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgYm9keUZvcm1EYXRhLnNldCgicHJvZHVjdF9pZCIsIHgucHJvZHVjdF9pZCk7CiAgICAgICAgYm9keUZvcm1EYXRhLnNldCgid2FyZWhvdXNlX2lkIiwgX3RoaXMyLndhcmVob3VzZV9pZCk7CiAgICAgICAgYm9keUZvcm1EYXRhLnNldCgicXVhbnRpdHkiLCB4LnF1YW50aXR5KTsKICAgICAgICBheGlvcy5yZXF1ZXN0KHsKICAgICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgICAgdXJsOiBfdGhpczIuJGhvc3RuYW1lICsgIndhcmVob3VzZXMvYWRkLXN1cHBsaWUiLAogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyBUT0tFTgogICAgICAgICAgfSwKICAgICAgICAgIGRhdGE6IGJvZHlGb3JtRGF0YQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczIucmVzcG9uc2VEYXRhID0gcmVzcG9uc2U7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["supplies.vue"],"names":[],"mappings":"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","sourcesContent":["<script>\nimport axios from 'axios'\nimport Layout from '../../layouts/main'\n// import PageHeader from '@/components/page-header'\n\n\n\n/**\n * Products-order component\n */\nexport default {\n   page: {\n    title: \"Products\",\n  },\n  components: { Layout, },\n  computed: {\n      selected() {\n        this.changeSelect;\n      return this.supplies.filter(supply => supply.selected)\n    }, \n      selectedProducts() {\n        this.changeSelect;\n      return this.products.filter(product => product.selected)\n    }, \n  },\n  watch: {\n      changeSelect() {\n          this.requestData = this.products.filter(product => product.selected);\n      }\n  },\n  data() {\n    return {\n        requestSuppliesActive: false,\n        newProduct: {\n            name: '',\n            unit: ''\n        },\n        request: {\n            supplies: [],\n            warehouse_id: null\n        },\n        responseData: null,\n        products: [],\n        requestData: [],\n        supplies: [],\n        units: [],\n        changeSelect: 0,\n        warehouse_id: 2,\n    }\n  },\n  mounted() {\n    this.loggedUser = this.$store.state.authfack.user;\n\n    const TOKEN = this.loggedUser.token;\n\n    var bodyFormData = new FormData();\n    bodyFormData.set(\"warehouse_id\", this.warehouse_id);\n    axios\n      .request({\n        method: \"post\",\n        url:\n          this.$hostname + \"warehouses/supplies-list\",\n        headers: {\n          Authorization: \"Bearer \" + TOKEN,\n        },\n        data: bodyFormData\n      })\n      .then((response) => {\n        this.supplies = response.data;\n        this.supplies.forEach((x) => {\n            x.selected = false;\n        });\n      });\n\n        \n      axios\n      .request({\n        method: \"post\",\n        url:\n          this.$hostname + \"warehouses/products-list\",\n        headers: {\n          Authorization: \"Bearer \" + TOKEN,\n        },\n      })\n      .then((response) => {\n        this.products = response.data;\n        this.products.forEach((x) => {\n            x.selected = false;\n        });\n      });\n  },\n  methods: {\n      addSupply(){\n        this.requestData.forEach(x => {\n            var req = {\n                product_id: x.id,\n                quantity: x.newQty\n            };\n            this.request.supplies.push(req)\n        });\n        this.request.warehouse_id = this.warehouse_id;\n\n        const TOKEN = this.loggedUser.token;\n\n        this.request.supplies.forEach((x) => {\n            var bodyFormData = new FormData();\n            bodyFormData.set(\"product_id\", x.product_id);\n            bodyFormData.set(\"warehouse_id\", this.warehouse_id);\n            bodyFormData.set(\"quantity\", x.quantity);\n            axios\n            .request({\n                method: \"post\",\n                url:\n                this.$hostname + \"warehouses/add-supplie\",\n                headers: {\n                Authorization: \"Bearer \" + TOKEN,\n                },\n                data: bodyFormData\n            })\n            .then((response) => {\n                this.responseData = response;\n            });\n        });\n        \n      },\n  },\n}\n</script>\n\n<template>\n<div data-app>\n  <Layout>\n    <div class=\"row\">\n        <div class=\"col-4\">\n            <v-card\n                class=\"mx-auto\"\n                max-width=\"500\"\n            >\n                <v-toolbar\n                color=\"deep-purple accent-4\"\n                dark\n                >\n\n                <v-toolbar-title>Supplies</v-toolbar-title>\n\n                <v-spacer></v-spacer>\n\n                <v-btn icon @click=\"requestSuppliesActive = true\">\n                    <v-icon>mdi-plus</v-icon>\n                </v-btn>\n                </v-toolbar>\n\n                <v-list subheader>\n\n                <v-list-item\n                    v-for=\"(supply, index) in supplies\"\n                    :key=\"index\"\n                    @click=\"supply.selected = !supply.selected, changeSelect = changeSelect+1\"\n                >\n                    <v-list-item-title>\n                        {{ supply.product_name }} - {{ supply.quantity }} {{ supply.unit }}\n                    </v-list-item-title>\n                    <v-list-item-action>\n                        <v-checkbox :value=\"supply.selected\" />\n                    </v-list-item-action>\n                    \n\n                    <v-list-item-content>\n                    <v-list-item-title v-text=\"supply.product_name\"></v-list-item-title>\n                    </v-list-item-content>\n\n                    <!-- <v-list-item-icon>\n                    <v-icon :color=\"'grey'\">\n                        mdi-message-outline\n                    </v-icon>\n                    </v-list-item-icon> -->\n                </v-list-item>\n                </v-list>\n                {{ selected }}\n            </v-card>\n        </div>\n        <div class=\"col-8\">\n            <v-card height=\"100%\" v-if=\"requestSuppliesActive\">\n                <v-card-title>\n                    Request Supplies\n                </v-card-title>\n                <div class=\"row\">\n                    <div class=\"col-4\">\n                        <v-list subheader>\n\n                        <v-list-item\n                            v-for=\"(product, index) in products\"\n                            :key=\"index\"\n                            @click=\"product.selected = !product.selected, changeSelect = changeSelect+1\"\n                        >\n                            <v-list-item-title>\n                                {{ product.name }}\n                            </v-list-item-title>\n                            <v-list-item-action>\n                                <v-checkbox :value=\"product.selected\" />\n                            </v-list-item-action>\n                            \n\n                            <v-list-item-content>\n                            <v-list-item-title v-text=\"product.name\"></v-list-item-title>\n                            </v-list-item-content>\n\n                        </v-list-item>\n                        </v-list>\n                    </div>\n                    <div class=\"col-6\">\n                        <div class=\"row\" \n                                v-for=\"(product, index) in selectedProducts\"\n                                :key=\"index\"> \n                            <div class=\"col-1\">&nbsp;</div>\n                            <div class=\"col-6\">\n                                <v-text-field\n                                    v-model=\"product.newQty\"\n                                    :label=\"product.name\"\n                                    :suffix=\"product.unit\"\n                                    required\n                                ></v-text-field>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            <v-card-actions>\n                <v-btn\n                    class=\"mr-4\"\n                    @click=\"addSupply\"\n                >\n                    Create Request\n                </v-btn>\n                <v-btn @click=\"requestSuppliesActive = false\">\n                    Close   \n                </v-btn>\n            </v-card-actions>\n            </v-card>\n        </div>\n    </div>\n  </Layout>\n  </div>\n</template>\n"],"sourceRoot":"src/router/views/warehouse"}]}