{"remainingRequest":"D:\\ronnys_portal\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ronnys_portal\\src\\router\\views\\warehouse\\products.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\ronnys_portal\\src\\router\\views\\warehouse\\products.vue","mtime":1641798484000},{"path":"D:\\ronnys_portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ronnys_portal\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\ronnys_portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ronnys_portal\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IExheW91dCBmcm9tICcuLi8uLi9sYXlvdXRzL21haW4nCi8vIGltcG9ydCBQYWdlSGVhZGVyIGZyb20gJ0AvY29tcG9uZW50cy9wYWdlLWhlYWRlcicKCgoKLyoqCiAqIFByb2R1Y3RzLW9yZGVyIGNvbXBvbmVudAogKi8KZXhwb3J0IGRlZmF1bHQgewogICBwYWdlOiB7CiAgICB0aXRsZTogIlByb2R1Y3RzIiwKICB9LAogIGNvbXBvbmVudHM6IHsgTGF5b3V0LCB9LAogIGNvbXB1dGVkOiB7CiAgICAgIHNlbGVjdGVkKCkgewogICAgICAgICAgdGhpcy5jaGFuZ2VTZWxlY3Q7CiAgICAgIHJldHVybiB0aGlzLnByb2R1Y3RzLmZpbHRlcihwcm9kdWN0ID0+IHByb2R1Y3Quc2VsZWN0ZWQpCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgICByb3VuZE51bTogMCwKICAgICAgICBzcGxpdGRhdGE6IFtdLAogICAgICAgIGFkZFByb2R1Y3RzQWN0aXZlOiBmYWxzZSwKICAgICAgICBuZXdQcm9kdWN0OiB7CiAgICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgICB1bml0OiAnJwogICAgICAgIH0sCiAgICAgICAgcmVzcG9uc2VEYXRhOiBudWxsLAogICAgICAgIHByb2R1Y3RzOiBbXSwKICAgICAgICB1bml0czogW10sCiAgICAgICAgY2hhbmdlU2VsZWN0OiAwLAogICAgfQogIH0sCiAgd2F0Y2g6IHsKCiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5sb2dnZWRVc2VyID0gdGhpcy4kc3RvcmUuc3RhdGUuYXV0aGZhY2sudXNlcjsKCiAgICBjb25zdCBUT0tFTiA9IHRoaXMubG9nZ2VkVXNlci50b2tlbjsKCiAgICBheGlvcwogICAgICAucmVxdWVzdCh7CiAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgdXJsOgogICAgICAgICAgdGhpcy4kaG9zdG5hbWUgKyAid2FyZWhvdXNlcy9wcm9kdWN0cy1saXN0IiwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyBUT0tFTiwKICAgICAgICB9LAogICAgICB9KQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICB0aGlzLnByb2R1Y3RzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB0aGlzLnByb2R1Y3RzLmZvckVhY2goKHgpID0+IHsKICAgICAgICAgICAgeC5zZWxlY3RlZCA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9KTsKCiAgICBheGlvcwogICAgICAucmVxdWVzdCh7CiAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgdXJsOgogICAgICAgICAgdGhpcy4kaG9zdG5hbWUgKyAid2FyZWhvdXNlcy93YXJlaG91c2UtdW5pdCIsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgVE9LRU4sCiAgICAgICAgfSwKICAgICAgfSkKICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgdGhpcy51bml0cyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgICByb3VuZE51bWJlcigpIHsKICAgICAgICB2YXIgbnVtID0gdGhpcy5yb3VuZE51bTsKICAgICAgICB2YXIgb2xkTnVtID0gTnVtYmVyKHRoaXMucm91bmROdW0pOwogICAgICAgIHZhciBzcGxpdCA9IFtdOwogICAgICAgIHZhciBkaWdpdHMgPSAwOwogICAgICAgIHZhciByZWFsRGlnaXRzID0gMDsKCiAgICAgICAgaWYgKG51bS5pbmNsdWRlcygnLicpKXsKICAgICAgICAgIHNwbGl0ID0gbnVtLnNwbGl0KCcuJyk7CiAgICAgICAgICB0aGlzLnNwbGl0ZGF0YSA9IHNwbGl0OwogICAgICAgICAgbnVtID0gc3BsaXRbMV07CiAgICAgICAgICBkaWdpdHMgPSBudW0udG9TdHJpbmcoKS5zcGxpdCgnJyk7CiAgICAgICAgICByZWFsRGlnaXRzID0gZGlnaXRzLm1hcChOdW1iZXIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBkaWdpdHMgPSBudW0udG9TdHJpbmcoKS5zcGxpdCgnJyk7CiAgICAgICAgICByZWFsRGlnaXRzID0gZGlnaXRzLm1hcChOdW1iZXIpOwogICAgICAgIH0KCiAgICAgICAgaWYoMCA8PSByZWFsRGlnaXRzWzFdICYmIHJlYWxEaWdpdHNbMV0gPD0gNCl7CiAgICAgICAgICBvbGROdW0gPSB0aGlzLnNwbGl0ZGF0YVswXSArICIuIiArIE51bWJlcihyZWFsRGlnaXRzWzBdICsgIjAiKTsKICAgICAgICAgIGFsZXJ0KG9sZE51bSk7CiAgICAgICAgfSBlbHNlIGlmKHJlYWxEaWdpdHNbMV0gPT0gNSl7CiAgICAgICAgICBvbGROdW0gPSB0aGlzLnNwbGl0ZGF0YVswXSArICIuIiArIE51bWJlcihyZWFsRGlnaXRzWzBdICsgIjUiKTsKICAgICAgICAgIGFsZXJ0KG9sZE51bSk7CiAgICAgICAgfSBlbHNlIGlmKDYgPD0gcmVhbERpZ2l0c1sxXSAmJiByZWFsRGlnaXRzWzFdIDw9IDkpIHsKICAgICAgICAgIGlmKHJlYWxEaWdpdHNbMF0gPT0gOSl7CiAgICAgICAgICAgIG9sZE51bSA9IE51bWJlcih0aGlzLnNwbGl0ZGF0YVswXSkgKyAxICsiLjAwIjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG9sZE51bSA9IHRoaXMuc3BsaXRkYXRhWzBdICsgIi4iICsgKE51bWJlcihyZWFsRGlnaXRzWzBdKSArMSkgKyAiMCI7CiAgICAgICAgICB9CiAgICAgICAgICBhbGVydChvbGROdW0pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICByZXR1cm4gb2xkTnVtOwogICAgICB9LAogICAgICBhZGRQcm9kdWN0KCl7CiAgICAgICAgY29uc3QgVE9LRU4gPSB0aGlzLmxvZ2dlZFVzZXIudG9rZW47CgogICAgICAgIC8vdGhpcy5hZGRQcm9kdWN0c0FjdGl2ZSA9IHRydWU7CiAgICAgICAgaWYodGhpcy5uZXdQcm9kdWN0Lm5hbWUgIT0gJycgJiYgdGhpcy5uZXdQcm9kdWN0LnVuaXQgIT0gIiIpewogICAgICAgICAgICB2YXIgYm9keUZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgIGJvZHlGb3JtRGF0YS5zZXQoIm5hbWUiLCB0aGlzLm5ld1Byb2R1Y3QubmFtZSk7CiAgICAgICAgICAgIGJvZHlGb3JtRGF0YS5zZXQoInVuaXQiLCB0aGlzLm5ld1Byb2R1Y3QudW5pdCk7CgogICAgICAgICAgICBheGlvcwogICAgICAgICAgICAucmVxdWVzdCh7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICAgICAgICAgIHVybDoKICAgICAgICAgICAgICAgIHRoaXMuJGhvc3RuYW1lICsgIndhcmVob3VzZXMvcHJvZHVjdC1jcmVhdGUiLAogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgVE9LRU4sCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZGF0YTogYm9keUZvcm1EYXRhCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgICAgYWxlcnQocmVzcG9uc2UuZGF0YS5kYXRhKTsKICAgICAgICAgICAgICAgIHRoaXMuYWRkUHJvZHVjdHNBY3RpdmUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHRoaXMubmV3UHJvZHVjdC5uYW1lID0gIiI7CiAgICAgICAgICAgICAgICB0aGlzLm5ld1Byb2R1Y3QudW5pdCA9ICIiOwogICAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICBhbGVydChlcnJvcikKICAgICAgICAgICAgfSkKICAgICAgICB9IAogICAgICB9LAogIH0sCn0K"},{"version":3,"sources":["products.vue"],"names":[],"mappings":";AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"products.vue","sourceRoot":"src/router/views/warehouse","sourcesContent":["<script>\nimport axios from 'axios'\nimport Layout from '../../layouts/main'\n// import PageHeader from '@/components/page-header'\n\n\n\n/**\n * Products-order component\n */\nexport default {\n   page: {\n    title: \"Products\",\n  },\n  components: { Layout, },\n  computed: {\n      selected() {\n          this.changeSelect;\n      return this.products.filter(product => product.selected)\n    }\n  },\n  data() {\n    return {\n        roundNum: 0,\n        splitdata: [],\n        addProductsActive: false,\n        newProduct: {\n            name: '',\n            unit: ''\n        },\n        responseData: null,\n        products: [],\n        units: [],\n        changeSelect: 0,\n    }\n  },\n  watch: {\n\n  },\n  mounted() {\n    this.loggedUser = this.$store.state.authfack.user;\n\n    const TOKEN = this.loggedUser.token;\n\n    axios\n      .request({\n        method: \"post\",\n        url:\n          this.$hostname + \"warehouses/products-list\",\n        headers: {\n          Authorization: \"Bearer \" + TOKEN,\n        },\n      })\n      .then((response) => {\n        this.products = response.data;\n        this.products.forEach((x) => {\n            x.selected = false;\n        });\n      });\n\n    axios\n      .request({\n        method: \"post\",\n        url:\n          this.$hostname + \"warehouses/warehouse-unit\",\n        headers: {\n          Authorization: \"Bearer \" + TOKEN,\n        },\n      })\n      .then((response) => {\n        this.units = response.data;\n      });\n  },\n  methods: {\n      roundNumber() {\n        var num = this.roundNum;\n        var oldNum = Number(this.roundNum);\n        var split = [];\n        var digits = 0;\n        var realDigits = 0;\n\n        if (num.includes('.')){\n          split = num.split('.');\n          this.splitdata = split;\n          num = split[1];\n          digits = num.toString().split('');\n          realDigits = digits.map(Number);\n        } else {\n          digits = num.toString().split('');\n          realDigits = digits.map(Number);\n        }\n\n        if(0 <= realDigits[1] && realDigits[1] <= 4){\n          oldNum = this.splitdata[0] + \".\" + Number(realDigits[0] + \"0\");\n          alert(oldNum);\n        } else if(realDigits[1] == 5){\n          oldNum = this.splitdata[0] + \".\" + Number(realDigits[0] + \"5\");\n          alert(oldNum);\n        } else if(6 <= realDigits[1] && realDigits[1] <= 9) {\n          if(realDigits[0] == 9){\n            oldNum = Number(this.splitdata[0]) + 1 +\".00\";\n          } else {\n            oldNum = this.splitdata[0] + \".\" + (Number(realDigits[0]) +1) + \"0\";\n          }\n          alert(oldNum);\n        }\n        \n        return oldNum;\n      },\n      addProduct(){\n        const TOKEN = this.loggedUser.token;\n\n        //this.addProductsActive = true;\n        if(this.newProduct.name != '' && this.newProduct.unit != \"\"){\n            var bodyFormData = new FormData();\n            bodyFormData.set(\"name\", this.newProduct.name);\n            bodyFormData.set(\"unit\", this.newProduct.unit);\n\n            axios\n            .request({\n                method: \"post\",\n                url:\n                this.$hostname + \"warehouses/product-create\",\n                headers: {\n                Authorization: \"Bearer \" + TOKEN,\n                },\n                data: bodyFormData\n            })\n            .then((response) => {\n                alert(response.data.data);\n                this.addProductsActive = false;\n                this.newProduct.name = \"\";\n                this.newProduct.unit = \"\";\n            }).catch(error => {\n                alert(error)\n            })\n        } \n      },\n  },\n}\n</script>\n\n<template>\n<div data-app>\n  <Layout>\n    <div class=\"row\">\n        <div class=\"col-4\">\n            <v-card\n                class=\"mx-auto\"\n                max-width=\"500\"\n            >\n                <v-toolbar\n                color=\"deep-purple accent-4\"\n                dark\n                >\n                <v-toolbar-title>Products</v-toolbar-title>\n\n                <v-spacer></v-spacer>\n\n                <v-btn icon @click=\"addProductsActive = true\">\n                    <v-icon>mdi-plus</v-icon>\n                </v-btn>\n                </v-toolbar>\n\n                <v-list subheader>\n\n                <v-list-item\n                    v-for=\"(product, index) in products\"\n                    :key=\"index\"\n                    @click=\"product.selected = !product.selected, changeSelect = changeSelect+1\"\n                >\n                    <v-list-item-title>\n                        {{ product.name }}\n                    </v-list-item-title>\n                    <v-list-item-action>\n                        <v-checkbox :value=\"product.selected\" />\n                    </v-list-item-action>\n                    \n\n                    <v-list-item-content>\n                    <v-list-item-title v-text=\"product.name\"></v-list-item-title>\n                    </v-list-item-content>\n\n                </v-list-item>\n                </v-list>\n                {{ selected }}\n            </v-card>\n        </div>\n        <div class=\"col-8\">\n            <v-card height=\"100%\" v-if=\"addProductsActive\">\n                <v-card-title>\n                    ADD NEW PRODUCT\n                </v-card-title>\n                <div class=\"row\">\n                    <div class=\"col-1\">\n                      <v-text-field\n                          v-model=\"roundNum\"\n                          label=\"ROUND\"\n                          required\n                      ></v-text-field>\n                    </div>\n                    <div class=\"col-4\">\n                        <v-text-field\n                            v-model=\"newProduct.name\"\n                            label=\"Product Name\"\n                            required\n                        ></v-text-field>\n                    </div>\n                    <div class=\"col-4\">\n                        <v-select\n                        v-model=\"newProduct.unit\"\n                        :items=\"units\"\n                        label=\"Units\"\n                        item-text=\"name\"\n                        dense\n                        ></v-select>\n                    </div>\n                </div>\n                {{ roundNumReturn }}\n            <v-card-actions>\n                <v-btn\n                    class=\"mr-4\"\n                    @click=\"roundNumber()\"\n                >\n                    Round Number\n                </v-btn>\n                <v-btn\n                    class=\"mr-4\"\n                    @click=\"addProduct\"\n                >\n                    Create Product\n                </v-btn>\n                <v-btn @click=\"addProductsActive = false\">\n                    Close   \n                </v-btn>\n            </v-card-actions>\n            </v-card>\n        </div>\n    </div>\n  </Layout>\n  </div>\n</template>\n"]}]}