{"remainingRequest":"D:\\ronnys_portal\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ronnys_portal\\src\\router\\views\\dashboards\\default.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\ronnys_portal\\src\\router\\views\\dashboards\\default.vue","mtime":1641798484000},{"path":"D:\\ronnys_portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ronnys_portal\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\ronnys_portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ronnys_portal\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBMYXlvdXQgZnJvbSAiLi4vLi4vbGF5b3V0cy9tYWluIjsKaW1wb3J0IGFwcENvbmZpZyBmcm9tICJAL2FwcC5jb25maWciOwppbXBvcnQgUGFnZUhlYWRlciBmcm9tICJAL2NvbXBvbmVudHMvcGFnZS1oZWFkZXIiOwppbXBvcnQgU3RhdCBmcm9tICJAL2NvbXBvbmVudHMvd2lkZ2V0cy9zdGF0IjsKCi8qKgogKiBEYXNoYm9hcmQgQ29tcG9uZW50CiAqLwpleHBvcnQgZGVmYXVsdCB7CiAgcGFnZTogewogICAgdGl0bGU6ICJEYXNoYm9hcmQiLAogICAgbWV0YTogWwogICAgICB7CiAgICAgICAgbmFtZTogImRlc2NyaXB0aW9uIiwKICAgICAgICBjb250ZW50OiBhcHBDb25maWcuZGVzY3JpcHRpb24sCiAgICAgIH0sCiAgICBdLAogIH0sCiAgY29tcG9uZW50czogewogICAgTGF5b3V0LAogICAgUGFnZUhlYWRlciwKICAgIFN0YXQKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogIkRhc2hib2FyZCIsCiAgICAgIGl0ZW1zOiBbCiAgICAgICAgewogICAgICAgICAgdGV4dDogIkRhc2hib2FyZHMiLAogICAgICAgICAgaHJlZjogIi8iLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGV4dDogIkRlZmF1bHQiLAogICAgICAgICAgYWN0aXZlOiB0cnVlLAogICAgICAgIH0sCiAgICAgIF0sCiAgICAgIHN0YXREYXRhOiBbCiAgICAgICAgewogICAgICAgICAgaWNvbjogImJ4IGJ4LWJhci1jaGFydC1hbHQtMiIsCiAgICAgICAgICB0aXRsZTogIlNhYnVydGFsbyIsCiAgICAgICAgICBvcmRlcnM6ICIxLDIzNSIsCiAgICAgICAgICBzdW06ICIxMDAwMCBHRUwiLAogICAgICAgIH0sCiAgICAgIF0sCiAgICAgIGxvZ2dlZFVzZXI6IHt9LAogICAgICBkYXRlOiBTdHJpbmcobmV3IERhdGUoKSksCiAgICAgIHN0YXR1czogIjEsMiwzLDQsNSw2LDcsOCw5LDEwIiwKICAgICAgb3JkZXJzTGlzdDogW10sCiAgICAgIGJyYW5jaEluZm86IFtdLAogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmxvZ2dlZFVzZXIgPSB0aGlzLiRzdG9yZS5zdGF0ZS5hdXRoZmFjay51c2VyOwoKICAgIHRoaXMuZGF0ZSA9IHRoaXMuZm9ybWF0RGF0ZSh0aGlzLmRhdGUpOwoKICAgIGNvbnN0IFRPS0VOID0gdGhpcy5sb2dnZWRVc2VyLnRva2VuOwoKICAgIHZhciBkYXkgPSB0aGlzLmRhdGUgKyAnIHRvICcgKyB0aGlzLmRhdGU7CiAgICB2YXIgYm9keVVwZGF0ZSA9IG5ldyBGb3JtRGF0YSgpOwogICAgYm9keVVwZGF0ZS5zZXQoImRheSIsIGRheSk7CiAgICBib2R5VXBkYXRlLnNldCgic3RhdHVzX2tleSIsIHRoaXMuc3RhdHVzKTsKCiAgICBheGlvcwogICAgICAucmVxdWVzdCh7CiAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgdXJsOgogICAgICAgICAgImh0dHA6Ly8xNzguMTM0LjEyLjEwNjo4MDgyL3Jvbm55L3Jlc3Qvd2ViL2luZGV4LnBocD9yPXYxL29yZGVycy9saXN0IiwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyBUT0tFTiwKICAgICAgICB9LAogICAgICAgIGRhdGE6IGJvZHlVcGRhdGUsCiAgICAgIH0pCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIHRoaXMub3JkZXJzTGlzdCA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICB2YXIgb3JkZXJDb3VudCA9IDA7CiAgICAgICAgdmFyIG9yZGVyU3VtID0gMDsKICAgICAgICB0aGlzLm9yZGVyc0xpc3QuZm9yRWFjaCggeCA9PiB7CiAgICAgICAgICBvcmRlckNvdW50Kys7CiAgICAgICAgICBvcmRlclN1bSA9IG9yZGVyU3VtICsgTnVtYmVyKHgub3JkZXJfZGF0YS50b3RhbFByaWNlKTsKICAgICAgICB9KQogICAgICAgIHZhciBzYWJ1cnRhbG8gPSB7CiAgICAgICAgICBuYW1lOiAnU2FidXJ0YWxvJywKICAgICAgICAgIG9yZGVyczogIG9yZGVyQ291bnQsCiAgICAgICAgICBzdW06IG9yZGVyU3VtLAogICAgICAgICAgaWNvbjogImJ4IGJ4LWJhci1jaGFydC1hbHQtMiIsCiAgICAgICAgfTsKICAgICAgICB0aGlzLmJyYW5jaEluZm8ucHVzaChzYWJ1cnRhbG8pOwogICAgICB9KTsKCiAgICBheGlvcwogICAgICAucmVxdWVzdCh7CiAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgdXJsOgogICAgICAgICAgImh0dHA6Ly85NC40My45Mi4xMDI6ODA4Mi9yb25ueS9yZXN0L3dlYi9pbmRleC5waHA/cj12MS9vcmRlcnMvbGlzdCIsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgVE9LRU4sCiAgICAgICAgfSwKICAgICAgICBkYXRhOiBib2R5VXBkYXRlLAogICAgICB9KQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICB0aGlzLm9yZGVyc0xpc3QgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgdmFyIG9yZGVyQ291bnQgPSAwOwogICAgICAgIHZhciBvcmRlclN1bSA9IDA7CiAgICAgICAgdGhpcy5vcmRlcnNMaXN0LmZvckVhY2goIHggPT4gewogICAgICAgICAgb3JkZXJDb3VudCsrOwogICAgICAgICAgb3JkZXJTdW0gPSBvcmRlclN1bSArIE51bWJlcih4Lm9yZGVyX2RhdGEudG90YWxQcmljZSk7CiAgICAgICAgfSkKICAgICAgICB2YXIgc2FidXJ0YWxvID0gewogICAgICAgICAgbmFtZTogJ1Zha2UnLAogICAgICAgICAgb3JkZXJzOiAgb3JkZXJDb3VudCwKICAgICAgICAgIHN1bTogb3JkZXJTdW0sCiAgICAgICAgICBpY29uOiAiYnggYngtYmFyLWNoYXJ0LWFsdC0yIiwKICAgICAgICB9OwogICAgICAgIHRoaXMuYnJhbmNoSW5mby5wdXNoKHNhYnVydGFsbyk7CiAgICAgIH0pOwoKICAgIGF4aW9zCiAgICAgIC5yZXF1ZXN0KHsKICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICB1cmw6CiAgICAgICAgICAiaHR0cDovLzE4OC4xNjkuMTYuMTg2OjgwODIvcm9ubnkvcmVzdC93ZWIvaW5kZXgucGhwP3I9djEvb3JkZXJzL2xpc3QiLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIFRPS0VOLAogICAgICAgIH0sCiAgICAgICAgZGF0YTogYm9keVVwZGF0ZSwKICAgICAgfSkKICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgdGhpcy5vcmRlcnNMaXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgIHZhciBvcmRlckNvdW50ID0gMDsKICAgICAgICB2YXIgb3JkZXJTdW0gPSAwOwogICAgICAgIHRoaXMub3JkZXJzTGlzdC5mb3JFYWNoKCB4ID0+IHsKICAgICAgICAgIG9yZGVyQ291bnQrKzsKICAgICAgICAgIG9yZGVyU3VtID0gb3JkZXJTdW0gKyBOdW1iZXIoeC5vcmRlcl9kYXRhLnRvdGFsUHJpY2UpOwogICAgICAgIH0pCiAgICAgICAgdmFyIHNhYnVydGFsbyA9IHsKICAgICAgICAgIG5hbWU6ICdEaWdvbWknLAogICAgICAgICAgb3JkZXJzOiAgb3JkZXJDb3VudCwKICAgICAgICAgIHN1bTogb3JkZXJTdW0sCiAgICAgICAgICBpY29uOiAiYnggYngtYmFyLWNoYXJ0LWFsdC0yIiwKICAgICAgICB9OwogICAgICAgIHRoaXMuYnJhbmNoSW5mby5wdXNoKHNhYnVydGFsbyk7CiAgICAgIH0pOwoKICAgIGF4aW9zCiAgICAgIC5yZXF1ZXN0KHsKICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICB1cmw6CiAgICAgICAgICAiaHR0cDovLzE3OC4xMzQuNDcuMjIyOjgwODIvcm9ubnkvcmVzdC93ZWIvaW5kZXgucGhwP3I9djEvb3JkZXJzL2xpc3QiLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIFRPS0VOLAogICAgICAgIH0sCiAgICAgICAgZGF0YTogYm9keVVwZGF0ZSwKICAgICAgfSkKICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgdGhpcy5vcmRlcnNMaXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgIHZhciBvcmRlckNvdW50ID0gMDsKICAgICAgICB2YXIgb3JkZXJTdW0gPSAwOwogICAgICAgIHRoaXMub3JkZXJzTGlzdC5mb3JFYWNoKCB4ID0+IHsKICAgICAgICAgIG9yZGVyQ291bnQrKzsKICAgICAgICAgIG9yZGVyU3VtID0gb3JkZXJTdW0gKyBOdW1iZXIoeC5vcmRlcl9kYXRhLnRvdGFsUHJpY2UpOwogICAgICAgIH0pCiAgICAgICAgdmFyIHNhYnVydGFsbyA9IHsKICAgICAgICAgIG5hbWU6ICdHbGRhbmknLAogICAgICAgICAgb3JkZXJzOiAgb3JkZXJDb3VudCwKICAgICAgICAgIHN1bTogb3JkZXJTdW0sCiAgICAgICAgICBpY29uOiAiYnggYngtYmFyLWNoYXJ0LWFsdC0yIiwKICAgICAgICB9OwogICAgICAgIHRoaXMuYnJhbmNoSW5mby5wdXNoKHNhYnVydGFsbyk7CiAgICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgZm9ybWF0RGF0ZShkYXRlKSB7CiAgICAgICAgICB2YXIgZCA9IG5ldyBEYXRlKGRhdGUpLAogICAgICAgICAgICAgIG1vbnRoID0gJycgKyAoZC5nZXRNb250aCgpICsgMSksCiAgICAgICAgICAgICAgZGF5ID0gJycgKyBkLmdldERhdGUoKSwKICAgICAgICAgICAgICB5ZWFyID0gZC5nZXRGdWxsWWVhcigpOwoKICAgICAgICAgIGlmIChtb250aC5sZW5ndGggPCAyKSAKICAgICAgICAgICAgICBtb250aCA9ICcwJyArIG1vbnRoOwogICAgICAgICAgaWYgKGRheS5sZW5ndGggPCAyKSAKICAgICAgICAgICAgICBkYXkgPSAnMCcgKyBkYXk7CgogICAgICAgICAgcmV0dXJuIFt5ZWFyLCBtb250aCwgZGF5XS5qb2luKCctJyk7CiAgICB9LAogIH0KfTsK"},{"version":3,"sources":["default.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"default.vue","sourceRoot":"src/router/views/dashboards","sourcesContent":["<script>\nimport axios from 'axios';\nimport Layout from \"../../layouts/main\";\nimport appConfig from \"@/app.config\";\nimport PageHeader from \"@/components/page-header\";\nimport Stat from \"@/components/widgets/stat\";\n\n/**\n * Dashboard Component\n */\nexport default {\n  page: {\n    title: \"Dashboard\",\n    meta: [\n      {\n        name: \"description\",\n        content: appConfig.description,\n      },\n    ],\n  },\n  components: {\n    Layout,\n    PageHeader,\n    Stat\n  },\n  data() {\n    return {\n      title: \"Dashboard\",\n      items: [\n        {\n          text: \"Dashboards\",\n          href: \"/\",\n        },\n        {\n          text: \"Default\",\n          active: true,\n        },\n      ],\n      statData: [\n        {\n          icon: \"bx bx-bar-chart-alt-2\",\n          title: \"Saburtalo\",\n          orders: \"1,235\",\n          sum: \"10000 GEL\",\n        },\n      ],\n      loggedUser: {},\n      date: String(new Date()),\n      status: \"1,2,3,4,5,6,7,8,9,10\",\n      ordersList: [],\n      branchInfo: [],\n    };\n  },\n  mounted() {\n    this.loggedUser = this.$store.state.authfack.user;\n\n    this.date = this.formatDate(this.date);\n\n    const TOKEN = this.loggedUser.token;\n\n    var day = this.date + ' to ' + this.date;\n    var bodyUpdate = new FormData();\n    bodyUpdate.set(\"day\", day);\n    bodyUpdate.set(\"status_key\", this.status);\n\n    axios\n      .request({\n        method: \"post\",\n        url:\n          \"http://178.134.12.106:8082/ronny/rest/web/index.php?r=v1/orders/list\",\n        headers: {\n          Authorization: \"Bearer \" + TOKEN,\n        },\n        data: bodyUpdate,\n      })\n      .then((response) => {\n        this.ordersList = response.data.data;\n        var orderCount = 0;\n        var orderSum = 0;\n        this.ordersList.forEach( x => {\n          orderCount++;\n          orderSum = orderSum + Number(x.order_data.totalPrice);\n        })\n        var saburtalo = {\n          name: 'Saburtalo',\n          orders:  orderCount,\n          sum: orderSum,\n          icon: \"bx bx-bar-chart-alt-2\",\n        };\n        this.branchInfo.push(saburtalo);\n      });\n\n    axios\n      .request({\n        method: \"post\",\n        url:\n          \"http://94.43.92.102:8082/ronny/rest/web/index.php?r=v1/orders/list\",\n        headers: {\n          Authorization: \"Bearer \" + TOKEN,\n        },\n        data: bodyUpdate,\n      })\n      .then((response) => {\n        this.ordersList = response.data.data;\n        var orderCount = 0;\n        var orderSum = 0;\n        this.ordersList.forEach( x => {\n          orderCount++;\n          orderSum = orderSum + Number(x.order_data.totalPrice);\n        })\n        var saburtalo = {\n          name: 'Vake',\n          orders:  orderCount,\n          sum: orderSum,\n          icon: \"bx bx-bar-chart-alt-2\",\n        };\n        this.branchInfo.push(saburtalo);\n      });\n\n    axios\n      .request({\n        method: \"post\",\n        url:\n          \"http://188.169.16.186:8082/ronny/rest/web/index.php?r=v1/orders/list\",\n        headers: {\n          Authorization: \"Bearer \" + TOKEN,\n        },\n        data: bodyUpdate,\n      })\n      .then((response) => {\n        this.ordersList = response.data.data;\n        var orderCount = 0;\n        var orderSum = 0;\n        this.ordersList.forEach( x => {\n          orderCount++;\n          orderSum = orderSum + Number(x.order_data.totalPrice);\n        })\n        var saburtalo = {\n          name: 'Digomi',\n          orders:  orderCount,\n          sum: orderSum,\n          icon: \"bx bx-bar-chart-alt-2\",\n        };\n        this.branchInfo.push(saburtalo);\n      });\n\n    axios\n      .request({\n        method: \"post\",\n        url:\n          \"http://178.134.47.222:8082/ronny/rest/web/index.php?r=v1/orders/list\",\n        headers: {\n          Authorization: \"Bearer \" + TOKEN,\n        },\n        data: bodyUpdate,\n      })\n      .then((response) => {\n        this.ordersList = response.data.data;\n        var orderCount = 0;\n        var orderSum = 0;\n        this.ordersList.forEach( x => {\n          orderCount++;\n          orderSum = orderSum + Number(x.order_data.totalPrice);\n        })\n        var saburtalo = {\n          name: 'Gldani',\n          orders:  orderCount,\n          sum: orderSum,\n          icon: \"bx bx-bar-chart-alt-2\",\n        };\n        this.branchInfo.push(saburtalo);\n      });\n  },\n  methods: {\n    formatDate(date) {\n          var d = new Date(date),\n              month = '' + (d.getMonth() + 1),\n              day = '' + d.getDate(),\n              year = d.getFullYear();\n\n          if (month.length < 2) \n              month = '0' + month;\n          if (day.length < 2) \n              day = '0' + day;\n\n          return [year, month, day].join('-');\n    },\n  }\n};\n</script>\n\n<template>\n  <Layout>\n    <PageHeader :title=\"title\" :items=\"items\" />\n    \n    <div class=\"col-xl-8\">\n      <div class=\"row\">\n        <div v-for=\"stat of branchInfo\" :key=\"stat.name\" class=\"col-md-4\">\n          <Stat :icon=\"stat.icon\" :name=\"stat.name\" :orders=\"stat.orders\" :sum=\"stat.sum\" />\n        </div>\n      </div>\n    </div>\n\n  </Layout>\n</template>\n"]}]}